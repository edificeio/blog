import{l as Y,d as A,b as N,n as F,X as J,_ as C,S as q,o as I,g as O,r as R,p as B,j as t,q as D,i as k,B as P,C as b,s as E,A as G,t as U,v as X,T,w as K,x as Q}from"./index-XY-EGNwC.js";import"/assets/js/edifice-ts-client/index.js";const $=({app:o,resource:s,time:a,isSelected:n=!1,isSelectable:d=!0,onClick:r,onSelect:e})=>{const p=`/userbook/avatar/${s==null?void 0:s.creatorId}`;function l(h){const{rights:y,creatorId:g}=h||{};return y.filter(M=>!M.includes(g)).length>=1}const i=l(s),m=s==null?void 0:s.public,{t:u}=N();return t.jsx(b,{app:o,isSelected:n,isSelectable:d,onClick:r,onSelect:e,children:h=>t.jsxs(t.Fragment,{children:[t.jsxs(b.Body,{children:[t.jsx("div",{className:"card-image medium",children:s!=null&&s.thumbnail?t.jsx(E,{alt:"",src:s==null?void 0:s.thumbnail,objectFit:"cover",className:"h-full w-100"}):t.jsx(G,{app:o,iconFit:"ratio",size:"80",variant:"rounded"})}),t.jsxs("div",{className:"text-truncate",children:[t.jsx(b.Title,{children:s==null?void 0:s.name}),t.jsx(b.Text,{children:t.jsx("em",{children:a})})]})]}),t.jsxs(b.Footer,{children:[t.jsxs("div",{className:"d-inline-flex align-items-center gap-8 text-truncate",children:[p?t.jsx(U,{alt:(s==null?void 0:s.creatorName)||"",size:"xs",src:p,variant:"circle",width:"24",height:"24"}):t.jsx(X,{}),t.jsx(b.Text,{children:s==null?void 0:s.creatorName})]}),t.jsxs("div",{className:"d-inline-flex align-items-center gap-8",children:[i&&t.jsx(T,{message:u("tooltip.shared",{ns:h}),placement:"top",children:t.jsx(K,{width:16,height:16})}),m&&t.jsx(T,{message:u("tooltip.public",{ns:h}),placement:"top",children:t.jsx(Q,{width:16,height:16})})]})]})]})})};$.displayName="ResourceCard";var x=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function V(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var z={exports:{}};(function(o,s){(function(a,n){o.exports=n()})(x,function(){return function(a,n,d){a=a||{};var r=n.prototype,e={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function p(i,m,u,h){return r.fromToBase(i,m,u,h)}d.en.relativeTime=e,r.fromToBase=function(i,m,u,h,y){for(var g,M,j,L=u.$locale().relativeTime||e,S=a.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],c=S.length,f=0;f<c;f+=1){var _=S[f];_.d&&(g=h?d(i).diff(u,_.d,!0):u.diff(i,_.d,!0));var v=(a.rounding||Math.round)(Math.abs(g));if(j=g>0,v<=_.r||!_.r){v<=1&&f>0&&(_=S[f-1]);var H=L[_.l];y&&(v=y(""+v)),M=typeof H=="string"?H.replace("%d",v):H(v,m,_.l,j);break}}if(m)return M;var w=j?L.future:L.past;return typeof w=="function"?w(M):w.replace("%s",M)},r.to=function(i,m){return p(i,m,this,!0)},r.from=function(i,m){return p(i,m,this)};var l=function(i){return i.$u?d.utc():d()};r.toNow=function(i){return this.to(l(this),i)},r.fromNow=function(i){return this.from(l(this),i)}}})})(z);var W=z.exports;const Z=V(W);var ee={exports:{}};(function(o,s){(function(a,n){o.exports=n(Y)})(x,function(a){function n(l){return l&&typeof l=="object"&&"default"in l?l:{default:l}}var d=n(a),r={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function e(l,i,m){var u=r[m];return Array.isArray(u)&&(u=u[i?0:1]),u.replace("%d",l)}var p={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(l){return l+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e}};return d.default.locale(p,null,!0),p})})(ee);var te={exports:{}};(function(o,s){(function(a,n){o.exports=n(Y)})(x,function(a){function n(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var d=n(a),r={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(e){return e+"º"}};return d.default.locale(r,null,!0),r})})(te);var ne={exports:{}};(function(o,s){(function(a,n){o.exports=n(Y)})(x,function(a){function n(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var d=n(a),r={name:"pt",weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sab".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sa".split("_"),months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(e){return e+"º"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},relativeTime:{future:"em %s",past:"há %s",s:"alguns segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"}};return d.default.locale(r,null,!0),r})})(ne);var re={exports:{}};(function(o,s){(function(a,n){o.exports=n(Y)})(x,function(a){function n(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var d=n(a),r={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return""+e+(e===1?"er":"")}};return d.default.locale(r,null,!0),r})})(re);var ae={exports:{}};(function(o,s){(function(a,n){o.exports=n(Y)})(x,function(a){function n(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var d=n(a),r={name:"it",weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(e){return e+"º"}};return d.default.locale(r,null,!0),r})})(ae);Y.extend(Z);const ie=({data:o,fetchNextPage:s})=>{const{currentApp:a,currentLanguage:n}=A(),{t:d}=N(),r=F(),e=J(),p=C(),{setSelectedResources:l,setResourceIds:i,openResource:m,setResourceIsTrash:u}=q(),h=I(),y=O({from:{opacity:0},to:{opacity:1}}),g=r.pagination.startIdx+r.pagination.pageSize<(r.pagination.maxIdx||0),M=R.useCallback(()=>{s()},[]),j=c=>{h?(u(!0),i([c.id]),l([c])):m(c)};async function L(c){if(e.includes(c.id)){i(e.filter(f=>f!==c.id)),l(p.filter(f=>f.id!==c.id));return}i([...e,c.id]),l([...p,c])}const S=B("grid ps-0 list-unstyled");return t.jsxs(D.Fragment,{children:[t.jsx(k.ul,{className:S,children:o==null?void 0:o.pages.map((c,f)=>t.jsx(D.Fragment,{children:c.resources.map(_=>{const{id:v,updatedAt:H}=_,w=Y(H).locale(n).fromNow();return t.jsx(k.li,{className:"g-col-4 z-1",style:{position:"relative",...y},children:t.jsx($,{app:a,resource:_,time:w,isSelectable:!0,isSelected:e.includes(_.id),onClick:()=>j(_),onSelect:()=>L(_)})},v)})},f))}),g&&t.jsx("div",{className:"d-grid gap-2 col-4 mx-auto my-24",children:t.jsx(P,{type:"button",color:"secondary",variant:"filled",onClick:M,children:d("explorer.see.more")})})]})};export{ie as default};
