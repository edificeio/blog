var gS=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var Y=(t,e,r)=>(gS(t,e,"read from private field"),r?r.call(t):e.get(t)),Ue=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Ae=(t,e,r,i)=>(gS(t,e,"write to private field"),i?i.call(t,r):e.set(t,r),r);var Av=(t,e,r,i)=>({set _(n){Ae(t,e,n,r)},get _(){return Y(t,e,i)}}),vt=(t,e,r)=>(gS(t,e,"access private method"),r);import{odeServices as Ve,LAYER_NAME as LV,SnipletsService as Cv,DocumentHelper as wF,FOLDER as Bn,ERROR_CODE as DV}from"/assets/js/edifice-ts-client/index.js";function kR(t,e){for(var r=0;r<e.length;r++){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)){for(const n in i)if(n!=="default"&&!(n in t)){const s=Object.getOwnPropertyDescriptor(i,n);s&&Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:()=>i[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();var Zt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function SF(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}),r}var EF={exports:{}},F_={},TF={exports:{}},Mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n1=Symbol.for("react.element"),FV=Symbol.for("react.portal"),BV=Symbol.for("react.fragment"),jV=Symbol.for("react.strict_mode"),UV=Symbol.for("react.profiler"),$V=Symbol.for("react.provider"),zV=Symbol.for("react.context"),HV=Symbol.for("react.forward_ref"),GV=Symbol.for("react.suspense"),VV=Symbol.for("react.memo"),WV=Symbol.for("react.lazy"),ak=Symbol.iterator;function XV(t){return t===null||typeof t!="object"?null:(t=ak&&t[ak]||t["@@iterator"],typeof t=="function"?t:null)}var AF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CF=Object.assign,RF={};function wp(t,e,r){this.props=t,this.context=e,this.refs=RF,this.updater=r||AF}wp.prototype.isReactComponent={};wp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function IF(){}IF.prototype=wp.prototype;function NR(t,e,r){this.props=t,this.context=e,this.refs=RF,this.updater=r||AF}var OR=NR.prototype=new IF;OR.constructor=NR;CF(OR,wp.prototype);OR.isPureReactComponent=!0;var ok=Array.isArray,PF=Object.prototype.hasOwnProperty,LR={current:null},MF={key:!0,ref:!0,__self:!0,__source:!0};function kF(t,e,r){var i,n={},s=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)PF.call(e,i)&&!MF.hasOwnProperty(i)&&(n[i]=e[i]);var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];n.children=l}if(t&&t.defaultProps)for(i in o=t.defaultProps,o)n[i]===void 0&&(n[i]=o[i]);return{$$typeof:n1,type:t,key:s,ref:a,props:n,_owner:LR.current}}function YV(t,e){return{$$typeof:n1,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function DR(t){return typeof t=="object"&&t!==null&&t.$$typeof===n1}function qV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var lk=/\/+/g;function vS(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qV(""+t.key):e.toString(36)}function nx(t,e,r,i,n){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case n1:case FV:a=!0}}if(a)return a=t,n=n(a),t=i===""?"."+vS(a,0):i,ok(n)?(r="",t!=null&&(r=t.replace(lk,"$&/")+"/"),nx(n,e,r,"",function(u){return u})):n!=null&&(DR(n)&&(n=YV(n,r+(!n.key||a&&a.key===n.key?"":(""+n.key).replace(lk,"$&/")+"/")+t)),e.push(n)),1;if(a=0,i=i===""?".":i+":",ok(t))for(var o=0;o<t.length;o++){s=t[o];var l=i+vS(s,o);a+=nx(s,e,r,l,n)}else if(l=XV(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=i+vS(s,o++),a+=nx(s,e,r,l,n);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Rv(t,e,r){if(t==null)return t;var i=[],n=0;return nx(t,i,"","",function(s){return e.call(r,s,n++)}),i}function KV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ji={current:null},sx={transition:null},QV={ReactCurrentDispatcher:Ji,ReactCurrentBatchConfig:sx,ReactCurrentOwner:LR};Mt.Children={map:Rv,forEach:function(t,e,r){Rv(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Rv(t,function(){e++}),e},toArray:function(t){return Rv(t,function(e){return e})||[]},only:function(t){if(!DR(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Mt.Component=wp;Mt.Fragment=BV;Mt.Profiler=UV;Mt.PureComponent=NR;Mt.StrictMode=jV;Mt.Suspense=GV;Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QV;Mt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=CF({},t.props),n=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=LR.current),e.key!==void 0&&(n=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)PF.call(e,l)&&!MF.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];i.children=o}return{$$typeof:n1,type:t.type,key:n,ref:s,props:i,_owner:a}};Mt.createContext=function(t){return t={$$typeof:zV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$V,_context:t},t.Consumer=t};Mt.createElement=kF;Mt.createFactory=function(t){var e=kF.bind(null,t);return e.type=t,e};Mt.createRef=function(){return{current:null}};Mt.forwardRef=function(t){return{$$typeof:HV,render:t}};Mt.isValidElement=DR;Mt.lazy=function(t){return{$$typeof:WV,_payload:{_status:-1,_result:t},_init:KV}};Mt.memo=function(t,e){return{$$typeof:VV,type:t,compare:e===void 0?null:e}};Mt.startTransition=function(t){var e=sx.transition;sx.transition={};try{t()}finally{sx.transition=e}};Mt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Mt.useCallback=function(t,e){return Ji.current.useCallback(t,e)};Mt.useContext=function(t){return Ji.current.useContext(t)};Mt.useDebugValue=function(){};Mt.useDeferredValue=function(t){return Ji.current.useDeferredValue(t)};Mt.useEffect=function(t,e){return Ji.current.useEffect(t,e)};Mt.useId=function(){return Ji.current.useId()};Mt.useImperativeHandle=function(t,e,r){return Ji.current.useImperativeHandle(t,e,r)};Mt.useInsertionEffect=function(t,e){return Ji.current.useInsertionEffect(t,e)};Mt.useLayoutEffect=function(t,e){return Ji.current.useLayoutEffect(t,e)};Mt.useMemo=function(t,e){return Ji.current.useMemo(t,e)};Mt.useReducer=function(t,e,r){return Ji.current.useReducer(t,e,r)};Mt.useRef=function(t){return Ji.current.useRef(t)};Mt.useState=function(t){return Ji.current.useState(t)};Mt.useSyncExternalStore=function(t,e,r){return Ji.current.useSyncExternalStore(t,e,r)};Mt.useTransition=function(){return Ji.current.useTransition()};Mt.version="18.2.0";TF.exports=Mt;var R=TF.exports;const tt=qn(R),FR=kR({__proto__:null,default:tt},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZV=R,JV=Symbol.for("react.element"),eW=Symbol.for("react.fragment"),tW=Object.prototype.hasOwnProperty,rW=ZV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iW={key:!0,ref:!0,__self:!0,__source:!0};function NF(t,e,r){var i,n={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)tW.call(e,i)&&!iW.hasOwnProperty(i)&&(n[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)n[i]===void 0&&(n[i]=e[i]);return{$$typeof:JV,type:t,key:s,ref:a,props:n,_owner:rW.current}}F_.Fragment=eW;F_.jsx=NF;F_.jsxs=NF;EF.exports=F_;var v=EF.exports;function nW(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const uk={};function XT(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];typeof e[0]=="string"&&uk[e[0]]||(typeof e[0]=="string"&&(uk[e[0]]=new Date),nW(...e))}const OF=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}};function ck(t,e,r){t.loadNamespaces(e,OF(t,r))}function hk(t,e,r,i){typeof r=="string"&&(r=[r]),r.forEach(n=>{t.options.ns.indexOf(n)<0&&t.options.ns.push(n)}),t.loadLanguages(e,OF(t,i))}function sW(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=e.languages[0],n=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=e.services.backendConnector.state[`${o}|${l}`];return u===-1||u===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(i,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||a(i,t)&&(!n||a(s,t)))}function aW(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(XT("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:r.lng,precheck:(n,s)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!s(n.isLanguageChangingTo,t))return!1}}):sW(t,e,r)}const oW=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,lW={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},uW=t=>lW[t],cW=t=>t.replace(oW,uW);let YT={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:cW};function hW(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};YT={...YT,...t}}function dW(){return YT}let LF;function fW(t){LF=t}function pW(){return LF}const mW={type:"3rdParty",init(t){hW(t.options.react),fW(t)}},gW=R.createContext();class vW{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const yW=(t,e)=>{const r=R.useRef();return R.useEffect(()=>{r.current=e?r.current:t},[t,e]),r.current};function Je(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:r}=e,{i18n:i,defaultNS:n}=R.useContext(gW)||{},s=r||i||pW();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new vW),!s){XT("You will need to pass in an i18next instance by using initReactI18next");const _=(A,I)=>typeof I=="string"?I:I&&typeof I=="object"&&typeof I.defaultValue=="string"?I.defaultValue:Array.isArray(A)?A[A.length-1]:A,E=[_,{},!1];return E.t=_,E.i18n={},E.ready=!1,E}s.options.react&&s.options.react.wait!==void 0&&XT("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...dW(),...s.options.react,...e},{useSuspense:o,keyPrefix:l}=a;let u=t||n||s.options&&s.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(u);const c=(s.isInitialized||s.initializedStoreOnce)&&u.every(_=>aW(_,s,a));function d(){return s.getFixedT(e.lng||null,a.nsMode==="fallback"?u:u[0],l)}const[h,p]=R.useState(d);let g=u.join();e.lng&&(g=`${e.lng}${g}`);const y=yW(g),b=R.useRef(!0);R.useEffect(()=>{const{bindI18n:_,bindI18nStore:E}=a;b.current=!0,!c&&!o&&(e.lng?hk(s,e.lng,u,()=>{b.current&&p(d)}):ck(s,u,()=>{b.current&&p(d)})),c&&y&&y!==g&&b.current&&p(d);function A(){b.current&&p(d)}return _&&s&&s.on(_,A),E&&s&&s.store.on(E,A),()=>{b.current=!1,_&&s&&_.split(" ").forEach(I=>s.off(I,A)),E&&s&&E.split(" ").forEach(I=>s.store.off(I,A))}},[s,g]);const x=R.useRef(!0);R.useEffect(()=>{b.current&&!x.current&&p(d),x.current=!1},[s,l]);const w=[h,s,c];if(w.t=h,w.i18n=s,w.ready=c,c||!c&&!o)return w;throw new Promise(_=>{e.lng?hk(s,e.lng,u,()=>_()):ck(s,u,()=>_())})}var Sp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Yf=typeof window>"u"||"Deno"in window;function hs(){}function xW(t,e){return typeof t=="function"?t(e):t}function qT(t){return typeof t=="number"&&t>=0&&t!==1/0}function DF(t,e){return Math.max(t+(e||0)-Date.now(),0)}function dk(t,e){const{type:r="all",exact:i,fetchStatus:n,predicate:s,queryKey:a,stale:o}=t;if(a){if(i){if(e.queryHash!==BR(a,e.options))return!1}else if(!zg(e.queryKey,a))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||typeof n<"u"&&n!==e.state.fetchStatus||s&&!s(e))}function fk(t,e){const{exact:r,status:i,predicate:n,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Ah(e.options.mutationKey)!==Ah(s))return!1}else if(!zg(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||n&&!n(e))}function BR(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ah)(t)}function Ah(t){return JSON.stringify(t,(e,r)=>KT(r)?Object.keys(r).sort().reduce((i,n)=>(i[n]=r[n],i),{}):r)}function zg(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!zg(t[r],e[r])):!1}function FF(t,e){if(t===e)return t;const r=pk(t)&&pk(e);if(r||KT(t)&&KT(e)){const i=r?t:Object.keys(t),n=i.length,s=r?e:Object.keys(e),a=s.length,o=r?[]:{};let l=0;for(let u=0;u<a;u++){const c=r?u:s[u];!r&&t[c]===void 0&&e[c]===void 0&&i.includes(c)?(o[c]=void 0,l++):(o[c]=FF(t[c],e[c]),o[c]===t[c]&&t[c]!==void 0&&l++)}return n===a&&l===n?t:o}return e}function Zx(t,e){if(t&&!e||e&&!t)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function pk(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function KT(t){if(!mk(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!mk(r)||!r.hasOwnProperty("isPrototypeOf"))}function mk(t){return Object.prototype.toString.call(t)==="[object Object]"}function bW(t){return new Promise(e=>{setTimeout(e,t)})}function QT(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?FF(t,e):e}function _W(t,e,r=0){const i=[...t,e];return r&&i.length>r?i.slice(1):i}function wW(t,e,r=0){const i=[e,...t];return r&&i.length>r?i.slice(0,-1):i}var oh,lu,kf,dF,SW=(dF=class extends Sp{constructor(){super();Ue(this,oh,void 0);Ue(this,lu,void 0);Ue(this,kf,void 0);Ae(this,kf,e=>{if(!Yf&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Y(this,lu)||this.setEventListener(Y(this,kf))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,lu))==null||e.call(this),Ae(this,lu,void 0))}setEventListener(e){var r;Ae(this,kf,e),(r=Y(this,lu))==null||r.call(this),Ae(this,lu,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){Y(this,oh)!==e&&(Ae(this,oh,e),this.onFocus())}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){var e;return typeof Y(this,oh)=="boolean"?Y(this,oh):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},oh=new WeakMap,lu=new WeakMap,kf=new WeakMap,dF),Jx=new SW,Nf,uu,Of,fF,EW=(fF=class extends Sp{constructor(){super();Ue(this,Nf,!0);Ue(this,uu,void 0);Ue(this,Of,void 0);Ae(this,Of,e=>{if(!Yf&&window.addEventListener){const r=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",i)}}})}onSubscribe(){Y(this,uu)||this.setEventListener(Y(this,Of))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,uu))==null||e.call(this),Ae(this,uu,void 0))}setEventListener(e){var r;Ae(this,Of,e),(r=Y(this,uu))==null||r.call(this),Ae(this,uu,e(this.setOnline.bind(this)))}setOnline(e){Y(this,Nf)!==e&&(Ae(this,Nf,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return Y(this,Nf)}},Nf=new WeakMap,uu=new WeakMap,Of=new WeakMap,fF),eb=new EW;function TW(t){return Math.min(1e3*2**t,3e4)}function B_(t){return(t??"online")==="online"?eb.isOnline():!0}var BF=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function yS(t){return t instanceof BF}function jF(t){let e=!1,r=0,i=!1,n,s,a;const o=new Promise((b,x)=>{s=b,a=x}),l=b=>{var x;i||(p(new BF(b)),(x=t.abort)==null||x.call(t))},u=()=>{e=!0},c=()=>{e=!1},d=()=>!Jx.isFocused()||t.networkMode!=="always"&&!eb.isOnline(),h=b=>{var x;i||(i=!0,(x=t.onSuccess)==null||x.call(t,b),n==null||n(),s(b))},p=b=>{var x;i||(i=!0,(x=t.onError)==null||x.call(t,b),n==null||n(),a(b))},g=()=>new Promise(b=>{var x;n=w=>{const _=i||!d();return _&&b(w),_},(x=t.onPause)==null||x.call(t)}).then(()=>{var b;n=void 0,i||(b=t.onContinue)==null||b.call(t)}),y=()=>{if(i)return;let b;try{b=t.fn()}catch(x){b=Promise.reject(x)}Promise.resolve(b).then(h).catch(x=>{var I;if(i)return;const w=t.retry??(Yf?0:3),_=t.retryDelay??TW,E=typeof _=="function"?_(r,x):_,A=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,x);if(e||!A){p(x);return}r++,(I=t.onFail)==null||I.call(t,r,x),bW(E).then(()=>{if(d())return g()}).then(()=>{e?p(x):y()})})};return B_(t.networkMode)?y():g().then(y),{promise:o,cancel:l,continue:()=>(n==null?void 0:n())?o:Promise.resolve(),cancelRetry:u,continueRetry:c}}function AW(){let t=[],e=0,r=h=>{h()},i=h=>{h()},n=h=>setTimeout(h,0);const s=h=>{n=h},a=h=>{let p;e++;try{p=h()}finally{e--,e||u()}return p},o=h=>{e?t.push(h):n(()=>{r(h)})},l=h=>(...p)=>{o(()=>{h(...p)})},u=()=>{const h=t;t=[],h.length&&n(()=>{i(()=>{h.forEach(p=>{r(p)})})})};return{batch:a,batchCalls:l,schedule:o,setNotifyFunction:h=>{r=h},setBatchNotifyFunction:h=>{i=h},setScheduler:s}}var Jr=AW(),lh,pF,UF=(pF=class{constructor(){Ue(this,lh,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),qT(this.gcTime)&&Ae(this,lh,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Yf?1/0:5*60*1e3))}clearGcTimeout(){Y(this,lh)&&(clearTimeout(Y(this,lh)),Ae(this,lh,void 0))}},lh=new WeakMap,pF),Lf,Df,ls,cu,us,ui,V0,uh,Ff,ax,ta,Bo,mF,CW=(mF=class extends UF{constructor(e){super();Ue(this,Ff);Ue(this,ta);Ue(this,Lf,void 0);Ue(this,Df,void 0);Ue(this,ls,void 0);Ue(this,cu,void 0);Ue(this,us,void 0);Ue(this,ui,void 0);Ue(this,V0,void 0);Ue(this,uh,void 0);Ae(this,uh,!1),Ae(this,V0,e.defaultOptions),vt(this,Ff,ax).call(this,e.options),Ae(this,ui,[]),Ae(this,ls,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ae(this,Lf,e.state||RW(this.options)),this.state=Y(this,Lf),this.scheduleGc()}get meta(){return this.options.meta}optionalRemove(){!Y(this,ui).length&&this.state.fetchStatus==="idle"&&Y(this,ls).remove(this)}setData(e,r){const i=QT(this.state.data,e,this.options);return vt(this,ta,Bo).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(e,r){vt(this,ta,Bo).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var i;const r=Y(this,cu);return(i=Y(this,us))==null||i.cancel(e),r?r.then(hs).catch(hs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Lf))}isActive(){return Y(this,ui).some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||Y(this,ui).some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!DF(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=Y(this,ui).find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=Y(this,us))==null||r.continue()}onOnline(){var r;const e=Y(this,ui).find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=Y(this,us))==null||r.continue()}addObserver(e){Y(this,ui).includes(e)||(Y(this,ui).push(e),this.clearGcTimeout(),Y(this,ls).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){Y(this,ui).includes(e)&&(Ae(this,ui,Y(this,ui).filter(r=>r!==e)),Y(this,ui).length||(Y(this,us)&&(Y(this,uh)?Y(this,us).cancel({revert:!0}):Y(this,us).cancelRetry()),this.scheduleGc()),Y(this,ls).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return Y(this,ui).length}invalidate(){this.state.isInvalidated||vt(this,ta,Bo).call(this,{type:"invalidate"})}fetch(e,r){var u,c,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Y(this,cu))return(u=Y(this,us))==null||u.continueRetry(),Y(this,cu)}if(e&&vt(this,Ff,ax).call(this,e),!this.options.queryFn){const p=Y(this,ui).find(g=>g.options.queryFn);p&&vt(this,Ff,ax).call(this,p.options)}const i=new AbortController,n={queryKey:this.queryKey,meta:this.meta},s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Ae(this,uh,!0),i.signal)})};s(n);const a=()=>this.options.queryFn?(Ae(this,uh,!1),this.options.persister?this.options.persister(this.options.queryFn,n,this):this.options.queryFn(n)):Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)),o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),Ae(this,Df,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&vt(this,ta,Bo).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const l=p=>{var g,y,b,x;yS(p)&&p.silent||vt(this,ta,Bo).call(this,{type:"error",error:p}),yS(p)||((y=(g=Y(this,ls).config).onError)==null||y.call(g,p,this),(x=(b=Y(this,ls).config).onSettled)==null||x.call(b,this.state.data,p,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Ae(this,us,jF({fn:o.fetchFn,abort:i.abort.bind(i),onSuccess:p=>{var g,y,b,x;if(typeof p>"u"){l(new Error(`${this.queryHash} data is undefined`));return}this.setData(p),(y=(g=Y(this,ls).config).onSuccess)==null||y.call(g,p,this),(x=(b=Y(this,ls).config).onSettled)==null||x.call(b,p,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:l,onFail:(p,g)=>{vt(this,ta,Bo).call(this,{type:"failed",failureCount:p,error:g})},onPause:()=>{vt(this,ta,Bo).call(this,{type:"pause"})},onContinue:()=>{vt(this,ta,Bo).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode})),Ae(this,cu,Y(this,us).promise),Y(this,cu)}},Lf=new WeakMap,Df=new WeakMap,ls=new WeakMap,cu=new WeakMap,us=new WeakMap,ui=new WeakMap,V0=new WeakMap,uh=new WeakMap,Ff=new WeakSet,ax=function(e){this.options={...Y(this,V0),...e},this.updateGcTime(this.options.gcTime)},ta=new WeakSet,Bo=function(e){const r=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:e.meta??null,fetchStatus:B_(this.options.networkMode)?"fetching":"paused",...!i.dataUpdatedAt&&{error:null,status:"pending"}};case"success":return{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return yS(n)&&n.revert&&Y(this,Df)?{...Y(this,Df),fetchStatus:"idle"}:{...i,error:n,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=r(this.state),Jr.batch(()=>{Y(this,ui).forEach(i=>{i.onQueryUpdate()}),Y(this,ls).notify({query:this,type:"updated",action:e})})},mF);function RW(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=typeof e<"u",i=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ka,gF,$F=(gF=class extends Sp{constructor(e={}){super();Ue(this,Ka,void 0);this.config=e,Ae(this,Ka,new Map)}build(e,r,i){const n=r.queryKey,s=r.queryHash??BR(n,r);let a=this.get(s);return a||(a=new CW({cache:this,queryKey:n,queryHash:s,options:e.defaultQueryOptions(r),state:i,defaultOptions:e.getQueryDefaults(n)}),this.add(a)),a}add(e){Y(this,Ka).has(e.queryHash)||(Y(this,Ka).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=Y(this,Ka).get(e.queryHash);r&&(e.destroy(),r===e&&Y(this,Ka).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Jr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,Ka).get(e)}getAll(){return[...Y(this,Ka).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(i=>dk(r,i))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(i=>dk(e,i)):r}notify(e){Jr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Jr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Jr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ka=new WeakMap,gF),Qa,W0,Nn,Bf,Za,Xl,vF,IW=(vF=class extends UF{constructor(e){super();Ue(this,Za);Ue(this,Qa,void 0);Ue(this,W0,void 0);Ue(this,Nn,void 0);Ue(this,Bf,void 0);this.mutationId=e.mutationId,Ae(this,W0,e.defaultOptions),Ae(this,Nn,e.mutationCache),Ae(this,Qa,[]),this.state=e.state||zF(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...Y(this,W0),...e},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Y(this,Qa).includes(e)||(Y(this,Qa).push(e),this.clearGcTimeout(),Y(this,Nn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ae(this,Qa,Y(this,Qa).filter(r=>r!==e)),this.scheduleGc(),Y(this,Nn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Y(this,Qa).length||(this.state.status==="pending"?this.scheduleGc():Y(this,Nn).remove(this))}continue(){var e;return((e=Y(this,Bf))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var n,s,a,o,l,u,c,d,h,p,g,y,b,x,w,_,E,A,I,P;const r=()=>(Ae(this,Bf,jF({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(M,k)=>{vt(this,Za,Xl).call(this,{type:"failed",failureCount:M,error:k})},onPause:()=>{vt(this,Za,Xl).call(this,{type:"pause"})},onContinue:()=>{vt(this,Za,Xl).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),Y(this,Bf).promise),i=this.state.status==="pending";try{if(!i){vt(this,Za,Xl).call(this,{type:"pending",variables:e}),await((s=(n=Y(this,Nn).config).onMutate)==null?void 0:s.call(n,e,this));const k=await((o=(a=this.options).onMutate)==null?void 0:o.call(a,e));k!==this.state.context&&vt(this,Za,Xl).call(this,{type:"pending",context:k,variables:e})}const M=await r();return await((u=(l=Y(this,Nn).config).onSuccess)==null?void 0:u.call(l,M,e,this.state.context,this)),await((d=(c=this.options).onSuccess)==null?void 0:d.call(c,M,e,this.state.context)),await((p=(h=Y(this,Nn).config).onSettled)==null?void 0:p.call(h,M,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,M,null,e,this.state.context)),vt(this,Za,Xl).call(this,{type:"success",data:M}),M}catch(M){try{throw await((x=(b=Y(this,Nn).config).onError)==null?void 0:x.call(b,M,e,this.state.context,this)),await((_=(w=this.options).onError)==null?void 0:_.call(w,M,e,this.state.context)),await((A=(E=Y(this,Nn).config).onSettled)==null?void 0:A.call(E,void 0,M,this.state.variables,this.state.context,this)),await((P=(I=this.options).onSettled)==null?void 0:P.call(I,void 0,M,e,this.state.context)),M}finally{vt(this,Za,Xl).call(this,{type:"error",error:M})}}}},Qa=new WeakMap,W0=new WeakMap,Nn=new WeakMap,Bf=new WeakMap,Za=new WeakSet,Xl=function(e){const r=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!B_(this.options.networkMode),status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Jr.batch(()=>{Y(this,Qa).forEach(i=>{i.onMutationUpdate(e)}),Y(this,Nn).notify({mutation:this,type:"updated",action:e})})},vF);function zF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cs,X0,ch,yF,PW=(yF=class extends Sp{constructor(e={}){super();Ue(this,cs,void 0);Ue(this,X0,void 0);Ue(this,ch,void 0);this.config=e,Ae(this,cs,[]),Ae(this,X0,0)}build(e,r,i){const n=new IW({mutationCache:this,mutationId:++Av(this,X0)._,options:e.defaultMutationOptions(r),state:i});return this.add(n),n}add(e){Y(this,cs).push(e),this.notify({type:"added",mutation:e})}remove(e){Ae(this,cs,Y(this,cs).filter(r=>r!==e)),this.notify({type:"removed",mutation:e})}clear(){Jr.batch(()=>{Y(this,cs).forEach(e=>{this.remove(e)})})}getAll(){return Y(this,cs)}find(e){const r={exact:!0,...e};return Y(this,cs).find(i=>fk(r,i))}findAll(e={}){return Y(this,cs).filter(r=>fk(e,r))}notify(e){Jr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){return Ae(this,ch,(Y(this,ch)??Promise.resolve()).then(()=>{const e=Y(this,cs).filter(r=>r.state.isPaused);return Jr.batch(()=>e.reduce((r,i)=>r.then(()=>i.continue().catch(hs)),Promise.resolve()))}).then(()=>{Ae(this,ch,void 0)})),Y(this,ch)}},cs=new WeakMap,X0=new WeakMap,ch=new WeakMap,yF);function ZT(t){return{onFetch:(e,r)=>{const i=async()=>{var g,y,b,x,w;const n=e.options,s=(b=(y=(g=e.fetchOptions)==null?void 0:g.meta)==null?void 0:y.fetchMore)==null?void 0:b.direction,a=((x=e.state.data)==null?void 0:x.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[],l={pages:[],pageParams:[]};let u=!1;const c=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},d=e.options.queryFn||(()=>Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`))),h=async(_,E,A)=>{if(u)return Promise.reject();if(E==null&&_.pages.length)return Promise.resolve(_);const I={queryKey:e.queryKey,pageParam:E,direction:A?"backward":"forward",meta:e.options.meta};c(I);const P=await d(I),{maxPages:M}=e.options,k=A?wW:_W;return{pages:k(_.pages,P,M),pageParams:k(_.pageParams,E,M)}};let p;if(s&&a.length){const _=s==="backward",E=_?HF:JT,A={pages:a,pageParams:o},I=E(n,A);p=await h(A,I,_)}else{p=await h(l,o[0]??n.initialPageParam);const _=t??a.length;for(let E=1;E<_;E++){const A=JT(n,p);p=await h(p,A)}}return p};e.options.persister?e.fetchFn=()=>{var n,s;return(s=(n=e.options).persister)==null?void 0:s.call(n,i,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=i}}}function JT(t,{pages:e,pageParams:r}){const i=e.length-1;return t.getNextPageParam(e[i],e,r[i],r)}function HF(t,{pages:e,pageParams:r}){var i;return(i=t.getPreviousPageParam)==null?void 0:i.call(t,e[0],e,r[0],r)}function MW(t,e){return e?JT(t,e)!=null:!1}function kW(t,e){return!e||!t.getPreviousPageParam?!1:HF(t,e)!=null}var Xr,hu,du,jf,Uf,fu,$f,zf,xF,NW=(xF=class{constructor(t={}){Ue(this,Xr,void 0);Ue(this,hu,void 0);Ue(this,du,void 0);Ue(this,jf,void 0);Ue(this,Uf,void 0);Ue(this,fu,void 0);Ue(this,$f,void 0);Ue(this,zf,void 0);Ae(this,Xr,t.queryCache||new $F),Ae(this,hu,t.mutationCache||new PW),Ae(this,du,t.defaultOptions||{}),Ae(this,jf,new Map),Ae(this,Uf,new Map),Ae(this,fu,0)}mount(){Av(this,fu)._++,Y(this,fu)===1&&(Ae(this,$f,Jx.subscribe(()=>{Jx.isFocused()&&(this.resumePausedMutations(),Y(this,Xr).onFocus())})),Ae(this,zf,eb.subscribe(()=>{eb.isOnline()&&(this.resumePausedMutations(),Y(this,Xr).onOnline())})))}unmount(){var t,e;Av(this,fu)._--,Y(this,fu)===0&&((t=Y(this,$f))==null||t.call(this),Ae(this,$f,void 0),(e=Y(this,zf))==null||e.call(this),Ae(this,zf,void 0))}isFetching(t){return Y(this,Xr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Y(this,hu).findAll({...t,status:"pending"}).length}getQueryData(t){var e;return(e=Y(this,Xr).find({queryKey:t}))==null?void 0:e.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);return e!==void 0?Promise.resolve(e):this.fetchQuery(t)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:e,state:r})=>{const i=r.data;return[e,i]})}setQueryData(t,e,r){const i=Y(this,Xr).find({queryKey:t}),n=i==null?void 0:i.state.data,s=xW(e,n);if(typeof s>"u")return;const a=this.defaultQueryOptions({queryKey:t});return Y(this,Xr).build(this,a).setData(s,{...r,manual:!0})}setQueriesData(t,e,r){return Jr.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,r)]))}getQueryState(t){var e;return(e=Y(this,Xr).find({queryKey:t}))==null?void 0:e.state}removeQueries(t){const e=Y(this,Xr);Jr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=Y(this,Xr),i={type:"active",...t};return Jr.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries(i,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},i=Jr.batch(()=>Y(this,Xr).findAll(t).map(n=>n.cancel(r)));return Promise.all(i).then(hs).catch(hs)}invalidateQueries(t={},e={}){return Jr.batch(()=>{if(Y(this,Xr).findAll(t).forEach(i=>{i.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},i=Jr.batch(()=>Y(this,Xr).findAll(t).filter(n=>!n.isDisabled()).map(n=>{let s=n.fetch(void 0,r);return r.throwOnError||(s=s.catch(hs)),n.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(hs)}fetchQuery(t){const e=this.defaultQueryOptions(t);typeof e.retry>"u"&&(e.retry=!1);const r=Y(this,Xr).build(this,e);return r.isStaleByTime(e.staleTime)?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(hs).catch(hs)}fetchInfiniteQuery(t){return t.behavior=ZT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(hs).catch(hs)}resumePausedMutations(){return Y(this,hu).resumePausedMutations()}getQueryCache(){return Y(this,Xr)}getMutationCache(){return Y(this,hu)}getDefaultOptions(){return Y(this,du)}setDefaultOptions(t){Ae(this,du,t)}setQueryDefaults(t,e){Y(this,jf).set(Ah(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Y(this,jf).values()];let r={};return e.forEach(i=>{zg(t,i.queryKey)&&(r={...r,...i.defaultOptions})}),r}setMutationDefaults(t,e){Y(this,Uf).set(Ah(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Y(this,Uf).values()];let r={};return e.forEach(i=>{zg(t,i.mutationKey)&&(r={...r,...i.defaultOptions})}),r}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const e={...Y(this,du).queries,...(t==null?void 0:t.queryKey)&&this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=BR(e.queryKey,e)),typeof e.refetchOnReconnect>"u"&&(e.refetchOnReconnect=e.networkMode!=="always"),typeof e.throwOnError>"u"&&(e.throwOnError=!!e.suspense),typeof e.networkMode>"u"&&e.persister&&(e.networkMode="offlineFirst"),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Y(this,du).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Y(this,Xr).clear(),Y(this,hu).clear()}},Xr=new WeakMap,hu=new WeakMap,du=new WeakMap,jf=new WeakMap,Uf=new WeakMap,fu=new WeakMap,$f=new WeakMap,zf=new WeakMap,xF),un,lr,Y0,Gi,hh,Hf,Ja,q0,Gf,Vf,dh,fh,pu,Wf,ph,$m,K0,eA,Q0,tA,Z0,rA,J0,iA,e1,nA,t1,sA,r1,aA,D_,VF,bF,GF=(bF=class extends Sp{constructor(e,r){super();Ue(this,ph);Ue(this,K0);Ue(this,Q0);Ue(this,Z0);Ue(this,J0);Ue(this,e1);Ue(this,t1);Ue(this,r1);Ue(this,D_);Ue(this,un,void 0);Ue(this,lr,void 0);Ue(this,Y0,void 0);Ue(this,Gi,void 0);Ue(this,hh,void 0);Ue(this,Hf,void 0);Ue(this,Ja,void 0);Ue(this,q0,void 0);Ue(this,Gf,void 0);Ue(this,Vf,void 0);Ue(this,dh,void 0);Ue(this,fh,void 0);Ue(this,pu,void 0);Ue(this,Wf,new Set);this.options=r,Ae(this,un,e),Ae(this,Ja,null),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,lr).addObserver(this),gk(Y(this,lr),this.options)?vt(this,ph,$m).call(this):this.updateResult(),vt(this,J0,iA).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return oA(Y(this,lr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return oA(Y(this,lr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,vt(this,e1,nA).call(this),vt(this,t1,sA).call(this),Y(this,lr).removeObserver(this)}setOptions(e,r){const i=this.options,n=Y(this,lr);if(this.options=Y(this,un).defaultQueryOptions(e),Zx(i,this.options)||Y(this,un).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,lr),observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=i.queryKey),vt(this,r1,aA).call(this);const s=this.hasListeners();s&&vk(Y(this,lr),n,this.options,i)&&vt(this,ph,$m).call(this),this.updateResult(r),s&&(Y(this,lr)!==n||this.options.enabled!==i.enabled||this.options.staleTime!==i.staleTime)&&vt(this,K0,eA).call(this);const a=vt(this,Q0,tA).call(this);s&&(Y(this,lr)!==n||this.options.enabled!==i.enabled||a!==Y(this,pu))&&vt(this,Z0,rA).call(this,a)}getOptimisticResult(e){const r=Y(this,un).getQueryCache().build(Y(this,un),e),i=this.createResult(r,e);return LW(this,i)&&(Ae(this,Gi,i),Ae(this,Hf,this.options),Ae(this,hh,Y(this,lr).state)),i}getCurrentResult(){return Y(this,Gi)}trackResult(e){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(Y(this,Wf).add(i),e[i])})}),r}getCurrentQuery(){return Y(this,lr)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=Y(this,un).defaultQueryOptions(e),i=Y(this,un).getQueryCache().build(Y(this,un),r);return i.isFetchingOptimistic=!0,i.fetch().then(()=>this.createResult(i,r))}fetch(e){return vt(this,ph,$m).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,Gi)))}createResult(e,r){var I;const i=Y(this,lr),n=this.options,s=Y(this,Gi),a=Y(this,hh),o=Y(this,Hf),u=e!==i?e.state:Y(this,Y0),{state:c}=e;let{error:d,errorUpdatedAt:h,fetchStatus:p,status:g}=c,y=!1,b;if(r._optimisticResults){const P=this.hasListeners(),M=!P&&gk(e,r),k=P&&vk(e,i,r,n);(M||k)&&(p=B_(e.options.networkMode)?"fetching":"paused",c.dataUpdatedAt||(g="pending")),r._optimisticResults==="isRestoring"&&(p="idle")}if(r.select&&typeof c.data<"u")if(s&&c.data===(a==null?void 0:a.data)&&r.select===Y(this,q0))b=Y(this,Gf);else try{Ae(this,q0,r.select),b=r.select(c.data),b=QT(s==null?void 0:s.data,b,r),Ae(this,Gf,b),Ae(this,Ja,null)}catch(P){Ae(this,Ja,P)}else b=c.data;if(typeof r.placeholderData<"u"&&typeof b>"u"&&g==="pending"){let P;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData))P=s.data;else if(P=typeof r.placeholderData=="function"?r.placeholderData((I=Y(this,Vf))==null?void 0:I.state.data,Y(this,Vf)):r.placeholderData,r.select&&typeof P<"u")try{P=r.select(P),Ae(this,Ja,null)}catch(M){Ae(this,Ja,M)}typeof P<"u"&&(g="success",b=QT(s==null?void 0:s.data,P,r),y=!0)}Y(this,Ja)&&(d=Y(this,Ja),b=Y(this,Gf),h=Date.now(),g="error");const x=p==="fetching",w=g==="pending",_=g==="error",E=w&&x;return{status:g,fetchStatus:p,isPending:w,isSuccess:g==="success",isError:_,isInitialLoading:E,isLoading:E,data:b,dataUpdatedAt:c.dataUpdatedAt,error:d,errorUpdatedAt:h,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>u.dataUpdateCount||c.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!w,isLoadingError:_&&c.dataUpdatedAt===0,isPaused:p==="paused",isPlaceholderData:y,isRefetchError:_&&c.dataUpdatedAt!==0,isStale:jR(e,r),refetch:this.refetch}}updateResult(e){const r=Y(this,Gi),i=this.createResult(Y(this,lr),this.options);if(Ae(this,hh,Y(this,lr).state),Ae(this,Hf,this.options),Y(this,hh).data!==void 0&&Ae(this,Vf,Y(this,lr)),Zx(i,r))return;Ae(this,Gi,i);const n={},s=()=>{if(!r)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!Y(this,Wf).size)return!0;const l=new Set(o??Y(this,Wf));return this.options.throwOnError&&l.add("error"),Object.keys(Y(this,Gi)).some(u=>{const c=u;return Y(this,Gi)[c]!==r[c]&&l.has(c)})};(e==null?void 0:e.listeners)!==!1&&s()&&(n.listeners=!0),vt(this,D_,VF).call(this,{...n,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&vt(this,J0,iA).call(this)}},un=new WeakMap,lr=new WeakMap,Y0=new WeakMap,Gi=new WeakMap,hh=new WeakMap,Hf=new WeakMap,Ja=new WeakMap,q0=new WeakMap,Gf=new WeakMap,Vf=new WeakMap,dh=new WeakMap,fh=new WeakMap,pu=new WeakMap,Wf=new WeakMap,ph=new WeakSet,$m=function(e){vt(this,r1,aA).call(this);let r=Y(this,lr).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(hs)),r},K0=new WeakSet,eA=function(){if(vt(this,e1,nA).call(this),Yf||Y(this,Gi).isStale||!qT(this.options.staleTime))return;const r=DF(Y(this,Gi).dataUpdatedAt,this.options.staleTime)+1;Ae(this,dh,setTimeout(()=>{Y(this,Gi).isStale||this.updateResult()},r))},Q0=new WeakSet,tA=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,lr)):this.options.refetchInterval)??!1},Z0=new WeakSet,rA=function(e){vt(this,t1,sA).call(this),Ae(this,pu,e),!(Yf||this.options.enabled===!1||!qT(Y(this,pu))||Y(this,pu)===0)&&Ae(this,fh,setInterval(()=>{(this.options.refetchIntervalInBackground||Jx.isFocused())&&vt(this,ph,$m).call(this)},Y(this,pu)))},J0=new WeakSet,iA=function(){vt(this,K0,eA).call(this),vt(this,Z0,rA).call(this,vt(this,Q0,tA).call(this))},e1=new WeakSet,nA=function(){Y(this,dh)&&(clearTimeout(Y(this,dh)),Ae(this,dh,void 0))},t1=new WeakSet,sA=function(){Y(this,fh)&&(clearInterval(Y(this,fh)),Ae(this,fh,void 0))},r1=new WeakSet,aA=function(){const e=Y(this,un).getQueryCache().build(Y(this,un),this.options);if(e===Y(this,lr))return;const r=Y(this,lr);Ae(this,lr,e),Ae(this,Y0,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},D_=new WeakSet,VF=function(e){Jr.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(Y(this,Gi))}),Y(this,un).getQueryCache().notify({query:Y(this,lr),type:"observerResultsUpdated"})})},bF);function OW(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function gk(t,e){return OW(t,e)||t.state.dataUpdatedAt>0&&oA(t,e,e.refetchOnMount)}function oA(t,e,r){if(e.enabled!==!1){const i=typeof r=="function"?r(t):r;return i==="always"||i!==!1&&jR(t,e)}return!1}function vk(t,e,r,i){return r.enabled!==!1&&(t!==e||i.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&jR(t,r)}function jR(t,e){return t.isStaleByTime(e.staleTime)}function LW(t,e){return!Zx(t.getCurrentResult(),e)}var DW=class extends GF{constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t,e){super.setOptions({...t,behavior:ZT()},e)}getOptimisticResult(t){return t.behavior=ZT(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){var l,u,c,d;const{state:r}=t,i=super.createResult(t,e),{isFetching:n,isRefetching:s}=i,a=n&&((u=(l=r.fetchMeta)==null?void 0:l.fetchMore)==null?void 0:u.direction)==="forward",o=n&&((d=(c=r.fetchMeta)==null?void 0:c.fetchMore)==null?void 0:d.direction)==="backward";return{...i,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:MW(e,r.data),hasPreviousPage:kW(e,r.data),isFetchingNextPage:a,isFetchingPreviousPage:o,isRefetching:s&&!a&&!o}}},mu,Yo,On,qo,Xf,ox,i1,lA,_F,FW=(_F=class extends Sp{constructor(r,i){super();Ue(this,Xf);Ue(this,i1);Ue(this,mu,void 0);Ue(this,Yo,void 0);Ue(this,On,void 0);Ue(this,qo,void 0);Ae(this,Yo,void 0),Ae(this,mu,r),this.setOptions(i),this.bindMethods(),vt(this,Xf,ox).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var n;const i=this.options;this.options=Y(this,mu).defaultMutationOptions(r),Zx(i,this.options)||Y(this,mu).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Y(this,On),observer:this}),(n=Y(this,On))==null||n.setOptions(this.options),i!=null&&i.mutationKey&&this.options.mutationKey&&Ah(i.mutationKey)!==Ah(this.options.mutationKey)&&this.reset()}onUnsubscribe(){var r;this.hasListeners()||(r=Y(this,On))==null||r.removeObserver(this)}onMutationUpdate(r){vt(this,Xf,ox).call(this),vt(this,i1,lA).call(this,r)}getCurrentResult(){return Y(this,Yo)}reset(){var r;(r=Y(this,On))==null||r.removeObserver(this),Ae(this,On,void 0),vt(this,Xf,ox).call(this),vt(this,i1,lA).call(this)}mutate(r,i){var n;return Ae(this,qo,i),(n=Y(this,On))==null||n.removeObserver(this),Ae(this,On,Y(this,mu).getMutationCache().build(Y(this,mu),this.options)),Y(this,On).addObserver(this),Y(this,On).execute(r)}},mu=new WeakMap,Yo=new WeakMap,On=new WeakMap,qo=new WeakMap,Xf=new WeakSet,ox=function(){var i;const r=((i=Y(this,On))==null?void 0:i.state)??zF();Ae(this,Yo,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},i1=new WeakSet,lA=function(r){Jr.batch(()=>{var i,n,s,a,o,l,u,c;if(Y(this,qo)&&this.hasListeners()){const d=Y(this,Yo).variables,h=Y(this,Yo).context;(r==null?void 0:r.type)==="success"?((n=(i=Y(this,qo)).onSuccess)==null||n.call(i,r.data,d,h),(a=(s=Y(this,qo)).onSettled)==null||a.call(s,r.data,null,d,h)):(r==null?void 0:r.type)==="error"&&((l=(o=Y(this,qo)).onError)==null||l.call(o,r.error,d,h),(c=(u=Y(this,qo)).onSettled)==null||c.call(u,void 0,r.error,d,h))}this.listeners.forEach(d=>{d(Y(this,Yo))})})},_F),WF=R.createContext(void 0),Ds=t=>{const e=R.useContext(WF);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},BW=({client:t,children:e})=>(R.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),R.createElement(WF.Provider,{value:t},e)),XF=R.createContext(!1),jW=()=>R.useContext(XF);XF.Provider;function UW(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var $W=R.createContext(UW()),zW=()=>R.useContext($W);function YF(t,e){return typeof t=="function"?t(...e):!!t}var HW=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},GW=t=>{R.useEffect(()=>{t.clearReset()},[t])},VW=({result:t,errorResetBoundary:e,throwOnError:r,query:i})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&YF(r,[t.error,i]),WW=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},XW=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,YW=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function qF(t,e,r){const i=Ds(r),n=jW(),s=zW(),a=i.defaultQueryOptions(t);a._optimisticResults=n?"isRestoring":"optimistic",WW(a),HW(a,s),GW(s);const[o]=R.useState(()=>new e(i,a)),l=o.getOptimisticResult(a);if(R.useSyncExternalStore(R.useCallback(u=>{const c=n?()=>{}:o.subscribe(Jr.batchCalls(u));return o.updateResult(),c},[o,n]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),R.useEffect(()=>{o.setOptions(a,{listeners:!1})},[a,o]),XW(a,l))throw YW(a,o,s);if(VW({result:l,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash)}))throw l.error;return a.notifyOnChangeProps?l:o.trackResult(l)}function UR(t,e){return qF(t,GF,e)}function _l(t,e){const r=Ds(e),[i]=R.useState(()=>new FW(r,t));R.useEffect(()=>{i.setOptions(t)},[i,t]);const n=R.useSyncExternalStore(R.useCallback(a=>i.subscribe(Jr.batchCalls(a)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),s=R.useCallback((a,o)=>{i.mutate(a,o).catch(qW)},[i]);if(n.error&&YF(i.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:s,mutateAsync:n.mutate}}function qW(){}function KW(t,e){return qF(t,DW,e)}const QW=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18M1 12C1 5.925 5.925 1 12 1s11 4.925 11 11-4.925 11-11 11S1 18.075 1 12",clipRule:"evenodd"}),v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 6a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0V7a1 1 0 0 1 1-1M11 16a1 1 0 0 1 1-1h.01a1 1 0 1 1 0 2H12a1 1 0 0 1-1-1",clipRule:"evenodd"})]}),ZW=QW,JW=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",d:"M2 12a1 1 0 0 1 1-1h18a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1M6 4c0-.552.384-1 .857-1h10.286c.473 0 .857.448.857 1s-.384 1-.857 1H6.857C6.384 5 6 4.552 6 4M6 20c0-.552.298-1 .667-1h10.666c.369 0 .667.448.667 1s-.299 1-.667 1H6.667C6.298 21 6 20.552 6 20"})]}),YTe=JW,eX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",d:"M2 4a1 1 0 0 1 1-1h18a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1M2 12c0-.552.64-1 1.429-1H20.57c.79 0 1.429.448 1.429 1s-.64 1-1.429 1H3.43C2.639 13 2 12.552 2 12M2 20c0-.552.497-1 1.111-1H20.89c.614 0 1.111.448 1.111 1s-.497 1-1.111 1H3.11C2.497 21 2 20.552 2 20"})]}),qTe=eX,tX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",d:"M2 4a1 1 0 0 1 1-1h18a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1M2 12c0-.552.384-1 .857-1h10.286c.473 0 .857.448.857 1s-.384 1-.857 1H2.857C2.384 13 2 12.552 2 12M2 20a1 1 0 0 1 1-1h16a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1"})]}),KTe=tX,rX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",d:"M2 4a1 1 0 0 1 1-1h18a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1M10 12c0-.552.384-1 .857-1h10.286c.473 0 .857.448.857 1s-.384 1-.857 1H10.857c-.473 0-.857-.448-.857-1M4 20a1 1 0 0 1 1-1h16a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1"})]}),QTe=rX,iX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M1 3c0-1.1.9-2 2-2h6a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2zm8 0H3v6h6zm4 0c0-1.1.9-2 2-2h6a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2zm8 0h-6v6h6zm-8 12c0-1.1.9-2 2-2h6a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2zm8 0h-6v6h6zM1 15c0-1.1.9-2 2-2h6a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2zm8 0H3v6h6z",clipRule:"evenodd"})]}),KF=iX,nX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 4a1 1 0 0 1 1 1v14a1 1 0 1 1-2 0V5a1 1 0 0 1 1-1",clipRule:"evenodd"}),v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.293 11.293a1 1 0 0 1 1.414 0L12 17.586l6.293-6.293a1 1 0 0 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414",clipRule:"evenodd"})]}),ZTe=nX,sX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 12a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1",clipRule:"evenodd"}),v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.707 4.293a1 1 0 0 1 0 1.414L6.414 12l6.293 6.293a1 1 0 0 1-1.414 1.414l-7-7a1 1 0 0 1 0-1.414l7-7a1 1 0 0 1 1.414 0",clipRule:"evenodd"})]}),aX=sX,oX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 12a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1",clipRule:"evenodd"}),v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.293 4.293a1 1 0 0 1 1.414 0l7 7a1 1 0 0 1 0 1.414l-7 7a1 1 0 0 1-1.414-1.414L17.586 12l-6.293-6.293a1 1 0 0 1 0-1.414",clipRule:"evenodd"})]}),yk=oX,lX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 4a1 1 0 0 1 1 1v14a1 1 0 1 1-2 0V5a1 1 0 0 1 1-1",clipRule:"evenodd"}),v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.293 4.293a1 1 0 0 1 1.414 0l7 7a1 1 0 0 1-1.414 1.414L12 6.414l-6.293 6.293a1 1 0 0 1-1.414-1.414z",clipRule:"evenodd"})]}),JTe=lX,uX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("g",{fill:"currentColor",fillRule:"evenodd",clipPath:"url(#blur_svg__a)",clipRule:"evenodd",children:v.jsx("path",{d:"M17.504 1.673a1 1 0 0 1 .932.491c.37.63.9 1.935 1.404 3.18l.08.197c.502 1.24.994 2.457 1.369 3.205l-.895.447.895-.447c.561 1.122 1.962 4.049 2.136 6.753.087 1.364-.125 2.839-1.094 3.978-.987 1.16-2.573 1.76-4.757 1.76-2.186 0-3.777-.6-4.777-1.752-.983-1.134-1.221-2.604-1.152-3.973.138-2.711 1.514-5.636 2.13-6.79.86-1.611 2.414-5.32 2.874-6.433a1 1 0 0 1 .855-.616m.104 3.492c-.657 1.533-1.496 3.425-2.07 4.5-.59 1.106-1.781 3.703-1.895 5.949-.057 1.11.158 1.976.665 2.56.49.565 1.427 1.063 3.266 1.063 1.84 0 2.76-.498 3.233-1.055.492-.579.694-1.44.622-2.555-.145-2.253-1.36-4.848-1.929-5.986-.412-.823-.932-2.108-1.417-3.308l-.097-.238q-.196-.487-.378-.93M12.843 22.535a1 1 0 0 1-1.034.964l-.259-.009a1 1 0 0 1-.257-.042q-.125.029-.26.024l-.257-.009a11 11 0 0 1-2.102-.279 1 1 0 0 1 .457-1.947 9 9 0 0 0 1.715.228l.258.009q.134.004.257.042.125-.028.26-.024l.257.009a1 1 0 0 1 .965 1.034m-6.615-1.329a1 1 0 0 1-1.396.226 10.9 10.9 0 0 1-2.877-3.086 1 1 0 1 1 1.7-1.054 8.9 8.9 0 0 0 2.347 2.518 1 1 0 0 1 .226 1.396M1.622 15.22a1 1 0 0 1-1.147-.827 10.9 10.9 0 0 1 .148-4.218 1 1 0 0 1 1.947.457 8.9 8.9 0 0 0-.12 3.441 1 1 0 0 1-.828 1.147m.978-7.49a1 1 0 0 1-.226-1.397A10.9 10.9 0 0 1 5.46 3.455a1 1 0 0 1 1.054 1.7 8.9 8.9 0 0 0-2.518 2.347 1 1 0 0 1-1.396.226m5.988-4.607a1 1 0 0 1 .827-1.147 11 11 0 0 1 2.116-.132l.258.01q.135.004.257.042.125-.03.26-.025l.258.01a1 1 0 0 1-.07 1.998l-.258-.009a1 1 0 0 1-.258-.043q-.125.03-.259.025l-.258-.009a9 9 0 0 0-1.727.108 1 1 0 0 1-1.146-.828"})}),v.jsx("defs",{children:v.jsx("clipPath",{id:"blur_svg__a",children:v.jsx("path",{fill:"#fff",d:"M0 0h24v24H0z"})})})]}),cX=uX,hX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",d:"M7 4a1 1 0 0 0-1 1v14.06l5.42-3.87a1 1 0 0 1 1.16 0L18 19.06V5a1 1 0 0 0-1-1zM4.88 2.88A3 3 0 0 1 7 2h10a3 3 0 0 1 3 3v16a1 1 0 0 1-1.58.81L12 17.23 5.58 21.8A1 1 0 0 1 4 21V5a3 3 0 0 1 .88-2.12"})]}),$R=hX,dX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("circle",{cx:3.5,cy:12,r:1.5,fill:"currentColor"}),v.jsx("circle",{cx:3.5,cy:3.5,r:1.5,fill:"currentColor"}),v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 3.5c0-.552.418-1 .933-1h12.134c.515 0 .933.448.933 1s-.418 1-.933 1H8.933C8.418 4.5 8 4.052 8 3.5M8 12c0-.552.418-1 .933-1h12.134c.515 0 .933.448.933 1s-.418 1-.933 1H8.933C8.418 13 8 12.552 8 12",clipRule:"evenodd"}),v.jsx("circle",{cx:3.5,cy:20.5,r:1.5,fill:"currentColor"}),v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 20.5c0-.552.418-1 .933-1h12.134c.515 0 .933.448.933 1s-.418 1-.933 1H8.933c-.515 0-.933-.448-.933-1",clipRule:"evenodd"})]}),eAe=dX,fX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M21 5c0 .828-.711 1.5-1.588 1.5H4.588C3.711 6.5 3 5.828 3 5s.711-1.5 1.588-1.5h14.824C20.289 3.5 21 4.172 21 5M21 12c0 .828-.711 1.5-1.588 1.5H4.588C3.711 13.5 3 12.828 3 12s.711-1.5 1.588-1.5h14.824c.877 0 1.588.672 1.588 1.5M21 19c0 .828-.711 1.5-1.588 1.5H4.588C3.711 20.5 3 19.828 3 19s.711-1.5 1.588-1.5h14.824c.877 0 1.588.672 1.588 1.5",clipRule:"evenodd"})]}),pX=fX,mX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.222 4.222a1.1 1.1 0 0 1 1.556 0l14 14a1.1 1.1 0 1 1-1.556 1.556l-14-14a1.1 1.1 0 0 1 0-1.556",clipRule:"evenodd"}),v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M19.778 4.222a1.1 1.1 0 0 1 0 1.556l-14 14a1.1 1.1 0 1 1-1.556-1.556l14-14a1.1 1.1 0 0 1 1.556 0",clipRule:"evenodd"})]}),zR=mX,gX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M17.327 5.76a1 1 0 0 1 1.413.067l5 5.5a1 1 0 0 1 0 1.346l-5 5.5a1 1 0 1 1-1.48-1.346L21.648 12 17.26 7.173a1 1 0 0 1 .067-1.413M6.673 5.76a1 1 0 0 1 .067 1.413L2.35 12l4.389 4.827a1 1 0 0 1-1.48 1.346l-5-5.5a1 1 0 0 1 0-1.346l5-5.5a1 1 0 0 1 1.413-.067M8.979 21.609a1 1 0 0 1-.658-1.252l5.375-17.29a1 1 0 1 1 1.91.594L10.23 20.95a1 1 0 0 1-1.251.658",clipRule:"evenodd"})]}),uA=gX,vX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.676 3c.284-.672.853-1 1.263-1h11.423c.566 0 1.438.628 1.438 1.923v13.154c0 1.056-.58 1.668-1.1 1.858V6.923C19.7 4.99 18.3 3 16.061 3zm-2.272.007C4.765 1.41 6.056 0 7.939 0h11.423C21.599 0 23 1.99 23 3.923v13.154c0 1.865-1.303 3.782-3.403 3.916C19.235 22.59 17.944 24 16.06 24H4.638C2.401 24 1 22.01 1 20.077V6.923c0-1.865 1.303-3.782 3.404-3.916M3.2 6.923C3.2 5.628 4.072 5 4.638 5h11.423c.567 0 1.439.628 1.439 1.923v13.154c0 1.295-.872 1.923-1.439 1.923H4.638c-.566 0-1.438-.628-1.438-1.923z",clipRule:"evenodd"})]}),yX=vX,xX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("g",{clipPath:"url(#crop_svg__a)",children:v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.13 1.009a1 1 0 1 0-2-.018l-.036 4.103-4.103.036a1 1 0 1 0 .018 2l4.068-.035L5 15.99V16a3 3 0 0 0 3 3h9v4a1 1 0 1 0 2 0v-4h4a1 1 0 1 0 0-2h-4V8a3 3 0 0 0-3-3l-8.905.077zm-.053 6.068L7 16.004A1 1 0 0 0 8 17h9V8a1 1 0 0 0-.996-1z",clipRule:"evenodd"})}),v.jsx("defs",{children:v.jsx("clipPath",{id:"crop_svg__a",children:v.jsx("path",{fill:"#fff",d:"M0 0h24v24H0z"})})})]}),bX=xX,_X=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.937 15.502a1 1 0 0 1 1.061.934c.046.727.17 1.217.408 1.526.188.244.574.538 1.594.538a1 1 0 1 1 0 2c-1.442 0-2.507-.444-3.18-1.319-.622-.809-.767-1.82-.818-2.618a1 1 0 0 1 .935-1.061",clipRule:"evenodd"}),v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.95 1.184a1 1 0 0 0-1.897 0c-.575 1.722-1.339 3.332-2.14 4.9l1.485 1.485A56 56 0 0 0 12 4.263c.662 1.515 1.413 2.95 2.118 4.298.291.556.574 1.098.84 1.624.623 1.231 1.148 2.372 1.51 3.455l2.522 2.523c-.1-2.342-1.112-4.636-2.247-6.88-.291-.577-.592-1.151-.893-1.729-1.065-2.035-2.146-4.105-2.9-6.37m4.89 19.484-1.459-1.459a4.2 4.2 0 0 1-.606.869c-.733.806-1.906 1.422-3.773 1.422s-3.04-.616-3.775-1.422c-.757-.831-1.142-1.969-1.215-3.14-.108-1.745.501-3.561 1.474-5.624L6.988 9.816c-1.165 2.362-2.125 4.778-1.972 7.246.094 1.497.592 3.11 1.732 4.362C7.91 22.7 9.648 23.5 12.002 23.5s4.09-.8 5.252-2.076q.328-.36.586-.756M3.293 3.293a1 1 0 0 1 1.414 0l17 17a1 1 0 0 1-1.414 1.414l-17-17a1 1 0 0 1 0-1.414",clipRule:"evenodd"})]}),QF=_X,wX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M3 4.222C3 3.547 3.547 3 4.222 3H6v18H4.222A1.22 1.22 0 0 1 3 19.778zM8 21h11.778c.675 0 1.222-.547 1.222-1.222V4.222C21 3.547 20.453 3 19.778 3H8zM4.222 1A3.22 3.22 0 0 0 1 4.222v15.556A3.22 3.22 0 0 0 4.222 23h15.556A3.22 3.22 0 0 0 23 19.778V4.222A3.22 3.22 0 0 0 19.778 1z",clipRule:"evenodd"})]}),tAe=wX,SX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M3 4.222C3 3.547 3.547 3 4.222 3H6v3a1 1 0 0 0 2 0V3h11.778C20.453 3 21 3.547 21 4.222v15.556c0 .675-.547 1.222-1.222 1.222H8v-3a1 1 0 1 0-2 0v3H4.222A1.22 1.22 0 0 1 3 19.778zM6.978 23H4.222A3.22 3.22 0 0 1 1 19.778V4.222A3.22 3.22 0 0 1 4.222 1h15.556A3.22 3.22 0 0 1 23 4.222v15.556A3.22 3.22 0 0 1 19.778 23h-12.8M7 9a1 1 0 0 1 1 1v4a1 1 0 1 1-2 0v-4a1 1 0 0 1 1-1m4.318-.182a1 1 0 0 1 1.414 0l1.768 1.768 1.767-1.768a1 1 0 1 1 1.415 1.414L15.914 12l1.768 1.768a1 1 0 1 1-1.414 1.414L14.5 13.414l-1.768 1.768a1 1 0 0 1-1.414-1.414L13.086 12l-1.768-1.768a1 1 0 0 1 0-1.414",clipRule:"evenodd"})]}),rAe=SX,EX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M3 4.222C3 3.547 3.547 3 4.222 3h15.556C20.453 3 21 3.547 21 4.222v1.444H3zM1 6.666V4.222A3.22 3.22 0 0 1 4.222 1h15.556A3.22 3.22 0 0 1 23 4.222v15.556A3.22 3.22 0 0 1 19.778 23H4.222A3.22 3.22 0 0 1 1 19.778zm20 1v12.112c0 .675-.547 1.222-1.222 1.222H4.222A1.22 1.22 0 0 1 3 19.778V7.666z",clipRule:"evenodd"})]}),iAe=EX,TX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M3 4.222C3 3.547 3.547 3 4.222 3h15.556C20.453 3 21 3.547 21 4.222V6h-3a1 1 0 1 0 0 2h3v11.778c0 .675-.547 1.222-1.222 1.222H4.222A1.22 1.22 0 0 1 3 19.778V8h3a1 1 0 0 0 0-2H3zm20 0v15.556A3.22 3.22 0 0 1 19.778 23H4.222A3.22 3.22 0 0 1 1 19.778V4.222A3.22 3.22 0 0 1 4.222 1h15.556A3.22 3.22 0 0 1 23 4.222m-12.768 7.096a1 1 0 1 0-1.414 1.414l1.768 1.768-1.768 1.767a1 1 0 1 0 1.414 1.415L12 15.914l1.768 1.768a1 1 0 0 0 1.414-1.414L13.414 14.5l1.768-1.768a1 1 0 1 0-1.415-1.414L12 13.086zM10 6a1 1 0 1 0 0 2h4a1 1 0 1 0 0-2z",clipRule:"evenodd"})]}),nAe=TX,AX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.461 3.689a.96.96 0 0 1 .675-.28h3.819a.955.955 0 0 1 .954.955v.954H9.182v-.954c0-.254.1-.496.28-.675m7.357.675v.954h3.818a.955.955 0 0 1 0 1.91h-.954v12.408a2.864 2.864 0 0 1-2.864 2.864H7.273a2.864 2.864 0 0 1-2.864-2.864V7.227h-.954a.955.955 0 1 1 0-1.909h3.818v-.954A2.864 2.864 0 0 1 10.136 1.5h3.819a2.864 2.864 0 0 1 2.863 2.864m-10.5 2.863v12.41a.954.954 0 0 0 .955.954h9.545a.955.955 0 0 0 .955-.955V7.227zm3.818 2.864c.528 0 .955.427.955.955v5.727a.955.955 0 1 1-1.91 0v-5.727c0-.528.428-.955.955-.955m4.773 6.682v-5.727a.955.955 0 0 0-1.909 0v5.727a.955.955 0 1 0 1.91 0",clipRule:"evenodd"})]}),ZF=AX,CX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsxs("g",{fill:"currentColor",fillRule:"evenodd",clipPath:"url(#download_svg__a)",clipRule:"evenodd",children:[v.jsx("path",{d:"M7.293 16.293a1 1 0 0 1 1.414 0L12 19.586l3.293-3.293a1 1 0 0 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414"}),v.jsx("path",{d:"M12 11a1 1 0 0 1 1 1v9a1 1 0 1 1-2 0v-9a1 1 0 0 1 1-1"}),v.jsx("path",{d:"M8.668 1.994A9 9 0 0 1 17.48 8H18a6.002 6.002 0 0 1 5.689 7.919 6 6 0 0 1-2.234 2.989 1 1 0 1 1-1.15-1.636A4 4 0 0 0 18 10H16.74a1 1 0 0 1-.969-.751A7 7 0 1 0 3.75 15.627a1 1 0 1 1-1.498 1.326A9 9 0 0 1 8.668 1.994"})]}),v.jsx("defs",{children:v.jsx("clipPath",{id:"download_svg__a",children:v.jsx("path",{fill:"#fff",d:"M0 0h24v24H0z"})})})]}),RX=CX,IX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M1.879 3.879A3 3 0 0 1 4 3h7a1 1 0 1 1 0 2H4a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-7a1 1 0 1 1 2 0v7a3 3 0 0 1-3 3H4a3 3 0 0 1-3-3V6a3 3 0 0 1 .879-2.121",clipRule:"evenodd"}),v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M20 2.879c-.297 0-.583.118-.793.328l-9.304 9.304-.529 2.115 2.115-.529 9.304-9.304A1.121 1.121 0 0 0 20 2.879m-2.207-1.086a3.121 3.121 0 0 1 4.414 4.414l-9.5 9.5a1 1 0 0 1-.464.263l-4 1a1 1 0 0 1-1.213-1.212l1-4a1 1 0 0 1 .263-.465z",clipRule:"evenodd"})]}),PX=IX,MX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-11C5.925 1 1 5.925 1 12s4.925 11 11 11 11-4.925 11-11S18.075 1 12 1M8.293 15.707a1 1 0 0 1 0-1.414L10.586 12 8.293 9.707a1 1 0 0 1 1.414-1.414L12 10.586l2.293-2.293a1 1 0 1 1 1.414 1.414L13.414 12l2.293 2.293a1 1 0 0 1-1.414 1.414L12 13.414l-2.293 2.293a1 1 0 0 1-1.414 0",clipRule:"evenodd"})]}),kX=MX,NX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M5 7a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-6a1 1 0 1 1 2 0v6a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V8a3 3 0 0 1 3-3h6a1 1 0 1 1 0 2zM14 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v6a1 1 0 1 1-2 0V4h-5a1 1 0 0 1-1-1",clipRule:"evenodd"}),v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M21.707 2.293a1 1 0 0 1 0 1.414l-11 11a1 1 0 0 1-1.414-1.414l11-11a1 1 0 0 1 1.414 0",clipRule:"evenodd"})]}),sAe=NX,OX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M20.91 9.14v1.27H8.25a4.7 4.7 0 0 0-3.86 1.98L1.5 16.53V6.4a2.3 2.3 0 0 1 .77-1.69A2.68 2.68 0 0 1 4.11 4h3.73a2.68 2.68 0 0 1 1.84.71c.25.22.45.48.58.77s.2.6.2.92v.34h7.84c.7.01 1.35.27 1.84.71.49.45.76 1.06.77 1.7ZM8.25 11.92h14.47c.63 0 1 .68.64 1.18l-3.52 5.04a3.13 3.13 0 0 1-2.57 1.32H2.79c-.62 0-.99-.68-.64-1.18l3.53-5.04a3.13 3.13 0 0 1 2.57-1.32",clipRule:"evenodd"})]}),aAe=OX,LX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M1.093 2.58A1 1 0 0 1 2 2h20a1 1 0 0 1 .764 1.646L15 12.826V21a1 1 0 0 1-1.447.894l-4-2A1 1 0 0 1 9 19v-6.174l-7.764-9.18a1 1 0 0 1-.143-1.067M4.155 4l6.609 7.814a1 1 0 0 1 .236.646v5.922l2 1V12.46a1 1 0 0 1 .236-.646L19.845 4z",clipRule:"evenodd"})]}),DX=LX,FX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.057 5.5A.057.057 0 0 0 3 5.557v13.03h18V7.875h-8.697a1 1 0 0 1-1-1c0-.759-.615-1.374-1.374-1.374zM1 5.557C1 4.42 1.92 3.5 3.057 3.5h6.872c1.515 0 2.797.999 3.223 2.374H21a2 2 0 0 1 2 2v10.714a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2z",clipRule:"evenodd"})]}),JF=FX,BX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.726 3.29A9.01 9.01 0 0 0 3.055 11H7.05a16.3 16.3 0 0 1 2.676-7.71m4.548 0A16.3 16.3 0 0 1 16.95 11h3.995a9.01 9.01 0 0 0-6.67-7.71m.668 7.71A14.3 14.3 0 0 0 12 3.55 14.3 14.3 0 0 0 9.058 11zm-5.884 2h5.884A14.3 14.3 0 0 1 12 20.45 14.3 14.3 0 0 1 9.058 13M7.05 13H3.055a9.01 9.01 0 0 0 6.67 7.71A16.3 16.3 0 0 1 7.05 13m7.224 7.71A16.3 16.3 0 0 0 16.95 13h3.995a9.01 9.01 0 0 1-6.67 7.71M12 23c6.075 0 11-4.925 11-11S18.075 1 12 1 1 5.925 1 12s4.925 11 11 11",clipRule:"evenodd"})]}),e8=BX,jX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.222 1.001A3.22 3.22 0 0 0 1 4.224v15.555a3.22 3.22 0 0 0 3.222 3.222h15.555A3.22 3.22 0 0 0 23 19.78V4.224A3.22 3.22 0 0 0 19.777 1zm3.778 20h11.777c.675 0 1.223-.547 1.223-1.222V4.224C21 3.549 20.452 3 19.777 3H6.91V21z",clipRule:"evenodd"})]}),oAe=jX,UX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M1 4.224A3.22 3.22 0 0 1 4.222 1h15.555A3.22 3.22 0 0 1 23 4.224v15.555a3.22 3.22 0 0 1-3.223 3.222H4.222A3.22 3.22 0 0 1 1 19.78zm20 2.353v13.202c0 .675-.548 1.222-1.223 1.222H4.222A1.22 1.22 0 0 1 3 19.78V6.577z",clipRule:"evenodd"})]}),lAe=UX,$X=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 20 16","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M1.667.5C.747.5 0 1.246 0 2.167v11.579c0 .92.746 1.666 1.667 1.666h16.666c.92 0 1.667-.746 1.667-1.666V2.167C20 1.247 19.254.5 18.333.5zm16.666 8.586v-6.92H1.667v11.58H5.05l7.736-8.423a.833.833 0 0 1 1.162-.064zm-11.02 4.66h11.02v-2.448l-4.868-4.25z",clipRule:"evenodd"})]}),uAe=$X,zX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 20 16","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M1.667.5C.747.5 0 1.246 0 2.167v.294a.833.833 0 1 0 1.667 0v-.294H3.75A.833.833 0 0 0 3.75.5zM7.5.5a.833.833 0 1 0 0 1.667h4.583a.833.833 0 1 0 0-1.667zm8.75 0a.833.833 0 0 0 0 1.667h2.083v1.911a.833.833 0 0 0 1.667 0V2.167C20 1.247 19.254.5 18.333.5zM20 6.824a.833.833 0 1 0-1.667 0v2.352a.833.833 0 0 0 1.667 0zm0 5.098a.833.833 0 1 0-1.667 0v1.911h-1.25a.833.833 0 0 0 0 1.667h1.25c.92 0 1.667-.746 1.667-1.667zM0 5.867C0 4.947.746 4.2 1.667 4.2h11.666c.92 0 1.667.746 1.667 1.667v7.966c0 .92-.746 1.667-1.667 1.667H1.667C.747 15.5 0 14.754 0 13.833zm13.333 0v4.304l-2.812-2.454a.833.833 0 0 0-1.162.064l-5.558 6.052H1.667V5.867zm0 7.966h-7.27l3.974-4.326 3.296 2.877z",clipRule:"evenodd"})]}),cAe=zX,HX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 20 16","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M1.667.5C.747.5 0 1.246 0 2.167v1.911a.833.833 0 1 0 1.667 0V2.167H3.75A.833.833 0 0 0 3.75.5zM7.5.5a.833.833 0 1 0 0 1.667h4.583a.833.833 0 1 0 0-1.667zm8.75 0a.833.833 0 0 0 0 1.667h2.083v1.911a.833.833 0 0 0 1.667 0V2.167C20 1.247 19.254.5 18.333.5zM20 6.824a.833.833 0 1 0-1.667 0v2.352a.833.833 0 0 0 1.667 0zm0 5.098a.833.833 0 1 0-1.667 0v1.911H16.25a.833.833 0 0 0 0 1.667h2.083c.92 0 1.667-.746 1.667-1.667zM0 8c0-.92.746-1.667 1.667-1.667h8.714c.92 0 1.666.747 1.666 1.667v5.833c0 .92-.746 1.667-1.666 1.667H1.667C.747 15.5 0 14.754 0 13.833zm10.38 5.833H5.326l2.688-2.926 2.368 2.066zm0-5.833v2.76L8.498 9.118a.833.833 0 0 0-1.162.064l-4.273 4.652H1.667V8z",clipRule:"evenodd"})]}),hAe=HX,GX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18M1 12C1 5.925 5.925 1 12 1s11 4.925 11 11-4.925 11-11 11S1 18.075 1 12",clipRule:"evenodd"}),v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.01 17a1 1 0 0 1-1-1v-5a1 1 0 1 1 2 0v5a1 1 0 0 1-1 1M13.01 7.5a1 1 0 0 1-1 1H12a1 1 0 1 1 0-2h.01a1 1 0 0 1 1 1",clipRule:"evenodd"})]}),HR=GX,VX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.222 5.037c-.895 0-1.222.555-1.222.792v12.675c0 .237.327.792 1.222.792h1.364l9.707-9.886a.987.987 0 0 1 1.414 0L21 13.782V5.829c0-.237-.328-.792-1.222-.792zM23 16.224V5.829C23 4.066 21.337 3 19.778 3H4.222C2.662 3 1 4.066 1 5.83v12.674c0 1.763 1.662 2.829 3.222 2.829h15.556c1.56 0 3.222-1.066 3.222-2.83v-2.279m-2 .439-5-5.093-7.585 7.726h11.363c.894 0 1.222-.555 1.222-.792zM8 8.093c-.552 0-1 .455-1 1.018a1.01 1.01 0 0 0 1 1.018c.552 0 1-.456 1-1.018a1.01 1.01 0 0 0-1-1.019M5 9.11c0-1.688 1.343-3.056 3-3.056s3 1.368 3 3.056-1.343 3.055-3 3.055-3-1.368-3-3.055",clipRule:"evenodd"})]}),WX=VX,XX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsxs("g",{fill:"currentColor",fillRule:"evenodd",clipPath:"url(#link_svg__a)",clipRule:"evenodd",children:[v.jsx("path",{d:"M5.333 13.334a3.771 3.771 0 1 0 5.333 5.333l2-2A.943.943 0 0 1 14 18l-2 2a5.657 5.657 0 1 1-8-8l2-2a.943.943 0 1 1 1.333 1.333zm4.667-6A.943.943 0 0 1 10 6l2-2a5.658 5.658 0 0 1 8 8l-2 2a.943.943 0 0 1-1.334-1.333l2-2a3.77 3.77 0 1 0-5.333-5.334l-2 2a.943.943 0 0 1-1.333 0"}),v.jsx("path",{d:"M8.464 15.536a1 1 0 0 1 0-1.415l5.657-5.657a1 1 0 1 1 1.414 1.415l-5.657 5.657a1 1 0 0 1-1.414 0"})]}),v.jsx("defs",{children:v.jsx("clipPath",{id:"link_svg__a",children:v.jsx("path",{fill:"#fff",d:"M0 0h24v24H0z"})})})]}),dAe=XX,YX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.672 5.558a7.96 7.96 0 0 0-9.841.397 7.95 7.95 0 0 0-1.908 9.66 7.964 7.964 0 0 0 8.949 4.12A7.95 7.95 0 0 0 19.962 12a1.021 1.021 0 1 1 2.045 0A9.994 9.994 0 0 1 7.83 21.083a10.01 10.01 0 0 1-5.634-11.027 9.99 9.99 0 0 1 9.402-8.048c2.244-.09 4.453.577 6.272 1.895a1.022 1.022 0 1 1-1.198 1.655",clipRule:"evenodd"})]}),qX=YX,KX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("g",{fill:"currentColor",clipPath:"url(#merge-cells_svg__a)",children:v.jsx("path",{d:"M3.444 2C2.554 2 2 2.635 2 3.222v1.89a1 1 0 1 1-2 0v-1.89C0 1.355 1.634 0 3.444 0h17.112C22.366 0 24 1.355 24 3.222v1.89a1 1 0 0 1-2 0v-1.89C22 2.635 21.445 2 20.556 2zM1 17.89a1 1 0 0 1 1 1v1.888C2 21.366 2.555 22 3.444 22h17.112c.89 0 1.444-.634 1.444-1.222v-1.889a1 1 0 1 1 2 0v1.889C24 22.645 22.366 24 20.556 24H3.444C1.634 24 0 22.645 0 20.778v-1.889a1 1 0 0 1 1-1M0 12a1 1 0 0 1 1-1h5.586L4.293 8.707a1 1 0 0 1 1.414-1.414l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414L6.586 13H1a1 1 0 0 1-1-1M23 13a1 1 0 1 0 0-2h-5.586l2.293-2.293a1 1 0 0 0-1.414-1.414l-4 4a1 1 0 0 0 0 1.414l4 4a1 1 0 0 0 1.414-1.414L17.414 13z"})}),v.jsx("defs",{children:v.jsx("clipPath",{id:"merge-cells_svg__a",children:v.jsx("path",{fill:"#fff",d:"M0 0h24v24H0z"})})})]}),fAe=KX,QX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 .5a4.07 4.07 0 0 0-2.812 1.115A3.8 3.8 0 0 0 8 4.364V12a3.8 3.8 0 0 0 1.188 2.748A4.07 4.07 0 0 0 12 15.864a4.07 4.07 0 0 0 2.812-1.116A3.8 3.8 0 0 0 16 12V4.364a3.8 3.8 0 0 0-1.188-2.749A4.07 4.07 0 0 0 12 .5m-1.43 2.562A2.07 2.07 0 0 1 12 2.5c.545 0 1.059.207 1.43.562.371.354.57.823.57 1.302V12a1.8 1.8 0 0 1-.57 1.302 2.07 2.07 0 0 1-1.43.562 2.07 2.07 0 0 1-1.43-.562A1.8 1.8 0 0 1 10 12V4.364a1.8 1.8 0 0 1 .57-1.302M6 10.091a1 1 0 0 0-2 0V12c0 2.053.855 4.011 2.36 5.448A8.13 8.13 0 0 0 11 19.622V21.5H8a1 1 0 1 0 0 2h8a1 1 0 1 0 0-2h-3v-1.878a8.13 8.13 0 0 0 4.64-2.174C19.145 16.011 20 14.053 20 12v-1.91a1 1 0 0 0-2 0V12c0 1.491-.62 2.932-1.74 4.001s-2.646 1.678-4.248 1.68h-.024c-1.602-.002-3.128-.611-4.247-1.68C6.62 14.931 6 13.491 6 12z",clipRule:"evenodd"})]}),j_=QX,ZX=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("circle",{cx:12,cy:4,r:2.5,fill:"currentColor"}),v.jsx("circle",{cx:12,cy:12,r:2.5,fill:"currentColor"}),v.jsx("circle",{cx:12,cy:20,r:2.5,fill:"currentColor"})]}),JX=ZX,eY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("rect",{width:14,height:2,x:8.5,y:11,fill:"currentColor",rx:1}),v.jsx("rect",{width:14,height:2,x:8.5,y:2.5,fill:"currentColor",rx:1}),v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.25.566a.67.67 0 0 1 .378.6v4.667a.667.667 0 0 1-1.333 0v-3.28l-.712.57a.667.667 0 0 1-.833-1.041L3.545.646c.2-.16.474-.191.705-.08M2.833 11v.007A.667.667 0 0 1 1.5 11h.667H1.5v-.015l.004-.09q.005-.083.026-.213c.028-.169.085-.404.207-.647.123-.246.318-.512.622-.715C2.67 9.114 3.05 9 3.5 9c.887 0 1.517.4 1.844.979.296.524.324 1.176.086 1.652-.126.25-.389.581-.646.884a30 30 0 0 1-1.042 1.152h1.425a.667.667 0 1 1 0 1.333h-3a.667.667 0 0 1-.472-1.138l.025-.025.074-.074a58 58 0 0 0 1.095-1.136c.309-.33.624-.675.88-.975.273-.323.427-.534.468-.617a.52.52 0 0 0-.054-.4c-.071-.127-.237-.302-.683-.302-.217 0-.335.053-.401.097a.5.5 0 0 0-.17.202 1 1 0 0 0-.096.375v-.006",clipRule:"evenodd"}),v.jsx("rect",{width:14,height:2,x:8.5,y:19.5,fill:"currentColor",rx:1}),v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.561 23.25a2 2 0 0 1-.773-.702l-.002-.002A1.9 1.9 0 0 1 1.5 21.53a.68.68 0 0 1 .187-.485.65.65 0 0 1 .474-.203c.184 0 .352.07.478.208a.68.68 0 0 1 .183.48q0 .181.098.34.1.155.284.26a.9.9 0 0 0 .418.096c.254 0 .422-.065.537-.164.11-.094.177-.23.177-.45 0-.14-.03-.252-.085-.347l-.002-.003a.65.65 0 0 0-.232-.247.6.6 0 0 0-.324-.086.7.7 0 0 1-.494-.195l-.004-.004-.004-.004a.68.68 0 0 1-.195-.485c0-.182.065-.354.203-.486a.7.7 0 0 1 .494-.195q.113 0 .228-.057.119-.067.193-.167a.3.3 0 0 0 .058-.186.32.32 0 0 0-.117-.257.5.5 0 0 0-.362-.12.9.9 0 0 0-.36.073.6.6 0 0 0-.232.174l-.022.03-.032.042a.4.4 0 0 0-.034.054v.007a.73.73 0 0 1-.172.482l-.003.004-.004.004a.6.6 0 0 1-.192.15.662.662 0 0 1-.726-.132l-.008-.01-.008-.008a.7.7 0 0 1-.18-.476c0-.343.1-.592.273-.846.177-.261.419-.462.713-.603.297-.147.624-.218.973-.218q.492-.001.907.214c.275.138.498.332.66.584.172.253.255.54.255.852 0 .232-.056.45-.177.644a1.6 1.6 0 0 1-.32.384q.078.057.15.12.29.253.43.602.139.338.138.719 0 .539-.29.982l-.002.002q-.286.42-.749.661l-.004.003a2.2 2.2 0 0 1-1.012.233c-.401 0-.77-.08-1.1-.248z",clipRule:"evenodd"})]}),pAe=eY,tY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M15.968 3c-.775 0-1.517.306-2.062.847l-8.983 8.918a4.8 4.8 0 0 0-1.423 3.41c0 1.277.511 2.504 1.423 3.41A4.9 4.9 0 0 0 8.368 21a4.9 4.9 0 0 0 3.445-1.416l8.983-8.918a1 1 0 1 1 1.409 1.42l-8.983 8.917A6.9 6.9 0 0 1 8.368 23a6.9 6.9 0 0 1-4.854-1.997A6.8 6.8 0 0 1 1.5 16.174c0-1.812.725-3.549 2.014-4.828l8.983-8.918A4.93 4.93 0 0 1 15.967 1c1.301 0 2.55.513 3.471 1.428a4.87 4.87 0 0 1 1.442 3.456 4.87 4.87 0 0 1-1.442 3.455l-8.992 8.918a2.965 2.965 0 0 1-4.175 0 2.935 2.935 0 0 1 0-4.165l8.299-8.23a1 1 0 0 1 1.408 1.42l-8.298 8.23a.935.935 0 0 0 0 1.326.963.963 0 0 0 1.357 0l8.992-8.918c.545-.541.85-1.274.85-2.036a2.87 2.87 0 0 0-.85-2.037A2.93 2.93 0 0 0 15.968 3",clipRule:"evenodd"})]}),t8=tY,rY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.5 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h3a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zm0 2h3v16h-3zm10-2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h3a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zm0 2h3v16h-3z",clipRule:"evenodd"})]}),GR=rY,iY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",d:"M5 3.804c0-1.57 1.728-2.528 3.06-1.696l13.113 8.196a2 2 0 0 1 0 3.392L8.06 21.892C6.728 22.724 5 21.767 5 20.196z"})]}),r8=iY,nY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M13 4a1 1 0 1 0-2 0v7H4a1 1 0 1 0 0 2h7v7a1 1 0 1 0 2 0v-7h7a1 1 0 1 0 0-2h-7z",clipRule:"evenodd"})]}),i8=nY,sY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.012 7.871a1.5 1.5 0 0 1 2.117.141L12 14.722l5.871-6.71a1.5 1.5 0 1 1 2.258 1.976l-7 8a1.5 1.5 0 0 1-2.258 0l-7-8a1.5 1.5 0 0 1 .141-2.117",clipRule:"evenodd"})]}),Hg=sY,aY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.871 19.988a1.5 1.5 0 0 1 .141-2.117L14.722 12l-6.71-5.871A1.5 1.5 0 0 1 9.988 3.87l8 7a1.5 1.5 0 0 1 0 2.258l-8 7a1.5 1.5 0 0 1-2.117-.141",clipRule:"evenodd"})]}),cA=aY,oY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M19.988 17.129a1.5 1.5 0 0 1-2.117-.141L12 10.278l-5.871 6.71a1.5 1.5 0 0 1-2.258-1.976l7-8a1.5 1.5 0 0 1 2.258 0l7 8a1.5 1.5 0 0 1-.141 2.117",clipRule:"evenodd"})]}),lY=oY,uY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M23 12c0 6.075-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1s11 4.925 11 11M10 6H8a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1m4 0h2a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1",clipRule:"evenodd"})]}),cY=uY,hY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",d:"M2 6a4 4 0 0 1 4-4h12a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4z"})]}),dY=hY,fY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M2 4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h13a2 2 0 0 0 2-2v-1.936l4.409 1.365A2 2 0 0 0 24 15.519V8.48a2 2 0 0 0-2.591-1.91l-4.41 1.364V6a2 2 0 0 0-2-2zm0 2h13v12H2zm15 7.97V10.03l5-1.548v7.037z",clipRule:"evenodd"})]}),n8=fY,pY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("circle",{cx:12,cy:12,r:11,fill:"currentColor"})]}),tb=pY,mY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.293 13.707a1 1 0 0 1 0-1.414L18.586 8l-4.293-4.293a1 1 0 0 1 1.414-1.414l5 5a1 1 0 0 1 0 1.414l-5 5a1 1 0 0 1-1.414 0",clipRule:"evenodd"}),v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 20a1 1 0 0 1-1-1v-7a5 5 0 0 1 5-5h12a1 1 0 1 1 0 2H8a3 3 0 0 0-3 3v7a1 1 0 0 1-1 1",clipRule:"evenodd"})]}),mAe=mY,gY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("g",{clipPath:"url(#refresh_svg__a)",children:v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.304 21c3.015 0 5.65-1.924 6.838-4.752a.986.986 0 0 1 1.297-.53c.503.216.738.803.524 1.311C19.498 20.522 16.19 23 12.304 23c-4.644 0-8.444-3.522-9.299-8.113L1.86 17.142a.99.99 0 0 1-1.33.449 1 1 0 0 1-.417-1.348L2.51 11.52c.135-.265.376-.457.66-.527a.96.96 0 0 1 .812.169L8.1 14.297c.433.33.515.958.185 1.404a.98.98 0 0 1-1.382.212L4.93 14.41c.65 3.785 3.744 6.59 7.374 6.59m4.794-12.913a.98.98 0 0 0-1.381.211 1.01 1.01 0 0 0 .184 1.405l4.117 3.135a.96.96 0 0 0 .812.169c.284-.07.525-.262.66-.527l2.398-4.723c.252-.496.065-1.1-.418-1.348a.99.99 0 0 0-1.329.449l-1.145 2.255C20.14 4.522 16.34 1 11.696 1 7.81 1 4.505 3.478 3.037 6.97a1.004 1.004 0 0 0 .525 1.312.986.986 0 0 0 1.297-.53C6.046 4.924 8.681 3 11.697 3c3.63 0 6.724 2.805 7.374 6.59z",clipRule:"evenodd"})}),v.jsx("defs",{children:v.jsx("clipPath",{id:"refresh_svg__a",children:v.jsx("path",{fill:"#fff",d:"M0 0h24v24H0z"})})})]}),s8=gY,vY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.583 7.313 3.976 3.87a.996.996 0 1 0-1.96.346l1.012 5.747a.996.996 0 0 0 1.153.809l5.743-1.014a.997.997 0 0 0-.346-1.962l-3.3.582a7.754 7.754 0 0 1 8.399-4.254 7.76 7.76 0 0 1 .78 15.064 7.745 7.745 0 0 1-8.912-3.56.995.995 0 1 0-1.724.997 9.744 9.744 0 0 0 11.201 4.474 9.74 9.74 0 0 0 5.19-3.718 9.756 9.756 0 0 0-.625-12.055A9.74 9.74 0 0 0 8.73 3.117a9.75 9.75 0 0 0-4.147 4.196",clipRule:"evenodd"})]}),a8=vY,yY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",d:"M17.919 3.15c1.33-.856 3.081.1 3.081 1.682v14.336c0 1.583-1.75 2.538-3.081 1.683L7 13.83V19a2 2 0 1 1-4 0V5a2 2 0 1 1 4 0v5.168z"})]}),xY=yY,bY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M5 4a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h1v-7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7h1a1 1 0 0 0 1-1V8.414L15.586 4H8v3h7a1 1 0 1 1 0 2H7a1 1 0 0 1-1-1V4zm2-2H5a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V8a1 1 0 0 0-.293-.707l-5-5A1 1 0 0 0 16 2zm1 12v6h8v-6z",clipRule:"evenodd"})]}),VR=bY,_Y=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 10a7 7 0 1 1 14 0 7 7 0 0 1-14 0m7-9a9 9 0 1 0 5.7 15.96 1 1 0 0 0 .24.4l4.35 4.35a1 1 0 0 0 1.42-1.42l-4.35-4.35a1 1 0 0 0-.4-.24A9 9 0 0 0 11 1",clipRule:"evenodd"})]}),hA=_Y,wY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M7 3a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM4 4a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3z",clipRule:"evenodd"}),v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M11 18a1 1 0 0 1 1-1h.01a1 1 0 1 1 0 2H12a1 1 0 0 1-1-1",clipRule:"evenodd"})]}),SY=wY,EY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18M1 12C1 5.925 5.925 1 12 1s11 4.925 11 11-4.925 11-11 11S1 18.075 1 12",clipRule:"evenodd"}),v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M7 10a1 1 0 0 1 1-1h1a1 1 0 0 1 0 2H8a1 1 0 0 1-1-1M14 10a1 1 0 0 1 1-1h1a1 1 0 1 1 0 2h-1a1 1 0 0 1-1-1M7.692 15.41a1 1 0 0 1 1.397-.218c.355.259.796.476 1.3.627A5.6 5.6 0 0 0 12 16.05c.558 0 1.107-.08 1.61-.23a4.3 4.3 0 0 0 1.3-.628 1 1 0 0 1 1.18 1.616 6.3 6.3 0 0 1-1.904.927 7.6 7.6 0 0 1-2.186.316 7.6 7.6 0 0 1-2.186-.316 6.3 6.3 0 0 1-1.903-.927 1 1 0 0 1-.22-1.397",clipRule:"evenodd"})]}),gAe=EY,TY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.133 6.173c-.026.023-.133.118-.133.541v.715h2v-.715c0-.423-.107-.518-.133-.541C17.805 6.12 17.594 6 17 6s-.805.12-.867.173M20 6.714c0-.76-.203-1.521-.832-2.06C18.575 4.145 17.786 4 17 4s-1.575.145-2.168.654c-.629.539-.832 1.3-.832 2.06V11a1 1 0 1 0 2 0V9.429h2V11a1 1 0 1 0 2 0zM14 14a1 1 0 0 1 1-1h4a1 1 0 0 1 .832 1.555L16.87 19H19a1 1 0 1 1 0 2h-4a1 1 0 0 1-.832-1.555L17.132 15H15a1 1 0 0 1-1-1M3.293 16.293a1 1 0 0 1 1.414 0L7 18.586l2.293-2.293a1 1 0 0 1 1.414 1.414l-3 3a1 1 0 0 1-1.414 0l-3-3a1 1 0 0 1 0-1.414",clipRule:"evenodd"}),v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M7 4a1 1 0 0 1 1 1v15a1 1 0 1 1-2 0V5a1 1 0 0 1 1-1",clipRule:"evenodd"})]}),AY=TY,CY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.133 6.173c-.026.023-.133.118-.133.541v.715h2v-.715c0-.423-.107-.518-.133-.541C17.805 6.12 17.594 6 17 6s-.805.12-.867.173M20 6.714c0-.76-.203-1.521-.832-2.06C18.575 4.145 17.786 4 17 4s-1.575.145-2.168.654c-.629.539-.832 1.3-.832 2.06V11a1 1 0 1 0 2 0V9.429h2V11a1 1 0 1 0 2 0zM14 14a1 1 0 0 1 1-1h4a1 1 0 0 1 .832 1.555L16.87 19H19a1 1 0 1 1 0 2h-4a1 1 0 0 1-.832-1.555L17.132 15H15a1 1 0 0 1-1-1M3.293 8.707a1 1 0 0 0 1.414 0L7 6.414l2.293 2.293a1 1 0 0 0 1.414-1.414l-3-3a1 1 0 0 0-1.414 0l-3 3a1 1 0 0 0 0 1.414",clipRule:"evenodd"}),v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M7 21a1 1 0 0 0 1-1V5a1 1 0 0 0-2 0v15a1 1 0 0 0 1 1",clipRule:"evenodd"})]}),RY=CY,IY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.509 6.027a6.138 6.138 0 1 1-.28 12.099 1 1 0 1 0-.383 1.963A8.138 8.138 0 1 0 9.653 5.488a1 1 0 1 0 1.168 1.624 6.1 6.1 0 0 1 2.688-1.085",clipRule:"evenodd"}),v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.38 8.252a1 1 0 0 0-1 1v3.8a1 1 0 0 0 .456.838l2.052 1.332a1 1 0 0 0 1.089-1.678l-1.597-1.036V9.252a1 1 0 0 0-1-1M1.793 16.293a1 1 0 0 1 1.414 0L5.5 18.586l2.293-2.293a1 1 0 0 1 1.414 1.414l-3 3a1 1 0 0 1-1.414 0l-3-3a1 1 0 0 1 0-1.414",clipRule:"evenodd"}),v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.5 4a1 1 0 0 0-1 1v15a1 1 0 1 0 2 0V5a1 1 0 0 0-1-1",clipRule:"evenodd"})]}),PY=IY,MY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.18 17.657H6.25c-.622 0-1.178.357-1.42.887l-1.253 2.73c-.197.428-.007.942.462 1.146.13.054.26.08.38.08a.93.93 0 0 0 .844-.526l1.178-2.567h2.237c1.305 0 2.34-1.025 2.34-2.25v-3.57l.475-.026c1.528-.08 2.72-1.304 2.72-2.769 0-.785-.348-1.538-.962-2.068a10.37 10.37 0 0 1-3.202-4.932L9.563 2.14c-.135-.455-.64-.744-1.146-.605a.87.87 0 0 0-.628 1.078l.486 1.652a12.1 12.1 0 0 0 3.738 5.757l.003.003c.216.189.352.464.352.767a1.03 1.03 0 0 1-1.033 1.023h-.848c-.737 0-1.308.575-1.308 1.249zM15.419 17.833a.847.847 0 0 0 0 1.227c.179.173.413.261.657.261a.94.94 0 0 0 .657-.261 3.53 3.53 0 0 0 0-5.117.956.956 0 0 0-1.315 0 .843.843 0 0 0 .002 1.227c.365.354.566.827.566 1.331 0 .508-.207.978-.565 1.33zM18.972 21.379h.002c.143.082.302.12.463.12a.94.94 0 0 0 .803-.444 8.87 8.87 0 0 0 0-9.112.947.947 0 0 0-1.269-.323.855.855 0 0 0-.333 1.188 7.18 7.18 0 0 1 0 7.383.853.853 0 0 0 .334 1.188",clipRule:"evenodd"})]}),vAe=MY,kY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("g",{fill:"currentColor",clipPath:"url(#split-cells_svg__a)",children:v.jsx("path",{d:"M3.444 2C2.554 2 2 2.635 2 3.222v1.89a1 1 0 1 1-2 0v-1.89C0 1.355 1.634 0 3.444 0h4.278a1 1 0 1 1 0 2zM15.278 1a1 1 0 0 1 1-1h4.278C22.366 0 24 1.355 24 3.222v1.89a1 1 0 0 1-2 0v-1.89C22 2.635 21.445 2 20.556 2h-4.278a1 1 0 0 1-1-1M1 17.89a1 1 0 0 1 1 1v1.888C2 21.366 2.555 22 3.444 22h4.278a1 1 0 1 1 0 2H3.444C1.634 24 0 22.645 0 20.778v-1.889a1 1 0 0 1 1-1M23 17.89a1 1 0 0 1 1 1v1.888C24 22.645 22.366 24 20.556 24h-4.278a1 1 0 0 1 0-2h4.278c.89 0 1.444-.634 1.444-1.222v-1.889a1 1 0 0 1 1-1M14 12a1 1 0 0 1 1-1h5.586l-2.293-2.293a1 1 0 0 1 1.414-1.414l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414L20.586 13H15a1 1 0 0 1-1-1M9 13a1 1 0 1 0 0-2H3.414l2.293-2.293a1 1 0 0 0-1.414-1.414l-4 4a1 1 0 0 0 0 1.414l4 4a1 1 0 0 0 1.414-1.414L3.414 13z"})}),v.jsx("defs",{children:v.jsx("clipPath",{id:"split-cells_svg__a",children:v.jsx("path",{fill:"#fff",d:"M0 0h24v24H0z"})})})]}),yAe=kY,NY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.375 2a1 1 0 0 0-.983.816L6.678 17.293 4.56 11.649A1 1 0 0 0 3.625 11H2.5a1 1 0 1 0 0 2h.432l3.132 8.351a1 1 0 0 0 1.919-.167L11.205 4h10.42a1 1 0 1 0 0-2zm9.496 12.043c-.58.58-1.132 1.309-1.62 2.015.199.521.358.977.494 1.365l.005.014c.176.506.299.857.416 1.122.057.129.103.214.14.27l.032.045.037.001H20.5a1 1 0 1 1 0 2h-1.125c-.468 0-.924-.125-1.315-.457-.35-.297-.564-.692-.722-1.048-.152-.342-.298-.763-.456-1.215l-.026-.074-.012-.035c-.327.417-.68.829-1.051 1.2-.81.81-1.903 1.629-3.168 1.629a1 1 0 1 1 0-2c.422 0 1.017-.306 1.754-1.043.583-.583 1.137-1.315 1.627-2.025a51 51 0 0 1-.484-1.326l-.012-.032c-.178-.505-.302-.857-.421-1.124a2 2 0 0 0-.143-.276l-.034-.048-.037-.001H13.75a1 1 0 1 1 0-2h1.125c.47 0 .925.125 1.317.459.35.298.564.694.724 1.052.152.343.301.764.462 1.22l.03.085.002.007c.326-.415.677-.824 1.047-1.194.81-.81 1.903-1.629 3.168-1.629a1 1 0 1 1 0 2c-.422 0-1.017.306-1.754 1.043",clipRule:"evenodd"})]}),xAe=NY,OY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.78 4.375a1 1 0 0 0-1.56 1.25L7.32 12l-5.1 6.375a1 1 0 0 0 1.56 1.25L8.6 13.6l4.82 6.024a1 1 0 1 0 1.56-1.25L9.88 12l5.1-6.375a1 1 0 0 0-1.56-1.25L8.6 10.4zm16.632 7.636a3.3 3.3 0 0 0-3.28 1.635 1 1 0 0 0 1.736.993 1.3 1.3 0 0 1 2.295 1.212l-3.916 4.475A1 1 0 0 0 18 21.984h4.561a1 1 0 1 0 0-2h-2.357l2.54-2.902a1 1 0 0 0 .115-.163 3.3 3.3 0 0 0-2.448-4.908",clipRule:"evenodd"})]}),bAe=OY,LY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18M1 12C1 5.925 5.925 1 12 1s11 4.925 11 11-4.925 11-11 11S1 18.075 1 12",clipRule:"evenodd"}),v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.59 8.192a1 1 0 0 1 .218 1.397l-4.375 6a1 1 0 0 1-1.584.042L8.224 12.4a1 1 0 0 1 1.552-1.261l1.806 2.223 3.61-4.951a1 1 0 0 1 1.397-.219",clipRule:"evenodd"})]}),o8=LY,DY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M20.412 1.01a3.3 3.3 0 0 0-3.28 1.636 1 1 0 0 0 1.736.993 1.299 1.299 0 0 1 2.295 1.212l-3.916 4.475A1 1 0 0 0 18 10.984h4.561a1 1 0 1 0 0-2h-2.357l2.54-2.902a1 1 0 0 0 .115-.163 3.298 3.298 0 0 0-2.448-4.908M3.78 4.376a1 1 0 1 0-1.562 1.25L7.32 12l-5.1 6.375a1 1 0 0 0 1.562 1.25L8.6 13.6l4.82 6.024a1 1 0 1 0 1.56-1.25L9.88 12l5.1-6.375a1 1 0 1 0-1.56-1.25L8.6 10.4z",clipRule:"evenodd"})]}),_Ae=DY,FY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.5 3A1.5 1.5 0 0 0 3 4.5V7h4V3zM7 9H3v10.5A1.5 1.5 0 0 0 4.5 21H7zm2 0h12v10.5a1.5 1.5 0 0 1-1.5 1.5H9zm12-2H9V3h10.5A1.5 1.5 0 0 1 21 4.5zM1 4.5A3.5 3.5 0 0 1 4.5 1h15A3.5 3.5 0 0 1 23 4.5v15a3.5 3.5 0 0 1-3.5 3.5h-15A3.5 3.5 0 0 1 1 19.5z",clipRule:"evenodd"})]}),wAe=FY,BY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",d:"M7.058 20.963a1.13 1.13 0 0 1-.759-.276.93.93 0 0 1-.299-.713V3.989q0-.437.276-.713A.97.97 0 0 1 6.989 3h5.566q1.426 0 2.553.598a4.7 4.7 0 0 1 1.817 1.633q.667 1.012.667 2.369 0 1.219-.667 2.162a4.4 4.4 0 0 1-1.702 1.472q1.518.39 2.461 1.518.943 1.104.943 2.852 0 1.587-.736 2.783-.712 1.196-2.001 1.886-1.265.69-2.921.69zm.92-1.863h4.991q1.08 0 1.909-.414a3.37 3.37 0 0 0 1.334-1.196q.483-.782.483-1.886 0-1.012-.483-1.748a3.1 3.1 0 0 0-1.334-1.127q-.828-.39-1.909-.391H7.978zm0-8.648h4.577q1.357 0 2.231-.736.874-.735.874-2.116 0-1.357-.874-2.047t-2.231-.69H7.978z"})]}),SAe=BY,jY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",d:"M5.74 18a.91.91 0 0 1-.838-.473 1.01 1.01 0 0 1-.043-.99L11.01 1.888q.28-.688.946-.688.71 0 .968.688L19.1 16.58a.97.97 0 0 1-.086.968q-.28.452-.84.452-.278 0-.537-.15a1.05 1.05 0 0 1-.387-.474l-5.571-13.68h.624l-5.615 13.68a.92.92 0 0 1-.387.473q-.258.15-.56.151m1.248-4.832.796-1.7h8.54l.774 1.7z"}),v.jsx("path",{fill:"#46AFE6",d:"M1.2 21.8a2 2 0 0 1 2-2h3.4V24H3.2a2 2 0 0 1-2-2z"}),v.jsx("path",{fill:"#A348C0",d:"M6.6 19.8H12V24H6.6z"}),v.jsx("path",{fill:"#FF3A55",d:"M12 19.8h5.4V24H12z"}),v.jsx("path",{fill:"#FF8D2E",d:"M17.4 19.8h3.4a2 2 0 0 1 2 2v.2a2 2 0 0 1-2 2h-3.4z"})]}),EAe=jY,UY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"#46AFE6",d:"M1.2 21.8a2 2 0 0 1 2-2h3.4V24H3.2a2 2 0 0 1-2-2z"}),v.jsx("path",{fill:"#A348C0",d:"M6.6 19.8H12V24H6.6z"}),v.jsx("path",{fill:"#FF3A55",d:"M12 19.8h5.4V24H12z"}),v.jsx("path",{fill:"#FF8D2E",d:"M17.4 19.8h3.4a2 2 0 0 1 2 2v.2a2 2 0 0 1-2 2h-3.4z"}),v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M17.245.78A3.005 3.005 0 0 0 13 .986L6.71 7.874a4 4 0 0 0-1.032 3.056l-3.03 6.114a1 1 0 0 0 .895 1.444l5.673.006a1 1 0 0 0 .522-.146l2.442-1.492a4 4 0 0 0 2.954-1.314l6.29-6.888a3.005 3.005 0 0 0-.192-4.245zm-5.398 14.047-.05-.081-.087.053a2 2 0 0 1-.884-.466L8.318 12.05a2 2 0 0 1-.548-.837l.043-.087-.08-.04A2 2 0 0 1 8.19 9.22l6.29-6.888a1 1 0 0 1 1.414-.069l3.987 3.63c.408.371.437 1.005.064 1.415l-6.29 6.887a2 2 0 0 1-1.808.632m-5.113-1.524q.111.12.233.23l2.508 2.283q.117.106.24.202l-.78.476-3.78-.004z",clipRule:"evenodd"})]}),TAe=UY,$Y=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.4 4a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2h-1.916L11.19 19H13a1 1 0 1 1 0 2H7a1 1 0 1 1 0-2h2.135L12.43 5H10.4a1 1 0 0 1-1-1",clipRule:"evenodd"})]}),AAe=$Y,zY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.286 3c-.35 0-.68.135-.92.368-.238.231-.366.54-.366.854v15.556c0 .315.128.623.367.854.239.233.569.368.919.368h11.428c.35 0 .68-.135.92-.368.238-.231.366-.54.366-.854V8h-3a2 2 0 0 1-2-2V3zM16 6h1.986L16 4.08zm5 13.778V6.556a1 1 0 0 0-.305-.72L15.98 1.281A1 1 0 0 0 15.286 1h-9a3.32 3.32 0 0 0-2.314.934A3.2 3.2 0 0 0 3 4.222v15.556c0 .864.353 1.686.972 2.288S5.423 23 6.286 23h11.428c.863 0 1.695-.333 2.314-.934.619-.602.972-1.424.972-2.288M8 6a1 1 0 0 0 0 2h3a1 1 0 1 0 0-2zm-1 6a1 1 0 0 1 1-1h8a1 1 0 1 1 0 2H8a1 1 0 0 1-1-1m5 4a1 1 0 1 0 0 2h4a1 1 0 1 0 0-2z",clipRule:"evenodd"})]}),HY=zY,GY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M2 4a1 1 0 0 0 0 2h6v13a1 1 0 1 0 2 0V6h6a1 1 0 1 0 0-2zm15 8h-3a1 1 0 1 1 0-2h8a1 1 0 1 1 0 2h-3v7a1 1 0 1 1-2 0z",clipRule:"evenodd"})]}),CAe=GY,VY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",d:"M12.199 20.963q-.414 0-.713-.276a1.01 1.01 0 0 1-.276-.713V3h1.978v16.974q0 .414-.276.713a.97.97 0 0 1-.713.276M5.92 4.817q-.414 0-.667-.253A.92.92 0 0 1 5 3.92q0-.414.253-.667T5.92 3h12.581q.414 0 .667.253t.253.667q0 .368-.253.644-.253.253-.667.253z"})]}),RAe=VY,WY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("rect",{width:14,height:2,x:5,y:20.5,fill:"currentColor",rx:1}),v.jsx("path",{fill:"currentColor",d:"M12.056 18q-2.077 0-3.684-.786-1.585-.787-2.479-2.18Q5 13.618 5 11.821V3.966q0-.427.268-.696Q5.537 3 5.96 3q.425 0 .692.27.268.27.268.696v7.855q0 1.28.648 2.27.647.988 1.808 1.55 1.185.562 2.68.562 1.473 0 2.59-.562 1.139-.563 1.786-1.55.648-.99.648-2.27V3.966q0-.427.268-.696A.98.98 0 0 1 18.04 3q.447 0 .692.27.268.27.268.696v7.855q0 1.798-.893 3.213-.893 1.393-2.456 2.18-1.563.786-3.595.786"})]}),IAe=WY,XY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",d:"m9.976 13.304-1.47 6.244a1 1 0 0 0 1.947.458l1.186-5.039zM12.716 10.388 13.984 5H19.9a1 1 0 1 0 0-2h-14a1 1 0 0 0-.46.112L7.328 5h4.601l-.876 3.725z"}),v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M1.793 2.293a1 1 0 0 1 1.414 0l18 18a1 1 0 0 1-1.414 1.414l-18-18a1 1 0 0 1 0-1.414",clipRule:"evenodd"})]}),PAe=XY,YY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.707 13.707a1 1 0 0 0 0-1.414L5.414 8l4.293-4.293a1 1 0 0 0-1.414-1.414l-5 5a1 1 0 0 0 0 1.414l5 5a1 1 0 0 0 1.414 0",clipRule:"evenodd"}),v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M20 20a1 1 0 0 0 1-1v-7a5 5 0 0 0-5-5H4a1 1 0 1 0 0 2h12a3 3 0 0 1 3 3v7a1 1 0 0 0 1 1",clipRule:"evenodd"})]}),qY=YY,KY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("g",{fill:"currentColor",fillRule:"evenodd",clipPath:"url(#unlink_svg__a)",clipRule:"evenodd",children:v.jsx("path",{d:"M4.953 13.538a4 4 0 1 0 5.755 5.557l2.084-2.158a1 1 0 0 1 1.439 1.39l-2.084 2.157a6 6 0 0 1-8.632-8.336L5.599 9.99a1 1 0 1 1 1.438 1.39zm4.838-6.45a1 1 0 0 1-.024-1.414l2.084-2.158a5.999 5.999 0 1 1 8.632 8.336l-2.084 2.158a1 1 0 0 1-1.439-1.39l2.084-2.157a4 4 0 0 0-5.755-5.558l-2.084 2.159a1 1 0 0 1-1.414.024M7.91 5.965a1 1 0 0 1-1.238-.686l-.55-1.922a1 1 0 1 1 1.922-.551l.55 1.922a1 1 0 0 1-.685 1.237M16.089 18.035a1 1 0 0 1 1.237.685l.55 1.923a1 1 0 1 1-1.922.55l-.55-1.922a1 1 0 0 1 .685-1.236M5.825 8.123a1 1 0 0 1-1.212.729l-1.94-.484a1 1 0 0 1 .483-1.94l1.94.483a1 1 0 0 1 .73 1.212M18.173 15.877a1 1 0 0 1 1.212-.729l1.94.484a1 1 0 0 1-.483 1.94l-1.94-.483a1 1 0 0 1-.73-1.212"})}),v.jsx("defs",{children:v.jsx("clipPath",{id:"unlink_svg__a",children:v.jsx("path",{fill:"#fff",d:"M0 0h24v24H0z"})})})]}),MAe=KY,QY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("g",{fill:"currentColor",fillRule:"evenodd",clipPath:"url(#users_svg__a)",clipRule:"evenodd",children:v.jsx("path",{d:"M19.055 12.803a1 1 0 0 1 1.272-.618c1.128.39 2.061 1.247 2.7 2.351.64 1.106.972 2.435.973 3.782V21a1 1 0 1 1-2 0v-2.681c0-1.03-.258-2.009-.704-2.782-.448-.773-1.034-1.258-1.623-1.462a1 1 0 0 1-.618-1.272M15.187 1.384a1 1 0 0 1 1.036-.962 5.129 5.129 0 0 1 2.11 9.71 1 1 0 1 1-.896-1.788 3.129 3.129 0 0 0-1.288-5.924 1 1 0 0 1-.962-1.036M1.505 15.694C2.481 14.622 3.825 14 5.25 14h8.5c1.424 0 2.769.622 3.744 1.694.974 1.068 1.506 2.498 1.506 3.973V22a1 1 0 1 1-2 0v-2.333c0-1.001-.363-1.945-.984-2.627-.618-.679-1.436-1.04-2.266-1.04h-8.5c-.83 0-1.648.361-2.266 1.04-.621.682-.984 1.626-.984 2.627V22a1 1 0 1 1-2 0v-2.333c0-1.475.533-2.905 1.505-3.974M9.5 3a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7M4 6.5a5.5 5.5 0 1 1 11 0 5.5 5.5 0 0 1-11 0"})}),v.jsx("defs",{children:v.jsx("clipPath",{id:"users_svg__a",children:v.jsx("path",{fill:"#fff",d:"M0 0h24v24H0z"})})})]}),ZY=QY,JY=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 4.962C4 4.376 4.435 4 4.853 4H6.5v2H4zM4 8h2.5v3H4zm-2 4V4.962C2 3.381 3.224 2 4.853 2h13.294C19.776 2 21 3.38 21 4.962v14.076C21 20.619 19.776 22 18.147 22H4.853C3.224 22 2 20.62 2 19.038zm17-6V4.962c0-.586-.435-.962-.853-.962H16.5v2zm0 2h-2.5v3H19zm-2.5 5H19v3h-2.5zm0 5H19v1.038c0 .586-.435.962-.853.962H16.5zm-2-7V4h-6v7zm-6 2h6v7h-6zm-2 5v2H4.853C4.435 20 4 19.624 4 19.038V18zm0-2v-3H4v3z",clipRule:"evenodd"})]}),eq=JY,tq=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M10 0a1 1 0 0 1 1 1 1 1 0 0 0 1 1 1 1 0 1 1 0 2 1 1 0 0 0-1 1 1 1 0 1 1-2 0 1 1 0 0 0-1-1 1 1 0 0 1 0-2 1 1 0 0 0 1-1 1 1 0 0 1 1-1m9.914 2a2 2 0 0 0-2.828 0L1 18.086a2 2 0 0 0 0 2.828L3.086 23a2 2 0 0 0 2.828 0L22 6.914a2 2 0 0 0 0-2.828zm-3.75 3.75L18.5 3.414 20.586 5.5 18.25 7.836zM14.75 7.164 2.414 19.5 4.5 21.586 16.836 9.25zM21 13a1 1 0 1 0-2 0 1 1 0 0 1-1 1 1 1 0 1 0 0 2 1 1 0 0 1 1 1 1 1 0 1 0 2 0 1 1 0 0 1 1-1 1 1 0 1 0 0-2 1 1 0 0 1-1-1",clipRule:"evenodd"})]}),rq=tq;function l8(t){var e,r,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(e=0;e<n;e++)t[e]&&(r=l8(t[e]))&&(i&&(i+=" "),i+=r)}else for(r in t)t[r]&&(i&&(i+=" "),i+=r);return i}function Pe(){for(var t,e,r=0,i="",n=arguments.length;r<n;r++)(t=arguments[r])&&(e=l8(t))&&(i&&(i+=" "),i+=e);return i}var u8={exports:{}};(function(t,e){(function(r,i){t.exports=i()})(Zt,function(){var r=1e3,i=6e4,n=36e5,s="millisecond",a="second",o="minute",l="hour",u="day",c="week",d="month",h="quarter",p="year",g="date",y="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(F){var O=["th","st","nd","rd"],$=F%100;return"["+F+(O[($-20)%10]||O[$]||O[0])+"]"}},_=function(F,O,$){var z=String(F);return!z||z.length>=O?F:""+Array(O+1-z.length).join($)+F},E={s:_,z:function(F){var O=-F.utcOffset(),$=Math.abs(O),z=Math.floor($/60),D=$%60;return(O<=0?"+":"-")+_(z,2,"0")+":"+_(D,2,"0")},m:function F(O,$){if(O.date()<$.date())return-F($,O);var z=12*($.year()-O.year())+($.month()-O.month()),D=O.clone().add(z,d),G=$-D<0,H=O.clone().add(z+(G?-1:1),d);return+(-(z+($-D)/(G?D-H:H-D))||0)},a:function(F){return F<0?Math.ceil(F)||0:Math.floor(F)},p:function(F){return{M:d,y:p,w:c,d:u,D:g,h:l,m:o,s:a,ms:s,Q:h}[F]||String(F||"").toLowerCase().replace(/s$/,"")},u:function(F){return F===void 0}},A="en",I={};I[A]=w;var P="$isDayjsObject",M=function(F){return F instanceof B||!(!F||!F[P])},k=function F(O,$,z){var D;if(!O)return A;if(typeof O=="string"){var G=O.toLowerCase();I[G]&&(D=G),$&&(I[G]=$,D=G);var H=O.split("-");if(!D&&H.length>1)return F(H[0])}else{var W=O.name;I[W]=O,D=W}return!z&&D&&(A=D),D||!z&&A},U=function(F,O){if(M(F))return F.clone();var $=typeof O=="object"?O:{};return $.date=F,$.args=arguments,new B($)},j=E;j.l=k,j.i=M,j.w=function(F,O){return U(F,{locale:O.$L,utc:O.$u,x:O.$x,$offset:O.$offset})};var B=function(){function F($){this.$L=k($.locale,null,!0),this.parse($),this.$x=this.$x||$.x||{},this[P]=!0}var O=F.prototype;return O.parse=function($){this.$d=function(z){var D=z.date,G=z.utc;if(D===null)return new Date(NaN);if(j.u(D))return new Date;if(D instanceof Date)return new Date(D);if(typeof D=="string"&&!/Z$/i.test(D)){var H=D.match(b);if(H){var W=H[2]-1||0,K=(H[7]||"0").substring(0,3);return G?new Date(Date.UTC(H[1],W,H[3]||1,H[4]||0,H[5]||0,H[6]||0,K)):new Date(H[1],W,H[3]||1,H[4]||0,H[5]||0,H[6]||0,K)}}return new Date(D)}($),this.init()},O.init=function(){var $=this.$d;this.$y=$.getFullYear(),this.$M=$.getMonth(),this.$D=$.getDate(),this.$W=$.getDay(),this.$H=$.getHours(),this.$m=$.getMinutes(),this.$s=$.getSeconds(),this.$ms=$.getMilliseconds()},O.$utils=function(){return j},O.isValid=function(){return this.$d.toString()!==y},O.isSame=function($,z){var D=U($);return this.startOf(z)<=D&&D<=this.endOf(z)},O.isAfter=function($,z){return U($)<this.startOf(z)},O.isBefore=function($,z){return this.endOf(z)<U($)},O.$g=function($,z,D){return j.u($)?this[z]:this.set(D,$)},O.unix=function(){return Math.floor(this.valueOf()/1e3)},O.valueOf=function(){return this.$d.getTime()},O.startOf=function($,z){var D=this,G=!!j.u(z)||z,H=j.p($),W=function(Ze,Fe){var Se=j.w(D.$u?Date.UTC(D.$y,Fe,Ze):new Date(D.$y,Fe,Ze),D);return G?Se:Se.endOf(u)},K=function(Ze,Fe){return j.w(D.toDate()[Ze].apply(D.toDate("s"),(G?[0,0,0,0]:[23,59,59,999]).slice(Fe)),D)},Q=this.$W,ie=this.$M,le=this.$D,fe="set"+(this.$u?"UTC":"");switch(H){case p:return G?W(1,0):W(31,11);case d:return G?W(1,ie):W(0,ie+1);case c:var we=this.$locale().weekStart||0,$e=(Q<we?Q+7:Q)-we;return W(G?le-$e:le+(6-$e),ie);case u:case g:return K(fe+"Hours",0);case l:return K(fe+"Minutes",1);case o:return K(fe+"Seconds",2);case a:return K(fe+"Milliseconds",3);default:return this.clone()}},O.endOf=function($){return this.startOf($,!1)},O.$set=function($,z){var D,G=j.p($),H="set"+(this.$u?"UTC":""),W=(D={},D[u]=H+"Date",D[g]=H+"Date",D[d]=H+"Month",D[p]=H+"FullYear",D[l]=H+"Hours",D[o]=H+"Minutes",D[a]=H+"Seconds",D[s]=H+"Milliseconds",D)[G],K=G===u?this.$D+(z-this.$W):z;if(G===d||G===p){var Q=this.clone().set(g,1);Q.$d[W](K),Q.init(),this.$d=Q.set(g,Math.min(this.$D,Q.daysInMonth())).$d}else W&&this.$d[W](K);return this.init(),this},O.set=function($,z){return this.clone().$set($,z)},O.get=function($){return this[j.p($)]()},O.add=function($,z){var D,G=this;$=Number($);var H=j.p(z),W=function(ie){var le=U(G);return j.w(le.date(le.date()+Math.round(ie*$)),G)};if(H===d)return this.set(d,this.$M+$);if(H===p)return this.set(p,this.$y+$);if(H===u)return W(1);if(H===c)return W(7);var K=(D={},D[o]=i,D[l]=n,D[a]=r,D)[H]||1,Q=this.$d.getTime()+$*K;return j.w(Q,this)},O.subtract=function($,z){return this.add(-1*$,z)},O.format=function($){var z=this,D=this.$locale();if(!this.isValid())return D.invalidDate||y;var G=$||"YYYY-MM-DDTHH:mm:ssZ",H=j.z(this),W=this.$H,K=this.$m,Q=this.$M,ie=D.weekdays,le=D.months,fe=D.meridiem,we=function(Fe,Se,We,ze){return Fe&&(Fe[Se]||Fe(z,G))||We[Se].slice(0,ze)},$e=function(Fe){return j.s(W%12||12,Fe,"0")},Ze=fe||function(Fe,Se,We){var ze=Fe<12?"AM":"PM";return We?ze.toLowerCase():ze};return G.replace(x,function(Fe,Se){return Se||function(We){switch(We){case"YY":return String(z.$y).slice(-2);case"YYYY":return j.s(z.$y,4,"0");case"M":return Q+1;case"MM":return j.s(Q+1,2,"0");case"MMM":return we(D.monthsShort,Q,le,3);case"MMMM":return we(le,Q);case"D":return z.$D;case"DD":return j.s(z.$D,2,"0");case"d":return String(z.$W);case"dd":return we(D.weekdaysMin,z.$W,ie,2);case"ddd":return we(D.weekdaysShort,z.$W,ie,3);case"dddd":return ie[z.$W];case"H":return String(W);case"HH":return j.s(W,2,"0");case"h":return $e(1);case"hh":return $e(2);case"a":return Ze(W,K,!0);case"A":return Ze(W,K,!1);case"m":return String(K);case"mm":return j.s(K,2,"0");case"s":return String(z.$s);case"ss":return j.s(z.$s,2,"0");case"SSS":return j.s(z.$ms,3,"0");case"Z":return H}return null}(Fe)||H.replace(":","")})},O.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},O.diff=function($,z,D){var G,H=this,W=j.p(z),K=U($),Q=(K.utcOffset()-this.utcOffset())*i,ie=this-K,le=function(){return j.m(H,K)};switch(W){case p:G=le()/12;break;case d:G=le();break;case h:G=le()/3;break;case c:G=(ie-Q)/6048e5;break;case u:G=(ie-Q)/864e5;break;case l:G=ie/n;break;case o:G=ie/i;break;case a:G=ie/r;break;default:G=ie}return D?G:j.a(G)},O.daysInMonth=function(){return this.endOf(d).$D},O.$locale=function(){return I[this.$L]},O.locale=function($,z){if(!$)return this.$L;var D=this.clone(),G=k($,z,!0);return G&&(D.$L=G),D},O.clone=function(){return j.w(this.$d,this)},O.toDate=function(){return new Date(this.valueOf())},O.toJSON=function(){return this.isValid()?this.toISOString():null},O.toISOString=function(){return this.$d.toISOString()},O.toString=function(){return this.$d.toUTCString()},F}(),L=B.prototype;return U.prototype=L,[["$ms",s],["$s",a],["$m",o],["$H",l],["$W",u],["$M",d],["$y",p],["$D",g]].forEach(function(F){L[F[1]]=function(O){return this.$g(O,F[0],F[1])}}),U.extend=function(F,O){return F.$i||(F(O,B,U),F.$i=!0),U},U.locale=k,U.isDayjs=M,U.unix=function(F){return U(1e3*F)},U.en=I[A],U.Ls=I,U.p={},U})})(u8);var Ep=u8.exports;const Zs=qn(Ep);var c8={exports:{}};(function(t,e){(function(r,i){t.exports=i()})(Zt,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,s=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,o={},l=function(y){return(y=+y)+(y>68?1900:2e3)},u=function(y){return function(b){this[y]=+b}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(y){(this.zone||(this.zone={})).offset=function(b){if(!b||b==="Z")return 0;var x=b.match(/([+-]|\d\d)/g),w=60*x[1]+(+x[2]||0);return w===0?0:x[0]==="+"?-w:w}(y)}],d=function(y){var b=o[y];return b&&(b.indexOf?b:b.s.concat(b.f))},h=function(y,b){var x,w=o.meridiem;if(w){for(var _=1;_<=24;_+=1)if(y.indexOf(w(_,0,b))>-1){x=_>12;break}}else x=y===(b?"pm":"PM");return x},p={A:[a,function(y){this.afternoon=h(y,!1)}],a:[a,function(y){this.afternoon=h(y,!0)}],S:[/\d/,function(y){this.milliseconds=100*+y}],SS:[n,function(y){this.milliseconds=10*+y}],SSS:[/\d{3}/,function(y){this.milliseconds=+y}],s:[s,u("seconds")],ss:[s,u("seconds")],m:[s,u("minutes")],mm:[s,u("minutes")],H:[s,u("hours")],h:[s,u("hours")],HH:[s,u("hours")],hh:[s,u("hours")],D:[s,u("day")],DD:[n,u("day")],Do:[a,function(y){var b=o.ordinal,x=y.match(/\d+/);if(this.day=x[0],b)for(var w=1;w<=31;w+=1)b(w).replace(/\[|\]/g,"")===y&&(this.day=w)}],M:[s,u("month")],MM:[n,u("month")],MMM:[a,function(y){var b=d("months"),x=(d("monthsShort")||b.map(function(w){return w.slice(0,3)})).indexOf(y)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[a,function(y){var b=d("months").indexOf(y)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,u("year")],YY:[n,function(y){this.year=l(y)}],YYYY:[/\d{4}/,u("year")],Z:c,ZZ:c};function g(y){var b,x;b=y,x=o&&o.formats;for(var w=(y=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(k,U,j){var B=j&&j.toUpperCase();return U||x[j]||r[j]||x[B].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(L,F,O){return F||O.slice(1)})})).match(i),_=w.length,E=0;E<_;E+=1){var A=w[E],I=p[A],P=I&&I[0],M=I&&I[1];w[E]=M?{regex:P,parser:M}:A.replace(/^\[|\]$/g,"")}return function(k){for(var U={},j=0,B=0;j<_;j+=1){var L=w[j];if(typeof L=="string")B+=L.length;else{var F=L.regex,O=L.parser,$=k.slice(B),z=F.exec($)[0];O.call(U,z),k=k.replace(z,"")}}return function(D){var G=D.afternoon;if(G!==void 0){var H=D.hours;G?H<12&&(D.hours+=12):H===12&&(D.hours=0),delete D.afternoon}}(U),U}}return function(y,b,x){x.p.customParseFormat=!0,y&&y.parseTwoDigitYear&&(l=y.parseTwoDigitYear);var w=b.prototype,_=w.parse;w.parse=function(E){var A=E.date,I=E.utc,P=E.args;this.$u=I;var M=P[1];if(typeof M=="string"){var k=P[2]===!0,U=P[3]===!0,j=k||U,B=P[2];U&&(B=P[2]),o=this.$locale(),!k&&B&&(o=x.Ls[B]),this.$d=function($,z,D){try{if(["x","X"].indexOf(z)>-1)return new Date((z==="X"?1e3:1)*$);var G=g(z)($),H=G.year,W=G.month,K=G.day,Q=G.hours,ie=G.minutes,le=G.seconds,fe=G.milliseconds,we=G.zone,$e=new Date,Ze=K||(H||W?1:$e.getDate()),Fe=H||$e.getFullYear(),Se=0;H&&!W||(Se=W>0?W-1:$e.getMonth());var We=Q||0,ze=ie||0,Dt=le||0,Rt=fe||0;return we?new Date(Date.UTC(Fe,Se,Ze,We,ze,Dt,Rt+60*we.offset*1e3)):D?new Date(Date.UTC(Fe,Se,Ze,We,ze,Dt,Rt)):new Date(Fe,Se,Ze,We,ze,Dt,Rt)}catch{return new Date("")}}(A,M,I),this.init(),B&&B!==!0&&(this.$L=this.locale(B).$L),j&&A!=this.format(M)&&(this.$d=new Date("")),o={}}else if(M instanceof Array)for(var L=M.length,F=1;F<=L;F+=1){P[1]=M[F-1];var O=x.apply(this,P);if(O.isValid()){this.$d=O.$d,this.$L=O.$L,this.init();break}F===L&&(this.$d=new Date(""))}else _.call(this,E)}}})})(c8);var iq=c8.exports;const nq=qn(iq);var h8={exports:{}};(function(t,e){(function(r,i){t.exports=i()})(Zt,function(){return function(r,i,n){r=r||{};var s=i.prototype,a={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function o(u,c,d,h){return s.fromToBase(u,c,d,h)}n.en.relativeTime=a,s.fromToBase=function(u,c,d,h,p){for(var g,y,b,x=d.$locale().relativeTime||a,w=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],_=w.length,E=0;E<_;E+=1){var A=w[E];A.d&&(g=h?n(u).diff(d,A.d,!0):d.diff(u,A.d,!0));var I=(r.rounding||Math.round)(Math.abs(g));if(b=g>0,I<=A.r||!A.r){I<=1&&E>0&&(A=w[E-1]);var P=x[A.l];p&&(I=p(""+I)),y=typeof P=="string"?P.replace("%d",I):P(I,c,A.l,b);break}}if(c)return y;var M=b?x.future:x.past;return typeof M=="function"?M(y):M.replace("%s",y)},s.to=function(u,c){return o(u,c,this,!0)},s.from=function(u,c){return o(u,c,this)};var l=function(u){return u.$u?n.utc():n()};s.toNow=function(u){return this.to(l(this),u)},s.fromNow=function(u){return this.from(l(this),u)}}})})(h8);var sq=h8.exports;const aq=qn(sq);var oq={exports:{}};(function(t,e){(function(r,i){t.exports=i(Ep)})(Zt,function(r){function i(l){return l&&typeof l=="object"&&"default"in l?l:{default:l}}var n=i(r),s={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function a(l,u,c){var d=s[c];return Array.isArray(d)&&(d=d[u?0:1]),d.replace("%d",l)}var o={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(l){return l+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a}};return n.default.locale(o,null,!0),o})})(oq);var lq={exports:{}};(function(t,e){(function(r,i){t.exports=i(Ep)})(Zt,function(r){function i(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var n=i(r),s={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(a){return a+"º"}};return n.default.locale(s,null,!0),s})})(lq);var uq={exports:{}};(function(t,e){(function(r,i){t.exports=i(Ep)})(Zt,function(r){function i(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var n=i(r),s={name:"pt",weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sab".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sa".split("_"),months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(a){return a+"º"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},relativeTime:{future:"em %s",past:"há %s",s:"alguns segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"}};return n.default.locale(s,null,!0),s})})(uq);var cq={exports:{}};(function(t,e){(function(r,i){t.exports=i(Ep)})(Zt,function(r){function i(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var n=i(r),s={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(a){return""+a+(a===1?"er":"")}};return n.default.locale(s,null,!0),s})})(cq);var hq={exports:{}};(function(t,e){(function(r,i){t.exports=i(Ep)})(Zt,function(r){function i(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var n=i(r),s={name:"it",weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(a){return a+"º"}};return n.default.locale(s,null,!0),s})})(hq);var dA={exports:{}};(function(t,e){(function(r,i){var n="1.0.36",s="",a="?",o="function",l="undefined",u="object",c="string",d="major",h="model",p="name",g="type",y="vendor",b="version",x="architecture",w="console",_="mobile",E="tablet",A="smarttv",I="wearable",P="embedded",M=350,k="Amazon",U="Apple",j="ASUS",B="BlackBerry",L="Browser",F="Chrome",O="Edge",$="Firefox",z="Google",D="Huawei",G="LG",H="Microsoft",W="Motorola",K="Opera",Q="Samsung",ie="Sharp",le="Sony",fe="Xiaomi",we="Zebra",$e="Facebook",Ze="Chromium OS",Fe="Mac OS",Se=function(pe,je){var Me={};for(var mt in pe)je[mt]&&je[mt].length%2===0?Me[mt]=je[mt].concat(pe[mt]):Me[mt]=pe[mt];return Me},We=function(pe){for(var je={},Me=0;Me<pe.length;Me++)je[pe[Me].toUpperCase()]=pe[Me];return je},ze=function(pe,je){return typeof pe===c?Dt(je).indexOf(Dt(pe))!==-1:!1},Dt=function(pe){return pe.toLowerCase()},Rt=function(pe){return typeof pe===c?pe.replace(/[^\d\.]/g,s).split(".")[0]:i},Ar=function(pe,je){if(typeof pe===c)return pe=pe.replace(/^\s\s*/,s),typeof je===l?pe:pe.substring(0,M)},lt=function(pe,je){for(var Me=0,mt,er,gi,St,st,Ii;Me<je.length&&!st;){var Bs=je[Me],js=je[Me+1];for(mt=er=0;mt<Bs.length&&!st&&Bs[mt];)if(st=Bs[mt++].exec(pe),st)for(gi=0;gi<js.length;gi++)Ii=st[++er],St=js[gi],typeof St===u&&St.length>0?St.length===2?typeof St[1]==o?this[St[0]]=St[1].call(this,Ii):this[St[0]]=St[1]:St.length===3?typeof St[1]===o&&!(St[1].exec&&St[1].test)?this[St[0]]=Ii?St[1].call(this,Ii,St[2]):i:this[St[0]]=Ii?Ii.replace(St[1],St[2]):i:St.length===4&&(this[St[0]]=Ii?St[3].call(this,Ii.replace(St[1],St[2])):i):this[St]=Ii||i;Me+=2}},it=function(pe,je){for(var Me in je)if(typeof je[Me]===u&&je[Me].length>0){for(var mt=0;mt<je[Me].length;mt++)if(ze(je[Me][mt],pe))return Me===a?i:Me}else if(ze(je[Me],pe))return Me===a?i:Me;return pe},X={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ee={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ne={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[b,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[b,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,b],[/opios[\/ ]+([\w\.]+)/i],[b,[p,K+" Mini"]],[/\bopr\/([\w\.]+)/i],[b,[p,K]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,b],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[b,[p,"UC"+L]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[b,[p,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[b,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[b,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[b,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[b,[p,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+L],b],[/\bfocus\/([\w\.]+)/i],[b,[p,$+" Focus"]],[/\bopt\/([\w\.]+)/i],[b,[p,K+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[b,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[b,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[b,[p,K+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[b,[p,"MIUI "+L]],[/fxios\/([-\w\.]+)/i],[b,[p,$]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+L]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+L],b],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],b],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[p,b],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,$e],b],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,b],[/\bgsa\/([\w\.]+) .*safari\//i],[b,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[b,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[b,[p,F+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,F+" WebView"],b],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[b,[p,"Android "+L]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,b],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[b,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[b,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[b,it,X]],[/(webkit|khtml)\/([\w\.]+)/i],[p,b],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],b],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[b,[p,$+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,b],[/(cobalt)\/([\w\.]+)/i],[p,[b,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[x,"amd64"]],[/(ia32(?=;))/i],[[x,Dt]],[/((?:i[346]|x)86)[;\)]/i],[[x,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[x,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[x,"armhf"]],[/windows (ce|mobile); ppc;/i],[[x,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[x,/ower/,s,Dt]],[/(sun4\w)[;\)]/i],[[x,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[x,Dt]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[y,Q],[g,E]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[y,Q],[g,_]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[y,U],[g,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[y,U],[g,E]],[/(macintosh);/i],[h,[y,U]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[y,ie],[g,_]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[y,D],[g,E]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[y,D],[g,_]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[y,fe],[g,_]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[y,fe],[g,E]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[y,"OPPO"],[g,_]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[y,"Vivo"],[g,_]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[h,[y,"Realme"],[g,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[y,W],[g,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[y,W],[g,E]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[y,G],[g,E]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[y,G],[g,_]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[y,"Lenovo"],[g,E]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[y,"Nokia"],[g,_]],[/(pixel c)\b/i],[h,[y,z],[g,E]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[y,z],[g,_]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[y,le],[g,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[y,le],[g,E]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[y,"OnePlus"],[g,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[y,k],[g,E]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[y,k],[g,_]],[/(playbook);[-\w\),; ]+(rim)/i],[h,y,[g,E]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[y,B],[g,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[y,j],[g,E]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[y,j],[g,_]],[/(nexus 9)/i],[h,[y,"HTC"],[g,E]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[y,[h,/_/g," "],[g,_]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[y,"Acer"],[g,E]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[y,"Meizu"],[g,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[y,h,[g,_]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[y,h,[g,E]],[/(surface duo)/i],[h,[y,H],[g,E]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[y,"Fairphone"],[g,_]],[/(u304aa)/i],[h,[y,"AT&T"],[g,_]],[/\bsie-(\w*)/i],[h,[y,"Siemens"],[g,_]],[/\b(rct\w+) b/i],[h,[y,"RCA"],[g,E]],[/\b(venue[\d ]{2,7}) b/i],[h,[y,"Dell"],[g,E]],[/\b(q(?:mv|ta)\w+) b/i],[h,[y,"Verizon"],[g,E]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[y,"Barnes & Noble"],[g,E]],[/\b(tm\d{3}\w+) b/i],[h,[y,"NuVision"],[g,E]],[/\b(k88) b/i],[h,[y,"ZTE"],[g,E]],[/\b(nx\d{3}j) b/i],[h,[y,"ZTE"],[g,_]],[/\b(gen\d{3}) b.+49h/i],[h,[y,"Swiss"],[g,_]],[/\b(zur\d{3}) b/i],[h,[y,"Swiss"],[g,E]],[/\b((zeki)?tb.*\b) b/i],[h,[y,"Zeki"],[g,E]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[y,"Dragon Touch"],h,[g,E]],[/\b(ns-?\w{0,9}) b/i],[h,[y,"Insignia"],[g,E]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[y,"NextBook"],[g,E]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[y,"Voice"],h,[g,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[y,"LvTel"],h,[g,_]],[/\b(ph-1) /i],[h,[y,"Essential"],[g,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[y,"Envizen"],[g,E]],[/\b(trio[-\w\. ]+) b/i],[h,[y,"MachSpeed"],[g,E]],[/\btu_(1491) b/i],[h,[y,"Rotor"],[g,E]],[/(shield[\w ]+) b/i],[h,[y,"Nvidia"],[g,E]],[/(sprint) (\w+)/i],[y,h,[g,_]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[y,H],[g,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[y,we],[g,E]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[y,we],[g,_]],[/smart-tv.+(samsung)/i],[y,[g,A]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[y,Q],[g,A]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[y,G],[g,A]],[/(apple) ?tv/i],[y,[h,U+" TV"],[g,A]],[/crkey/i],[[h,F+"cast"],[y,z],[g,A]],[/droid.+aft(\w+)( bui|\))/i],[h,[y,k],[g,A]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[y,ie],[g,A]],[/(bravia[\w ]+)( bui|\))/i],[h,[y,le],[g,A]],[/(mitv-\w{5}) bui/i],[h,[y,fe],[g,A]],[/Hbbtv.*(technisat) (.*);/i],[y,h,[g,A]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[y,Ar],[h,Ar],[g,A]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,A]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[y,h,[g,w]],[/droid.+; (shield) bui/i],[h,[y,"Nvidia"],[g,w]],[/(playstation [345portablevi]+)/i],[h,[y,le],[g,w]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[y,H],[g,w]],[/((pebble))app/i],[y,h,[g,I]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[y,U],[g,I]],[/droid.+; (glass) \d/i],[h,[y,z],[g,I]],[/droid.+; (wt63?0{2,3})\)/i],[h,[y,we],[g,I]],[/(quest( 2| pro)?)/i],[h,[y,$e],[g,I]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[y,[g,P]],[/(aeobc)\b/i],[h,[y,k],[g,P]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[h,[g,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[g,E]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,E]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,_]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[y,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[b,[p,O+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[b,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,b],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[b,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,b],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[p,[b,it,ee]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,"Windows"],[b,it,ee]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[b,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,Fe],[b,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[b,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,b],[/\(bb(10);/i],[b,[p,B]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[b,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[b,[p,$+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[b,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[b,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[b,[p,F+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,Ze],b],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,b],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],b],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,b]]},_e=function(pe,je){if(typeof pe===u&&(je=pe,pe=i),!(this instanceof _e))return new _e(pe,je).getResult();var Me=typeof r!==l&&r.navigator?r.navigator:i,mt=pe||(Me&&Me.userAgent?Me.userAgent:s),er=Me&&Me.userAgentData?Me.userAgentData:i,gi=je?Se(ne,je):ne,St=Me&&Me.userAgent==mt;return this.getBrowser=function(){var st={};return st[p]=i,st[b]=i,lt.call(st,mt,gi.browser),st[d]=Rt(st[b]),St&&Me&&Me.brave&&typeof Me.brave.isBrave==o&&(st[p]="Brave"),st},this.getCPU=function(){var st={};return st[x]=i,lt.call(st,mt,gi.cpu),st},this.getDevice=function(){var st={};return st[y]=i,st[h]=i,st[g]=i,lt.call(st,mt,gi.device),St&&!st[g]&&er&&er.mobile&&(st[g]=_),St&&st[h]=="Macintosh"&&Me&&typeof Me.standalone!==l&&Me.maxTouchPoints&&Me.maxTouchPoints>2&&(st[h]="iPad",st[g]=E),st},this.getEngine=function(){var st={};return st[p]=i,st[b]=i,lt.call(st,mt,gi.engine),st},this.getOS=function(){var st={};return st[p]=i,st[b]=i,lt.call(st,mt,gi.os),St&&!st[p]&&er&&er.platform!="Unknown"&&(st[p]=er.platform.replace(/chrome os/i,Ze).replace(/macos/i,Fe)),st},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return mt},this.setUA=function(st){return mt=typeof st===c&&st.length>M?Ar(st,M):st,this},this.setUA(mt),this};_e.VERSION=n,_e.BROWSER=We([p,b,d]),_e.CPU=We([x]),_e.DEVICE=We([h,y,g,w,_,A,E,I,P]),_e.ENGINE=_e.OS=We([p,b]),t.exports&&(e=t.exports=_e),e.UAParser=_e;var ve=typeof r!==l&&(r.jQuery||r.Zepto);if(ve&&!ve.ua){var ce=new _e;ve.ua=ce.getResult(),ve.ua.get=function(){return ce.getUA()},ve.ua.set=function(pe){ce.setUA(pe);var je=ce.getResult();for(var Me in je)ve.ua[Me]=je[Me]}}})(typeof window=="object"?window:Zt)})(dA,dA.exports);var dq=dA.exports;const fq=qn(dq);let pq={data:""},mq=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||pq,gq=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,vq=/\/\*[^]*?\*\/|  +/g,xk=/\n+/g,iu=(t,e)=>{let r="",i="",n="";for(let s in t){let a=t[s];s[0]=="@"?s[1]=="i"?r=s+" "+a+";":i+=s[1]=="f"?iu(a,s):s+"{"+iu(a,s[1]=="k"?"":e)+"}":typeof a=="object"?i+=iu(a,e?e.replace(/([^,])+/g,o=>s.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=iu.p?iu.p(s,a):s+":"+a+";")}return r+(e&&n?e+"{"+n+"}":n)+i},ko={},d8=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+d8(t[r]);return e}return t},yq=(t,e,r,i,n)=>{let s=d8(t),a=ko[s]||(ko[s]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(s));if(!ko[a]){let l=s!==t?t:(u=>{let c,d,h=[{}];for(;c=gq.exec(u.replace(vq,""));)c[4]?h.shift():c[3]?(d=c[3].replace(xk," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][c[1]]=c[2].replace(xk," ").trim();return h[0]})(t);ko[a]=iu(n?{["@keyframes "+a]:l}:l,r?"":"."+a)}let o=r&&ko.g?ko.g:null;return r&&(ko.g=ko[a]),((l,u,c,d)=>{d?u.data=u.data.replace(d,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(ko[a],e,i,o),a},xq=(t,e,r)=>t.reduce((i,n,s)=>{let a=e[s];if(a&&a.call){let o=a(r),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":iu(o,""):o===!1?"":o}return i+n+(a??"")},"");function U_(t){let e=this||{},r=t.call?t(e.p):t;return yq(r.unshift?r.raw?xq(r,[].slice.call(arguments,1),e.p):r.reduce((i,n)=>Object.assign(i,n&&n.call?n(e.p):n),{}):r,mq(e.target),e.g,e.o,e.k)}let f8,fA,pA;U_.bind({g:1});let cl=U_.bind({k:1});function bq(t,e,r,i){iu.p=e,f8=t,fA=r,pA=i}function tc(t,e){let r=this||{};return function(){let i=arguments;function n(s,a){let o=Object.assign({},s),l=o.className||n.className;r.p=Object.assign({theme:fA&&fA()},o),r.o=/ *go\d+/.test(l),o.className=U_.apply(r,i)+(l?" "+l:""),e&&(o.ref=a);let u=t;return t[0]&&(u=o.as||t,delete o.as),pA&&u[0]&&pA(o),f8(u,o)}return e?e(n):n}}var _q=t=>typeof t=="function",rb=(t,e)=>_q(t)?t(e):t,wq=(()=>{let t=0;return()=>(++t).toString()})(),p8=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Sq=20,lx=new Map,Eq=1e3,bk=t=>{if(lx.has(t))return;let e=setTimeout(()=>{lx.delete(t),Vh({type:4,toastId:t})},Eq);lx.set(t,e)},Tq=t=>{let e=lx.get(t);e&&clearTimeout(e)},mA=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Sq)};case 1:return e.toast.id&&Tq(e.toast.id),{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:r}=e;return t.toasts.find(s=>s.id===r.id)?mA(t,{type:1,toast:r}):mA(t,{type:0,toast:r});case 3:let{toastId:i}=e;return i?bk(i):t.toasts.forEach(s=>{bk(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===i||i===void 0?{...s,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let n=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+n}))}}},ux=[],cx={toasts:[],pausedAt:void 0},Vh=t=>{cx=mA(cx,t),ux.forEach(e=>{e(cx)})},Aq={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Cq=(t={})=>{let[e,r]=R.useState(cx);R.useEffect(()=>(ux.push(r),()=>{let n=ux.indexOf(r);n>-1&&ux.splice(n,1)}),[e]);let i=e.toasts.map(n=>{var s,a;return{...t,...t[n.type],...n,duration:n.duration||((s=t[n.type])==null?void 0:s.duration)||(t==null?void 0:t.duration)||Aq[n.type],style:{...t.style,...(a=t[n.type])==null?void 0:a.style,...n.style}}});return{...e,toasts:i}},Rq=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||wq()}),s1=t=>(e,r)=>{let i=Rq(e,t,r);return Vh({type:2,toast:i}),i.id},Un=(t,e)=>s1("blank")(t,e);Un.error=s1("error");Un.success=s1("success");Un.loading=s1("loading");Un.custom=s1("custom");Un.dismiss=t=>{Vh({type:3,toastId:t})};Un.remove=t=>Vh({type:4,toastId:t});Un.promise=(t,e,r)=>{let i=Un.loading(e.loading,{...r,...r==null?void 0:r.loading});return t.then(n=>(Un.success(rb(e.success,n),{id:i,...r,...r==null?void 0:r.success}),n)).catch(n=>{Un.error(rb(e.error,n),{id:i,...r,...r==null?void 0:r.error})}),t};var Iq=(t,e)=>{Vh({type:1,toast:{id:t,height:e}})},Pq=()=>{Vh({type:5,time:Date.now()})},Mq=t=>{let{toasts:e,pausedAt:r}=Cq(t);R.useEffect(()=>{if(r)return;let s=Date.now(),a=e.map(o=>{if(o.duration===1/0)return;let l=(o.duration||0)+o.pauseDuration-(s-o.createdAt);if(l<0){o.visible&&Un.dismiss(o.id);return}return setTimeout(()=>Un.dismiss(o.id),l)});return()=>{a.forEach(o=>o&&clearTimeout(o))}},[e,r]);let i=R.useCallback(()=>{r&&Vh({type:6,time:Date.now()})},[r]),n=R.useCallback((s,a)=>{let{reverseOrder:o=!1,gutter:l=8,defaultPosition:u}=a||{},c=e.filter(p=>(p.position||u)===(s.position||u)&&p.height),d=c.findIndex(p=>p.id===s.id),h=c.filter((p,g)=>g<d&&p.visible).length;return c.filter(p=>p.visible).slice(...o?[h+1]:[0,h]).reduce((p,g)=>p+(g.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:Iq,startPause:Pq,endPause:i,calculateOffset:n}}},kq=cl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Nq=cl`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Oq=cl`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Lq=tc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Nq} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Oq} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Dq=cl`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Fq=tc("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Dq} 1s linear infinite;
`,Bq=cl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,jq=cl`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Uq=tc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Bq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${jq} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,$q=tc("div")`
  position: absolute;
`,zq=tc("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Hq=cl`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Gq=tc("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Hq} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Vq=({toast:t})=>{let{icon:e,type:r,iconTheme:i}=t;return e!==void 0?typeof e=="string"?R.createElement(Gq,null,e):e:r==="blank"?null:R.createElement(zq,null,R.createElement(Fq,{...i}),r!=="loading"&&R.createElement($q,null,r==="error"?R.createElement(Lq,{...i}):R.createElement(Uq,{...i})))},Wq=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Xq=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Yq="0%{opacity:0;} 100%{opacity:1;}",qq="0%{opacity:1;} 100%{opacity:0;}",Kq=tc("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Qq=tc("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Zq=(t,e)=>{let r=t.includes("top")?1:-1,[i,n]=p8()?[Yq,qq]:[Wq(r),Xq(r)];return{animation:e?`${cl(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${cl(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Jq=R.memo(({toast:t,position:e,style:r,children:i})=>{let n=t.height?Zq(t.position||e||"top-center",t.visible):{opacity:0},s=R.createElement(Vq,{toast:t}),a=R.createElement(Qq,{...t.ariaProps},rb(t.message,t));return R.createElement(Kq,{className:t.className,style:{...n,...r,...t.style}},typeof i=="function"?i({icon:s,message:a}):R.createElement(R.Fragment,null,s,a))});bq(R.createElement);var eK=({id:t,className:e,style:r,onHeightUpdate:i,children:n})=>{let s=R.useCallback(a=>{if(a){let o=()=>{let l=a.getBoundingClientRect().height;i(t,l)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return R.createElement("div",{ref:s,className:e,style:r},n)},tK=(t,e)=>{let r=t.includes("top"),i=r?{top:0}:{bottom:0},n=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:p8()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...i,...n}},rK=U_`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Iv=16,iK=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:i,children:n,containerStyle:s,containerClassName:a})=>{let{toasts:o,handlers:l}=Mq(r);return R.createElement("div",{style:{position:"fixed",zIndex:9999,top:Iv,left:Iv,right:Iv,bottom:Iv,pointerEvents:"none",...s},className:a,onMouseEnter:l.startPause,onMouseLeave:l.endPause},o.map(u=>{let c=u.position||e,d=l.calculateOffset(u,{reverseOrder:t,gutter:i,defaultPosition:e}),h=tK(c,d);return R.createElement(eK,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?rK:"",style:h},u.type==="custom"?rb(u.message,u):n?n(u):R.createElement(Jq,{toast:u,position:c}))}))},om=Un,m8={exports:{}},Kn={},g8={exports:{}},v8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,G){var H=D.length;D.push(G);e:for(;0<H;){var W=H-1>>>1,K=D[W];if(0<n(K,G))D[W]=G,D[H]=K,H=W;else break e}}function r(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var G=D[0],H=D.pop();if(H!==G){D[0]=H;e:for(var W=0,K=D.length,Q=K>>>1;W<Q;){var ie=2*(W+1)-1,le=D[ie],fe=ie+1,we=D[fe];if(0>n(le,H))fe<K&&0>n(we,le)?(D[W]=we,D[fe]=H,W=fe):(D[W]=le,D[ie]=H,W=ie);else if(fe<K&&0>n(we,H))D[W]=we,D[fe]=H,W=fe;else break e}}return G}function n(D,G){var H=D.sortIndex-G.sortIndex;return H!==0?H:D.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,h=3,p=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var G=r(u);G!==null;){if(G.callback===null)i(u);else if(G.startTime<=D)i(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=r(u)}}function E(D){if(y=!1,_(D),!g)if(r(l)!==null)g=!0,$(A);else{var G=r(u);G!==null&&z(E,G.startTime-D)}}function A(D,G){g=!1,y&&(y=!1,x(M),M=-1),p=!0;var H=h;try{for(_(G),d=r(l);d!==null&&(!(d.expirationTime>G)||D&&!j());){var W=d.callback;if(typeof W=="function"){d.callback=null,h=d.priorityLevel;var K=W(d.expirationTime<=G);G=t.unstable_now(),typeof K=="function"?d.callback=K:d===r(l)&&i(l),_(G)}else i(l);d=r(l)}if(d!==null)var Q=!0;else{var ie=r(u);ie!==null&&z(E,ie.startTime-G),Q=!1}return Q}finally{d=null,h=H,p=!1}}var I=!1,P=null,M=-1,k=5,U=-1;function j(){return!(t.unstable_now()-U<k)}function B(){if(P!==null){var D=t.unstable_now();U=D;var G=!0;try{G=P(!0,D)}finally{G?L():(I=!1,P=null)}}else I=!1}var L;if(typeof w=="function")L=function(){w(B)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,O=F.port2;F.port1.onmessage=B,L=function(){O.postMessage(null)}}else L=function(){b(B,0)};function $(D){P=D,I||(I=!0,L())}function z(D,G){M=b(function(){D(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,$(A))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var H=h;h=G;try{return D()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,G){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=h;h=D;try{return G()}finally{h=H}},t.unstable_scheduleCallback=function(D,G,H){var W=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?W+H:W):H=W,D){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=H+K,D={id:c++,callback:G,priorityLevel:D,startTime:H,expirationTime:K,sortIndex:-1},H>W?(D.sortIndex=H,e(u,D),r(l)===null&&D===r(u)&&(y?(x(M),M=-1):y=!0,z(E,H-W))):(D.sortIndex=K,e(l,D),g||p||(g=!0,$(A))),D},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(D){var G=h;return function(){var H=h;h=G;try{return D.apply(this,arguments)}finally{h=H}}}})(v8);g8.exports=v8;var nK=g8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y8=R,Wn=nK;function ye(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var x8=new Set,Gg={};function Wh(t,e){qf(t,e),qf(t+"Capture",e)}function qf(t,e){for(Gg[t]=e,t=0;t<e.length;t++)x8.add(e[t])}var hl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gA=Object.prototype.hasOwnProperty,sK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_k={},wk={};function aK(t){return gA.call(wk,t)?!0:gA.call(_k,t)?!1:sK.test(t)?wk[t]=!0:(_k[t]=!0,!1)}function oK(t,e,r,i){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lK(t,e,r,i){if(e===null||typeof e>"u"||oK(t,e,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function en(t,e,r,i,n,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Ai={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ai[t]=new en(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ai[e]=new en(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ai[t]=new en(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ai[t]=new en(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ai[t]=new en(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ai[t]=new en(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ai[t]=new en(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ai[t]=new en(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ai[t]=new en(t,5,!1,t.toLowerCase(),null,!1,!1)});var WR=/[\-:]([a-z])/g;function XR(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(WR,XR);Ai[e]=new en(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(WR,XR);Ai[e]=new en(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(WR,XR);Ai[e]=new en(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ai[t]=new en(t,1,!1,t.toLowerCase(),null,!1,!1)});Ai.xlinkHref=new en("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ai[t]=new en(t,1,!1,t.toLowerCase(),null,!0,!0)});function YR(t,e,r,i){var n=Ai.hasOwnProperty(e)?Ai[e]:null;(n!==null?n.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lK(e,r,n,i)&&(r=null),i||n===null?aK(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):n.mustUseProperty?t[n.propertyName]=r===null?n.type===3?!1:"":r:(e=n.attributeName,i=n.attributeNamespace,r===null?t.removeAttribute(e):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,i?t.setAttributeNS(i,e,r):t.setAttribute(e,r))))}var wl=y8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pv=Symbol.for("react.element"),Hd=Symbol.for("react.portal"),Gd=Symbol.for("react.fragment"),qR=Symbol.for("react.strict_mode"),vA=Symbol.for("react.profiler"),b8=Symbol.for("react.provider"),_8=Symbol.for("react.context"),KR=Symbol.for("react.forward_ref"),yA=Symbol.for("react.suspense"),xA=Symbol.for("react.suspense_list"),QR=Symbol.for("react.memo"),Jl=Symbol.for("react.lazy"),w8=Symbol.for("react.offscreen"),Sk=Symbol.iterator;function lm(t){return t===null||typeof t!="object"?null:(t=Sk&&t[Sk]||t["@@iterator"],typeof t=="function"?t:null)}var Er=Object.assign,xS;function zm(t){if(xS===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);xS=e&&e[1]||""}return`
`+xS+t}var bS=!1;function _S(t,e){if(!t||bS)return"";bS=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var n=u.stack.split(`
`),s=i.stack.split(`
`),a=n.length-1,o=s.length-1;1<=a&&0<=o&&n[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(n[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||n[a]!==s[o]){var l=`
`+n[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{bS=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?zm(t):""}function uK(t){switch(t.tag){case 5:return zm(t.type);case 16:return zm("Lazy");case 13:return zm("Suspense");case 19:return zm("SuspenseList");case 0:case 2:case 15:return t=_S(t.type,!1),t;case 11:return t=_S(t.type.render,!1),t;case 1:return t=_S(t.type,!0),t;default:return""}}function bA(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gd:return"Fragment";case Hd:return"Portal";case vA:return"Profiler";case qR:return"StrictMode";case yA:return"Suspense";case xA:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _8:return(t.displayName||"Context")+".Consumer";case b8:return(t._context.displayName||"Context")+".Provider";case KR:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case QR:return e=t.displayName||null,e!==null?e:bA(t.type)||"Memo";case Jl:e=t._payload,t=t._init;try{return bA(t(e))}catch{}}return null}function cK(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bA(e);case 8:return e===qR?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function S8(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hK(t){var e=S8(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return n.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mv(t){t._valueTracker||(t._valueTracker=hK(t))}function E8(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),i="";return t&&(i=S8(t)?t.checked?"true":"false":t.value),t=i,t!==r?(e.setValue(t),!0):!1}function ib(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _A(t,e){var r=e.checked;return Er({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Ek(t,e){var r=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;r=Wu(e.value!=null?e.value:r),t._wrapperState={initialChecked:i,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function T8(t,e){e=e.checked,e!=null&&YR(t,"checked",e,!1)}function wA(t,e){T8(t,e);var r=Wu(e.value),i=e.type;if(r!=null)i==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?SA(t,e.type,r):e.hasOwnProperty("defaultValue")&&SA(t,e.type,Wu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Tk(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function SA(t,e,r){(e!=="number"||ib(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Hm=Array.isArray;function df(t,e,r,i){if(t=t.options,e){e={};for(var n=0;n<r.length;n++)e["$"+r[n]]=!0;for(r=0;r<t.length;r++)n=e.hasOwnProperty("$"+t[r].value),t[r].selected!==n&&(t[r].selected=n),n&&i&&(t[r].defaultSelected=!0)}else{for(r=""+Wu(r),e=null,n=0;n<t.length;n++){if(t[n].value===r){t[n].selected=!0,i&&(t[n].defaultSelected=!0);return}e!==null||t[n].disabled||(e=t[n])}e!==null&&(e.selected=!0)}}function EA(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ye(91));return Er({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ak(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ye(92));if(Hm(r)){if(1<r.length)throw Error(ye(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Wu(r)}}function A8(t,e){var r=Wu(e.value),i=Wu(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),i!=null&&(t.defaultValue=""+i)}function Ck(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function C8(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function TA(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?C8(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kv,R8=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,i,n){MSApp.execUnsafeLocalFunction(function(){return t(e,r,i,n)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kv=kv||document.createElement("div"),kv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vg(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var dg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dK=["Webkit","ms","Moz","O"];Object.keys(dg).forEach(function(t){dK.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dg[e]=dg[t]})});function I8(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||dg.hasOwnProperty(t)&&dg[t]?(""+e).trim():e+"px"}function P8(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var i=r.indexOf("--")===0,n=I8(r,e[r],i);r==="float"&&(r="cssFloat"),i?t.setProperty(r,n):t[r]=n}}var fK=Er({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function AA(t,e){if(e){if(fK[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ye(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ye(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ye(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ye(62))}}function CA(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var RA=null;function ZR(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var IA=null,ff=null,pf=null;function Rk(t){if(t=l1(t)){if(typeof IA!="function")throw Error(ye(280));var e=t.stateNode;e&&(e=V_(e),IA(t.stateNode,t.type,e))}}function M8(t){ff?pf?pf.push(t):pf=[t]:ff=t}function k8(){if(ff){var t=ff,e=pf;if(pf=ff=null,Rk(t),e)for(t=0;t<e.length;t++)Rk(e[t])}}function N8(t,e){return t(e)}function O8(){}var wS=!1;function L8(t,e,r){if(wS)return t(e,r);wS=!0;try{return N8(t,e,r)}finally{wS=!1,(ff!==null||pf!==null)&&(O8(),k8())}}function Wg(t,e){var r=t.stateNode;if(r===null)return null;var i=V_(r);if(i===null)return null;r=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ye(231,e,typeof r));return r}var PA=!1;if(hl)try{var um={};Object.defineProperty(um,"passive",{get:function(){PA=!0}}),window.addEventListener("test",um,um),window.removeEventListener("test",um,um)}catch{PA=!1}function pK(t,e,r,i,n,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var fg=!1,nb=null,sb=!1,MA=null,mK={onError:function(t){fg=!0,nb=t}};function gK(t,e,r,i,n,s,a,o,l){fg=!1,nb=null,pK.apply(mK,arguments)}function vK(t,e,r,i,n,s,a,o,l){if(gK.apply(this,arguments),fg){if(fg){var u=nb;fg=!1,nb=null}else throw Error(ye(198));sb||(sb=!0,MA=u)}}function Xh(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function D8(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ik(t){if(Xh(t)!==t)throw Error(ye(188))}function yK(t){var e=t.alternate;if(!e){if(e=Xh(t),e===null)throw Error(ye(188));return e!==t?null:t}for(var r=t,i=e;;){var n=r.return;if(n===null)break;var s=n.alternate;if(s===null){if(i=n.return,i!==null){r=i;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===r)return Ik(n),t;if(s===i)return Ik(n),e;s=s.sibling}throw Error(ye(188))}if(r.return!==i.return)r=n,i=s;else{for(var a=!1,o=n.child;o;){if(o===r){a=!0,r=n,i=s;break}if(o===i){a=!0,i=n,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,i=n;break}if(o===i){a=!0,i=s,r=n;break}o=o.sibling}if(!a)throw Error(ye(189))}}if(r.alternate!==i)throw Error(ye(190))}if(r.tag!==3)throw Error(ye(188));return r.stateNode.current===r?t:e}function F8(t){return t=yK(t),t!==null?B8(t):null}function B8(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=B8(t);if(e!==null)return e;t=t.sibling}return null}var j8=Wn.unstable_scheduleCallback,Pk=Wn.unstable_cancelCallback,xK=Wn.unstable_shouldYield,bK=Wn.unstable_requestPaint,Br=Wn.unstable_now,_K=Wn.unstable_getCurrentPriorityLevel,JR=Wn.unstable_ImmediatePriority,U8=Wn.unstable_UserBlockingPriority,ab=Wn.unstable_NormalPriority,wK=Wn.unstable_LowPriority,$8=Wn.unstable_IdlePriority,$_=null,uo=null;function SK(t){if(uo&&typeof uo.onCommitFiberRoot=="function")try{uo.onCommitFiberRoot($_,t,void 0,(t.current.flags&128)===128)}catch{}}var pa=Math.clz32?Math.clz32:AK,EK=Math.log,TK=Math.LN2;function AK(t){return t>>>=0,t===0?32:31-(EK(t)/TK|0)|0}var Nv=64,Ov=4194304;function Gm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ob(t,e){var r=t.pendingLanes;if(r===0)return 0;var i=0,n=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~n;o!==0?i=Gm(o):(s&=a,s!==0&&(i=Gm(s)))}else a=r&~n,a!==0?i=Gm(a):s!==0&&(i=Gm(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&n)&&(n=i&-i,s=e&-e,n>=s||n===16&&(s&4194240)!==0))return e;if(i&4&&(i|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)r=31-pa(e),n=1<<r,i|=t[r],e&=~n;return i}function CK(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RK(t,e){for(var r=t.suspendedLanes,i=t.pingedLanes,n=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-pa(s),o=1<<a,l=n[a];l===-1?(!(o&r)||o&i)&&(n[a]=CK(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function kA(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function z8(){var t=Nv;return Nv<<=1,!(Nv&4194240)&&(Nv=64),t}function SS(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function a1(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pa(e),t[e]=r}function IK(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<r;){var n=31-pa(r),s=1<<n;e[n]=0,i[n]=-1,t[n]=-1,r&=~s}}function eI(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var i=31-pa(r),n=1<<i;n&e|t[i]&e&&(t[i]|=e),r&=~n}}var Kt=0;function H8(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var G8,tI,V8,W8,X8,NA=!1,Lv=[],Pu=null,Mu=null,ku=null,Xg=new Map,Yg=new Map,nu=[],PK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mk(t,e){switch(t){case"focusin":case"focusout":Pu=null;break;case"dragenter":case"dragleave":Mu=null;break;case"mouseover":case"mouseout":ku=null;break;case"pointerover":case"pointerout":Xg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yg.delete(e.pointerId)}}function cm(t,e,r,i,n,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:i,nativeEvent:s,targetContainers:[n]},e!==null&&(e=l1(e),e!==null&&tI(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,n!==null&&e.indexOf(n)===-1&&e.push(n),t)}function MK(t,e,r,i,n){switch(e){case"focusin":return Pu=cm(Pu,t,e,r,i,n),!0;case"dragenter":return Mu=cm(Mu,t,e,r,i,n),!0;case"mouseover":return ku=cm(ku,t,e,r,i,n),!0;case"pointerover":var s=n.pointerId;return Xg.set(s,cm(Xg.get(s)||null,t,e,r,i,n)),!0;case"gotpointercapture":return s=n.pointerId,Yg.set(s,cm(Yg.get(s)||null,t,e,r,i,n)),!0}return!1}function Y8(t){var e=Kc(t.target);if(e!==null){var r=Xh(e);if(r!==null){if(e=r.tag,e===13){if(e=D8(r),e!==null){t.blockedOn=e,X8(t.priority,function(){V8(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hx(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=OA(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var i=new r.constructor(r.type,r);RA=i,r.target.dispatchEvent(i),RA=null}else return e=l1(r),e!==null&&tI(e),t.blockedOn=r,!1;e.shift()}return!0}function kk(t,e,r){hx(t)&&r.delete(e)}function kK(){NA=!1,Pu!==null&&hx(Pu)&&(Pu=null),Mu!==null&&hx(Mu)&&(Mu=null),ku!==null&&hx(ku)&&(ku=null),Xg.forEach(kk),Yg.forEach(kk)}function hm(t,e){t.blockedOn===e&&(t.blockedOn=null,NA||(NA=!0,Wn.unstable_scheduleCallback(Wn.unstable_NormalPriority,kK)))}function qg(t){function e(n){return hm(n,t)}if(0<Lv.length){hm(Lv[0],t);for(var r=1;r<Lv.length;r++){var i=Lv[r];i.blockedOn===t&&(i.blockedOn=null)}}for(Pu!==null&&hm(Pu,t),Mu!==null&&hm(Mu,t),ku!==null&&hm(ku,t),Xg.forEach(e),Yg.forEach(e),r=0;r<nu.length;r++)i=nu[r],i.blockedOn===t&&(i.blockedOn=null);for(;0<nu.length&&(r=nu[0],r.blockedOn===null);)Y8(r),r.blockedOn===null&&nu.shift()}var mf=wl.ReactCurrentBatchConfig,lb=!0;function NK(t,e,r,i){var n=Kt,s=mf.transition;mf.transition=null;try{Kt=1,rI(t,e,r,i)}finally{Kt=n,mf.transition=s}}function OK(t,e,r,i){var n=Kt,s=mf.transition;mf.transition=null;try{Kt=4,rI(t,e,r,i)}finally{Kt=n,mf.transition=s}}function rI(t,e,r,i){if(lb){var n=OA(t,e,r,i);if(n===null)NS(t,e,i,ub,r),Mk(t,i);else if(MK(n,t,e,r,i))i.stopPropagation();else if(Mk(t,i),e&4&&-1<PK.indexOf(t)){for(;n!==null;){var s=l1(n);if(s!==null&&G8(s),s=OA(t,e,r,i),s===null&&NS(t,e,i,ub,r),s===n)break;n=s}n!==null&&i.stopPropagation()}else NS(t,e,i,null,r)}}var ub=null;function OA(t,e,r,i){if(ub=null,t=ZR(i),t=Kc(t),t!==null)if(e=Xh(t),e===null)t=null;else if(r=e.tag,r===13){if(t=D8(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ub=t,null}function q8(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_K()){case JR:return 1;case U8:return 4;case ab:case wK:return 16;case $8:return 536870912;default:return 16}default:return 16}}var gu=null,iI=null,dx=null;function K8(){if(dx)return dx;var t,e=iI,r=e.length,i,n="value"in gu?gu.value:gu.textContent,s=n.length;for(t=0;t<r&&e[t]===n[t];t++);var a=r-t;for(i=1;i<=a&&e[r-i]===n[s-i];i++);return dx=n.slice(t,1<i?1-i:void 0)}function fx(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dv(){return!0}function Nk(){return!1}function Qn(t){function e(r,i,n,s,a){this._reactName=r,this._targetInst=n,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dv:Nk,this.isPropagationStopped=Nk,this}return Er(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Dv)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Dv)},persist:function(){},isPersistent:Dv}),e}var Tp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nI=Qn(Tp),o1=Er({},Tp,{view:0,detail:0}),LK=Qn(o1),ES,TS,dm,z_=Er({},o1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sI,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dm&&(dm&&t.type==="mousemove"?(ES=t.screenX-dm.screenX,TS=t.screenY-dm.screenY):TS=ES=0,dm=t),ES)},movementY:function(t){return"movementY"in t?t.movementY:TS}}),Ok=Qn(z_),DK=Er({},z_,{dataTransfer:0}),FK=Qn(DK),BK=Er({},o1,{relatedTarget:0}),AS=Qn(BK),jK=Er({},Tp,{animationName:0,elapsedTime:0,pseudoElement:0}),UK=Qn(jK),$K=Er({},Tp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zK=Qn($K),HK=Er({},Tp,{data:0}),Lk=Qn(HK),GK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XK(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=WK[t])?!!e[t]:!1}function sI(){return XK}var YK=Er({},o1,{key:function(t){if(t.key){var e=GK[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fx(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?VK[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sI,charCode:function(t){return t.type==="keypress"?fx(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fx(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qK=Qn(YK),KK=Er({},z_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dk=Qn(KK),QK=Er({},o1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sI}),ZK=Qn(QK),JK=Er({},Tp,{propertyName:0,elapsedTime:0,pseudoElement:0}),eQ=Qn(JK),tQ=Er({},z_,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rQ=Qn(tQ),iQ=[9,13,27,32],aI=hl&&"CompositionEvent"in window,pg=null;hl&&"documentMode"in document&&(pg=document.documentMode);var nQ=hl&&"TextEvent"in window&&!pg,Q8=hl&&(!aI||pg&&8<pg&&11>=pg),Fk=" ",Bk=!1;function Z8(t,e){switch(t){case"keyup":return iQ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vd=!1;function sQ(t,e){switch(t){case"compositionend":return J8(e);case"keypress":return e.which!==32?null:(Bk=!0,Fk);case"textInput":return t=e.data,t===Fk&&Bk?null:t;default:return null}}function aQ(t,e){if(Vd)return t==="compositionend"||!aI&&Z8(t,e)?(t=K8(),dx=iI=gu=null,Vd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Q8&&e.locale!=="ko"?null:e.data;default:return null}}var oQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!oQ[t.type]:e==="textarea"}function eB(t,e,r,i){M8(i),e=cb(e,"onChange"),0<e.length&&(r=new nI("onChange","change",null,r,i),t.push({event:r,listeners:e}))}var mg=null,Kg=null;function lQ(t){hB(t,0)}function H_(t){var e=Yd(t);if(E8(e))return t}function uQ(t,e){if(t==="change")return e}var tB=!1;if(hl){var CS;if(hl){var RS="oninput"in document;if(!RS){var Uk=document.createElement("div");Uk.setAttribute("oninput","return;"),RS=typeof Uk.oninput=="function"}CS=RS}else CS=!1;tB=CS&&(!document.documentMode||9<document.documentMode)}function $k(){mg&&(mg.detachEvent("onpropertychange",rB),Kg=mg=null)}function rB(t){if(t.propertyName==="value"&&H_(Kg)){var e=[];eB(e,Kg,t,ZR(t)),L8(lQ,e)}}function cQ(t,e,r){t==="focusin"?($k(),mg=e,Kg=r,mg.attachEvent("onpropertychange",rB)):t==="focusout"&&$k()}function hQ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return H_(Kg)}function dQ(t,e){if(t==="click")return H_(e)}function fQ(t,e){if(t==="input"||t==="change")return H_(e)}function pQ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _a=typeof Object.is=="function"?Object.is:pQ;function Qg(t,e){if(_a(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var n=r[i];if(!gA.call(e,n)||!_a(t[n],e[n]))return!1}return!0}function zk(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hk(t,e){var r=zk(t);t=0;for(var i;r;){if(r.nodeType===3){if(i=t+r.textContent.length,t<=e&&i>=e)return{node:r,offset:e-t};t=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=zk(r)}}function iB(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iB(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nB(){for(var t=window,e=ib();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ib(t.document)}return e}function oI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mQ(t){var e=nB(),r=t.focusedElem,i=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&iB(r.ownerDocument.documentElement,r)){if(i!==null&&oI(r)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var n=r.textContent.length,s=Math.min(i.start,n);i=i.end===void 0?s:Math.min(i.end,n),!t.extend&&s>i&&(n=i,i=s,s=n),n=Hk(r,s);var a=Hk(r,i);n&&a&&(t.rangeCount!==1||t.anchorNode!==n.node||t.anchorOffset!==n.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(n.node,n.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gQ=hl&&"documentMode"in document&&11>=document.documentMode,Wd=null,LA=null,gg=null,DA=!1;function Gk(t,e,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;DA||Wd==null||Wd!==ib(i)||(i=Wd,"selectionStart"in i&&oI(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),gg&&Qg(gg,i)||(gg=i,i=cb(LA,"onSelect"),0<i.length&&(e=new nI("onSelect","select",null,e,r),t.push({event:e,listeners:i}),e.target=Wd)))}function Fv(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Xd={animationend:Fv("Animation","AnimationEnd"),animationiteration:Fv("Animation","AnimationIteration"),animationstart:Fv("Animation","AnimationStart"),transitionend:Fv("Transition","TransitionEnd")},IS={},sB={};hl&&(sB=document.createElement("div").style,"AnimationEvent"in window||(delete Xd.animationend.animation,delete Xd.animationiteration.animation,delete Xd.animationstart.animation),"TransitionEvent"in window||delete Xd.transitionend.transition);function G_(t){if(IS[t])return IS[t];if(!Xd[t])return t;var e=Xd[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in sB)return IS[t]=e[r];return t}var aB=G_("animationend"),oB=G_("animationiteration"),lB=G_("animationstart"),uB=G_("transitionend"),cB=new Map,Vk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rc(t,e){cB.set(t,e),Wh(e,[t])}for(var PS=0;PS<Vk.length;PS++){var MS=Vk[PS],vQ=MS.toLowerCase(),yQ=MS[0].toUpperCase()+MS.slice(1);rc(vQ,"on"+yQ)}rc(aB,"onAnimationEnd");rc(oB,"onAnimationIteration");rc(lB,"onAnimationStart");rc("dblclick","onDoubleClick");rc("focusin","onFocus");rc("focusout","onBlur");rc(uB,"onTransitionEnd");qf("onMouseEnter",["mouseout","mouseover"]);qf("onMouseLeave",["mouseout","mouseover"]);qf("onPointerEnter",["pointerout","pointerover"]);qf("onPointerLeave",["pointerout","pointerover"]);Wh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vm));function Wk(t,e,r){var i=t.type||"unknown-event";t.currentTarget=r,vK(i,e,void 0,t),t.currentTarget=null}function hB(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var i=t[r],n=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&n.isPropagationStopped())break e;Wk(n,o,u),s=l}else for(a=0;a<i.length;a++){if(o=i[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&n.isPropagationStopped())break e;Wk(n,o,u),s=l}}}if(sb)throw t=MA,sb=!1,MA=null,t}function ar(t,e){var r=e[$A];r===void 0&&(r=e[$A]=new Set);var i=t+"__bubble";r.has(i)||(dB(e,t,2,!1),r.add(i))}function kS(t,e,r){var i=0;e&&(i|=4),dB(r,t,i,e)}var Bv="_reactListening"+Math.random().toString(36).slice(2);function Zg(t){if(!t[Bv]){t[Bv]=!0,x8.forEach(function(r){r!=="selectionchange"&&(xQ.has(r)||kS(r,!1,t),kS(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bv]||(e[Bv]=!0,kS("selectionchange",!1,e))}}function dB(t,e,r,i){switch(q8(e)){case 1:var n=NK;break;case 4:n=OK;break;default:n=rI}r=n.bind(null,e,r,t),n=void 0,!PA||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(n=!0),i?n!==void 0?t.addEventListener(e,r,{capture:!0,passive:n}):t.addEventListener(e,r,!0):n!==void 0?t.addEventListener(e,r,{passive:n}):t.addEventListener(e,r,!1)}function NS(t,e,r,i,n){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(a===4)for(a=i.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===n||l.nodeType===8&&l.parentNode===n))return;a=a.return}for(;o!==null;){if(a=Kc(o),a===null)return;if(l=a.tag,l===5||l===6){i=s=a;continue e}o=o.parentNode}}i=i.return}L8(function(){var u=s,c=ZR(r),d=[];e:{var h=cB.get(t);if(h!==void 0){var p=nI,g=t;switch(t){case"keypress":if(fx(r)===0)break e;case"keydown":case"keyup":p=qK;break;case"focusin":g="focus",p=AS;break;case"focusout":g="blur",p=AS;break;case"beforeblur":case"afterblur":p=AS;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ok;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=FK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ZK;break;case aB:case oB:case lB:p=UK;break;case uB:p=eQ;break;case"scroll":p=LK;break;case"wheel":p=rQ;break;case"copy":case"cut":case"paste":p=zK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Dk}var y=(e&4)!==0,b=!y&&t==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var w=u,_;w!==null;){_=w;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,x!==null&&(E=Wg(w,x),E!=null&&y.push(Jg(w,E,_)))),b)break;w=w.return}0<y.length&&(h=new p(h,g,null,r,c),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==RA&&(g=r.relatedTarget||r.fromElement)&&(Kc(g)||g[dl]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?Kc(g):null,g!==null&&(b=Xh(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=Ok,E="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=Dk,E="onPointerLeave",x="onPointerEnter",w="pointer"),b=p==null?h:Yd(p),_=g==null?h:Yd(g),h=new y(E,w+"leave",p,r,c),h.target=b,h.relatedTarget=_,E=null,Kc(c)===u&&(y=new y(x,w+"enter",g,r,c),y.target=_,y.relatedTarget=b,E=y),b=E,p&&g)t:{for(y=p,x=g,w=0,_=y;_;_=yd(_))w++;for(_=0,E=x;E;E=yd(E))_++;for(;0<w-_;)y=yd(y),w--;for(;0<_-w;)x=yd(x),_--;for(;w--;){if(y===x||x!==null&&y===x.alternate)break t;y=yd(y),x=yd(x)}y=null}else y=null;p!==null&&Xk(d,h,p,y,!1),g!==null&&b!==null&&Xk(d,b,g,y,!0)}}e:{if(h=u?Yd(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var A=uQ;else if(jk(h))if(tB)A=fQ;else{A=hQ;var I=cQ}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=dQ);if(A&&(A=A(t,u))){eB(d,A,r,c);break e}I&&I(t,h,u),t==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&SA(h,"number",h.value)}switch(I=u?Yd(u):window,t){case"focusin":(jk(I)||I.contentEditable==="true")&&(Wd=I,LA=u,gg=null);break;case"focusout":gg=LA=Wd=null;break;case"mousedown":DA=!0;break;case"contextmenu":case"mouseup":case"dragend":DA=!1,Gk(d,r,c);break;case"selectionchange":if(gQ)break;case"keydown":case"keyup":Gk(d,r,c)}var P;if(aI)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Vd?Z8(t,r)&&(M="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(Q8&&r.locale!=="ko"&&(Vd||M!=="onCompositionStart"?M==="onCompositionEnd"&&Vd&&(P=K8()):(gu=c,iI="value"in gu?gu.value:gu.textContent,Vd=!0)),I=cb(u,M),0<I.length&&(M=new Lk(M,t,null,r,c),d.push({event:M,listeners:I}),P?M.data=P:(P=J8(r),P!==null&&(M.data=P)))),(P=nQ?sQ(t,r):aQ(t,r))&&(u=cb(u,"onBeforeInput"),0<u.length&&(c=new Lk("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=P))}hB(d,e)})}function Jg(t,e,r){return{instance:t,listener:e,currentTarget:r}}function cb(t,e){for(var r=e+"Capture",i=[];t!==null;){var n=t,s=n.stateNode;n.tag===5&&s!==null&&(n=s,s=Wg(t,r),s!=null&&i.unshift(Jg(t,s,n)),s=Wg(t,e),s!=null&&i.push(Jg(t,s,n))),t=t.return}return i}function yd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xk(t,e,r,i,n){for(var s=e._reactName,a=[];r!==null&&r!==i;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===i)break;o.tag===5&&u!==null&&(o=u,n?(l=Wg(r,s),l!=null&&a.unshift(Jg(r,l,o))):n||(l=Wg(r,s),l!=null&&a.push(Jg(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var bQ=/\r\n?/g,_Q=/\u0000|\uFFFD/g;function Yk(t){return(typeof t=="string"?t:""+t).replace(bQ,`
`).replace(_Q,"")}function jv(t,e,r){if(e=Yk(e),Yk(t)!==e&&r)throw Error(ye(425))}function hb(){}var FA=null,BA=null;function jA(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var UA=typeof setTimeout=="function"?setTimeout:void 0,wQ=typeof clearTimeout=="function"?clearTimeout:void 0,qk=typeof Promise=="function"?Promise:void 0,SQ=typeof queueMicrotask=="function"?queueMicrotask:typeof qk<"u"?function(t){return qk.resolve(null).then(t).catch(EQ)}:UA;function EQ(t){setTimeout(function(){throw t})}function OS(t,e){var r=e,i=0;do{var n=r.nextSibling;if(t.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(i===0){t.removeChild(n),qg(e);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=n}while(r);qg(e)}function Nu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Kk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ap=Math.random().toString(36).slice(2),io="__reactFiber$"+Ap,e0="__reactProps$"+Ap,dl="__reactContainer$"+Ap,$A="__reactEvents$"+Ap,TQ="__reactListeners$"+Ap,AQ="__reactHandles$"+Ap;function Kc(t){var e=t[io];if(e)return e;for(var r=t.parentNode;r;){if(e=r[dl]||r[io]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Kk(t);t!==null;){if(r=t[io])return r;t=Kk(t)}return e}t=r,r=t.parentNode}return null}function l1(t){return t=t[io]||t[dl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ye(33))}function V_(t){return t[e0]||null}var zA=[],qd=-1;function ic(t){return{current:t}}function cr(t){0>qd||(t.current=zA[qd],zA[qd]=null,qd--)}function sr(t,e){qd++,zA[qd]=t.current,t.current=e}var Xu={},ji=ic(Xu),gn=ic(!1),Ch=Xu;function Kf(t,e){var r=t.type.contextTypes;if(!r)return Xu;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var n={},s;for(s in r)n[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=n),n}function vn(t){return t=t.childContextTypes,t!=null}function db(){cr(gn),cr(ji)}function Qk(t,e,r){if(ji.current!==Xu)throw Error(ye(168));sr(ji,e),sr(gn,r)}function fB(t,e,r){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var n in i)if(!(n in e))throw Error(ye(108,cK(t)||"Unknown",n));return Er({},r,i)}function fb(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xu,Ch=ji.current,sr(ji,t),sr(gn,gn.current),!0}function Zk(t,e,r){var i=t.stateNode;if(!i)throw Error(ye(169));r?(t=fB(t,e,Ch),i.__reactInternalMemoizedMergedChildContext=t,cr(gn),cr(ji),sr(ji,t)):cr(gn),sr(gn,r)}var Go=null,W_=!1,LS=!1;function pB(t){Go===null?Go=[t]:Go.push(t)}function CQ(t){W_=!0,pB(t)}function nc(){if(!LS&&Go!==null){LS=!0;var t=0,e=Kt;try{var r=Go;for(Kt=1;t<r.length;t++){var i=r[t];do i=i(!0);while(i!==null)}Go=null,W_=!1}catch(n){throw Go!==null&&(Go=Go.slice(t+1)),j8(JR,nc),n}finally{Kt=e,LS=!1}}return null}var Kd=[],Qd=0,pb=null,mb=0,gs=[],vs=0,Rh=null,Ko=1,Qo="";function Pc(t,e){Kd[Qd++]=mb,Kd[Qd++]=pb,pb=t,mb=e}function mB(t,e,r){gs[vs++]=Ko,gs[vs++]=Qo,gs[vs++]=Rh,Rh=t;var i=Ko;t=Qo;var n=32-pa(i)-1;i&=~(1<<n),r+=1;var s=32-pa(e)+n;if(30<s){var a=n-n%5;s=(i&(1<<a)-1).toString(32),i>>=a,n-=a,Ko=1<<32-pa(e)+n|r<<n|i,Qo=s+t}else Ko=1<<s|r<<n|i,Qo=t}function lI(t){t.return!==null&&(Pc(t,1),mB(t,1,0))}function uI(t){for(;t===pb;)pb=Kd[--Qd],Kd[Qd]=null,mb=Kd[--Qd],Kd[Qd]=null;for(;t===Rh;)Rh=gs[--vs],gs[vs]=null,Qo=gs[--vs],gs[vs]=null,Ko=gs[--vs],gs[vs]=null}var Hn=null,$n=null,gr=!1,na=null;function gB(t,e){var r=ws(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Jk(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Hn=t,$n=Nu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Hn=t,$n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Rh!==null?{id:Ko,overflow:Qo}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ws(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Hn=t,$n=null,!0):!1;default:return!1}}function HA(t){return(t.mode&1)!==0&&(t.flags&128)===0}function GA(t){if(gr){var e=$n;if(e){var r=e;if(!Jk(t,e)){if(HA(t))throw Error(ye(418));e=Nu(r.nextSibling);var i=Hn;e&&Jk(t,e)?gB(i,r):(t.flags=t.flags&-4097|2,gr=!1,Hn=t)}}else{if(HA(t))throw Error(ye(418));t.flags=t.flags&-4097|2,gr=!1,Hn=t}}}function eN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Hn=t}function Uv(t){if(t!==Hn)return!1;if(!gr)return eN(t),gr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jA(t.type,t.memoizedProps)),e&&(e=$n)){if(HA(t))throw vB(),Error(ye(418));for(;e;)gB(t,e),e=Nu(e.nextSibling)}if(eN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ye(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){$n=Nu(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}$n=null}}else $n=Hn?Nu(t.stateNode.nextSibling):null;return!0}function vB(){for(var t=$n;t;)t=Nu(t.nextSibling)}function Qf(){$n=Hn=null,gr=!1}function cI(t){na===null?na=[t]:na.push(t)}var RQ=wl.ReactCurrentBatchConfig;function ea(t,e){if(t&&t.defaultProps){e=Er({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var gb=ic(null),vb=null,Zd=null,hI=null;function dI(){hI=Zd=vb=null}function fI(t){var e=gb.current;cr(gb),t._currentValue=e}function VA(t,e,r){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===r)break;t=t.return}}function gf(t,e){vb=t,hI=Zd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fn=!0),t.firstContext=null)}function Ps(t){var e=t._currentValue;if(hI!==t)if(t={context:t,memoizedValue:e,next:null},Zd===null){if(vb===null)throw Error(ye(308));Zd=t,vb.dependencies={lanes:0,firstContext:t}}else Zd=Zd.next=t;return e}var Qc=null;function pI(t){Qc===null?Qc=[t]:Qc.push(t)}function yB(t,e,r,i){var n=e.interleaved;return n===null?(r.next=r,pI(e)):(r.next=n.next,n.next=r),e.interleaved=r,fl(t,i)}function fl(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var eu=!1;function mI(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xB(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function sl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ou(t,e,r){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,jt&2){var n=i.pending;return n===null?e.next=e:(e.next=n.next,n.next=e),i.pending=e,fl(t,r)}return n=i.interleaved,n===null?(e.next=e,pI(i)):(e.next=n.next,n.next=e),i.interleaved=e,fl(t,r)}function px(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,r|=i,e.lanes=r,eI(t,r)}}function tN(t,e){var r=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var n=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?n=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?n=s=e:s=s.next=e}else n=s=e;r={baseState:i.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function yb(t,e,r,i){var n=t.updateQueue;eu=!1;var s=n.firstBaseUpdate,a=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=n.baseState;a=0,c=u=l=null,o=s;do{var h=o.lane,p=o.eventTime;if((i&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,y=o;switch(h=e,p=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=Er({},d,h);break e;case 2:eu=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=n.effects,h===null?n.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,a|=h;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;h=o,o=h.next,h.next=null,n.lastBaseUpdate=h,n.shared.pending=null}}while(!0);if(c===null&&(l=d),n.baseState=l,n.firstBaseUpdate=u,n.lastBaseUpdate=c,e=n.shared.interleaved,e!==null){n=e;do a|=n.lane,n=n.next;while(n!==e)}else s===null&&(n.shared.lanes=0);Ph|=a,t.lanes=a,t.memoizedState=d}}function rN(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],n=i.callback;if(n!==null){if(i.callback=null,i=r,typeof n!="function")throw Error(ye(191,n));n.call(i)}}}var bB=new y8.Component().refs;function WA(t,e,r,i){e=t.memoizedState,r=r(i,e),r=r==null?e:Er({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var X_={isMounted:function(t){return(t=t._reactInternals)?Xh(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var i=Qi(),n=Du(t),s=sl(i,n);s.payload=e,r!=null&&(s.callback=r),e=Ou(t,s,n),e!==null&&(ma(e,t,n,i),px(e,t,n))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var i=Qi(),n=Du(t),s=sl(i,n);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ou(t,s,n),e!==null&&(ma(e,t,n,i),px(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Qi(),i=Du(t),n=sl(r,i);n.tag=2,e!=null&&(n.callback=e),e=Ou(t,n,i),e!==null&&(ma(e,t,i,r),px(e,t,i))}};function iN(t,e,r,i,n,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!Qg(r,i)||!Qg(n,s):!0}function _B(t,e,r){var i=!1,n=Xu,s=e.contextType;return typeof s=="object"&&s!==null?s=Ps(s):(n=vn(e)?Ch:ji.current,i=e.contextTypes,s=(i=i!=null)?Kf(t,n):Xu),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=X_,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=s),e}function nN(t,e,r,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,i),e.state!==t&&X_.enqueueReplaceState(e,e.state,null)}function XA(t,e,r,i){var n=t.stateNode;n.props=r,n.state=t.memoizedState,n.refs=bB,mI(t);var s=e.contextType;typeof s=="object"&&s!==null?n.context=Ps(s):(s=vn(e)?Ch:ji.current,n.context=Kf(t,s)),n.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(WA(t,e,s,r),n.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(e=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),e!==n.state&&X_.enqueueReplaceState(n,n.state,null),yb(t,r,n,i),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308)}function fm(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ye(309));var i=r.stateNode}if(!i)throw Error(ye(147,t));var n=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=n.refs;o===bB&&(o=n.refs={}),a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(ye(284));if(!r._owner)throw Error(ye(290,t))}return t}function $v(t,e){throw t=Object.prototype.toString.call(e),Error(ye(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sN(t){var e=t._init;return e(t._payload)}function wB(t){function e(x,w){if(t){var _=x.deletions;_===null?(x.deletions=[w],x.flags|=16):_.push(w)}}function r(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function i(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function n(x,w){return x=Fu(x,w),x.index=0,x.sibling=null,x}function s(x,w,_){return x.index=_,t?(_=x.alternate,_!==null?(_=_.index,_<w?(x.flags|=2,w):_):(x.flags|=2,w)):(x.flags|=1048576,w)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,w,_,E){return w===null||w.tag!==6?(w=zS(_,x.mode,E),w.return=x,w):(w=n(w,_),w.return=x,w)}function l(x,w,_,E){var A=_.type;return A===Gd?c(x,w,_.props.children,E,_.key):w!==null&&(w.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Jl&&sN(A)===w.type)?(E=n(w,_.props),E.ref=fm(x,w,_),E.return=x,E):(E=bx(_.type,_.key,_.props,null,x.mode,E),E.ref=fm(x,w,_),E.return=x,E)}function u(x,w,_,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=HS(_,x.mode,E),w.return=x,w):(w=n(w,_.children||[]),w.return=x,w)}function c(x,w,_,E,A){return w===null||w.tag!==7?(w=gh(_,x.mode,E,A),w.return=x,w):(w=n(w,_),w.return=x,w)}function d(x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=zS(""+w,x.mode,_),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Pv:return _=bx(w.type,w.key,w.props,null,x.mode,_),_.ref=fm(x,null,w),_.return=x,_;case Hd:return w=HS(w,x.mode,_),w.return=x,w;case Jl:var E=w._init;return d(x,E(w._payload),_)}if(Hm(w)||lm(w))return w=gh(w,x.mode,_,null),w.return=x,w;$v(x,w)}return null}function h(x,w,_,E){var A=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return A!==null?null:o(x,w,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Pv:return _.key===A?l(x,w,_,E):null;case Hd:return _.key===A?u(x,w,_,E):null;case Jl:return A=_._init,h(x,w,A(_._payload),E)}if(Hm(_)||lm(_))return A!==null?null:c(x,w,_,E,null);$v(x,_)}return null}function p(x,w,_,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return x=x.get(_)||null,o(w,x,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Pv:return x=x.get(E.key===null?_:E.key)||null,l(w,x,E,A);case Hd:return x=x.get(E.key===null?_:E.key)||null,u(w,x,E,A);case Jl:var I=E._init;return p(x,w,_,I(E._payload),A)}if(Hm(E)||lm(E))return x=x.get(_)||null,c(w,x,E,A,null);$v(w,E)}return null}function g(x,w,_,E){for(var A=null,I=null,P=w,M=w=0,k=null;P!==null&&M<_.length;M++){P.index>M?(k=P,P=null):k=P.sibling;var U=h(x,P,_[M],E);if(U===null){P===null&&(P=k);break}t&&P&&U.alternate===null&&e(x,P),w=s(U,w,M),I===null?A=U:I.sibling=U,I=U,P=k}if(M===_.length)return r(x,P),gr&&Pc(x,M),A;if(P===null){for(;M<_.length;M++)P=d(x,_[M],E),P!==null&&(w=s(P,w,M),I===null?A=P:I.sibling=P,I=P);return gr&&Pc(x,M),A}for(P=i(x,P);M<_.length;M++)k=p(P,x,M,_[M],E),k!==null&&(t&&k.alternate!==null&&P.delete(k.key===null?M:k.key),w=s(k,w,M),I===null?A=k:I.sibling=k,I=k);return t&&P.forEach(function(j){return e(x,j)}),gr&&Pc(x,M),A}function y(x,w,_,E){var A=lm(_);if(typeof A!="function")throw Error(ye(150));if(_=A.call(_),_==null)throw Error(ye(151));for(var I=A=null,P=w,M=w=0,k=null,U=_.next();P!==null&&!U.done;M++,U=_.next()){P.index>M?(k=P,P=null):k=P.sibling;var j=h(x,P,U.value,E);if(j===null){P===null&&(P=k);break}t&&P&&j.alternate===null&&e(x,P),w=s(j,w,M),I===null?A=j:I.sibling=j,I=j,P=k}if(U.done)return r(x,P),gr&&Pc(x,M),A;if(P===null){for(;!U.done;M++,U=_.next())U=d(x,U.value,E),U!==null&&(w=s(U,w,M),I===null?A=U:I.sibling=U,I=U);return gr&&Pc(x,M),A}for(P=i(x,P);!U.done;M++,U=_.next())U=p(P,x,M,U.value,E),U!==null&&(t&&U.alternate!==null&&P.delete(U.key===null?M:U.key),w=s(U,w,M),I===null?A=U:I.sibling=U,I=U);return t&&P.forEach(function(B){return e(x,B)}),gr&&Pc(x,M),A}function b(x,w,_,E){if(typeof _=="object"&&_!==null&&_.type===Gd&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Pv:e:{for(var A=_.key,I=w;I!==null;){if(I.key===A){if(A=_.type,A===Gd){if(I.tag===7){r(x,I.sibling),w=n(I,_.props.children),w.return=x,x=w;break e}}else if(I.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Jl&&sN(A)===I.type){r(x,I.sibling),w=n(I,_.props),w.ref=fm(x,I,_),w.return=x,x=w;break e}r(x,I);break}else e(x,I);I=I.sibling}_.type===Gd?(w=gh(_.props.children,x.mode,E,_.key),w.return=x,x=w):(E=bx(_.type,_.key,_.props,null,x.mode,E),E.ref=fm(x,w,_),E.return=x,x=E)}return a(x);case Hd:e:{for(I=_.key;w!==null;){if(w.key===I)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){r(x,w.sibling),w=n(w,_.children||[]),w.return=x,x=w;break e}else{r(x,w);break}else e(x,w);w=w.sibling}w=HS(_,x.mode,E),w.return=x,x=w}return a(x);case Jl:return I=_._init,b(x,w,I(_._payload),E)}if(Hm(_))return g(x,w,_,E);if(lm(_))return y(x,w,_,E);$v(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(r(x,w.sibling),w=n(w,_),w.return=x,x=w):(r(x,w),w=zS(_,x.mode,E),w.return=x,x=w),a(x)):r(x,w)}return b}var Zf=wB(!0),SB=wB(!1),u1={},co=ic(u1),t0=ic(u1),r0=ic(u1);function Zc(t){if(t===u1)throw Error(ye(174));return t}function gI(t,e){switch(sr(r0,e),sr(t0,t),sr(co,u1),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:TA(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=TA(e,t)}cr(co),sr(co,e)}function Jf(){cr(co),cr(t0),cr(r0)}function EB(t){Zc(r0.current);var e=Zc(co.current),r=TA(e,t.type);e!==r&&(sr(t0,t),sr(co,r))}function vI(t){t0.current===t&&(cr(co),cr(t0))}var _r=ic(0);function xb(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var DS=[];function yI(){for(var t=0;t<DS.length;t++)DS[t]._workInProgressVersionPrimary=null;DS.length=0}var mx=wl.ReactCurrentDispatcher,FS=wl.ReactCurrentBatchConfig,Ih=0,Sr=null,Kr=null,di=null,bb=!1,vg=!1,i0=0,IQ=0;function Oi(){throw Error(ye(321))}function xI(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!_a(t[r],e[r]))return!1;return!0}function bI(t,e,r,i,n,s){if(Ih=s,Sr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mx.current=t===null||t.memoizedState===null?NQ:OQ,t=r(i,n),vg){s=0;do{if(vg=!1,i0=0,25<=s)throw Error(ye(301));s+=1,di=Kr=null,e.updateQueue=null,mx.current=LQ,t=r(i,n)}while(vg)}if(mx.current=_b,e=Kr!==null&&Kr.next!==null,Ih=0,di=Kr=Sr=null,bb=!1,e)throw Error(ye(300));return t}function _I(){var t=i0!==0;return i0=0,t}function Ya(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return di===null?Sr.memoizedState=di=t:di=di.next=t,di}function Ms(){if(Kr===null){var t=Sr.alternate;t=t!==null?t.memoizedState:null}else t=Kr.next;var e=di===null?Sr.memoizedState:di.next;if(e!==null)di=e,Kr=t;else{if(t===null)throw Error(ye(310));Kr=t,t={memoizedState:Kr.memoizedState,baseState:Kr.baseState,baseQueue:Kr.baseQueue,queue:Kr.queue,next:null},di===null?Sr.memoizedState=di=t:di=di.next=t}return di}function n0(t,e){return typeof e=="function"?e(t):e}function BS(t){var e=Ms(),r=e.queue;if(r===null)throw Error(ye(311));r.lastRenderedReducer=t;var i=Kr,n=i.baseQueue,s=r.pending;if(s!==null){if(n!==null){var a=n.next;n.next=s.next,s.next=a}i.baseQueue=n=s,r.pending=null}if(n!==null){s=n.next,i=i.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((Ih&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=i):l=l.next=d,Sr.lanes|=c,Ph|=c}u=u.next}while(u!==null&&u!==s);l===null?a=i:l.next=o,_a(i,e.memoizedState)||(fn=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=l,r.lastRenderedState=i}if(t=r.interleaved,t!==null){n=t;do s=n.lane,Sr.lanes|=s,Ph|=s,n=n.next;while(n!==t)}else n===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function jS(t){var e=Ms(),r=e.queue;if(r===null)throw Error(ye(311));r.lastRenderedReducer=t;var i=r.dispatch,n=r.pending,s=e.memoizedState;if(n!==null){r.pending=null;var a=n=n.next;do s=t(s,a.action),a=a.next;while(a!==n);_a(s,e.memoizedState)||(fn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,i]}function TB(){}function AB(t,e){var r=Sr,i=Ms(),n=e(),s=!_a(i.memoizedState,n);if(s&&(i.memoizedState=n,fn=!0),i=i.queue,wI(IB.bind(null,r,i,t),[t]),i.getSnapshot!==e||s||di!==null&&di.memoizedState.tag&1){if(r.flags|=2048,s0(9,RB.bind(null,r,i,n,e),void 0,null),mi===null)throw Error(ye(349));Ih&30||CB(r,e,n)}return n}function CB(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Sr.updateQueue,e===null?(e={lastEffect:null,stores:null},Sr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function RB(t,e,r,i){e.value=r,e.getSnapshot=i,PB(e)&&MB(t)}function IB(t,e,r){return r(function(){PB(e)&&MB(t)})}function PB(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!_a(t,r)}catch{return!0}}function MB(t){var e=fl(t,1);e!==null&&ma(e,t,1,-1)}function aN(t){var e=Ya();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n0,lastRenderedState:t},e.queue=t,t=t.dispatch=kQ.bind(null,Sr,t),[e.memoizedState,t]}function s0(t,e,r,i){return t={tag:t,create:e,destroy:r,deps:i,next:null},e=Sr.updateQueue,e===null?(e={lastEffect:null,stores:null},Sr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(i=r.next,r.next=t,t.next=i,e.lastEffect=t)),t}function kB(){return Ms().memoizedState}function gx(t,e,r,i){var n=Ya();Sr.flags|=t,n.memoizedState=s0(1|e,r,void 0,i===void 0?null:i)}function Y_(t,e,r,i){var n=Ms();i=i===void 0?null:i;var s=void 0;if(Kr!==null){var a=Kr.memoizedState;if(s=a.destroy,i!==null&&xI(i,a.deps)){n.memoizedState=s0(e,r,s,i);return}}Sr.flags|=t,n.memoizedState=s0(1|e,r,s,i)}function oN(t,e){return gx(8390656,8,t,e)}function wI(t,e){return Y_(2048,8,t,e)}function NB(t,e){return Y_(4,2,t,e)}function OB(t,e){return Y_(4,4,t,e)}function LB(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function DB(t,e,r){return r=r!=null?r.concat([t]):null,Y_(4,4,LB.bind(null,e,t),r)}function SI(){}function FB(t,e){var r=Ms();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&xI(e,i[1])?i[0]:(r.memoizedState=[t,e],t)}function BB(t,e){var r=Ms();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&xI(e,i[1])?i[0]:(t=t(),r.memoizedState=[t,e],t)}function jB(t,e,r){return Ih&21?(_a(r,e)||(r=z8(),Sr.lanes|=r,Ph|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fn=!0),t.memoizedState=r)}function PQ(t,e){var r=Kt;Kt=r!==0&&4>r?r:4,t(!0);var i=FS.transition;FS.transition={};try{t(!1),e()}finally{Kt=r,FS.transition=i}}function UB(){return Ms().memoizedState}function MQ(t,e,r){var i=Du(t);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},$B(t))zB(e,r);else if(r=yB(t,e,r,i),r!==null){var n=Qi();ma(r,t,i,n),HB(r,e,i)}}function kQ(t,e,r){var i=Du(t),n={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if($B(t))zB(e,n);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(n.hasEagerState=!0,n.eagerState=o,_a(o,a)){var l=e.interleaved;l===null?(n.next=n,pI(e)):(n.next=l.next,l.next=n),e.interleaved=n;return}}catch{}finally{}r=yB(t,e,n,i),r!==null&&(n=Qi(),ma(r,t,i,n),HB(r,e,i))}}function $B(t){var e=t.alternate;return t===Sr||e!==null&&e===Sr}function zB(t,e){vg=bb=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function HB(t,e,r){if(r&4194240){var i=e.lanes;i&=t.pendingLanes,r|=i,e.lanes=r,eI(t,r)}}var _b={readContext:Ps,useCallback:Oi,useContext:Oi,useEffect:Oi,useImperativeHandle:Oi,useInsertionEffect:Oi,useLayoutEffect:Oi,useMemo:Oi,useReducer:Oi,useRef:Oi,useState:Oi,useDebugValue:Oi,useDeferredValue:Oi,useTransition:Oi,useMutableSource:Oi,useSyncExternalStore:Oi,useId:Oi,unstable_isNewReconciler:!1},NQ={readContext:Ps,useCallback:function(t,e){return Ya().memoizedState=[t,e===void 0?null:e],t},useContext:Ps,useEffect:oN,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,gx(4194308,4,LB.bind(null,e,t),r)},useLayoutEffect:function(t,e){return gx(4194308,4,t,e)},useInsertionEffect:function(t,e){return gx(4,2,t,e)},useMemo:function(t,e){var r=Ya();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var i=Ya();return e=r!==void 0?r(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=MQ.bind(null,Sr,t),[i.memoizedState,t]},useRef:function(t){var e=Ya();return t={current:t},e.memoizedState=t},useState:aN,useDebugValue:SI,useDeferredValue:function(t){return Ya().memoizedState=t},useTransition:function(){var t=aN(!1),e=t[0];return t=PQ.bind(null,t[1]),Ya().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var i=Sr,n=Ya();if(gr){if(r===void 0)throw Error(ye(407));r=r()}else{if(r=e(),mi===null)throw Error(ye(349));Ih&30||CB(i,e,r)}n.memoizedState=r;var s={value:r,getSnapshot:e};return n.queue=s,oN(IB.bind(null,i,s,t),[t]),i.flags|=2048,s0(9,RB.bind(null,i,s,r,e),void 0,null),r},useId:function(){var t=Ya(),e=mi.identifierPrefix;if(gr){var r=Qo,i=Ko;r=(i&~(1<<32-pa(i)-1)).toString(32)+r,e=":"+e+"R"+r,r=i0++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=IQ++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},OQ={readContext:Ps,useCallback:FB,useContext:Ps,useEffect:wI,useImperativeHandle:DB,useInsertionEffect:NB,useLayoutEffect:OB,useMemo:BB,useReducer:BS,useRef:kB,useState:function(){return BS(n0)},useDebugValue:SI,useDeferredValue:function(t){var e=Ms();return jB(e,Kr.memoizedState,t)},useTransition:function(){var t=BS(n0)[0],e=Ms().memoizedState;return[t,e]},useMutableSource:TB,useSyncExternalStore:AB,useId:UB,unstable_isNewReconciler:!1},LQ={readContext:Ps,useCallback:FB,useContext:Ps,useEffect:wI,useImperativeHandle:DB,useInsertionEffect:NB,useLayoutEffect:OB,useMemo:BB,useReducer:jS,useRef:kB,useState:function(){return jS(n0)},useDebugValue:SI,useDeferredValue:function(t){var e=Ms();return Kr===null?e.memoizedState=t:jB(e,Kr.memoizedState,t)},useTransition:function(){var t=jS(n0)[0],e=Ms().memoizedState;return[t,e]},useMutableSource:TB,useSyncExternalStore:AB,useId:UB,unstable_isNewReconciler:!1};function ep(t,e){try{var r="",i=e;do r+=uK(i),i=i.return;while(i);var n=r}catch(s){n=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:n,digest:null}}function US(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function YA(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var DQ=typeof WeakMap=="function"?WeakMap:Map;function GB(t,e,r){r=sl(-1,r),r.tag=3,r.payload={element:null};var i=e.value;return r.callback=function(){Sb||(Sb=!0,nC=i),YA(t,e)},r}function VB(t,e,r){r=sl(-1,r),r.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var n=e.value;r.payload=function(){return i(n)},r.callback=function(){YA(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){YA(t,e),typeof i!="function"&&(Lu===null?Lu=new Set([this]):Lu.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function lN(t,e,r){var i=t.pingCache;if(i===null){i=t.pingCache=new DQ;var n=new Set;i.set(e,n)}else n=i.get(e),n===void 0&&(n=new Set,i.set(e,n));n.has(r)||(n.add(r),t=KQ.bind(null,t,e,r),e.then(t,t))}function uN(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cN(t,e,r,i,n){return t.mode&1?(t.flags|=65536,t.lanes=n,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=sl(-1,1),e.tag=2,Ou(r,e,1))),r.lanes|=1),t)}var FQ=wl.ReactCurrentOwner,fn=!1;function Vi(t,e,r,i){e.child=t===null?SB(e,null,r,i):Zf(e,t.child,r,i)}function hN(t,e,r,i,n){r=r.render;var s=e.ref;return gf(e,n),i=bI(t,e,r,i,s,n),r=_I(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,pl(t,e,n)):(gr&&r&&lI(e),e.flags|=1,Vi(t,e,i,n),e.child)}function dN(t,e,r,i,n){if(t===null){var s=r.type;return typeof s=="function"&&!MI(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,WB(t,e,s,i,n)):(t=bx(r.type,null,i,e,e.mode,n),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&n)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Qg,r(a,i)&&t.ref===e.ref)return pl(t,e,n)}return e.flags|=1,t=Fu(s,i),t.ref=e.ref,t.return=e,e.child=t}function WB(t,e,r,i,n){if(t!==null){var s=t.memoizedProps;if(Qg(s,i)&&t.ref===e.ref)if(fn=!1,e.pendingProps=i=s,(t.lanes&n)!==0)t.flags&131072&&(fn=!0);else return e.lanes=t.lanes,pl(t,e,n)}return qA(t,e,r,i,n)}function XB(t,e,r){var i=e.pendingProps,n=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},sr(ef,Dn),Dn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,sr(ef,Dn),Dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:r,sr(ef,Dn),Dn|=i}else s!==null?(i=s.baseLanes|r,e.memoizedState=null):i=r,sr(ef,Dn),Dn|=i;return Vi(t,e,n,r),e.child}function YB(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function qA(t,e,r,i,n){var s=vn(r)?Ch:ji.current;return s=Kf(e,s),gf(e,n),r=bI(t,e,r,i,s,n),i=_I(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,pl(t,e,n)):(gr&&i&&lI(e),e.flags|=1,Vi(t,e,r,n),e.child)}function fN(t,e,r,i,n){if(vn(r)){var s=!0;fb(e)}else s=!1;if(gf(e,n),e.stateNode===null)vx(t,e),_B(e,r,i),XA(e,r,i,n),i=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ps(u):(u=vn(r)?Ch:ji.current,u=Kf(e,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==i||l!==u)&&nN(e,a,i,u),eu=!1;var h=e.memoizedState;a.state=h,yb(e,i,a,n),l=e.memoizedState,o!==i||h!==l||gn.current||eu?(typeof c=="function"&&(WA(e,r,c,i),l=e.memoizedState),(o=eu||iN(e,r,o,i,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),a.props=i,a.state=l,a.context=u,i=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,xB(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:ea(e.type,o),a.props=u,d=e.pendingProps,h=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ps(l):(l=vn(r)?Ch:ji.current,l=Kf(e,l));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&nN(e,a,i,l),eu=!1,h=e.memoizedState,a.state=h,yb(e,i,a,n);var g=e.memoizedState;o!==d||h!==g||gn.current||eu?(typeof p=="function"&&(WA(e,r,p,i),g=e.memoizedState),(u=eu||iN(e,r,u,i,h,g,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),a.props=i,a.state=g,a.context=l,i=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return KA(t,e,r,i,s,n)}function KA(t,e,r,i,n,s){YB(t,e);var a=(e.flags&128)!==0;if(!i&&!a)return n&&Zk(e,r,!1),pl(t,e,s);i=e.stateNode,FQ.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=Zf(e,t.child,null,s),e.child=Zf(e,null,o,s)):Vi(t,e,o,s),e.memoizedState=i.state,n&&Zk(e,r,!0),e.child}function qB(t){var e=t.stateNode;e.pendingContext?Qk(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qk(t,e.context,!1),gI(t,e.containerInfo)}function pN(t,e,r,i,n){return Qf(),cI(n),e.flags|=256,Vi(t,e,r,i),e.child}var QA={dehydrated:null,treeContext:null,retryLane:0};function ZA(t){return{baseLanes:t,cachePool:null,transitions:null}}function KB(t,e,r){var i=e.pendingProps,n=_r.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(n&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(n|=1),sr(_r,n&1),t===null)return GA(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,t=i.fallback,s?(i=e.mode,s=e.child,a={mode:"hidden",children:a},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Q_(a,i,0,null),t=gh(t,i,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ZA(r),e.memoizedState=QA,t):EI(e,a));if(n=t.memoizedState,n!==null&&(o=n.dehydrated,o!==null))return BQ(t,e,a,i,o,n,r);if(s){s=i.fallback,a=e.mode,n=t.child,o=n.sibling;var l={mode:"hidden",children:i.children};return!(a&1)&&e.child!==n?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Fu(n,l),i.subtreeFlags=n.subtreeFlags&14680064),o!==null?s=Fu(o,s):(s=gh(s,a,r,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,a=t.child.memoizedState,a=a===null?ZA(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=QA,i}return s=t.child,t=s.sibling,i=Fu(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=r),i.return=e,i.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=i,e.memoizedState=null,i}function EI(t,e){return e=Q_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zv(t,e,r,i){return i!==null&&cI(i),Zf(e,t.child,null,r),t=EI(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function BQ(t,e,r,i,n,s,a){if(r)return e.flags&256?(e.flags&=-257,i=US(Error(ye(422))),zv(t,e,a,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,n=e.mode,i=Q_({mode:"visible",children:i.children},n,0,null),s=gh(s,n,a,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Zf(e,t.child,null,a),e.child.memoizedState=ZA(a),e.memoizedState=QA,s);if(!(e.mode&1))return zv(t,e,a,null);if(n.data==="$!"){if(i=n.nextSibling&&n.nextSibling.dataset,i)var o=i.dgst;return i=o,s=Error(ye(419)),i=US(s,i,void 0),zv(t,e,a,i)}if(o=(a&t.childLanes)!==0,fn||o){if(i=mi,i!==null){switch(a&-a){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(i.suspendedLanes|a)?0:n,n!==0&&n!==s.retryLane&&(s.retryLane=n,fl(t,n),ma(i,t,n,-1))}return PI(),i=US(Error(ye(421))),zv(t,e,a,i)}return n.data==="$?"?(e.flags|=128,e.child=t.child,e=QQ.bind(null,t),n._reactRetry=e,null):(t=s.treeContext,$n=Nu(n.nextSibling),Hn=e,gr=!0,na=null,t!==null&&(gs[vs++]=Ko,gs[vs++]=Qo,gs[vs++]=Rh,Ko=t.id,Qo=t.overflow,Rh=e),e=EI(e,i.children),e.flags|=4096,e)}function mN(t,e,r){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),VA(t.return,e,r)}function $S(t,e,r,i,n){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:n}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=r,s.tailMode=n)}function QB(t,e,r){var i=e.pendingProps,n=i.revealOrder,s=i.tail;if(Vi(t,e,i.children,r),i=_r.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mN(t,r,e);else if(t.tag===19)mN(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(sr(_r,i),!(e.mode&1))e.memoizedState=null;else switch(n){case"forwards":for(r=e.child,n=null;r!==null;)t=r.alternate,t!==null&&xb(t)===null&&(n=r),r=r.sibling;r=n,r===null?(n=e.child,e.child=null):(n=r.sibling,r.sibling=null),$S(e,!1,n,r,s);break;case"backwards":for(r=null,n=e.child,e.child=null;n!==null;){if(t=n.alternate,t!==null&&xb(t)===null){e.child=n;break}t=n.sibling,n.sibling=r,r=n,n=t}$S(e,!0,r,null,s);break;case"together":$S(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vx(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pl(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ph|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ye(153));if(e.child!==null){for(t=e.child,r=Fu(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Fu(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function jQ(t,e,r){switch(e.tag){case 3:qB(e),Qf();break;case 5:EB(e);break;case 1:vn(e.type)&&fb(e);break;case 4:gI(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,n=e.memoizedProps.value;sr(gb,i._currentValue),i._currentValue=n;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(sr(_r,_r.current&1),e.flags|=128,null):r&e.child.childLanes?KB(t,e,r):(sr(_r,_r.current&1),t=pl(t,e,r),t!==null?t.sibling:null);sr(_r,_r.current&1);break;case 19:if(i=(r&e.childLanes)!==0,t.flags&128){if(i)return QB(t,e,r);e.flags|=128}if(n=e.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),sr(_r,_r.current),i)break;return null;case 22:case 23:return e.lanes=0,XB(t,e,r)}return pl(t,e,r)}var ZB,JA,JB,ej;ZB=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};JA=function(){};JB=function(t,e,r,i){var n=t.memoizedProps;if(n!==i){t=e.stateNode,Zc(co.current);var s=null;switch(r){case"input":n=_A(t,n),i=_A(t,i),s=[];break;case"select":n=Er({},n,{value:void 0}),i=Er({},i,{value:void 0}),s=[];break;case"textarea":n=EA(t,n),i=EA(t,i),s=[];break;default:typeof n.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=hb)}AA(r,i);var a;r=null;for(u in n)if(!i.hasOwnProperty(u)&&n.hasOwnProperty(u)&&n[u]!=null)if(u==="style"){var o=n[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gg.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(o=n!=null?n[u]:void 0,i.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gg.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ar("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};ej=function(t,e,r,i){r!==i&&(e.flags|=4)};function pm(t,e){if(!gr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Li(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,i=0;if(e)for(var n=t.child;n!==null;)r|=n.lanes|n.childLanes,i|=n.subtreeFlags&14680064,i|=n.flags&14680064,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)r|=n.lanes|n.childLanes,i|=n.subtreeFlags,i|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=i,t.childLanes=r,e}function UQ(t,e,r){var i=e.pendingProps;switch(uI(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Li(e),null;case 1:return vn(e.type)&&db(),Li(e),null;case 3:return i=e.stateNode,Jf(),cr(gn),cr(ji),yI(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Uv(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,na!==null&&(oC(na),na=null))),JA(t,e),Li(e),null;case 5:vI(e);var n=Zc(r0.current);if(r=e.type,t!==null&&e.stateNode!=null)JB(t,e,r,i,n),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(ye(166));return Li(e),null}if(t=Zc(co.current),Uv(e)){i=e.stateNode,r=e.type;var s=e.memoizedProps;switch(i[io]=e,i[e0]=s,t=(e.mode&1)!==0,r){case"dialog":ar("cancel",i),ar("close",i);break;case"iframe":case"object":case"embed":ar("load",i);break;case"video":case"audio":for(n=0;n<Vm.length;n++)ar(Vm[n],i);break;case"source":ar("error",i);break;case"img":case"image":case"link":ar("error",i),ar("load",i);break;case"details":ar("toggle",i);break;case"input":Ek(i,s),ar("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},ar("invalid",i);break;case"textarea":Ak(i,s),ar("invalid",i)}AA(r,s),n=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?i.textContent!==o&&(s.suppressHydrationWarning!==!0&&jv(i.textContent,o,t),n=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&jv(i.textContent,o,t),n=["children",""+o]):Gg.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ar("scroll",i)}switch(r){case"input":Mv(i),Tk(i,s,!0);break;case"textarea":Mv(i),Ck(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=hb)}i=n,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=n.nodeType===9?n:n.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=C8(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(r,{is:i.is}):(t=a.createElement(r),r==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,r),t[io]=e,t[e0]=i,ZB(t,e,!1,!1),e.stateNode=t;e:{switch(a=CA(r,i),r){case"dialog":ar("cancel",t),ar("close",t),n=i;break;case"iframe":case"object":case"embed":ar("load",t),n=i;break;case"video":case"audio":for(n=0;n<Vm.length;n++)ar(Vm[n],t);n=i;break;case"source":ar("error",t),n=i;break;case"img":case"image":case"link":ar("error",t),ar("load",t),n=i;break;case"details":ar("toggle",t),n=i;break;case"input":Ek(t,i),n=_A(t,i),ar("invalid",t);break;case"option":n=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},n=Er({},i,{value:void 0}),ar("invalid",t);break;case"textarea":Ak(t,i),n=EA(t,i),ar("invalid",t);break;default:n=i}AA(r,n),o=n;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?P8(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&R8(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Vg(t,l):typeof l=="number"&&Vg(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Gg.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ar("scroll",t):l!=null&&YR(t,s,l,a))}switch(r){case"input":Mv(t),Tk(t,i,!1);break;case"textarea":Mv(t),Ck(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Wu(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?df(t,!!i.multiple,s,!1):i.defaultValue!=null&&df(t,!!i.multiple,i.defaultValue,!0);break;default:typeof n.onClick=="function"&&(t.onclick=hb)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Li(e),null;case 6:if(t&&e.stateNode!=null)ej(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(ye(166));if(r=Zc(r0.current),Zc(co.current),Uv(e)){if(i=e.stateNode,r=e.memoizedProps,i[io]=e,(s=i.nodeValue!==r)&&(t=Hn,t!==null))switch(t.tag){case 3:jv(i.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jv(i.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[io]=e,e.stateNode=i}return Li(e),null;case 13:if(cr(_r),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(gr&&$n!==null&&e.mode&1&&!(e.flags&128))vB(),Qf(),e.flags|=98560,s=!1;else if(s=Uv(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(ye(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ye(317));s[io]=e}else Qf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Li(e),s=!1}else na!==null&&(oC(na),na=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||_r.current&1?ei===0&&(ei=3):PI())),e.updateQueue!==null&&(e.flags|=4),Li(e),null);case 4:return Jf(),JA(t,e),t===null&&Zg(e.stateNode.containerInfo),Li(e),null;case 10:return fI(e.type._context),Li(e),null;case 17:return vn(e.type)&&db(),Li(e),null;case 19:if(cr(_r),s=e.memoizedState,s===null)return Li(e),null;if(i=(e.flags&128)!==0,a=s.rendering,a===null)if(i)pm(s,!1);else{if(ei!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=xb(t),a!==null){for(e.flags|=128,pm(s,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=r,r=e.child;r!==null;)s=r,t=i,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return sr(_r,_r.current&1|2),e.child}t=t.sibling}s.tail!==null&&Br()>tp&&(e.flags|=128,i=!0,pm(s,!1),e.lanes=4194304)}else{if(!i)if(t=xb(a),t!==null){if(e.flags|=128,i=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),pm(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!gr)return Li(e),null}else 2*Br()-s.renderingStartTime>tp&&r!==1073741824&&(e.flags|=128,i=!0,pm(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Br(),e.sibling=null,r=_r.current,sr(_r,i?r&1|2:r&1),e):(Li(e),null);case 22:case 23:return II(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Dn&1073741824&&(Li(e),e.subtreeFlags&6&&(e.flags|=8192)):Li(e),null;case 24:return null;case 25:return null}throw Error(ye(156,e.tag))}function $Q(t,e){switch(uI(e),e.tag){case 1:return vn(e.type)&&db(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jf(),cr(gn),cr(ji),yI(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vI(e),null;case 13:if(cr(_r),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ye(340));Qf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return cr(_r),null;case 4:return Jf(),null;case 10:return fI(e.type._context),null;case 22:case 23:return II(),null;case 24:return null;default:return null}}var Hv=!1,Bi=!1,zQ=typeof WeakSet=="function"?WeakSet:Set,De=null;function Jd(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Ir(t,e,i)}else r.current=null}function eC(t,e,r){try{r()}catch(i){Ir(t,e,i)}}var gN=!1;function HQ(t,e){if(FA=lb,t=nB(),oI(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var n=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var p;d!==r||n!==0&&d.nodeType!==3||(o=a+n),d!==s||i!==0&&d.nodeType!==3||(l=a+i),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===r&&++u===n&&(o=a),h===s&&++c===i&&(l=a),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(BA={focusedElem:t,selectionRange:r},lb=!1,De=e;De!==null;)if(e=De,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,De=t;else for(;De!==null;){e=De;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:ea(e.type,y),b);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ye(163))}}catch(E){Ir(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,De=t;break}De=e.return}return g=gN,gN=!1,g}function yg(t,e,r){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var n=i=i.next;do{if((n.tag&t)===t){var s=n.destroy;n.destroy=void 0,s!==void 0&&eC(e,r,s)}n=n.next}while(n!==i)}}function q_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var i=r.create;r.destroy=i()}r=r.next}while(r!==e)}}function tC(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function tj(t){var e=t.alternate;e!==null&&(t.alternate=null,tj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[io],delete e[e0],delete e[$A],delete e[TQ],delete e[AQ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rj(t){return t.tag===5||t.tag===3||t.tag===4}function vN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rC(t,e,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=hb));else if(i!==4&&(t=t.child,t!==null))for(rC(t,e,r),t=t.sibling;t!==null;)rC(t,e,r),t=t.sibling}function iC(t,e,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(iC(t,e,r),t=t.sibling;t!==null;)iC(t,e,r),t=t.sibling}var _i=null,ra=!1;function zl(t,e,r){for(r=r.child;r!==null;)ij(t,e,r),r=r.sibling}function ij(t,e,r){if(uo&&typeof uo.onCommitFiberUnmount=="function")try{uo.onCommitFiberUnmount($_,r)}catch{}switch(r.tag){case 5:Bi||Jd(r,e);case 6:var i=_i,n=ra;_i=null,zl(t,e,r),_i=i,ra=n,_i!==null&&(ra?(t=_i,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):_i.removeChild(r.stateNode));break;case 18:_i!==null&&(ra?(t=_i,r=r.stateNode,t.nodeType===8?OS(t.parentNode,r):t.nodeType===1&&OS(t,r),qg(t)):OS(_i,r.stateNode));break;case 4:i=_i,n=ra,_i=r.stateNode.containerInfo,ra=!0,zl(t,e,r),_i=i,ra=n;break;case 0:case 11:case 14:case 15:if(!Bi&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){n=i=i.next;do{var s=n,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&eC(r,e,a),n=n.next}while(n!==i)}zl(t,e,r);break;case 1:if(!Bi&&(Jd(r,e),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(o){Ir(r,e,o)}zl(t,e,r);break;case 21:zl(t,e,r);break;case 22:r.mode&1?(Bi=(i=Bi)||r.memoizedState!==null,zl(t,e,r),Bi=i):zl(t,e,r);break;default:zl(t,e,r)}}function yN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new zQ),e.forEach(function(i){var n=ZQ.bind(null,t,i);r.has(i)||(r.add(i),i.then(n,n))})}}function Vs(t,e){var r=e.deletions;if(r!==null)for(var i=0;i<r.length;i++){var n=r[i];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:_i=o.stateNode,ra=!1;break e;case 3:_i=o.stateNode.containerInfo,ra=!0;break e;case 4:_i=o.stateNode.containerInfo,ra=!0;break e}o=o.return}if(_i===null)throw Error(ye(160));ij(s,a,n),_i=null,ra=!1;var l=n.alternate;l!==null&&(l.return=null),n.return=null}catch(u){Ir(n,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nj(e,t),e=e.sibling}function nj(t,e){var r=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vs(e,t),ja(t),i&4){try{yg(3,t,t.return),q_(3,t)}catch(y){Ir(t,t.return,y)}try{yg(5,t,t.return)}catch(y){Ir(t,t.return,y)}}break;case 1:Vs(e,t),ja(t),i&512&&r!==null&&Jd(r,r.return);break;case 5:if(Vs(e,t),ja(t),i&512&&r!==null&&Jd(r,r.return),t.flags&32){var n=t.stateNode;try{Vg(n,"")}catch(y){Ir(t,t.return,y)}}if(i&4&&(n=t.stateNode,n!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&T8(n,s),CA(o,a);var u=CA(o,s);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?P8(n,d):c==="dangerouslySetInnerHTML"?R8(n,d):c==="children"?Vg(n,d):YR(n,c,d,u)}switch(o){case"input":wA(n,s);break;case"textarea":A8(n,s);break;case"select":var h=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?df(n,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?df(n,!!s.multiple,s.defaultValue,!0):df(n,!!s.multiple,s.multiple?[]:"",!1))}n[e0]=s}catch(y){Ir(t,t.return,y)}}break;case 6:if(Vs(e,t),ja(t),i&4){if(t.stateNode===null)throw Error(ye(162));n=t.stateNode,s=t.memoizedProps;try{n.nodeValue=s}catch(y){Ir(t,t.return,y)}}break;case 3:if(Vs(e,t),ja(t),i&4&&r!==null&&r.memoizedState.isDehydrated)try{qg(e.containerInfo)}catch(y){Ir(t,t.return,y)}break;case 4:Vs(e,t),ja(t);break;case 13:Vs(e,t),ja(t),n=t.child,n.flags&8192&&(s=n.memoizedState!==null,n.stateNode.isHidden=s,!s||n.alternate!==null&&n.alternate.memoizedState!==null||(CI=Br())),i&4&&yN(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Bi=(u=Bi)||c,Vs(e,t),Bi=u):Vs(e,t),ja(t),i&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(De=t,c=t.child;c!==null;){for(d=De=c;De!==null;){switch(h=De,p=h.child,h.tag){case 0:case 11:case 14:case 15:yg(4,h,h.return);break;case 1:Jd(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){i=h,r=h.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Ir(i,r,y)}}break;case 5:Jd(h,h.return);break;case 22:if(h.memoizedState!==null){bN(d);continue}}p!==null?(p.return=h,De=p):bN(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{n=d.stateNode,u?(s=n.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=I8("display",a))}catch(y){Ir(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){Ir(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Vs(e,t),ja(t),i&4&&yN(t);break;case 21:break;default:Vs(e,t),ja(t)}}function ja(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(rj(r)){var i=r;break e}r=r.return}throw Error(ye(160))}switch(i.tag){case 5:var n=i.stateNode;i.flags&32&&(Vg(n,""),i.flags&=-33);var s=vN(t);iC(t,s,n);break;case 3:case 4:var a=i.stateNode.containerInfo,o=vN(t);rC(t,o,a);break;default:throw Error(ye(161))}}catch(l){Ir(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GQ(t,e,r){De=t,sj(t)}function sj(t,e,r){for(var i=(t.mode&1)!==0;De!==null;){var n=De,s=n.child;if(n.tag===22&&i){var a=n.memoizedState!==null||Hv;if(!a){var o=n.alternate,l=o!==null&&o.memoizedState!==null||Bi;o=Hv;var u=Bi;if(Hv=a,(Bi=l)&&!u)for(De=n;De!==null;)a=De,l=a.child,a.tag===22&&a.memoizedState!==null?_N(n):l!==null?(l.return=a,De=l):_N(n);for(;s!==null;)De=s,sj(s),s=s.sibling;De=n,Hv=o,Bi=u}xN(t)}else n.subtreeFlags&8772&&s!==null?(s.return=n,De=s):xN(t)}}function xN(t){for(;De!==null;){var e=De;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bi||q_(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Bi)if(r===null)i.componentDidMount();else{var n=e.elementType===e.type?r.memoizedProps:ea(e.type,r.memoizedProps);i.componentDidUpdate(n,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&rN(e,s,i);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}rN(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&qg(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ye(163))}Bi||e.flags&512&&tC(e)}catch(h){Ir(e,e.return,h)}}if(e===t){De=null;break}if(r=e.sibling,r!==null){r.return=e.return,De=r;break}De=e.return}}function bN(t){for(;De!==null;){var e=De;if(e===t){De=null;break}var r=e.sibling;if(r!==null){r.return=e.return,De=r;break}De=e.return}}function _N(t){for(;De!==null;){var e=De;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{q_(4,e)}catch(l){Ir(e,r,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var n=e.return;try{i.componentDidMount()}catch(l){Ir(e,n,l)}}var s=e.return;try{tC(e)}catch(l){Ir(e,s,l)}break;case 5:var a=e.return;try{tC(e)}catch(l){Ir(e,a,l)}}}catch(l){Ir(e,e.return,l)}if(e===t){De=null;break}var o=e.sibling;if(o!==null){o.return=e.return,De=o;break}De=e.return}}var VQ=Math.ceil,wb=wl.ReactCurrentDispatcher,TI=wl.ReactCurrentOwner,Cs=wl.ReactCurrentBatchConfig,jt=0,mi=null,Hr=null,Ti=0,Dn=0,ef=ic(0),ei=0,a0=null,Ph=0,K_=0,AI=0,xg=null,dn=null,CI=0,tp=1/0,zo=null,Sb=!1,nC=null,Lu=null,Gv=!1,vu=null,Eb=0,bg=0,sC=null,yx=-1,xx=0;function Qi(){return jt&6?Br():yx!==-1?yx:yx=Br()}function Du(t){return t.mode&1?jt&2&&Ti!==0?Ti&-Ti:RQ.transition!==null?(xx===0&&(xx=z8()),xx):(t=Kt,t!==0||(t=window.event,t=t===void 0?16:q8(t.type)),t):1}function ma(t,e,r,i){if(50<bg)throw bg=0,sC=null,Error(ye(185));a1(t,r,i),(!(jt&2)||t!==mi)&&(t===mi&&(!(jt&2)&&(K_|=r),ei===4&&su(t,Ti)),yn(t,i),r===1&&jt===0&&!(e.mode&1)&&(tp=Br()+500,W_&&nc()))}function yn(t,e){var r=t.callbackNode;RK(t,e);var i=ob(t,t===mi?Ti:0);if(i===0)r!==null&&Pk(r),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(r!=null&&Pk(r),e===1)t.tag===0?CQ(wN.bind(null,t)):pB(wN.bind(null,t)),SQ(function(){!(jt&6)&&nc()}),r=null;else{switch(H8(i)){case 1:r=JR;break;case 4:r=U8;break;case 16:r=ab;break;case 536870912:r=$8;break;default:r=ab}r=fj(r,aj.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function aj(t,e){if(yx=-1,xx=0,jt&6)throw Error(ye(327));var r=t.callbackNode;if(vf()&&t.callbackNode!==r)return null;var i=ob(t,t===mi?Ti:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Tb(t,i);else{e=i;var n=jt;jt|=2;var s=lj();(mi!==t||Ti!==e)&&(zo=null,tp=Br()+500,mh(t,e));do try{YQ();break}catch(o){oj(t,o)}while(!0);dI(),wb.current=s,jt=n,Hr!==null?e=0:(mi=null,Ti=0,e=ei)}if(e!==0){if(e===2&&(n=kA(t),n!==0&&(i=n,e=aC(t,n))),e===1)throw r=a0,mh(t,0),su(t,i),yn(t,Br()),r;if(e===6)su(t,i);else{if(n=t.current.alternate,!(i&30)&&!WQ(n)&&(e=Tb(t,i),e===2&&(s=kA(t),s!==0&&(i=s,e=aC(t,s))),e===1))throw r=a0,mh(t,0),su(t,i),yn(t,Br()),r;switch(t.finishedWork=n,t.finishedLanes=i,e){case 0:case 1:throw Error(ye(345));case 2:Mc(t,dn,zo);break;case 3:if(su(t,i),(i&130023424)===i&&(e=CI+500-Br(),10<e)){if(ob(t,0)!==0)break;if(n=t.suspendedLanes,(n&i)!==i){Qi(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=UA(Mc.bind(null,t,dn,zo),e);break}Mc(t,dn,zo);break;case 4:if(su(t,i),(i&4194240)===i)break;for(e=t.eventTimes,n=-1;0<i;){var a=31-pa(i);s=1<<a,a=e[a],a>n&&(n=a),i&=~s}if(i=n,i=Br()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*VQ(i/1960))-i,10<i){t.timeoutHandle=UA(Mc.bind(null,t,dn,zo),i);break}Mc(t,dn,zo);break;case 5:Mc(t,dn,zo);break;default:throw Error(ye(329))}}}return yn(t,Br()),t.callbackNode===r?aj.bind(null,t):null}function aC(t,e){var r=xg;return t.current.memoizedState.isDehydrated&&(mh(t,e).flags|=256),t=Tb(t,e),t!==2&&(e=dn,dn=r,e!==null&&oC(e)),t}function oC(t){dn===null?dn=t:dn.push.apply(dn,t)}function WQ(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var n=r[i],s=n.getSnapshot;n=n.value;try{if(!_a(s(),n))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function su(t,e){for(e&=~AI,e&=~K_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-pa(e),i=1<<r;t[r]=-1,e&=~i}}function wN(t){if(jt&6)throw Error(ye(327));vf();var e=ob(t,0);if(!(e&1))return yn(t,Br()),null;var r=Tb(t,e);if(t.tag!==0&&r===2){var i=kA(t);i!==0&&(e=i,r=aC(t,i))}if(r===1)throw r=a0,mh(t,0),su(t,e),yn(t,Br()),r;if(r===6)throw Error(ye(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mc(t,dn,zo),yn(t,Br()),null}function RI(t,e){var r=jt;jt|=1;try{return t(e)}finally{jt=r,jt===0&&(tp=Br()+500,W_&&nc())}}function Mh(t){vu!==null&&vu.tag===0&&!(jt&6)&&vf();var e=jt;jt|=1;var r=Cs.transition,i=Kt;try{if(Cs.transition=null,Kt=1,t)return t()}finally{Kt=i,Cs.transition=r,jt=e,!(jt&6)&&nc()}}function II(){Dn=ef.current,cr(ef)}function mh(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,wQ(r)),Hr!==null)for(r=Hr.return;r!==null;){var i=r;switch(uI(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&db();break;case 3:Jf(),cr(gn),cr(ji),yI();break;case 5:vI(i);break;case 4:Jf();break;case 13:cr(_r);break;case 19:cr(_r);break;case 10:fI(i.type._context);break;case 22:case 23:II()}r=r.return}if(mi=t,Hr=t=Fu(t.current,null),Ti=Dn=e,ei=0,a0=null,AI=K_=Ph=0,dn=xg=null,Qc!==null){for(e=0;e<Qc.length;e++)if(r=Qc[e],i=r.interleaved,i!==null){r.interleaved=null;var n=i.next,s=r.pending;if(s!==null){var a=s.next;s.next=n,i.next=a}r.pending=i}Qc=null}return t}function oj(t,e){do{var r=Hr;try{if(dI(),mx.current=_b,bb){for(var i=Sr.memoizedState;i!==null;){var n=i.queue;n!==null&&(n.pending=null),i=i.next}bb=!1}if(Ih=0,di=Kr=Sr=null,vg=!1,i0=0,TI.current=null,r===null||r.return===null){ei=1,a0=e,Hr=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=Ti,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=uN(a);if(p!==null){p.flags&=-257,cN(p,a,o,s,e),p.mode&1&&lN(s,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){lN(s,u,e),PI();break e}l=Error(ye(426))}}else if(gr&&o.mode&1){var b=uN(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),cN(b,a,o,s,e),cI(ep(l,o));break e}}s=l=ep(l,o),ei!==4&&(ei=2),xg===null?xg=[s]:xg.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=GB(s,l,e);tN(s,x);break e;case 1:o=l;var w=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Lu===null||!Lu.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=VB(s,o,e);tN(s,E);break e}}s=s.return}while(s!==null)}cj(r)}catch(A){e=A,Hr===r&&r!==null&&(Hr=r=r.return);continue}break}while(!0)}function lj(){var t=wb.current;return wb.current=_b,t===null?_b:t}function PI(){(ei===0||ei===3||ei===2)&&(ei=4),mi===null||!(Ph&268435455)&&!(K_&268435455)||su(mi,Ti)}function Tb(t,e){var r=jt;jt|=2;var i=lj();(mi!==t||Ti!==e)&&(zo=null,mh(t,e));do try{XQ();break}catch(n){oj(t,n)}while(!0);if(dI(),jt=r,wb.current=i,Hr!==null)throw Error(ye(261));return mi=null,Ti=0,ei}function XQ(){for(;Hr!==null;)uj(Hr)}function YQ(){for(;Hr!==null&&!xK();)uj(Hr)}function uj(t){var e=dj(t.alternate,t,Dn);t.memoizedProps=t.pendingProps,e===null?cj(t):Hr=e,TI.current=null}function cj(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=$Q(r,e),r!==null){r.flags&=32767,Hr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ei=6,Hr=null;return}}else if(r=UQ(r,e,Dn),r!==null){Hr=r;return}if(e=e.sibling,e!==null){Hr=e;return}Hr=e=t}while(e!==null);ei===0&&(ei=5)}function Mc(t,e,r){var i=Kt,n=Cs.transition;try{Cs.transition=null,Kt=1,qQ(t,e,r,i)}finally{Cs.transition=n,Kt=i}return null}function qQ(t,e,r,i){do vf();while(vu!==null);if(jt&6)throw Error(ye(327));r=t.finishedWork;var n=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ye(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(IK(t,s),t===mi&&(Hr=mi=null,Ti=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Gv||(Gv=!0,fj(ab,function(){return vf(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Cs.transition,Cs.transition=null;var a=Kt;Kt=1;var o=jt;jt|=4,TI.current=null,HQ(t,r),nj(r,t),mQ(BA),lb=!!FA,BA=FA=null,t.current=r,GQ(r),bK(),jt=o,Kt=a,Cs.transition=s}else t.current=r;if(Gv&&(Gv=!1,vu=t,Eb=n),s=t.pendingLanes,s===0&&(Lu=null),SK(r.stateNode),yn(t,Br()),e!==null)for(i=t.onRecoverableError,r=0;r<e.length;r++)n=e[r],i(n.value,{componentStack:n.stack,digest:n.digest});if(Sb)throw Sb=!1,t=nC,nC=null,t;return Eb&1&&t.tag!==0&&vf(),s=t.pendingLanes,s&1?t===sC?bg++:(bg=0,sC=t):bg=0,nc(),null}function vf(){if(vu!==null){var t=H8(Eb),e=Cs.transition,r=Kt;try{if(Cs.transition=null,Kt=16>t?16:t,vu===null)var i=!1;else{if(t=vu,vu=null,Eb=0,jt&6)throw Error(ye(331));var n=jt;for(jt|=4,De=t.current;De!==null;){var s=De,a=s.child;if(De.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(De=u;De!==null;){var c=De;switch(c.tag){case 0:case 11:case 15:yg(8,c,s)}var d=c.child;if(d!==null)d.return=c,De=d;else for(;De!==null;){c=De;var h=c.sibling,p=c.return;if(tj(c),c===u){De=null;break}if(h!==null){h.return=p,De=h;break}De=p}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}De=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,De=a;else e:for(;De!==null;){if(s=De,s.flags&2048)switch(s.tag){case 0:case 11:case 15:yg(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,De=x;break e}De=s.return}}var w=t.current;for(De=w;De!==null;){a=De;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,De=_;else e:for(a=w;De!==null;){if(o=De,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:q_(9,o)}}catch(A){Ir(o,o.return,A)}if(o===a){De=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,De=E;break e}De=o.return}}if(jt=n,nc(),uo&&typeof uo.onPostCommitFiberRoot=="function")try{uo.onPostCommitFiberRoot($_,t)}catch{}i=!0}return i}finally{Kt=r,Cs.transition=e}}return!1}function SN(t,e,r){e=ep(r,e),e=GB(t,e,1),t=Ou(t,e,1),e=Qi(),t!==null&&(a1(t,1,e),yn(t,e))}function Ir(t,e,r){if(t.tag===3)SN(t,t,r);else for(;e!==null;){if(e.tag===3){SN(e,t,r);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Lu===null||!Lu.has(i))){t=ep(r,t),t=VB(e,t,1),e=Ou(e,t,1),t=Qi(),e!==null&&(a1(e,1,t),yn(e,t));break}}e=e.return}}function KQ(t,e,r){var i=t.pingCache;i!==null&&i.delete(e),e=Qi(),t.pingedLanes|=t.suspendedLanes&r,mi===t&&(Ti&r)===r&&(ei===4||ei===3&&(Ti&130023424)===Ti&&500>Br()-CI?mh(t,0):AI|=r),yn(t,e)}function hj(t,e){e===0&&(t.mode&1?(e=Ov,Ov<<=1,!(Ov&130023424)&&(Ov=4194304)):e=1);var r=Qi();t=fl(t,e),t!==null&&(a1(t,e,r),yn(t,r))}function QQ(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),hj(t,r)}function ZQ(t,e){var r=0;switch(t.tag){case 13:var i=t.stateNode,n=t.memoizedState;n!==null&&(r=n.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(ye(314))}i!==null&&i.delete(e),hj(t,r)}var dj;dj=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||gn.current)fn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return fn=!1,jQ(t,e,r);fn=!!(t.flags&131072)}else fn=!1,gr&&e.flags&1048576&&mB(e,mb,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;vx(t,e),t=e.pendingProps;var n=Kf(e,ji.current);gf(e,r),n=bI(null,e,i,t,n,r);var s=_I();return e.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vn(i)?(s=!0,fb(e)):s=!1,e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,mI(e),n.updater=X_,e.stateNode=n,n._reactInternals=e,XA(e,i,t,r),e=KA(null,e,i,!0,s,r)):(e.tag=0,gr&&s&&lI(e),Vi(null,e,n,r),e=e.child),e;case 16:i=e.elementType;e:{switch(vx(t,e),t=e.pendingProps,n=i._init,i=n(i._payload),e.type=i,n=e.tag=eZ(i),t=ea(i,t),n){case 0:e=qA(null,e,i,t,r);break e;case 1:e=fN(null,e,i,t,r);break e;case 11:e=hN(null,e,i,t,r);break e;case 14:e=dN(null,e,i,ea(i.type,t),r);break e}throw Error(ye(306,i,""))}return e;case 0:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:ea(i,n),qA(t,e,i,n,r);case 1:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:ea(i,n),fN(t,e,i,n,r);case 3:e:{if(qB(e),t===null)throw Error(ye(387));i=e.pendingProps,s=e.memoizedState,n=s.element,xB(t,e),yb(e,i,null,r);var a=e.memoizedState;if(i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){n=ep(Error(ye(423)),e),e=pN(t,e,i,r,n);break e}else if(i!==n){n=ep(Error(ye(424)),e),e=pN(t,e,i,r,n);break e}else for($n=Nu(e.stateNode.containerInfo.firstChild),Hn=e,gr=!0,na=null,r=SB(e,null,i,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qf(),i===n){e=pl(t,e,r);break e}Vi(t,e,i,r)}e=e.child}return e;case 5:return EB(e),t===null&&GA(e),i=e.type,n=e.pendingProps,s=t!==null?t.memoizedProps:null,a=n.children,jA(i,n)?a=null:s!==null&&jA(i,s)&&(e.flags|=32),YB(t,e),Vi(t,e,a,r),e.child;case 6:return t===null&&GA(e),null;case 13:return KB(t,e,r);case 4:return gI(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Zf(e,null,i,r):Vi(t,e,i,r),e.child;case 11:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:ea(i,n),hN(t,e,i,n,r);case 7:return Vi(t,e,e.pendingProps,r),e.child;case 8:return Vi(t,e,e.pendingProps.children,r),e.child;case 12:return Vi(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(i=e.type._context,n=e.pendingProps,s=e.memoizedProps,a=n.value,sr(gb,i._currentValue),i._currentValue=a,s!==null)if(_a(s.value,a)){if(s.children===n.children&&!gn.current){e=pl(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=sl(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),VA(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ye(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),VA(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Vi(t,e,n.children,r),e=e.child}return e;case 9:return n=e.type,i=e.pendingProps.children,gf(e,r),n=Ps(n),i=i(n),e.flags|=1,Vi(t,e,i,r),e.child;case 14:return i=e.type,n=ea(i,e.pendingProps),n=ea(i.type,n),dN(t,e,i,n,r);case 15:return WB(t,e,e.type,e.pendingProps,r);case 17:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:ea(i,n),vx(t,e),e.tag=1,vn(i)?(t=!0,fb(e)):t=!1,gf(e,r),_B(e,i,n),XA(e,i,n,r),KA(null,e,i,!0,t,r);case 19:return QB(t,e,r);case 22:return XB(t,e,r)}throw Error(ye(156,e.tag))};function fj(t,e){return j8(t,e)}function JQ(t,e,r,i){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ws(t,e,r,i){return new JQ(t,e,r,i)}function MI(t){return t=t.prototype,!(!t||!t.isReactComponent)}function eZ(t){if(typeof t=="function")return MI(t)?1:0;if(t!=null){if(t=t.$$typeof,t===KR)return 11;if(t===QR)return 14}return 2}function Fu(t,e){var r=t.alternate;return r===null?(r=ws(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function bx(t,e,r,i,n,s){var a=2;if(i=t,typeof t=="function")MI(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Gd:return gh(r.children,n,s,e);case qR:a=8,n|=8;break;case vA:return t=ws(12,r,e,n|2),t.elementType=vA,t.lanes=s,t;case yA:return t=ws(13,r,e,n),t.elementType=yA,t.lanes=s,t;case xA:return t=ws(19,r,e,n),t.elementType=xA,t.lanes=s,t;case w8:return Q_(r,n,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b8:a=10;break e;case _8:a=9;break e;case KR:a=11;break e;case QR:a=14;break e;case Jl:a=16,i=null;break e}throw Error(ye(130,t==null?t:typeof t,""))}return e=ws(a,r,e,n),e.elementType=t,e.type=i,e.lanes=s,e}function gh(t,e,r,i){return t=ws(7,t,i,e),t.lanes=r,t}function Q_(t,e,r,i){return t=ws(22,t,i,e),t.elementType=w8,t.lanes=r,t.stateNode={isHidden:!1},t}function zS(t,e,r){return t=ws(6,t,null,e),t.lanes=r,t}function HS(t,e,r){return e=ws(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tZ(t,e,r,i,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=SS(0),this.expirationTimes=SS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=SS(0),this.identifierPrefix=i,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function kI(t,e,r,i,n,s,a,o,l){return t=new tZ(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ws(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},mI(s),t}function rZ(t,e,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hd,key:i==null?null:""+i,children:t,containerInfo:e,implementation:r}}function pj(t){if(!t)return Xu;t=t._reactInternals;e:{if(Xh(t)!==t||t.tag!==1)throw Error(ye(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ye(171))}if(t.tag===1){var r=t.type;if(vn(r))return fB(t,r,e)}return e}function mj(t,e,r,i,n,s,a,o,l){return t=kI(r,i,!0,t,n,s,a,o,l),t.context=pj(null),r=t.current,i=Qi(),n=Du(r),s=sl(i,n),s.callback=e??null,Ou(r,s,n),t.current.lanes=n,a1(t,n,i),yn(t,i),t}function Z_(t,e,r,i){var n=e.current,s=Qi(),a=Du(n);return r=pj(r),e.context===null?e.context=r:e.pendingContext=r,e=sl(s,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Ou(n,e,a),t!==null&&(ma(t,n,a,s),px(t,n,a)),a}function Ab(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function EN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function NI(t,e){EN(t,e),(t=t.alternate)&&EN(t,e)}function iZ(){return null}var gj=typeof reportError=="function"?reportError:function(t){console.error(t)};function OI(t){this._internalRoot=t}J_.prototype.render=OI.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ye(409));Z_(t,e,null,null)};J_.prototype.unmount=OI.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mh(function(){Z_(null,t,null,null)}),e[dl]=null}};function J_(t){this._internalRoot=t}J_.prototype.unstable_scheduleHydration=function(t){if(t){var e=W8();t={blockedOn:null,target:t,priority:e};for(var r=0;r<nu.length&&e!==0&&e<nu[r].priority;r++);nu.splice(r,0,t),r===0&&Y8(t)}};function LI(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ew(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function TN(){}function nZ(t,e,r,i,n){if(n){if(typeof i=="function"){var s=i;i=function(){var u=Ab(a);s.call(u)}}var a=mj(e,i,t,0,null,!1,!1,"",TN);return t._reactRootContainer=a,t[dl]=a.current,Zg(t.nodeType===8?t.parentNode:t),Mh(),a}for(;n=t.lastChild;)t.removeChild(n);if(typeof i=="function"){var o=i;i=function(){var u=Ab(l);o.call(u)}}var l=kI(t,0,!1,null,null,!1,!1,"",TN);return t._reactRootContainer=l,t[dl]=l.current,Zg(t.nodeType===8?t.parentNode:t),Mh(function(){Z_(e,l,r,i)}),l}function tw(t,e,r,i,n){var s=r._reactRootContainer;if(s){var a=s;if(typeof n=="function"){var o=n;n=function(){var l=Ab(a);o.call(l)}}Z_(e,a,t,n)}else a=nZ(r,e,t,n,i);return Ab(a)}G8=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Gm(e.pendingLanes);r!==0&&(eI(e,r|1),yn(e,Br()),!(jt&6)&&(tp=Br()+500,nc()))}break;case 13:Mh(function(){var i=fl(t,1);if(i!==null){var n=Qi();ma(i,t,1,n)}}),NI(t,1)}};tI=function(t){if(t.tag===13){var e=fl(t,134217728);if(e!==null){var r=Qi();ma(e,t,134217728,r)}NI(t,134217728)}};V8=function(t){if(t.tag===13){var e=Du(t),r=fl(t,e);if(r!==null){var i=Qi();ma(r,t,e,i)}NI(t,e)}};W8=function(){return Kt};X8=function(t,e){var r=Kt;try{return Kt=t,e()}finally{Kt=r}};IA=function(t,e,r){switch(e){case"input":if(wA(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var i=r[e];if(i!==t&&i.form===t.form){var n=V_(i);if(!n)throw Error(ye(90));E8(i),wA(i,n)}}}break;case"textarea":A8(t,r);break;case"select":e=r.value,e!=null&&df(t,!!r.multiple,e,!1)}};N8=RI;O8=Mh;var sZ={usingClientEntryPoint:!1,Events:[l1,Yd,V_,M8,k8,RI]},mm={findFiberByHostInstance:Kc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},aZ={bundleType:mm.bundleType,version:mm.version,rendererPackageName:mm.rendererPackageName,rendererConfig:mm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=F8(t),t===null?null:t.stateNode},findFiberByHostInstance:mm.findFiberByHostInstance||iZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vv.isDisabled&&Vv.supportsFiber)try{$_=Vv.inject(aZ),uo=Vv}catch{}}Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sZ;Kn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!LI(e))throw Error(ye(200));return rZ(t,e,null,r)};Kn.createRoot=function(t,e){if(!LI(t))throw Error(ye(299));var r=!1,i="",n=gj;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(n=e.onRecoverableError)),e=kI(t,1,!1,null,null,r,!1,i,n),t[dl]=e.current,Zg(t.nodeType===8?t.parentNode:t),new OI(e)};Kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ye(188)):(t=Object.keys(t).join(","),Error(ye(268,t)));return t=F8(e),t=t===null?null:t.stateNode,t};Kn.flushSync=function(t){return Mh(t)};Kn.hydrate=function(t,e,r){if(!ew(e))throw Error(ye(200));return tw(null,t,e,!0,r)};Kn.hydrateRoot=function(t,e,r){if(!LI(t))throw Error(ye(405));var i=r!=null&&r.hydratedSources||null,n=!1,s="",a=gj;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=mj(e,null,t,1,r??null,n,!1,s,a),t[dl]=e.current,Zg(t),i)for(t=0;t<i.length;t++)r=i[t],n=r._getVersion,n=n(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,n]:e.mutableSourceEagerHydrationData.push(r,n);return new J_(e)};Kn.render=function(t,e,r){if(!ew(e))throw Error(ye(200));return tw(null,t,e,!1,r)};Kn.unmountComponentAtNode=function(t){if(!ew(t))throw Error(ye(40));return t._reactRootContainer?(Mh(function(){tw(null,null,t,!1,function(){t._reactRootContainer=null,t[dl]=null})}),!0):!1};Kn.unstable_batchedUpdates=RI;Kn.unstable_renderSubtreeIntoContainer=function(t,e,r,i){if(!ew(r))throw Error(ye(200));if(t==null||t._reactInternals===void 0)throw Error(ye(38));return tw(t,e,r,!1,i)};Kn.version="18.2.0-next-9e3b772b8-20220608";function vj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vj)}catch(t){console.error(t)}}vj(),m8.exports=Kn;var Ta=m8.exports;const oZ=qn(Ta),lZ=kR({__proto__:null,default:oZ},[Ta]);var c1=t=>t.type==="checkbox",tf=t=>t instanceof Date,Wi=t=>t==null;const yj=t=>typeof t=="object";var ri=t=>!Wi(t)&&!Array.isArray(t)&&yj(t)&&!tf(t),xj=t=>ri(t)&&t.target?c1(t.target)?t.target.checked:t.target.value:t,uZ=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,bj=(t,e)=>t.has(uZ(e)),cZ=t=>{const e=t.constructor&&t.constructor.prototype;return ri(e)&&e.hasOwnProperty("isPrototypeOf")},DI=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ln(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(DI&&(t instanceof Blob||t instanceof FileList))&&(r||ri(t)))if(e=r?[]:{},!r&&!cZ(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=ln(t[i]));else return t;return e}var h1=t=>Array.isArray(t)?t.filter(Boolean):[],Pr=t=>t===void 0,Re=(t,e,r)=>{if(!e||!ri(t))return r;const i=h1(e.split(/[,[\].]+?/)).reduce((n,s)=>Wi(n)?n:n[s],t);return Pr(i)||i===t?Pr(t[e])?r:t[e]:i},sa=t=>typeof t=="boolean";const Cb={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},oa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},No={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},hZ=tt.createContext(null),FI=()=>tt.useContext(hZ);var _j=(t,e,r,i=!0)=>{const n={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(n,s,{get:()=>{const a=s;return e._proxyFormState[a]!==oa.all&&(e._proxyFormState[a]=!i||oa.all),r&&(r[a]=!0),t[a]}});return n},ds=t=>ri(t)&&!Object.keys(t).length,wj=(t,e,r,i)=>{r(t);const{name:n,...s}=t;return ds(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!i||oa.all))},_x=t=>Array.isArray(t)?t:[t],Sj=(t,e,r)=>!t||!e||t===e||_x(t).some(i=>i&&(r?i===e:i.startsWith(e)||e.startsWith(i)));function BI(t){const e=tt.useRef(t);e.current=t,tt.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function dZ(t){const e=FI(),{control:r=e.control,disabled:i,name:n,exact:s}=t||{},[a,o]=tt.useState(r._formState),l=tt.useRef(!0),u=tt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=tt.useRef(n);return c.current=n,BI({disabled:i,next:d=>l.current&&Sj(c.current,d.name,s)&&wj(d,u.current,r._updateFormState)&&o({...r._formState,...d}),subject:r._subjects.state}),tt.useEffect(()=>(l.current=!0,u.current.isValid&&r._updateValid(!0),()=>{l.current=!1}),[r]),_j(a,r,u.current,!1)}var so=t=>typeof t=="string",Ej=(t,e,r,i,n)=>so(t)?(i&&e.watch.add(t),Re(r,t,n)):Array.isArray(t)?t.map(s=>(i&&e.watch.add(s),Re(r,s))):(i&&(e.watchAll=!0),r);function fZ(t){const e=FI(),{control:r=e.control,name:i,defaultValue:n,disabled:s,exact:a}=t||{},o=tt.useRef(i);o.current=i,BI({disabled:s,subject:r._subjects.values,next:c=>{Sj(o.current,c.name,a)&&u(ln(Ej(o.current,r._names,c.values||r._formValues,!1,n)))}});const[l,u]=tt.useState(r._getWatch(i,n));return tt.useEffect(()=>r._removeUnmounted()),l}var jI=t=>/^\w*$/.test(t),Tj=t=>h1(t.replace(/["|']|\]/g,"").split(/\.|\[/)),nr=(t,e,r)=>{let i=-1;const n=jI(e)?[e]:Tj(e),s=n.length,a=s-1;for(;++i<s;){const o=n[i];let l=r;if(i!==a){const u=t[o];l=ri(u)||Array.isArray(u)?u:isNaN(+n[i+1])?{}:[]}t[o]=l,t=t[o]}return t};function pZ(t){const e=FI(),{name:r,disabled:i,control:n=e.control,shouldUnregister:s}=t,a=bj(n._names.array,r),o=fZ({control:n,name:r,defaultValue:Re(n._formValues,r,Re(n._defaultValues,r,t.defaultValue)),exact:!0}),l=dZ({control:n,name:r}),u=tt.useRef(n.register(r,{...t.rules,value:o,...sa(t.disabled)?{disabled:t.disabled}:{}}));return tt.useEffect(()=>{const c=n._options.shouldUnregister||s,d=(h,p)=>{const g=Re(n._fields,h);g&&(g._f.mount=p)};if(d(r,!0),c){const h=ln(Re(n._options.defaultValues,r));nr(n._defaultValues,r,h),Pr(Re(n._formValues,r))&&nr(n._formValues,r,h)}return()=>{(a?c&&!n._state.action:c)?n.unregister(r):d(r,!1)}},[r,n,a,s]),tt.useEffect(()=>{Re(n._fields,r)&&n._updateDisabledField({disabled:i,fields:n._fields,name:r,value:Re(n._fields,r)._f.value})},[i,r,n]),{field:{name:r,value:o,...sa(i)||l.disabled?{disabled:l.disabled||i}:{},onChange:tt.useCallback(c=>u.current.onChange({target:{value:xj(c),name:r},type:Cb.CHANGE}),[r]),onBlur:tt.useCallback(()=>u.current.onBlur({target:{value:Re(n._formValues,r),name:r},type:Cb.BLUR}),[r,n]),ref:c=>{const d=Re(n._fields,r);d&&c&&(d._f.ref={focus:()=>c.focus(),select:()=>c.select(),setCustomValidity:h=>c.setCustomValidity(h),reportValidity:()=>c.reportValidity()})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Re(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!Re(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Re(l.touchedFields,r)},error:{enumerable:!0,get:()=>Re(l.errors,r)}})}}const rw=t=>t.render(pZ(t));var mZ=(t,e,r,i,n)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[i]:n||!0}}:{},AN=t=>({isOnSubmit:!t||t===oa.onSubmit,isOnBlur:t===oa.onBlur,isOnChange:t===oa.onChange,isOnAll:t===oa.all,isOnTouch:t===oa.onTouched}),CN=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(i=>t.startsWith(i)&&/^\.\w+/.test(t.slice(i.length))));const _g=(t,e,r,i)=>{for(const n of r||Object.keys(t)){const s=Re(t,n);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],n)&&!i)break;if(a.ref&&e(a.ref,a.name)&&!i)break;_g(o,e)}else ri(o)&&_g(o,e)}}};var gZ=(t,e,r)=>{const i=h1(Re(t,r));return nr(i,"root",e[r]),nr(t,r,i),t},UI=t=>t.type==="file",yu=t=>typeof t=="function",Rb=t=>{if(!DI)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},wx=t=>so(t),$I=t=>t.type==="radio",Ib=t=>t instanceof RegExp;const RN={value:!1,isValid:!1},IN={value:!0,isValid:!0};var Aj=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Pr(t[0].attributes.value)?Pr(t[0].value)||t[0].value===""?IN:{value:t[0].value,isValid:!0}:IN:RN}return RN};const PN={isValid:!1,value:null};var Cj=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,PN):PN;function MN(t,e,r="validate"){if(wx(t)||Array.isArray(t)&&t.every(wx)||sa(t)&&!t)return{type:r,message:wx(t)?t:"",ref:e}}var xd=t=>ri(t)&&!Ib(t)?t:{value:t,message:""},kN=async(t,e,r,i,n)=>{const{ref:s,refs:a,required:o,maxLength:l,minLength:u,min:c,max:d,pattern:h,validate:p,name:g,valueAsNumber:y,mount:b,disabled:x}=t._f,w=Re(e,g);if(!b||x)return{};const _=a?a[0]:s,E=B=>{i&&_.reportValidity&&(_.setCustomValidity(sa(B)?"":B||""),_.reportValidity())},A={},I=$I(s),P=c1(s),M=I||P,k=(y||UI(s))&&Pr(s.value)&&Pr(w)||Rb(s)&&s.value===""||w===""||Array.isArray(w)&&!w.length,U=mZ.bind(null,g,r,A),j=(B,L,F,O=No.maxLength,$=No.minLength)=>{const z=B?L:F;A[g]={type:B?O:$,message:z,ref:s,...U(B?O:$,z)}};if(n?!Array.isArray(w)||!w.length:o&&(!M&&(k||Wi(w))||sa(w)&&!w||P&&!Aj(a).isValid||I&&!Cj(a).isValid)){const{value:B,message:L}=wx(o)?{value:!!o,message:o}:xd(o);if(B&&(A[g]={type:No.required,message:L,ref:_,...U(No.required,L)},!r))return E(L),A}if(!k&&(!Wi(c)||!Wi(d))){let B,L;const F=xd(d),O=xd(c);if(!Wi(w)&&!isNaN(w)){const $=s.valueAsNumber||w&&+w;Wi(F.value)||(B=$>F.value),Wi(O.value)||(L=$<O.value)}else{const $=s.valueAsDate||new Date(w),z=H=>new Date(new Date().toDateString()+" "+H),D=s.type=="time",G=s.type=="week";so(F.value)&&w&&(B=D?z(w)>z(F.value):G?w>F.value:$>new Date(F.value)),so(O.value)&&w&&(L=D?z(w)<z(O.value):G?w<O.value:$<new Date(O.value))}if((B||L)&&(j(!!B,F.message,O.message,No.max,No.min),!r))return E(A[g].message),A}if((l||u)&&!k&&(so(w)||n&&Array.isArray(w))){const B=xd(l),L=xd(u),F=!Wi(B.value)&&w.length>+B.value,O=!Wi(L.value)&&w.length<+L.value;if((F||O)&&(j(F,B.message,L.message),!r))return E(A[g].message),A}if(h&&!k&&so(w)){const{value:B,message:L}=xd(h);if(Ib(B)&&!w.match(B)&&(A[g]={type:No.pattern,message:L,ref:s,...U(No.pattern,L)},!r))return E(L),A}if(p){if(yu(p)){const B=await p(w,e),L=MN(B,_);if(L&&(A[g]={...L,...U(No.validate,L.message)},!r))return E(L.message),A}else if(ri(p)){let B={};for(const L in p){if(!ds(B)&&!r)break;const F=MN(await p[L](w,e),_,L);F&&(B={...F,...U(L,F.message)},E(F.message),r&&(A[g]=B))}if(!ds(B)&&(A[g]={ref:_,...B},!r))return A}}return E(!0),A};function vZ(t,e){const r=e.slice(0,-1).length;let i=0;for(;i<r;)t=Pr(t)?i++:t[e[i++]];return t}function yZ(t){for(const e in t)if(t.hasOwnProperty(e)&&!Pr(t[e]))return!1;return!0}function bi(t,e){const r=Array.isArray(e)?e:jI(e)?[e]:Tj(e),i=r.length===1?t:vZ(t,r),n=r.length-1,s=r[n];return i&&delete i[s],n!==0&&(ri(i)&&ds(i)||Array.isArray(i)&&yZ(i))&&bi(t,r.slice(0,-1)),t}var GS=()=>{let t=[];return{get observers(){return t},next:n=>{for(const s of t)s.next&&s.next(n)},subscribe:n=>(t.push(n),{unsubscribe:()=>{t=t.filter(s=>s!==n)}}),unsubscribe:()=>{t=[]}}},Pb=t=>Wi(t)||!yj(t);function Jc(t,e){if(Pb(t)||Pb(e))return t===e;if(tf(t)&&tf(e))return t.getTime()===e.getTime();const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(const n of r){const s=t[n];if(!i.includes(n))return!1;if(n!=="ref"){const a=e[n];if(tf(s)&&tf(a)||ri(s)&&ri(a)||Array.isArray(s)&&Array.isArray(a)?!Jc(s,a):s!==a)return!1}}return!0}var Rj=t=>t.type==="select-multiple",xZ=t=>$I(t)||c1(t),VS=t=>Rb(t)&&t.isConnected,Ij=t=>{for(const e in t)if(yu(t[e]))return!0;return!1};function Mb(t,e={}){const r=Array.isArray(t);if(ri(t)||r)for(const i in t)Array.isArray(t[i])||ri(t[i])&&!Ij(t[i])?(e[i]=Array.isArray(t[i])?[]:{},Mb(t[i],e[i])):Wi(t[i])||(e[i]=!0);return e}function Pj(t,e,r){const i=Array.isArray(t);if(ri(t)||i)for(const n in t)Array.isArray(t[n])||ri(t[n])&&!Ij(t[n])?Pr(e)||Pb(r[n])?r[n]=Array.isArray(t[n])?Mb(t[n],[]):{...Mb(t[n])}:Pj(t[n],Wi(e)?{}:e[n],r[n]):r[n]=!Jc(t[n],e[n]);return r}var Wv=(t,e)=>Pj(t,e,Mb(e)),Mj=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:i})=>Pr(t)?t:e?t===""?NaN:t&&+t:r&&so(t)?new Date(t):i?i(t):t;function WS(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return UI(e)?e.files:$I(e)?Cj(t.refs).value:Rj(e)?[...e.selectedOptions].map(({value:r})=>r):c1(e)?Aj(t.refs).value:Mj(Pr(e.value)?t.ref.value:e.value,t)}var bZ=(t,e,r,i)=>{const n={};for(const s of t){const a=Re(e,s);a&&nr(n,s,a._f)}return{criteriaMode:r,names:[...t],fields:n,shouldUseNativeValidation:i}},gm=t=>Pr(t)?t:Ib(t)?t.source:ri(t)?Ib(t.value)?t.value.source:t.value:t,_Z=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function NN(t,e,r){const i=Re(t,r);if(i||jI(r))return{error:i,name:r};const n=r.split(".");for(;n.length;){const s=n.join("."),a=Re(e,s),o=Re(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};n.pop()}return{name:r}}var wZ=(t,e,r,i,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(e||t):(r?i.isOnBlur:n.isOnBlur)?!t:(r?i.isOnChange:n.isOnChange)?t:!0,SZ=(t,e)=>!h1(Re(t,e)).length&&bi(t,e);const EZ={mode:oa.onSubmit,reValidateMode:oa.onChange,shouldFocusError:!0};function TZ(t={},e){let r={...EZ,...t},i={submitCount:0,isDirty:!1,isLoading:yu(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:r.errors||{},disabled:r.disabled||!1},n={},s=ri(r.values)||ri(r.defaultValues)?ln(r.values||r.defaultValues)||{}:{},a=r.shouldUnregister?{}:ln(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:GS(),array:GS(),state:GS()},p=AN(r.mode),g=AN(r.reValidateMode),y=r.criteriaMode===oa.all,b=X=>ee=>{clearTimeout(c),c=setTimeout(X,ee)},x=async X=>{if(d.isValid||X){const ee=r.resolver?ds((await k()).errors):await j(n,!0);ee!==i.isValid&&h.state.next({isValid:ee})}},w=X=>d.isValidating&&h.state.next({isValidating:X}),_=(X,ee=[],ne,_e,ve=!0,ce=!0)=>{if(_e&&ne){if(o.action=!0,ce&&Array.isArray(Re(n,X))){const pe=ne(Re(n,X),_e.argA,_e.argB);ve&&nr(n,X,pe)}if(ce&&Array.isArray(Re(i.errors,X))){const pe=ne(Re(i.errors,X),_e.argA,_e.argB);ve&&nr(i.errors,X,pe),SZ(i.errors,X)}if(d.touchedFields&&ce&&Array.isArray(Re(i.touchedFields,X))){const pe=ne(Re(i.touchedFields,X),_e.argA,_e.argB);ve&&nr(i.touchedFields,X,pe)}d.dirtyFields&&(i.dirtyFields=Wv(s,a)),h.state.next({name:X,isDirty:L(X,ee),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else nr(a,X,ee)},E=(X,ee)=>{nr(i.errors,X,ee),h.state.next({errors:i.errors})},A=X=>{i.errors=X,h.state.next({errors:i.errors,isValid:!1})},I=(X,ee,ne,_e)=>{const ve=Re(n,X);if(ve){const ce=Re(a,X,Pr(ne)?Re(s,X):ne);Pr(ce)||_e&&_e.defaultChecked||ee?nr(a,X,ee?ce:WS(ve._f)):$(X,ce),o.mount&&x()}},P=(X,ee,ne,_e,ve)=>{let ce=!1,pe=!1;const je={name:X},Me=!!(Re(n,X)&&Re(n,X)._f.disabled);if(!ne||_e){d.isDirty&&(pe=i.isDirty,i.isDirty=je.isDirty=L(),ce=pe!==je.isDirty);const mt=Me||Jc(Re(s,X),ee);pe=!!(!Me&&Re(i.dirtyFields,X)),mt||Me?bi(i.dirtyFields,X):nr(i.dirtyFields,X,!0),je.dirtyFields=i.dirtyFields,ce=ce||d.dirtyFields&&pe!==!mt}if(ne){const mt=Re(i.touchedFields,X);mt||(nr(i.touchedFields,X,ne),je.touchedFields=i.touchedFields,ce=ce||d.touchedFields&&mt!==ne)}return ce&&ve&&h.state.next(je),ce?je:{}},M=(X,ee,ne,_e)=>{const ve=Re(i.errors,X),ce=d.isValid&&sa(ee)&&i.isValid!==ee;if(t.delayError&&ne?(u=b(()=>E(X,ne)),u(t.delayError)):(clearTimeout(c),u=null,ne?nr(i.errors,X,ne):bi(i.errors,X)),(ne?!Jc(ve,ne):ve)||!ds(_e)||ce){const pe={..._e,...ce&&sa(ee)?{isValid:ee}:{},errors:i.errors,name:X};i={...i,...pe},h.state.next(pe)}w(!1)},k=async X=>r.resolver(a,r.context,bZ(X||l.mount,n,r.criteriaMode,r.shouldUseNativeValidation)),U=async X=>{const{errors:ee}=await k(X);if(X)for(const ne of X){const _e=Re(ee,ne);_e?nr(i.errors,ne,_e):bi(i.errors,ne)}else i.errors=ee;return ee},j=async(X,ee,ne={valid:!0})=>{for(const _e in X){const ve=X[_e];if(ve){const{_f:ce,...pe}=ve;if(ce){const je=l.array.has(ce.name),Me=await kN(ve,a,y,r.shouldUseNativeValidation&&!ee,je);if(Me[ce.name]&&(ne.valid=!1,ee))break;!ee&&(Re(Me,ce.name)?je?gZ(i.errors,Me,ce.name):nr(i.errors,ce.name,Me[ce.name]):bi(i.errors,ce.name))}pe&&await j(pe,ee,ne)}}return ne.valid},B=()=>{for(const X of l.unMount){const ee=Re(n,X);ee&&(ee._f.refs?ee._f.refs.every(ne=>!VS(ne)):!VS(ee._f.ref))&&we(X)}l.unMount=new Set},L=(X,ee)=>(X&&ee&&nr(a,X,ee),!Jc(K(),s)),F=(X,ee,ne)=>Ej(X,l,{...o.mount?a:Pr(ee)?s:so(X)?{[X]:ee}:ee},ne,ee),O=X=>h1(Re(o.mount?a:s,X,t.shouldUnregister?Re(s,X,[]):[])),$=(X,ee,ne={})=>{const _e=Re(n,X);let ve=ee;if(_e){const ce=_e._f;ce&&(!ce.disabled&&nr(a,X,Mj(ee,ce)),ve=Rb(ce.ref)&&Wi(ee)?"":ee,Rj(ce.ref)?[...ce.ref.options].forEach(pe=>pe.selected=ve.includes(pe.value)):ce.refs?c1(ce.ref)?ce.refs.length>1?ce.refs.forEach(pe=>(!pe.defaultChecked||!pe.disabled)&&(pe.checked=Array.isArray(ve)?!!ve.find(je=>je===pe.value):ve===pe.value)):ce.refs[0]&&(ce.refs[0].checked=!!ve):ce.refs.forEach(pe=>pe.checked=pe.value===ve):UI(ce.ref)?ce.ref.value="":(ce.ref.value=ve,ce.ref.type||h.values.next({name:X,values:{...a}})))}(ne.shouldDirty||ne.shouldTouch)&&P(X,ve,ne.shouldTouch,ne.shouldDirty,!0),ne.shouldValidate&&W(X)},z=(X,ee,ne)=>{for(const _e in ee){const ve=ee[_e],ce=`${X}.${_e}`,pe=Re(n,ce);(l.array.has(X)||!Pb(ve)||pe&&!pe._f)&&!tf(ve)?z(ce,ve,ne):$(ce,ve,ne)}},D=(X,ee,ne={})=>{const _e=Re(n,X),ve=l.array.has(X),ce=ln(ee);nr(a,X,ce),ve?(h.array.next({name:X,values:{...a}}),(d.isDirty||d.dirtyFields)&&ne.shouldDirty&&h.state.next({name:X,dirtyFields:Wv(s,a),isDirty:L(X,ce)})):_e&&!_e._f&&!Wi(ce)?z(X,ce,ne):$(X,ce,ne),CN(X,l)&&h.state.next({...i}),h.values.next({name:X,values:{...a}}),!o.mount&&e()},G=async X=>{const ee=X.target;let ne=ee.name,_e=!0;const ve=Re(n,ne),ce=()=>ee.type?WS(ve._f):xj(X),pe=je=>{_e=Number.isNaN(je)||je===Re(a,ne,je)};if(ve){let je,Me;const mt=ce(),er=X.type===Cb.BLUR||X.type===Cb.FOCUS_OUT,gi=!_Z(ve._f)&&!r.resolver&&!Re(i.errors,ne)&&!ve._f.deps||wZ(er,Re(i.touchedFields,ne),i.isSubmitted,g,p),St=CN(ne,l,er);nr(a,ne,mt),er?(ve._f.onBlur&&ve._f.onBlur(X),u&&u(0)):ve._f.onChange&&ve._f.onChange(X);const st=P(ne,mt,er,!1),Ii=!ds(st)||St;if(!er&&h.values.next({name:ne,type:X.type,values:{...a}}),gi)return d.isValid&&x(),Ii&&h.state.next({name:ne,...St?{}:st});if(!er&&St&&h.state.next({...i}),w(!0),r.resolver){const{errors:Bs}=await k([ne]);if(pe(mt),_e){const js=NN(i.errors,n,ne),pc=NN(Bs,n,js.name||ne);je=pc.error,ne=pc.name,Me=ds(Bs)}}else je=(await kN(ve,a,y,r.shouldUseNativeValidation))[ne],pe(mt),_e&&(je?Me=!1:d.isValid&&(Me=await j(n,!0)));_e&&(ve._f.deps&&W(ve._f.deps),M(ne,Me,je,st))}},H=(X,ee)=>{if(Re(i.errors,ee)&&X.focus)return X.focus(),1},W=async(X,ee={})=>{let ne,_e;const ve=_x(X);if(w(!0),r.resolver){const ce=await U(Pr(X)?X:ve);ne=ds(ce),_e=X?!ve.some(pe=>Re(ce,pe)):ne}else X?(_e=(await Promise.all(ve.map(async ce=>{const pe=Re(n,ce);return await j(pe&&pe._f?{[ce]:pe}:pe)}))).every(Boolean),!(!_e&&!i.isValid)&&x()):_e=ne=await j(n);return h.state.next({...!so(X)||d.isValid&&ne!==i.isValid?{}:{name:X},...r.resolver||!X?{isValid:ne}:{},errors:i.errors,isValidating:!1}),ee.shouldFocus&&!_e&&_g(n,H,X?ve:l.mount),_e},K=X=>{const ee={...s,...o.mount?a:{}};return Pr(X)?ee:so(X)?Re(ee,X):X.map(ne=>Re(ee,ne))},Q=(X,ee)=>({invalid:!!Re((ee||i).errors,X),isDirty:!!Re((ee||i).dirtyFields,X),isTouched:!!Re((ee||i).touchedFields,X),error:Re((ee||i).errors,X)}),ie=X=>{X&&_x(X).forEach(ee=>bi(i.errors,ee)),h.state.next({errors:X?i.errors:{}})},le=(X,ee,ne)=>{const _e=(Re(n,X,{_f:{}})._f||{}).ref;nr(i.errors,X,{...ee,ref:_e}),h.state.next({name:X,errors:i.errors,isValid:!1}),ne&&ne.shouldFocus&&_e&&_e.focus&&_e.focus()},fe=(X,ee)=>yu(X)?h.values.subscribe({next:ne=>X(F(void 0,ee),ne)}):F(X,ee,!0),we=(X,ee={})=>{for(const ne of X?_x(X):l.mount)l.mount.delete(ne),l.array.delete(ne),ee.keepValue||(bi(n,ne),bi(a,ne)),!ee.keepError&&bi(i.errors,ne),!ee.keepDirty&&bi(i.dirtyFields,ne),!ee.keepTouched&&bi(i.touchedFields,ne),!r.shouldUnregister&&!ee.keepDefaultValue&&bi(s,ne);h.values.next({values:{...a}}),h.state.next({...i,...ee.keepDirty?{isDirty:L()}:{}}),!ee.keepIsValid&&x()},$e=({disabled:X,name:ee,field:ne,fields:_e,value:ve})=>{if(sa(X)){const ce=X?void 0:Pr(ve)?WS(ne?ne._f:Re(_e,ee)._f):ve;nr(a,ee,ce),P(ee,ce,!1,!1,!0)}},Ze=(X,ee={})=>{let ne=Re(n,X);const _e=sa(ee.disabled);return nr(n,X,{...ne||{},_f:{...ne&&ne._f?ne._f:{ref:{name:X}},name:X,mount:!0,...ee}}),l.mount.add(X),ne?$e({field:ne,disabled:ee.disabled,name:X,value:ee.value}):I(X,!0,ee.value),{..._e?{disabled:ee.disabled}:{},...r.progressive?{required:!!ee.required,min:gm(ee.min),max:gm(ee.max),minLength:gm(ee.minLength),maxLength:gm(ee.maxLength),pattern:gm(ee.pattern)}:{},name:X,onChange:G,onBlur:G,ref:ve=>{if(ve){Ze(X,ee),ne=Re(n,X);const ce=Pr(ve.value)&&ve.querySelectorAll&&ve.querySelectorAll("input,select,textarea")[0]||ve,pe=xZ(ce),je=ne._f.refs||[];if(pe?je.find(Me=>Me===ce):ce===ne._f.ref)return;nr(n,X,{_f:{...ne._f,...pe?{refs:[...je.filter(VS),ce,...Array.isArray(Re(s,X))?[{}]:[]],ref:{type:ce.type,name:X}}:{ref:ce}}}),I(X,!1,void 0,ce)}else ne=Re(n,X,{}),ne._f&&(ne._f.mount=!1),(r.shouldUnregister||ee.shouldUnregister)&&!(bj(l.array,X)&&o.action)&&l.unMount.add(X)}}},Fe=()=>r.shouldFocusError&&_g(n,H,l.mount),Se=X=>{sa(X)&&(h.state.next({disabled:X}),_g(n,(ee,ne)=>{let _e=X;const ve=Re(n,ne);ve&&sa(ve._f.disabled)&&(_e||(_e=ve._f.disabled)),ee.disabled=_e},0,!1))},We=(X,ee)=>async ne=>{let _e;ne&&(ne.preventDefault&&ne.preventDefault(),ne.persist&&ne.persist());let ve=ln(a);if(h.state.next({isSubmitting:!0}),r.resolver){const{errors:ce,values:pe}=await k();i.errors=ce,ve=pe}else await j(n);if(bi(i.errors,"root"),ds(i.errors)){h.state.next({errors:{}});try{await X(ve,ne)}catch(ce){_e=ce}}else ee&&await ee({...i.errors},ne),Fe(),setTimeout(Fe);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ds(i.errors)&&!_e,submitCount:i.submitCount+1,errors:i.errors}),_e)throw _e},ze=(X,ee={})=>{Re(n,X)&&(Pr(ee.defaultValue)?D(X,ln(Re(s,X))):(D(X,ee.defaultValue),nr(s,X,ln(ee.defaultValue))),ee.keepTouched||bi(i.touchedFields,X),ee.keepDirty||(bi(i.dirtyFields,X),i.isDirty=ee.defaultValue?L(X,ln(Re(s,X))):L()),ee.keepError||(bi(i.errors,X),d.isValid&&x()),h.state.next({...i}))},Dt=(X,ee={})=>{const ne=X?ln(X):s,_e=ln(ne),ve=X&&!ds(X)?_e:s;if(ee.keepDefaultValues||(s=ne),!ee.keepValues){if(ee.keepDirtyValues)for(const ce of l.mount)Re(i.dirtyFields,ce)?nr(ve,ce,Re(a,ce)):D(ce,Re(ve,ce));else{if(DI&&Pr(X))for(const ce of l.mount){const pe=Re(n,ce);if(pe&&pe._f){const je=Array.isArray(pe._f.refs)?pe._f.refs[0]:pe._f.ref;if(Rb(je)){const Me=je.closest("form");if(Me){Me.reset();break}}}}n={}}a=t.shouldUnregister?ee.keepDefaultValues?ln(s):{}:ln(ve),h.array.next({values:{...ve}}),h.values.next({values:{...ve}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!o.mount&&e(),o.mount=!d.isValid||!!ee.keepIsValid||!!ee.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:ee.keepSubmitCount?i.submitCount:0,isDirty:ee.keepDirty?i.isDirty:!!(ee.keepDefaultValues&&!Jc(X,s)),isSubmitted:ee.keepIsSubmitted?i.isSubmitted:!1,dirtyFields:ee.keepDirtyValues?ee.keepDefaultValues&&a?Wv(s,a):i.dirtyFields:ee.keepDefaultValues&&X?Wv(s,X):{},touchedFields:ee.keepTouched?i.touchedFields:{},errors:ee.keepErrors?i.errors:{},isSubmitSuccessful:ee.keepIsSubmitSuccessful?i.isSubmitSuccessful:!1,isSubmitting:!1})},Rt=(X,ee)=>Dt(yu(X)?X(a):X,ee);return{control:{register:Ze,unregister:we,getFieldState:Q,handleSubmit:We,setError:le,_executeSchema:k,_getWatch:F,_getDirty:L,_updateValid:x,_removeUnmounted:B,_updateFieldArray:_,_updateDisabledField:$e,_getFieldArray:O,_reset:Dt,_resetDefaultValues:()=>yu(r.defaultValues)&&r.defaultValues().then(X=>{Rt(X,r.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:X=>{i={...i,...X}},_disableForm:Se,_subjects:h,_proxyFormState:d,_setErrors:A,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(X){o=X},get _defaultValues(){return s},get _names(){return l},set _names(X){l=X},get _formState(){return i},set _formState(X){i=X},get _options(){return r},set _options(X){r={...r,...X}}},trigger:W,register:Ze,handleSubmit:We,watch:fe,setValue:D,getValues:K,reset:Rt,resetField:ze,clearErrors:ie,unregister:we,setError:le,setFocus:(X,ee={})=>{const ne=Re(n,X),_e=ne&&ne._f;if(_e){const ve=_e.refs?_e.refs[0]:_e.ref;ve.focus&&(ve.focus(),ee.shouldSelect&&ve.select())}},getFieldState:Q}}function kj(t={}){const e=tt.useRef(),r=tt.useRef(),[i,n]=tt.useState({isDirty:!1,isValidating:!1,isLoading:yu(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:yu(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...TZ(t,()=>n(a=>({...a}))),formState:i});const s=e.current.control;return s._options=t,BI({subject:s._subjects.state,next:a=>{wj(a,s._proxyFormState,s._updateFormState,!0)&&n({...s._formState})}}),tt.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),tt.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==i.isDirty&&s._subjects.state.next({isDirty:a})}},[s,i.isDirty]),tt.useEffect(()=>{t.values&&!Jc(t.values,r.current)?(s._reset(t.values,s._options.resetOptions),r.current=t.values,n(a=>({...a}))):s._resetDefaultValues()},[t.values,s]),tt.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),tt.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),tt.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=_j(i,s),e.current}function AZ(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Xv(t){return t instanceof Element||t instanceof AZ(t).Element}const o0=Math.min,ys=Math.max,kb=Math.round,Yv=Math.floor,Yu=t=>({x:t,y:t}),CZ={left:"right",right:"left",bottom:"top",top:"bottom"},RZ={start:"end",end:"start"};function iw(t,e){return typeof t=="function"?t(e):t}function kh(t){return t.split("-")[0]}function d1(t){return t.split("-")[1]}function IZ(t){return t==="x"?"y":"x"}function Nj(t){return t==="y"?"height":"width"}function nw(t){return["top","bottom"].includes(kh(t))?"y":"x"}function Oj(t){return IZ(nw(t))}function PZ(t,e,r){r===void 0&&(r=!1);const i=d1(t),n=Oj(t),s=Nj(n);let a=n==="x"?i===(r?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Nb(a)),[a,Nb(a)]}function MZ(t){const e=Nb(t);return[lC(t),e,lC(e)]}function lC(t){return t.replace(/start|end/g,e=>RZ[e])}function kZ(t,e,r){const i=["left","right"],n=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return r?e?n:i:e?i:n;case"left":case"right":return e?s:a;default:return[]}}function NZ(t,e,r,i){const n=d1(t);let s=kZ(kh(t),r==="start",i);return n&&(s=s.map(a=>a+"-"+n),e&&(s=s.concat(s.map(lC)))),s}function Nb(t){return t.replace(/left|right|bottom|top/g,e=>CZ[e])}function OZ(t){return{top:0,right:0,bottom:0,left:0,...t}}function LZ(t){return typeof t!="number"?OZ(t):{top:t,right:t,bottom:t,left:t}}function Ob(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function ON(t,e,r){let{reference:i,floating:n}=t;const s=nw(e),a=Oj(e),o=Nj(a),l=kh(e),u=s==="y",c=i.x+i.width/2-n.width/2,d=i.y+i.height/2-n.height/2,h=i[o]/2-n[o]/2;let p;switch(l){case"top":p={x:c,y:i.y-n.height};break;case"bottom":p={x:c,y:i.y+i.height};break;case"right":p={x:i.x+i.width,y:d};break;case"left":p={x:i.x-n.width,y:d};break;default:p={x:i.x,y:i.y}}switch(d1(e)){case"start":p[a]-=h*(r&&u?-1:1);break;case"end":p[a]+=h*(r&&u?-1:1);break}return p}const DZ=async(t,e,r)=>{const{placement:i="bottom",strategy:n="absolute",middleware:s=[],platform:a}=r,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:n}),{x:c,y:d}=ON(u,i,l),h=i,p={},g=0;for(let y=0;y<o.length;y++){const{name:b,fn:x}=o[y],{x:w,y:_,data:E,reset:A}=await x({x:c,y:d,initialPlacement:i,placement:h,strategy:n,middlewareData:p,rects:u,platform:a,elements:{reference:t,floating:e}});c=w??c,d=_??d,p={...p,[b]:{...p[b],...E}},A&&g<=50&&(g++,typeof A=="object"&&(A.placement&&(h=A.placement),A.rects&&(u=A.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:n}):A.rects),{x:c,y:d}=ON(u,h,l)),y=-1)}return{x:c,y:d,placement:h,strategy:n,middlewareData:p}};async function Lj(t,e){var r;e===void 0&&(e={});const{x:i,y:n,platform:s,rects:a,elements:o,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=iw(e,t),g=LZ(p),b=o[h?d==="floating"?"reference":"floating":d],x=Ob(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(b)))==null||r?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:c,strategy:l})),w=d==="floating"?{...a.floating,x:i,y:n}:a.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),E=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},A=Ob(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:w,offsetParent:_,strategy:l}):w);return{top:(x.top-A.top+g.top)/E.y,bottom:(A.bottom-x.bottom+g.bottom)/E.y,left:(x.left-A.left+g.left)/E.x,right:(A.right-x.right+g.right)/E.x}}const FZ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,i;const{placement:n,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...b}=iw(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const x=kh(n),w=kh(o)===o,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=h||(w||!y?[Nb(o)]:MZ(o));!h&&g!=="none"&&E.push(...NZ(o,y,g,_));const A=[o,...E],I=await Lj(e,b),P=[];let M=((i=s.flip)==null?void 0:i.overflows)||[];if(c&&P.push(I[x]),d){const B=PZ(n,a,_);P.push(I[B[0]],I[B[1]])}if(M=[...M,{placement:n,overflows:P}],!P.every(B=>B<=0)){var k,U;const B=(((k=s.flip)==null?void 0:k.index)||0)+1,L=A[B];if(L)return{data:{index:B,overflows:M},reset:{placement:L}};let F=(U=M.filter(O=>O.overflows[0]<=0).sort((O,$)=>O.overflows[1]-$.overflows[1])[0])==null?void 0:U.placement;if(!F)switch(p){case"bestFit":{var j;const O=(j=M.map($=>[$.placement,$.overflows.filter(z=>z>0).reduce((z,D)=>z+D,0)]).sort(($,z)=>$[1]-z[1])[0])==null?void 0:j[0];O&&(F=O);break}case"initialPlacement":F=o;break}if(n!==F)return{reset:{placement:F}}}return{}}}};async function BZ(t,e){const{placement:r,platform:i,elements:n}=t,s=await(i.isRTL==null?void 0:i.isRTL(n.floating)),a=kh(r),o=d1(r),l=nw(r)==="y",u=["left","top"].includes(a)?-1:1,c=s&&l?-1:1,d=iw(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),l?{x:p*c,y:h*u}:{x:h*u,y:p*c}}const jZ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,i;const{x:n,y:s,placement:a,middlewareData:o}=e,l=await BZ(e,t);return a===((r=o.offset)==null?void 0:r.placement)&&(i=o.arrow)!=null&&i.alignmentOffset?{}:{x:n+l.x,y:s+l.y,data:{...l,placement:a}}}}},UZ=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:r,rects:i,platform:n,elements:s}=e,{apply:a=()=>{},...o}=iw(t,e),l=await Lj(e,o),u=kh(r),c=d1(r),d=nw(r)==="y",{width:h,height:p}=i.floating;let g,y;u==="top"||u==="bottom"?(g=u,y=c===(await(n.isRTL==null?void 0:n.isRTL(s.floating))?"start":"end")?"left":"right"):(y=u,g=c==="end"?"top":"bottom");const b=p-l[g],x=h-l[y],w=!e.middlewareData.shift;let _=b,E=x;if(d){const I=h-l.left-l.right;E=c||w?o0(x,I):I}else{const I=p-l.top-l.bottom;_=c||w?o0(b,I):I}if(w&&!c){const I=ys(l.left,0),P=ys(l.right,0),M=ys(l.top,0),k=ys(l.bottom,0);d?E=h-2*(I!==0||P!==0?I+P:ys(l.left,l.right)):_=p-2*(M!==0||k!==0?M+k:ys(l.top,l.bottom))}await a({...e,availableWidth:E,availableHeight:_});const A=await n.getDimensions(s.floating);return h!==A.width||p!==A.height?{reset:{rects:!0}}:{}}}};function qu(t){return Dj(t)?(t.nodeName||"").toLowerCase():"#document"}function Gn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Sl(t){var e;return(e=(Dj(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Dj(t){return t instanceof Node||t instanceof Gn(t).Node}function ml(t){return t instanceof Element||t instanceof Gn(t).Element}function yo(t){return t instanceof HTMLElement||t instanceof Gn(t).HTMLElement}function LN(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Gn(t).ShadowRoot}function f1(t){const{overflow:e,overflowX:r,overflowY:i,display:n}=ks(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+r)&&!["inline","contents"].includes(n)}function $Z(t){return["table","td","th"].includes(qu(t))}function zI(t){const e=HI(),r=ks(t);return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(r.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(r.contain||"").includes(i))}function Fj(t){let e=rp(t);for(;yo(e)&&!sw(e);){if(zI(e))return e;e=rp(e)}return null}function HI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function sw(t){return["html","body","#document"].includes(qu(t))}function ks(t){return Gn(t).getComputedStyle(t)}function aw(t){return ml(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function rp(t){if(qu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||LN(t)&&t.host||Sl(t);return LN(e)?e.host:e}function Bj(t){const e=rp(t);return sw(e)?t.ownerDocument?t.ownerDocument.body:t.body:yo(e)&&f1(e)?e:Bj(e)}function l0(t,e,r){var i;e===void 0&&(e=[]),r===void 0&&(r=!0);const n=Bj(t),s=n===((i=t.ownerDocument)==null?void 0:i.body),a=Gn(n);return s?e.concat(a,a.visualViewport||[],f1(n)?n:[],a.frameElement&&r?l0(a.frameElement):[]):e.concat(n,l0(n,[],r))}function jj(t){const e=ks(t);let r=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const n=yo(t),s=n?t.offsetWidth:r,a=n?t.offsetHeight:i,o=kb(r)!==s||kb(i)!==a;return o&&(r=s,i=a),{width:r,height:i,$:o}}function GI(t){return ml(t)?t:t.contextElement}function yf(t){const e=GI(t);if(!yo(e))return Yu(1);const r=e.getBoundingClientRect(),{width:i,height:n,$:s}=jj(e);let a=(s?kb(r.width):r.width)/i,o=(s?kb(r.height):r.height)/n;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const zZ=Yu(0);function Uj(t){const e=Gn(t);return!HI()||!e.visualViewport?zZ:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function HZ(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Gn(t)?!1:e}function Nh(t,e,r,i){e===void 0&&(e=!1),r===void 0&&(r=!1);const n=t.getBoundingClientRect(),s=GI(t);let a=Yu(1);e&&(i?ml(i)&&(a=yf(i)):a=yf(t));const o=HZ(s,r,i)?Uj(s):Yu(0);let l=(n.left+o.x)/a.x,u=(n.top+o.y)/a.y,c=n.width/a.x,d=n.height/a.y;if(s){const h=Gn(s),p=i&&ml(i)?Gn(i):i;let g=h.frameElement;for(;g&&i&&p!==h;){const y=yf(g),b=g.getBoundingClientRect(),x=ks(g),w=b.left+(g.clientLeft+parseFloat(x.paddingLeft))*y.x,_=b.top+(g.clientTop+parseFloat(x.paddingTop))*y.y;l*=y.x,u*=y.y,c*=y.x,d*=y.y,l+=w,u+=_,g=Gn(g).frameElement}}return Ob({width:c,height:d,x:l,y:u})}const GZ=[":popover-open",":modal"];function $j(t){let e=!1,r=0,i=0;function n(s){try{e=e||t.matches(s)}catch{}}if(GZ.forEach(s=>{n(s)}),e){const s=Fj(t);if(s){const a=s.getBoundingClientRect();r=a.x,i=a.y}}return[e,r,i]}function VZ(t){let{elements:e,rect:r,offsetParent:i,strategy:n}=t;const s=Sl(i),[a]=e?$j(e.floating):[!1];if(i===s||a)return r;let o={scrollLeft:0,scrollTop:0},l=Yu(1);const u=Yu(0),c=yo(i);if((c||!c&&n!=="fixed")&&((qu(i)!=="body"||f1(s))&&(o=aw(i)),yo(i))){const d=Nh(i);l=yf(i),u.x=d.x+i.clientLeft,u.y=d.y+i.clientTop}return{width:r.width*l.x,height:r.height*l.y,x:r.x*l.x-o.scrollLeft*l.x+u.x,y:r.y*l.y-o.scrollTop*l.y+u.y}}function WZ(t){return Array.from(t.getClientRects())}function zj(t){return Nh(Sl(t)).left+aw(t).scrollLeft}function XZ(t){const e=Sl(t),r=aw(t),i=t.ownerDocument.body,n=ys(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=ys(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let a=-r.scrollLeft+zj(t);const o=-r.scrollTop;return ks(i).direction==="rtl"&&(a+=ys(e.clientWidth,i.clientWidth)-n),{width:n,height:s,x:a,y:o}}function YZ(t,e){const r=Gn(t),i=Sl(t),n=r.visualViewport;let s=i.clientWidth,a=i.clientHeight,o=0,l=0;if(n){s=n.width,a=n.height;const u=HI();(!u||u&&e==="fixed")&&(o=n.offsetLeft,l=n.offsetTop)}return{width:s,height:a,x:o,y:l}}function qZ(t,e){const r=Nh(t,!0,e==="fixed"),i=r.top+t.clientTop,n=r.left+t.clientLeft,s=yo(t)?yf(t):Yu(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,l=n*s.x,u=i*s.y;return{width:a,height:o,x:l,y:u}}function DN(t,e,r){let i;if(e==="viewport")i=YZ(t,r);else if(e==="document")i=XZ(Sl(t));else if(ml(e))i=qZ(e,r);else{const n=Uj(t);i={...e,x:e.x-n.x,y:e.y-n.y}}return Ob(i)}function Hj(t,e){const r=rp(t);return r===e||!ml(r)||sw(r)?!1:ks(r).position==="fixed"||Hj(r,e)}function KZ(t,e){const r=e.get(t);if(r)return r;let i=l0(t,[],!1).filter(o=>ml(o)&&qu(o)!=="body"),n=null;const s=ks(t).position==="fixed";let a=s?rp(t):t;for(;ml(a)&&!sw(a);){const o=ks(a),l=zI(a);!l&&o.position==="fixed"&&(n=null),(s?!l&&!n:!l&&o.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||f1(a)&&!l&&Hj(t,a))?i=i.filter(c=>c!==a):n=o,a=rp(a)}return e.set(t,i),i}function QZ(t){let{element:e,boundary:r,rootBoundary:i,strategy:n}=t;const a=[...r==="clippingAncestors"?KZ(e,this._c):[].concat(r),i],o=a[0],l=a.reduce((u,c)=>{const d=DN(e,c,n);return u.top=ys(d.top,u.top),u.right=o0(d.right,u.right),u.bottom=o0(d.bottom,u.bottom),u.left=ys(d.left,u.left),u},DN(e,o,n));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ZZ(t){const{width:e,height:r}=jj(t);return{width:e,height:r}}function JZ(t,e,r,i){const n=yo(e),s=Sl(e),a=r==="fixed",o=Nh(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const u=Yu(0);if(n||!n&&!a)if((qu(e)!=="body"||f1(s))&&(l=aw(e)),n){const y=Nh(e,!0,a,e);u.x=y.x+e.clientLeft,u.y=y.y+e.clientTop}else s&&(u.x=zj(s));let c=o.left+l.scrollLeft-u.x,d=o.top+l.scrollTop-u.y;const[h,p,g]=$j(i);return h&&(c+=p,d+=g,n&&(c+=e.clientLeft,d+=e.clientTop)),{x:c,y:d,width:o.width,height:o.height}}function FN(t,e){return!yo(t)||ks(t).position==="fixed"?null:e?e(t):t.offsetParent}function Gj(t,e){const r=Gn(t);if(!yo(t))return r;let i=FN(t,e);for(;i&&$Z(i)&&ks(i).position==="static";)i=FN(i,e);return i&&(qu(i)==="html"||qu(i)==="body"&&ks(i).position==="static"&&!zI(i))?r:i||Fj(t)||r}const eJ=async function(t){const e=this.getOffsetParent||Gj,r=this.getDimensions;return{reference:JZ(t.reference,await e(t.floating),t.strategy,t.floating),floating:{x:0,y:0,...await r(t.floating)}}};function tJ(t){return ks(t).direction==="rtl"}const rJ={convertOffsetParentRelativeRectToViewportRelativeRect:VZ,getDocumentElement:Sl,getClippingRect:QZ,getOffsetParent:Gj,getElementRects:eJ,getClientRects:WZ,getDimensions:ZZ,getScale:yf,isElement:ml,isRTL:tJ};function iJ(t,e){let r=null,i;const n=Sl(t);function s(){var o;clearTimeout(i),(o=r)==null||o.disconnect(),r=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const{left:u,top:c,width:d,height:h}=t.getBoundingClientRect();if(o||e(),!d||!h)return;const p=Yv(c),g=Yv(n.clientWidth-(u+d)),y=Yv(n.clientHeight-(c+h)),b=Yv(u),w={rootMargin:-p+"px "+-g+"px "+-y+"px "+-b+"px",threshold:ys(0,o0(1,l))||1};let _=!0;function E(A){const I=A[0].intersectionRatio;if(I!==l){if(!_)return a();I?a(!1,I):i=setTimeout(()=>{a(!1,1e-7)},100)}_=!1}try{r=new IntersectionObserver(E,{...w,root:n.ownerDocument})}catch{r=new IntersectionObserver(E,w)}r.observe(t)}return a(!0),s}function nJ(t,e,r,i){i===void 0&&(i={});const{ancestorScroll:n=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,u=GI(t),c=n||s?[...u?l0(u):[],...l0(e)]:[];c.forEach(x=>{n&&x.addEventListener("scroll",r,{passive:!0}),s&&x.addEventListener("resize",r)});const d=u&&o?iJ(u,r):null;let h=-1,p=null;a&&(p=new ResizeObserver(x=>{let[w]=x;w&&w.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(e)})),r()}),u&&!l&&p.observe(u),p.observe(e));let g,y=l?Nh(t):null;l&&b();function b(){const x=Nh(t);y&&(x.x!==y.x||x.y!==y.y||x.width!==y.width||x.height!==y.height)&&r(),y=x,g=requestAnimationFrame(b)}return r(),()=>{var x;c.forEach(w=>{n&&w.removeEventListener("scroll",r),s&&w.removeEventListener("resize",r)}),d==null||d(),(x=p)==null||x.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const sJ=FZ,aJ=UZ,oJ=(t,e,r)=>{const i=new Map,n={platform:rJ,...r},s={...n.platform,_c:i};return DZ(t,e,{...n,platform:s})};var Sx=typeof document<"u"?R.useLayoutEffect:R.useEffect;function Lb(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,i,n;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(i=r;i--!==0;)if(!Lb(t[i],e[i]))return!1;return!0}if(n=Object.keys(t),r=n.length,r!==Object.keys(e).length)return!1;for(i=r;i--!==0;)if(!{}.hasOwnProperty.call(e,n[i]))return!1;for(i=r;i--!==0;){const s=n[i];if(!(s==="_owner"&&t.$$typeof)&&!Lb(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Vj(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function BN(t,e){const r=Vj(t);return Math.round(e*r)/r}function jN(t){const e=R.useRef(t);return Sx(()=>{e.current=t}),e}function lJ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:i=[],platform:n,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:u}=t,[c,d]=R.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=R.useState(i);Lb(h,i)||p(i);const[g,y]=R.useState(null),[b,x]=R.useState(null),w=R.useCallback(z=>{z!==I.current&&(I.current=z,y(z))},[]),_=R.useCallback(z=>{z!==P.current&&(P.current=z,x(z))},[]),E=s||g,A=a||b,I=R.useRef(null),P=R.useRef(null),M=R.useRef(c),k=l!=null,U=jN(l),j=jN(n),B=R.useCallback(()=>{if(!I.current||!P.current)return;const z={placement:e,strategy:r,middleware:h};j.current&&(z.platform=j.current),oJ(I.current,P.current,z).then(D=>{const G={...D,isPositioned:!0};L.current&&!Lb(M.current,G)&&(M.current=G,Ta.flushSync(()=>{d(G)}))})},[h,e,r,j]);Sx(()=>{u===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,d(z=>({...z,isPositioned:!1})))},[u]);const L=R.useRef(!1);Sx(()=>(L.current=!0,()=>{L.current=!1}),[]),Sx(()=>{if(E&&(I.current=E),A&&(P.current=A),E&&A){if(U.current)return U.current(E,A,B);B()}},[E,A,B,U,k]);const F=R.useMemo(()=>({reference:I,floating:P,setReference:w,setFloating:_}),[w,_]),O=R.useMemo(()=>({reference:E,floating:A}),[E,A]),$=R.useMemo(()=>{const z={position:r,left:0,top:0};if(!O.floating)return z;const D=BN(O.floating,c.x),G=BN(O.floating,c.y);return o?{...z,transform:"translate("+D+"px, "+G+"px)",...Vj(O.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:G}},[r,o,O.floating,c.x,c.y]);return R.useMemo(()=>({...c,update:B,refs:F,elements:O,floatingStyles:$}),[c,B,F,O,$])}var Wj=typeof document<"u"?R.useLayoutEffect:R.useEffect;let XS=!1,uJ=0;const UN=()=>"floating-ui-"+uJ++;function cJ(){const[t,e]=R.useState(()=>XS?UN():void 0);return Wj(()=>{t==null&&e(UN())},[]),R.useEffect(()=>{XS||(XS=!0)},[]),t}const hJ=FR.useId,dJ=hJ||cJ;function fJ(){const t=new Map;return{emit(e,r){var i;(i=t.get(e))==null||i.forEach(n=>n(r))},on(e,r){t.set(e,[...t.get(e)||[],r])},off(e,r){var i;t.set(e,((i=t.get(e))==null?void 0:i.filter(n=>n!==r))||[])}}}const pJ=R.createContext(null),mJ=()=>R.useContext(pJ),gJ=FR.useInsertionEffect,vJ=gJ||(t=>t());function yJ(t){const e=R.useRef(()=>{});return vJ(()=>{e.current=t}),R.useCallback(function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return e.current==null?void 0:e.current(...i)},[])}function xJ(t){var e;t===void 0&&(t={});const{open:r=!1,onOpenChange:i,nodeId:n}=t,[s,a]=R.useState(null),o=((e=t.elements)==null?void 0:e.reference)||s,l=lJ(t),u=mJ(),c=yJ((E,A)=>{E&&(h.current.openEvent=A),i==null||i(E,A)}),d=R.useRef(null),h=R.useRef({}),p=R.useState(()=>fJ())[0],g=dJ(),y=R.useCallback(E=>{const A=Xv(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),contextElement:E}:E;l.refs.setReference(A)},[l.refs]),b=R.useCallback(E=>{(Xv(E)||E===null)&&(d.current=E,a(E)),(Xv(l.refs.reference.current)||l.refs.reference.current===null||E!==null&&!Xv(E))&&l.refs.setReference(E)},[l.refs]),x=R.useMemo(()=>({...l.refs,setReference:b,setPositionReference:y,domReference:d}),[l.refs,b,y]),w=R.useMemo(()=>({...l.elements,domReference:o}),[l.elements,o]),_=R.useMemo(()=>({...l,refs:x,elements:w,dataRef:h,nodeId:n,floatingId:g,events:p,open:r,onOpenChange:c}),[l,n,g,p,r,c,x,w]);return Wj(()=>{const E=u==null?void 0:u.nodesRef.current.find(A=>A.id===n);E&&(E.context=_)}),R.useMemo(()=>({...l,context:_,refs:x,elements:w}),[l,x,w,_])}var bJ=Object.defineProperty,_J=(t,e)=>{for(var r in e)bJ(t,r,{get:e[r],enumerable:!0})},wa={};_J(wa,{assign:()=>EJ,colors:()=>Bu,createStringInterpolator:()=>QI,skipAnimation:()=>Jj,to:()=>Zj,willAdvance:()=>ZI});var VI=m1(),xt=t=>p1(t,VI),WI=m1();xt.write=t=>p1(t,WI);var ow=m1();xt.onStart=t=>p1(t,ow);var XI=m1();xt.onFrame=t=>p1(t,XI);var YI=m1();xt.onFinish=t=>p1(t,YI);var xf=[];xt.setTimeout=(t,e)=>{const r=xt.now()+e,i=()=>{const s=xf.findIndex(a=>a.cancel==i);~s&&xf.splice(s,1),bu-=~s?1:0},n={time:r,handler:t,cancel:i};return xf.splice(Xj(r),0,n),bu+=1,Yj(),n};var Xj=t=>~(~xf.findIndex(e=>e.time>t)||~xf.length);xt.cancel=t=>{ow.delete(t),XI.delete(t),YI.delete(t),VI.delete(t),WI.delete(t)};xt.sync=t=>{uC=!0,xt.batchedUpdates(t),uC=!1};xt.throttle=t=>{let e;function r(){try{t(...e)}finally{e=null}}function i(...n){e=n,xt.onStart(r)}return i.handler=t,i.cancel=()=>{ow.delete(r),e=null},i};var qI=typeof window<"u"?window.requestAnimationFrame:()=>{};xt.use=t=>qI=t;xt.now=typeof performance<"u"?()=>performance.now():Date.now;xt.batchedUpdates=t=>t();xt.catch=console.error;xt.frameLoop="always";xt.advance=()=>{xt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Kj()};var xu=-1,bu=0,uC=!1;function p1(t,e){uC?(e.delete(t),t(0)):(e.add(t),Yj())}function Yj(){xu<0&&(xu=0,xt.frameLoop!=="demand"&&qI(qj))}function wJ(){xu=-1}function qj(){~xu&&(qI(qj),xt.batchedUpdates(Kj))}function Kj(){const t=xu;xu=xt.now();const e=Xj(xu);if(e&&(Qj(xf.splice(0,e),r=>r.handler()),bu-=e),!bu){wJ();return}ow.flush(),VI.flush(t?Math.min(64,xu-t):16.667),XI.flush(),WI.flush(),YI.flush()}function m1(){let t=new Set,e=t;return{add(r){bu+=e==t&&!t.has(r)?1:0,t.add(r)},delete(r){return bu-=e==t&&t.has(r)?1:0,t.delete(r)},flush(r){e.size&&(t=new Set,bu-=e.size,Qj(e,i=>i(r)&&t.add(i)),bu+=t.size,e=t)}}}function Qj(t,e){t.forEach(r=>{try{e(r)}catch(i){xt.catch(i)}})}function cC(){}var SJ=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0}),ge={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function Ho(t,e){if(ge.arr(t)){if(!ge.arr(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return t===e}var pt=(t,e)=>t.forEach(e);function xo(t,e,r){if(ge.arr(t)){for(let i=0;i<t.length;i++)e.call(r,t[i],`${i}`);return}for(const i in t)t.hasOwnProperty(i)&&e.call(r,t[i],i)}var Xi=t=>ge.und(t)?[]:ge.arr(t)?t:[t];function wg(t,e){if(t.size){const r=Array.from(t);t.clear(),pt(r,e)}}var Wm=(t,...e)=>wg(t,r=>r(...e)),KI=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),QI,Zj,Bu=null,Jj=!1,ZI=cC,EJ=t=>{t.to&&(Zj=t.to),t.now&&(xt.now=t.now),t.colors!==void 0&&(Bu=t.colors),t.skipAnimation!=null&&(Jj=t.skipAnimation),t.createStringInterpolator&&(QI=t.createStringInterpolator),t.requestAnimationFrame&&xt.use(t.requestAnimationFrame),t.batchedUpdates&&(xt.batchedUpdates=t.batchedUpdates),t.willAdvance&&(ZI=t.willAdvance),t.frameLoop&&(xt.frameLoop=t.frameLoop)},Sg=new Set,bs=[],YS=[],Db=0,lw={get idle(){return!Sg.size&&!bs.length},start(t){Db>t.priority?(Sg.add(t),xt.onStart(TJ)):(e7(t),xt(hC))},advance:hC,sort(t){if(Db)xt.onFrame(()=>lw.sort(t));else{const e=bs.indexOf(t);~e&&(bs.splice(e,1),t7(t))}},clear(){bs=[],Sg.clear()}};function TJ(){Sg.forEach(e7),Sg.clear(),xt(hC)}function e7(t){bs.includes(t)||t7(t)}function t7(t){bs.splice(AJ(bs,e=>e.priority>t.priority),0,t)}function hC(t){const e=YS;for(let r=0;r<bs.length;r++){const i=bs[r];Db=i.priority,i.idle||(ZI(i),i.advance(t),i.idle||e.push(i))}return Db=0,YS=bs,YS.length=0,bs=e,bs.length>0}function AJ(t,e){const r=t.findIndex(e);return r<0?t.length:r}var CJ=(t,e,r)=>Math.min(Math.max(r,t),e),RJ={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},ca="[-+]?\\d*\\.?\\d+",Fb=ca+"%";function uw(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var IJ=new RegExp("rgb"+uw(ca,ca,ca)),PJ=new RegExp("rgba"+uw(ca,ca,ca,ca)),MJ=new RegExp("hsl"+uw(ca,Fb,Fb)),kJ=new RegExp("hsla"+uw(ca,Fb,Fb,ca)),NJ=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,OJ=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,LJ=/^#([0-9a-fA-F]{6})$/,DJ=/^#([0-9a-fA-F]{8})$/;function FJ(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=LJ.exec(t))?parseInt(e[1]+"ff",16)>>>0:Bu&&Bu[t]!==void 0?Bu[t]:(e=IJ.exec(t))?(bd(e[1])<<24|bd(e[2])<<16|bd(e[3])<<8|255)>>>0:(e=PJ.exec(t))?(bd(e[1])<<24|bd(e[2])<<16|bd(e[3])<<8|HN(e[4]))>>>0:(e=NJ.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=DJ.exec(t))?parseInt(e[1],16)>>>0:(e=OJ.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=MJ.exec(t))?($N(zN(e[1]),qv(e[2]),qv(e[3]))|255)>>>0:(e=kJ.exec(t))?($N(zN(e[1]),qv(e[2]),qv(e[3]))|HN(e[4]))>>>0:null}function qS(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function $N(t,e,r){const i=r<.5?r*(1+e):r+e-r*e,n=2*r-i,s=qS(n,i,t+1/3),a=qS(n,i,t),o=qS(n,i,t-1/3);return Math.round(s*255)<<24|Math.round(a*255)<<16|Math.round(o*255)<<8}function bd(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function zN(t){return(parseFloat(t)%360+360)%360/360}function HN(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function qv(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function GN(t){let e=FJ(t);if(e===null)return t;e=e||0;const r=(e&4278190080)>>>24,i=(e&16711680)>>>16,n=(e&65280)>>>8,s=(e&255)/255;return`rgba(${r}, ${i}, ${n}, ${s})`}var u0=(t,e,r)=>{if(ge.fun(t))return t;if(ge.arr(t))return u0({range:t,output:e,extrapolate:r});if(ge.str(t.output[0]))return QI(t);const i=t,n=i.output,s=i.range||[0,1],a=i.extrapolateLeft||i.extrapolate||"extend",o=i.extrapolateRight||i.extrapolate||"extend",l=i.easing||(u=>u);return u=>{const c=jJ(u,s);return BJ(u,s[c],s[c+1],n[c],n[c+1],l,a,o,i.map)}};function BJ(t,e,r,i,n,s,a,o,l){let u=l?l(t):t;if(u<e){if(a==="identity")return u;a==="clamp"&&(u=e)}if(u>r){if(o==="identity")return u;o==="clamp"&&(u=r)}return i===n?i:e===r?t<=e?i:n:(e===-1/0?u=-u:r===1/0?u=u-e:u=(u-e)/(r-e),u=s(u),i===-1/0?u=-u:n===1/0?u=u+i:u=u*(n-i)+i,u)}function jJ(t,e){for(var r=1;r<e.length-1&&!(e[r]>=t);++r);return r-1}var UJ=(t,e="end")=>r=>{r=e==="end"?Math.min(r,.999):Math.max(r,.001);const i=r*t,n=e==="end"?Math.floor(i):Math.ceil(i);return CJ(0,1,n/t)},Bb=1.70158,Kv=Bb*1.525,VN=Bb+1,WN=2*Math.PI/3,XN=2*Math.PI/4.5,Qv=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,$J={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>VN*t*t*t-Bb*t*t,easeOutBack:t=>1+VN*Math.pow(t-1,3)+Bb*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((Kv+1)*2*t-Kv)/2:(Math.pow(2*t-2,2)*((Kv+1)*(t*2-2)+Kv)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*WN),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*WN)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*XN))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*XN)/2+1,easeInBounce:t=>1-Qv(1-t),easeOutBounce:Qv,easeInOutBounce:t=>t<.5?(1-Qv(1-2*t))/2:(1+Qv(2*t-1))/2,steps:UJ},c0=Symbol.for("FluidValue.get"),ip=Symbol.for("FluidValue.observers"),xs=t=>!!(t&&t[c0]),cn=t=>t&&t[c0]?t[c0]():t,YN=t=>t[ip]||null;function zJ(t,e){t.eventObserved?t.eventObserved(e):t(e)}function h0(t,e){const r=t[ip];r&&r.forEach(i=>{zJ(i,e)})}var r7=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");HJ(this,t)}},HJ=(t,e)=>i7(t,c0,e);function Cp(t,e){if(t[c0]){let r=t[ip];r||i7(t,ip,r=new Set),r.has(e)||(r.add(e),t.observerAdded&&t.observerAdded(r.size,e))}return e}function d0(t,e){const r=t[ip];if(r&&r.has(e)){const i=r.size-1;i?r.delete(e):t[ip]=null,t.observerRemoved&&t.observerRemoved(i,e)}}var i7=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0}),Ex=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,GJ=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,qN=new RegExp(`(${Ex.source})(%|[a-z]+)`,"i"),VJ=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,cw=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,n7=t=>{const[e,r]=WJ(t);if(!e||KI())return t;const i=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(i)return i.trim();if(r&&r.startsWith("--")){const n=window.getComputedStyle(document.documentElement).getPropertyValue(r);return n||t}else{if(r&&cw.test(r))return n7(r);if(r)return r}return t},WJ=t=>{const e=cw.exec(t);if(!e)return[,];const[,r,i]=e;return[r,i]},KS,XJ=(t,e,r,i,n)=>`rgba(${Math.round(e)}, ${Math.round(r)}, ${Math.round(i)}, ${n})`,s7=t=>{KS||(KS=Bu?new RegExp(`(${Object.keys(Bu).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>cn(s).replace(cw,n7).replace(GJ,GN).replace(KS,GN)),r=e.map(s=>s.match(Ex).map(Number)),n=r[0].map((s,a)=>r.map(o=>{if(!(a in o))throw Error('The arity of each "output" value must be equal');return o[a]})).map(s=>u0({...t,output:s}));return s=>{var l;const a=!qN.test(e[0])&&((l=e.find(u=>qN.test(u)))==null?void 0:l.replace(Ex,""));let o=0;return e[0].replace(Ex,()=>`${n[o++](s)}${a||""}`).replace(VJ,XJ)}},JI="react-spring: ",a7=t=>{const e=t;let r=!1;if(typeof e!="function")throw new TypeError(`${JI}once requires a function parameter`);return(...i)=>{r||(e(...i),r=!0)}},YJ=a7(console.warn);function qJ(){YJ(`${JI}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var KJ=a7(console.warn);function QJ(){KJ(`${JI}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function hw(t){return ge.str(t)&&(t[0]=="#"||/\d/.test(t)||!KI()&&cw.test(t)||t in(Bu||{}))}var eh=KI()?R.useEffect:R.useLayoutEffect,ZJ=()=>{const t=R.useRef(!1);return eh(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function e4(){const t=R.useState()[1],e=ZJ();return()=>{e.current&&t(Math.random())}}function JJ(t,e){const[r]=R.useState(()=>({inputs:e,result:t()})),i=R.useRef(),n=i.current;let s=n;return s?e&&s.inputs&&eee(e,s.inputs)||(s={inputs:e,result:t()}):s=r,R.useEffect(()=>{i.current=s,n==r&&(r.inputs=r.result=void 0)},[s]),s.result}function eee(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var t4=t=>R.useEffect(t,tee),tee=[];function dC(t){const e=R.useRef();return R.useEffect(()=>{e.current=t}),e.current}var f0=Symbol.for("Animated:node"),ree=t=>!!t&&t[f0]===t,qa=t=>t&&t[f0],r4=(t,e)=>SJ(t,f0,e),dw=t=>t&&t[f0]&&t[f0].getPayload(),o7=class{constructor(){r4(this,this)}getPayload(){return this.payload||[]}},g1=class extends o7{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,ge.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new g1(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return ge.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,ge.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},p0=class extends g1{constructor(t){super(0),this._string=null,this._toString=u0({output:[t,t]})}static create(t){return new p0(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(ge.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=u0({output:[this.getValue(),t]})),this._value=0,super.reset()}},jb={dependencies:null},fw=class extends o7{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return xo(this.source,(r,i)=>{ree(r)?e[i]=r.getValue(t):xs(r)?e[i]=cn(r):t||(e[i]=r)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&pt(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return xo(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){jb.dependencies&&xs(t)&&jb.dependencies.add(t);const e=dw(t);e&&pt(e,r=>this.add(r))}},l7=class extends fw{constructor(t){super(t)}static create(t){return new l7(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((r,i)=>r.setValue(t[i])).some(Boolean):(super.setValue(t.map(iee)),!0)}};function iee(t){return(hw(t)?p0:g1).create(t)}function fC(t){const e=qa(t);return e?e.constructor:ge.arr(t)?l7:hw(t)?p0:g1}var KN=(t,e)=>{const r=!ge.fun(t)||t.prototype&&t.prototype.isReactComponent;return R.forwardRef((i,n)=>{const s=R.useRef(null),a=r&&R.useCallback(g=>{s.current=aee(n,g)},[n]),[o,l]=see(i,e),u=e4(),c=()=>{const g=s.current;if(r&&!g)return;(g?e.applyAnimatedValues(g,o.getValue(!0)):!1)===!1&&u()},d=new nee(c,l),h=R.useRef();eh(()=>(h.current=d,pt(l,g=>Cp(g,d)),()=>{h.current&&(pt(h.current.deps,g=>d0(g,h.current)),xt.cancel(h.current.update))})),R.useEffect(c,[]),t4(()=>()=>{const g=h.current;pt(g.deps,y=>d0(y,g))});const p=e.getComponentProps(o.getValue());return R.createElement(t,{...p,ref:a})})},nee=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&xt.write(this.update)}};function see(t,e){const r=new Set;return jb.dependencies=r,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new fw(t),jb.dependencies=null,[t,r]}function aee(t,e){return t&&(ge.fun(t)?t(e):t.current=e),e}var QN=Symbol.for("AnimatedComponent"),oee=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:r=n=>new fw(n),getComponentProps:i=n=>n}={})=>{const n={applyAnimatedValues:e,createAnimatedStyle:r,getComponentProps:i},s=a=>{const o=ZN(a)||"Anonymous";return ge.str(a)?a=s[a]||(s[a]=KN(a,n)):a=a[QN]||(a[QN]=KN(a,n)),a.displayName=`Animated(${o})`,a};return xo(t,(a,o)=>{ge.arr(t)&&(o=ZN(a)),s[o]=s(a)}),{animated:s}},ZN=t=>ge.str(t)?t:t&&ge.str(t.displayName)?t.displayName:ge.fun(t)&&t.name||null;function hn(t,...e){return ge.fun(t)?t(...e):t}var Eg=(t,e)=>t===!0||!!(e&&t&&(ge.fun(t)?t(e):Xi(t).includes(e))),u7=(t,e)=>ge.obj(t)?e&&t[e]:t,c7=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,lee=t=>t,pw=(t,e=lee)=>{let r=uee;t.default&&t.default!==!0&&(t=t.default,r=Object.keys(t));const i={};for(const n of r){const s=e(t[n],n);ge.und(s)||(i[n]=s)}return i},uee=["config","onProps","onStart","onChange","onPause","onResume","onRest"],cee={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function hee(t){const e={};let r=0;if(xo(t,(i,n)=>{cee[n]||(e[n]=i,r++)}),r)return e}function i4(t){const e=hee(t);if(e){const r={to:e};return xo(t,(i,n)=>n in e||(r[n]=i)),r}return{...t}}function m0(t){return t=cn(t),ge.arr(t)?t.map(m0):hw(t)?wa.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function h7(t){for(const e in t)return!0;return!1}function pC(t){return ge.fun(t)||ge.arr(t)&&ge.obj(t[0])}function mC(t,e){var r;(r=t.ref)==null||r.delete(t),e==null||e.delete(t)}function d7(t,e){var r;e&&t.ref!==e&&((r=t.ref)==null||r.delete(t),e.add(t),t.ref=e)}var dee={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},gC={...dee.default,mass:1,damping:1,easing:$J.linear,clamp:!1},fee=class{constructor(){this.velocity=0,Object.assign(this,gC)}};function pee(t,e,r){r&&(r={...r},JN(r,e),e={...r,...e}),JN(t,e),Object.assign(t,e);for(const a in gC)t[a]==null&&(t[a]=gC[a]);let{frequency:i,damping:n}=t;const{mass:s}=t;return ge.und(i)||(i<.01&&(i=.01),n<0&&(n=0),t.tension=Math.pow(2*Math.PI/i,2)*s,t.friction=4*Math.PI*n*s/i),t}function JN(t,e){if(!ge.und(e.decay))t.duration=void 0;else{const r=!ge.und(e.tension)||!ge.und(e.friction);(r||!ge.und(e.frequency)||!ge.und(e.damping)||!ge.und(e.mass))&&(t.duration=void 0,t.decay=void 0),r&&(t.frequency=void 0)}}var eO=[],mee=class{constructor(){this.changed=!1,this.values=eO,this.toValues=null,this.fromValues=eO,this.config=new fee,this.immediate=!1}};function f7(t,{key:e,props:r,defaultProps:i,state:n,actions:s}){return new Promise((a,o)=>{let l,u,c=Eg(r.cancel??(i==null?void 0:i.cancel),e);if(c)p();else{ge.und(r.pause)||(n.paused=Eg(r.pause,e));let g=i==null?void 0:i.pause;g!==!0&&(g=n.paused||Eg(g,e)),l=hn(r.delay||0,e),g?(n.resumeQueue.add(h),s.pause()):(s.resume(),h())}function d(){n.resumeQueue.add(h),n.timeouts.delete(u),u.cancel(),l=u.time-xt.now()}function h(){l>0&&!wa.skipAnimation?(n.delayed=!0,u=xt.setTimeout(p,l),n.pauseQueue.add(d),n.timeouts.add(u)):p()}function p(){n.delayed&&(n.delayed=!1),n.pauseQueue.delete(d),n.timeouts.delete(u),t<=(n.cancelId||0)&&(c=!0);try{s.start({...r,callId:t,cancel:c},a)}catch(g){o(g)}}})}var n4=(t,e)=>e.length==1?e[0]:e.some(r=>r.cancelled)?bf(t.get()):e.every(r=>r.noop)?p7(t.get()):aa(t.get(),e.every(r=>r.finished)),p7=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),aa=(t,e,r=!1)=>({value:t,finished:e,cancelled:r}),bf=t=>({value:t,cancelled:!0,finished:!1});function m7(t,e,r,i){const{callId:n,parentId:s,onRest:a}=e,{asyncTo:o,promise:l}=r;return!s&&t===o&&!e.reset?l:r.promise=(async()=>{r.asyncId=n,r.asyncTo=t;const u=pw(e,(b,x)=>x==="onRest"?void 0:b);let c,d;const h=new Promise((b,x)=>(c=b,d=x)),p=b=>{const x=n<=(r.cancelId||0)&&bf(i)||n!==r.asyncId&&aa(i,!1);if(x)throw b.result=x,d(b),b},g=(b,x)=>{const w=new tO,_=new rO;return(async()=>{if(wa.skipAnimation)throw g0(r),_.result=aa(i,!1),d(_),_;p(w);const E=ge.obj(b)?{...b}:{...x,to:b};E.parentId=n,xo(u,(I,P)=>{ge.und(E[P])&&(E[P]=I)});const A=await i.start(E);return p(w),r.paused&&await new Promise(I=>{r.resumeQueue.add(I)}),A})()};let y;if(wa.skipAnimation)return g0(r),aa(i,!1);try{let b;ge.arr(t)?b=(async x=>{for(const w of x)await g(w)})(t):b=Promise.resolve(t(g,i.stop.bind(i))),await Promise.all([b.then(c),h]),y=aa(i.get(),!0,!1)}catch(b){if(b instanceof tO)y=b.result;else if(b instanceof rO)y=b.result;else throw b}finally{n==r.asyncId&&(r.asyncId=s,r.asyncTo=s?o:void 0,r.promise=s?l:void 0)}return ge.fun(a)&&xt.batchedUpdates(()=>{a(y,i,i.item)}),y})()}function g0(t,e){wg(t.timeouts,r=>r.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var tO=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},rO=class extends Error{constructor(){super("SkipAnimationSignal")}},vC=t=>t instanceof s4,gee=1,s4=class extends r7{constructor(){super(...arguments),this.id=gee++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=qa(this);return t&&t.getValue()}to(...t){return wa.to(this,t)}interpolate(...t){return qJ(),wa.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){h0(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||lw.sort(this),h0(this,{type:"priority",parent:this,priority:t})}},Oh=Symbol.for("SpringPhase"),g7=1,yC=2,xC=4,QS=t=>(t[Oh]&g7)>0,Hl=t=>(t[Oh]&yC)>0,vm=t=>(t[Oh]&xC)>0,iO=(t,e)=>e?t[Oh]|=yC|g7:t[Oh]&=~yC,nO=(t,e)=>e?t[Oh]|=xC:t[Oh]&=~xC,vee=class extends s4{constructor(t,e){if(super(),this.animation=new mee,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!ge.und(t)||!ge.und(e)){const r=ge.obj(t)?{...t}:{...e,from:t};ge.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(Hl(this)||this._state.asyncTo)||vm(this)}get goal(){return cn(this.animation.to)}get velocity(){const t=qa(this);return t instanceof g1?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return QS(this)}get isAnimating(){return Hl(this)}get isPaused(){return vm(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,r=!1;const i=this.animation;let{toValues:n}=i;const{config:s}=i,a=dw(i.to);!a&&xs(i.to)&&(n=Xi(cn(i.to))),i.values.forEach((u,c)=>{if(u.done)return;const d=u.constructor==p0?1:a?a[c].lastPosition:n[c];let h=i.immediate,p=d;if(!h){if(p=u.lastPosition,s.tension<=0){u.done=!0;return}let g=u.elapsedTime+=t;const y=i.fromValues[c],b=u.v0!=null?u.v0:u.v0=ge.arr(s.velocity)?s.velocity[c]:s.velocity;let x;const w=s.precision||(y==d?.005:Math.min(1,Math.abs(d-y)*.001));if(ge.und(s.duration))if(s.decay){const _=s.decay===!0?.998:s.decay,E=Math.exp(-(1-_)*g);p=y+b/(1-_)*(1-E),h=Math.abs(u.lastPosition-p)<=w,x=b*E}else{x=u.lastVelocity==null?b:u.lastVelocity;const _=s.restVelocity||w/10,E=s.clamp?0:s.bounce,A=!ge.und(E),I=y==d?u.v0>0:y<d;let P,M=!1;const k=1,U=Math.ceil(t/k);for(let j=0;j<U&&(P=Math.abs(x)>_,!(!P&&(h=Math.abs(d-p)<=w,h)));++j){A&&(M=p==d||p>d==I,M&&(x=-x*E,p=d));const B=-s.tension*1e-6*(p-d),L=-s.friction*.001*x,F=(B+L)/s.mass;x=x+F*k,p=p+x*k}}else{let _=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,u.durationProgress>0&&(u.elapsedTime=s.duration*u.durationProgress,g=u.elapsedTime+=t)),_=(s.progress||0)+g/this._memoizedDuration,_=_>1?1:_<0?0:_,u.durationProgress=_),p=y+s.easing(_)*(d-y),x=(p-u.lastPosition)/t,h=_==1}u.lastVelocity=x,Number.isNaN(p)&&(console.warn("Got NaN while animating:",this),h=!0)}a&&!a[c].done&&(h=!1),h?u.done=!0:e=!1,u.setValue(p,s.round)&&(r=!0)});const o=qa(this),l=o.getValue();if(e){const u=cn(i.to);(l!==u||r)&&!s.decay?(o.setValue(u),this._onChange(u)):r&&s.decay&&this._onChange(l),this._stop()}else r&&this._onChange(l)}set(t){return xt.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Hl(this)){const{to:t,config:e}=this.animation;xt.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let r;return ge.und(t)?(r=this.queue||[],this.queue=[]):r=[ge.obj(t)?t:{...e,to:t}],Promise.all(r.map(i=>this._update(i))).then(i=>n4(this,i))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),g0(this._state,t&&this._lastCallId),xt.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:r,from:i}=t;r=ge.obj(r)?r[e]:r,(r==null||pC(r))&&(r=void 0),i=ge.obj(i)?i[e]:i,i==null&&(i=void 0);const n={to:r,from:i};return QS(this)||(t.reverse&&([r,i]=[i,r]),i=cn(i),ge.und(i)?qa(this)||this._set(r):this._set(i)),n}_update({...t},e){const{key:r,defaultProps:i}=this;t.default&&Object.assign(i,pw(t,(a,o)=>/^on/.test(o)?u7(a,r):a)),aO(this,t,"onProps"),xm(this,"onProps",t,this);const n=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return f7(++this._lastCallId,{key:r,props:t,defaultProps:i,state:s,actions:{pause:()=>{vm(this)||(nO(this,!0),Wm(s.pauseQueue),xm(this,"onPause",aa(this,ym(this,this.animation.to)),this))},resume:()=>{vm(this)&&(nO(this,!1),Hl(this)&&this._resume(),Wm(s.resumeQueue),xm(this,"onResume",aa(this,ym(this,this.animation.to)),this))},start:this._merge.bind(this,n)}}).then(a=>{if(t.loop&&a.finished&&!(e&&a.noop)){const o=v7(t);if(o)return this._update(o,!0)}return a})}_merge(t,e,r){if(e.cancel)return this.stop(!0),r(bf(this));const i=!ge.und(t.to),n=!ge.und(t.from);if(i||n)if(e.callId>this._lastToId)this._lastToId=e.callId;else return r(bf(this));const{key:s,defaultProps:a,animation:o}=this,{to:l,from:u}=o;let{to:c=l,from:d=u}=t;n&&!i&&(!e.default||ge.und(c))&&(c=d),e.reverse&&([c,d]=[d,c]);const h=!Ho(d,u);h&&(o.from=d),d=cn(d);const p=!Ho(c,l);p&&this._focus(c);const g=pC(e.to),{config:y}=o,{decay:b,velocity:x}=y;(i||n)&&(y.velocity=0),e.config&&!g&&pee(y,hn(e.config,s),e.config!==a.config?hn(a.config,s):void 0);let w=qa(this);if(!w||ge.und(c))return r(aa(this,!0));const _=ge.und(e.reset)?n&&!e.default:!ge.und(d)&&Eg(e.reset,s),E=_?d:this.get(),A=m0(c),I=ge.num(A)||ge.arr(A)||hw(A),P=!g&&(!I||Eg(a.immediate||e.immediate,s));if(p){const j=fC(c);if(j!==w.constructor)if(P)w=this._set(A);else throw Error(`Cannot animate between ${w.constructor.name} and ${j.name}, as the "to" prop suggests`)}const M=w.constructor;let k=xs(c),U=!1;if(!k){const j=_||!QS(this)&&h;(p||j)&&(U=Ho(m0(E),A),k=!U),(!Ho(o.immediate,P)&&!P||!Ho(y.decay,b)||!Ho(y.velocity,x))&&(k=!0)}if(U&&Hl(this)&&(o.changed&&!_?k=!0:k||this._stop(l)),!g&&((k||xs(l))&&(o.values=w.getPayload(),o.toValues=xs(c)?null:M==p0?[1]:Xi(A)),o.immediate!=P&&(o.immediate=P,!P&&!_&&this._set(l)),k)){const{onRest:j}=o;pt(xee,L=>aO(this,e,L));const B=aa(this,ym(this,l));Wm(this._pendingCalls,B),this._pendingCalls.add(r),o.changed&&xt.batchedUpdates(()=>{var L;o.changed=!_,j==null||j(B,this),_?hn(a.onRest,B):(L=o.onStart)==null||L.call(o,B,this)})}_&&this._set(E),g?r(m7(e.to,e,this._state,this)):k?this._start():Hl(this)&&!p?this._pendingCalls.add(r):r(p7(E))}_focus(t){const e=this.animation;t!==e.to&&(YN(this)&&this._detach(),e.to=t,YN(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;xs(e)&&(Cp(e,this),vC(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;xs(t)&&d0(t,this)}_set(t,e=!0){const r=cn(t);if(!ge.und(r)){const i=qa(this);if(!i||!Ho(r,i.getValue())){const n=fC(r);!i||i.constructor!=n?r4(this,n.create(r)):i.setValue(r),i&&xt.batchedUpdates(()=>{this._onChange(r,e)})}}return qa(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,xm(this,"onStart",aa(this,ym(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),hn(this.animation.onChange,t,this)),hn(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;qa(this).reset(cn(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),Hl(this)||(iO(this,!0),vm(this)||this._resume())}_resume(){wa.skipAnimation?this.finish():lw.start(this)}_stop(t,e){if(Hl(this)){iO(this,!1);const r=this.animation;pt(r.values,n=>{n.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),h0(this,{type:"idle",parent:this});const i=e?bf(this.get()):aa(this.get(),ym(this,t??r.to));Wm(this._pendingCalls,i),r.changed&&(r.changed=!1,xm(this,"onRest",i,this))}}};function ym(t,e){const r=m0(e),i=m0(t.get());return Ho(i,r)}function v7(t,e=t.loop,r=t.to){const i=hn(e);if(i){const n=i!==!0&&i4(i),s=(n||t).reverse,a=!n||n.reset;return v0({...t,loop:e,default:!1,pause:void 0,to:!s||pC(r)?r:void 0,from:a?t.from:void 0,reset:a,...n})}}function v0(t){const{to:e,from:r}=t=i4(t),i=new Set;return ge.obj(e)&&sO(e,i),ge.obj(r)&&sO(r,i),t.keys=i.size?Array.from(i):null,t}function yee(t){const e=v0(t);return ge.und(e.default)&&(e.default=pw(e)),e}function sO(t,e){xo(t,(r,i)=>r!=null&&e.add(i))}var xee=["onStart","onRest","onChange","onPause","onResume"];function aO(t,e,r){t.animation[r]=e[r]!==c7(e,r)?u7(e[r],t.key):void 0}function xm(t,e,...r){var i,n,s,a;(n=(i=t.animation)[e])==null||n.call(i,...r),(a=(s=t.defaultProps)[e])==null||a.call(s,...r)}var bee=["onStart","onChange","onRest"],_ee=1,y7=class{constructor(t,e){this.id=_ee++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((e,r)=>t[r]=e.get()),t}set(t){for(const e in t){const r=t[e];ge.und(r)||this.springs[e].set(r)}}update(t){return t&&this.queue.push(v0(t)),this}start(t){let{queue:e}=this;return t?e=Xi(t).map(v0):this.queue=[],this._flush?this._flush(this,e):(S7(this,e),bC(this,e))}stop(t,e){if(t!==!!t&&(e=t),e){const r=this.springs;pt(Xi(e),i=>r[i].stop(!!t))}else g0(this._state,this._lastAsyncId),this.each(r=>r.stop(!!t));return this}pause(t){if(ge.und(t))this.start({pause:!0});else{const e=this.springs;pt(Xi(t),r=>e[r].pause())}return this}resume(t){if(ge.und(t))this.start({pause:!1});else{const e=this.springs;pt(Xi(t),r=>e[r].resume())}return this}each(t){xo(this.springs,t)}_onFrame(){const{onStart:t,onChange:e,onRest:r}=this._events,i=this._active.size>0,n=this._changed.size>0;(i&&!this._started||n&&!this._started)&&(this._started=!0,wg(t,([o,l])=>{l.value=this.get(),o(l,this,this._item)}));const s=!i&&this._started,a=n||s&&r.size?this.get():null;n&&e.size&&wg(e,([o,l])=>{l.value=a,o(l,this,this._item)}),s&&(this._started=!1,wg(r,([o,l])=>{l.value=a,o(l,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;xt.onFrame(this._onFrame)}};function bC(t,e){return Promise.all(e.map(r=>x7(t,r))).then(r=>n4(t,r))}async function x7(t,e,r){const{keys:i,to:n,from:s,loop:a,onRest:o,onResolve:l}=e,u=ge.obj(e.default)&&e.default;a&&(e.loop=!1),n===!1&&(e.to=null),s===!1&&(e.from=null);const c=ge.arr(n)||ge.fun(n)?n:void 0;c?(e.to=void 0,e.onRest=void 0,u&&(u.onRest=void 0)):pt(bee,y=>{const b=e[y];if(ge.fun(b)){const x=t._events[y];e[y]=({finished:w,cancelled:_})=>{const E=x.get(b);E?(w||(E.finished=!1),_&&(E.cancelled=!0)):x.set(b,{value:null,finished:w||!1,cancelled:_||!1})},u&&(u[y]=e[y])}});const d=t._state;e.pause===!d.paused?(d.paused=e.pause,Wm(e.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(e.pause=!0);const h=(i||Object.keys(t.springs)).map(y=>t.springs[y].start(e)),p=e.cancel===!0||c7(e,"cancel")===!0;(c||p&&d.asyncId)&&h.push(f7(++t._lastAsyncId,{props:e,state:d,actions:{pause:cC,resume:cC,start(y,b){p?(g0(d,t._lastAsyncId),b(bf(t))):(y.onRest=o,b(m7(c,y,d,t)))}}})),d.paused&&await new Promise(y=>{d.resumeQueue.add(y)});const g=n4(t,await Promise.all(h));if(a&&g.finished&&!(r&&g.noop)){const y=v7(e,a,n);if(y)return S7(t,[y]),x7(t,y,!0)}return l&&xt.batchedUpdates(()=>l(g,t,t.item)),g}function _C(t,e){const r={...t.springs};return e&&pt(Xi(e),i=>{ge.und(i.keys)&&(i=v0(i)),ge.obj(i.to)||(i={...i,to:void 0}),w7(r,i,n=>_7(n))}),b7(t,r),r}function b7(t,e){xo(e,(r,i)=>{t.springs[i]||(t.springs[i]=r,Cp(r,t))})}function _7(t,e){const r=new vee;return r.key=t,e&&Cp(r,e),r}function w7(t,e,r){e.keys&&pt(e.keys,i=>{(t[i]||(t[i]=r(i)))._prepareNode(e)})}function S7(t,e){pt(e,r=>{w7(t.springs,r,i=>_7(i,t))})}var v1=({children:t,...e})=>{const r=R.useContext(Ub),i=e.pause||!!r.pause,n=e.immediate||!!r.immediate;e=JJ(()=>({pause:i,immediate:n}),[i,n]);const{Provider:s}=Ub;return R.createElement(s,{value:e},t)},Ub=wee(v1,{});v1.Provider=Ub.Provider;v1.Consumer=Ub.Consumer;function wee(t,e){return Object.assign(t,R.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var E7=()=>{const t=[],e=function(i){QJ();const n=[];return pt(t,(s,a)=>{if(ge.und(i))n.push(s.start());else{const o=r(i,s,a);o&&n.push(s.start(o))}}),n};e.current=t,e.add=function(i){t.includes(i)||t.push(i)},e.delete=function(i){const n=t.indexOf(i);~n&&t.splice(n,1)},e.pause=function(){return pt(t,i=>i.pause(...arguments)),this},e.resume=function(){return pt(t,i=>i.resume(...arguments)),this},e.set=function(i){pt(t,(n,s)=>{const a=ge.fun(i)?i(s,n):i;a&&n.set(a)})},e.start=function(i){const n=[];return pt(t,(s,a)=>{if(ge.und(i))n.push(s.start());else{const o=this._getProps(i,s,a);o&&n.push(s.start(o))}}),n},e.stop=function(){return pt(t,i=>i.stop(...arguments)),this},e.update=function(i){return pt(t,(n,s)=>n.update(this._getProps(i,n,s))),this};const r=function(i,n,s){return ge.fun(i)?i(s,n):i};return e._getProps=r,e};function See(t,e,r){const i=ge.fun(e)&&e;i&&!r&&(r=[]);const n=R.useMemo(()=>i||arguments.length==3?E7():void 0,[]),s=R.useRef(0),a=e4(),o=R.useMemo(()=>({ctrls:[],queue:[],flush(x,w){const _=_C(x,w);return s.current>0&&!o.queue.length&&!Object.keys(_).some(A=>!x.springs[A])?bC(x,w):new Promise(A=>{b7(x,_),o.queue.push(()=>{A(bC(x,w))}),a()})}}),[]),l=R.useRef([...o.ctrls]),u=[],c=dC(t)||0;R.useMemo(()=>{pt(l.current.slice(t,c),x=>{mC(x,n),x.stop(!0)}),l.current.length=t,d(c,t)},[t]),R.useMemo(()=>{d(0,Math.min(c,t))},r);function d(x,w){for(let _=x;_<w;_++){const E=l.current[_]||(l.current[_]=new y7(null,o.flush)),A=i?i(_,E):e[_];A&&(u[_]=yee(A))}}const h=l.current.map((x,w)=>_C(x,u[w])),p=R.useContext(v1),g=dC(p),y=p!==g&&h7(p);eh(()=>{s.current++,o.ctrls=l.current;const{queue:x}=o;x.length&&(o.queue=[],pt(x,w=>w())),pt(l.current,(w,_)=>{n==null||n.add(w),y&&w.start({default:p});const E=u[_];E&&(d7(w,E.ref),w.ref?w.queue.push(E):w.start(E))})}),t4(()=>()=>{pt(o.ctrls,x=>x.stop(!0))});const b=h.map(x=>({...x}));return n?[b,n]:b}function kAe(t,e){const r=ge.fun(t),[[i],n]=See(1,r?t:[t],r?e||[]:e);return r||arguments.length==2?[i,n]:i}function T7(t,e,r){const i=ge.fun(e)&&e,{reset:n,sort:s,trail:a=0,expires:o=!0,exitBeforeEnter:l=!1,onDestroyed:u,ref:c,config:d}=i?i():e,h=R.useMemo(()=>i||arguments.length==3?E7():void 0,[]),p=Xi(t),g=[],y=R.useRef(null),b=n?null:y.current;eh(()=>{y.current=g}),t4(()=>(pt(g,F=>{h==null||h.add(F.ctrl),F.ctrl.ref=h}),()=>{pt(y.current,F=>{F.expired&&clearTimeout(F.expirationId),mC(F.ctrl,h),F.ctrl.stop(!0)})}));const x=Tee(p,i?i():e,b),w=n&&y.current||[];eh(()=>pt(w,({ctrl:F,item:O,key:$})=>{mC(F,h),hn(u,O,$)}));const _=[];if(b&&pt(b,(F,O)=>{F.expired?(clearTimeout(F.expirationId),w.push(F)):(O=_[O]=x.indexOf(F.key),~O&&(g[O]=F))}),pt(p,(F,O)=>{g[O]||(g[O]={key:x[O],item:F,phase:"mount",ctrl:new y7},g[O].ctrl.item=F)}),_.length){let F=-1;const{leave:O}=i?i():e;pt(_,($,z)=>{const D=b[z];~$?(F=g.indexOf(D),g[F]={...D,item:p[$]}):O&&g.splice(++F,0,D)})}ge.fun(s)&&g.sort((F,O)=>s(F.item,O.item));let E=-a;const A=e4(),I=pw(e),P=new Map,M=R.useRef(new Map),k=R.useRef(!1);pt(g,(F,O)=>{const $=F.key,z=F.phase,D=i?i():e;let G,H;const W=hn(D.delay||0,$);if(z=="mount")G=D.enter,H="enter";else{const le=x.indexOf($)<0;if(z!="leave")if(le)G=D.leave,H="leave";else if(G=D.update)H="update";else return;else if(!le)G=D.enter,H="enter";else return}if(G=hn(G,F.item,O),G=ge.obj(G)?i4(G):{to:G},!G.config){const le=d||I.config;G.config=hn(le,F.item,O,H)}E+=a;const K={...I,delay:W+E,ref:c,immediate:D.immediate,reset:!1,...G};if(H=="enter"&&ge.und(K.from)){const le=i?i():e,fe=ge.und(le.initial)||b?le.from:le.initial;K.from=hn(fe,F.item,O)}const{onResolve:Q}=K;K.onResolve=le=>{hn(Q,le);const fe=y.current,we=fe.find($e=>$e.key===$);if(we&&!(le.cancelled&&we.phase!="update")&&we.ctrl.idle){const $e=fe.every(Ze=>Ze.ctrl.idle);if(we.phase=="leave"){const Ze=hn(o,we.item);if(Ze!==!1){const Fe=Ze===!0?0:Ze;if(we.expired=!0,!$e&&Fe>0){Fe<=2147483647&&(we.expirationId=setTimeout(A,Fe));return}}}$e&&fe.some(Ze=>Ze.expired)&&(M.current.delete(we),l&&(k.current=!0),A())}};const ie=_C(F.ctrl,K);H==="leave"&&l?M.current.set(F,{phase:H,springs:ie,payload:K}):P.set(F,{phase:H,springs:ie,payload:K})});const U=R.useContext(v1),j=dC(U),B=U!==j&&h7(U);eh(()=>{B&&pt(g,F=>{F.ctrl.start({default:U})})},[U]),pt(P,(F,O)=>{if(M.current.size){const $=g.findIndex(z=>z.key===O.key);g.splice($,1)}}),eh(()=>{pt(M.current.size?M.current:P,({phase:F,payload:O},$)=>{const{ctrl:z}=$;$.phase=F,h==null||h.add(z),B&&F=="enter"&&z.start({default:U}),O&&(d7(z,O.ref),(z.ref||h)&&!k.current?z.update(O):(z.start(O),k.current&&(k.current=!1)))})},n?void 0:r);const L=F=>R.createElement(R.Fragment,null,g.map((O,$)=>{const{springs:z}=P.get(O)||O.ctrl,D=F({...z},O.item,O,$);return D&&D.type?R.createElement(D.type,{...D.props,key:ge.str(O.key)||ge.num(O.key)?O.key:O.ctrl.id,ref:D.ref}):D}));return h?[L,h]:L}var Eee=1;function Tee(t,{key:e,keys:r=e},i){if(r===null){const n=new Set;return t.map(s=>{const a=i&&i.find(o=>o.item===s&&o.phase!=="leave"&&!n.has(o));return a?(n.add(a),a.key):Eee++})}return ge.und(r)?t:ge.fun(r)?t.map(r):Xi(r)}var Aee=class extends s4{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=u0(...e);const r=this._get(),i=fC(r);r4(this,i.create(r))}advance(t){const e=this._get(),r=this.get();Ho(e,r)||(qa(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&oO(this._active)&&ZS(this)}_get(){const t=ge.arr(this.source)?this.source.map(cn):Xi(cn(this.source));return this.calc(...t)}_start(){this.idle&&!oO(this._active)&&(this.idle=!1,pt(dw(this),t=>{t.done=!1}),wa.skipAnimation?(xt.batchedUpdates(()=>this.advance()),ZS(this)):lw.start(this))}_attach(){let t=1;pt(Xi(this.source),e=>{xs(e)&&Cp(e,this),vC(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){pt(Xi(this.source),t=>{xs(t)&&d0(t,this)}),this._active.clear(),ZS(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=Xi(this.source).reduce((e,r)=>Math.max(e,(vC(r)?r.priority:0)+1),0))}};function Cee(t){return t.idle!==!1}function oO(t){return!t.size||Array.from(t).every(Cee)}function ZS(t){t.idle||(t.idle=!0,pt(dw(t),e=>{e.done=!0}),h0(t,{type:"idle",parent:t}))}wa.assign({createStringInterpolator:s7,to:(t,e)=>new Aee(t,e)});var A7=/^--/;function Ree(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!A7.test(t)&&!(Tg.hasOwnProperty(t)&&Tg[t])?e+"px":(""+e).trim()}var lO={};function Iee(t,e){if(!t.nodeType||!t.setAttribute)return!1;const r=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{style:i,children:n,scrollTop:s,scrollLeft:a,viewBox:o,...l}=e,u=Object.values(l),c=Object.keys(l).map(d=>r||t.hasAttribute(d)?d:lO[d]||(lO[d]=d.replace(/([A-Z])/g,h=>"-"+h.toLowerCase())));n!==void 0&&(t.textContent=n);for(const d in i)if(i.hasOwnProperty(d)){const h=Ree(d,i[d]);A7.test(d)?t.style.setProperty(d,h):t.style[d]=h}c.forEach((d,h)=>{t.setAttribute(d,u[h])}),s!==void 0&&(t.scrollTop=s),a!==void 0&&(t.scrollLeft=a),o!==void 0&&t.setAttribute("viewBox",o)}var Tg={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pee=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),Mee=["Webkit","Ms","Moz","O"];Tg=Object.keys(Tg).reduce((t,e)=>(Mee.forEach(r=>t[Pee(r,e)]=t[e]),t),Tg);var kee=/^(matrix|translate|scale|rotate|skew)/,Nee=/^(translate)/,Oee=/^(rotate|skew)/,JS=(t,e)=>ge.num(t)&&t!==0?t+e:t,Tx=(t,e)=>ge.arr(t)?t.every(r=>Tx(r,e)):ge.num(t)?t===e:parseFloat(t)===e,Lee=class extends fw{constructor({x:t,y:e,z:r,...i}){const n=[],s=[];(t||e||r)&&(n.push([t||0,e||0,r||0]),s.push(a=>[`translate3d(${a.map(o=>JS(o,"px")).join(",")})`,Tx(a,0)])),xo(i,(a,o)=>{if(o==="transform")n.push([a||""]),s.push(l=>[l,l===""]);else if(kee.test(o)){if(delete i[o],ge.und(a))return;const l=Nee.test(o)?"px":Oee.test(o)?"deg":"";n.push(Xi(a)),s.push(o==="rotate3d"?([u,c,d,h])=>[`rotate3d(${u},${c},${d},${JS(h,l)})`,Tx(h,0)]:u=>[`${o}(${u.map(c=>JS(c,l)).join(",")})`,Tx(u,o.startsWith("scale")?1:0)])}}),n.length&&(i.transform=new Dee(n,s)),super(i)}},Dee=class extends r7{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return pt(this.inputs,(r,i)=>{const n=cn(r[0]),[s,a]=this.transforms[i](ge.arr(n)?n:r.map(cn));t+=" "+s,e=e&&a}),e?"none":t}observerAdded(t){t==1&&pt(this.inputs,e=>pt(e,r=>xs(r)&&Cp(r,this)))}observerRemoved(t){t==0&&pt(this.inputs,e=>pt(e,r=>xs(r)&&d0(r,this)))}eventObserved(t){t.type=="change"&&(this._value=null),h0(this,t)}},Fee=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];wa.assign({batchedUpdates:Ta.unstable_batchedUpdates,createStringInterpolator:s7,colors:RJ});var Bee=oee(Fee,{applyAnimatedValues:Iee,createAnimatedStyle:t=>new Lee(t),getComponentProps:({scrollTop:t,scrollLeft:e,...r})=>r}),wC=Bee.animated,uO=function(e){return e.reduce(function(r,i){var n=i[0],s=i[1];return r[n]=s,r},{})},cO=typeof window<"u"&&window.document&&window.document.createElement?R.useLayoutEffect:R.useEffect,xn="top",Ns="bottom",Os="right",bn="left",a4="auto",y1=[xn,Ns,Os,bn],np="start",y0="end",jee="clippingParents",C7="viewport",bm="popper",Uee="reference",hO=y1.reduce(function(t,e){return t.concat([e+"-"+np,e+"-"+y0])},[]),R7=[].concat(y1,[a4]).reduce(function(t,e){return t.concat([e,e+"-"+np,e+"-"+y0])},[]),$ee="beforeRead",zee="read",Hee="afterRead",Gee="beforeMain",Vee="main",Wee="afterMain",Xee="beforeWrite",Yee="write",qee="afterWrite",Kee=[$ee,zee,Hee,Gee,Vee,Wee,Xee,Yee,qee];function bo(t){return t?(t.nodeName||"").toLowerCase():null}function Xn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Lh(t){var e=Xn(t).Element;return t instanceof e||t instanceof Element}function Rs(t){var e=Xn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function o4(t){if(typeof ShadowRoot>"u")return!1;var e=Xn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Qee(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var i=e.styles[r]||{},n=e.attributes[r]||{},s=e.elements[r];!Rs(s)||!bo(s)||(Object.assign(s.style,i),Object.keys(n).forEach(function(a){var o=n[a];o===!1?s.removeAttribute(a):s.setAttribute(a,o===!0?"":o)}))})}function Zee(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(i){var n=e.elements[i],s=e.attributes[i]||{},a=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:r[i]),o=a.reduce(function(l,u){return l[u]="",l},{});!Rs(n)||!bo(n)||(Object.assign(n.style,o),Object.keys(s).forEach(function(l){n.removeAttribute(l)}))})}}const Jee={name:"applyStyles",enabled:!0,phase:"write",fn:Qee,effect:Zee,requires:["computeStyles"]};function ho(t){return t.split("-")[0]}var vh=Math.max,$b=Math.min,sp=Math.round;function SC(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function I7(){return!/^((?!chrome|android).)*safari/i.test(SC())}function ap(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var i=t.getBoundingClientRect(),n=1,s=1;e&&Rs(t)&&(n=t.offsetWidth>0&&sp(i.width)/t.offsetWidth||1,s=t.offsetHeight>0&&sp(i.height)/t.offsetHeight||1);var a=Lh(t)?Xn(t):window,o=a.visualViewport,l=!I7()&&r,u=(i.left+(l&&o?o.offsetLeft:0))/n,c=(i.top+(l&&o?o.offsetTop:0))/s,d=i.width/n,h=i.height/s;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function l4(t){var e=ap(t),r=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:i}}function P7(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&o4(r)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function gl(t){return Xn(t).getComputedStyle(t)}function ete(t){return["table","td","th"].indexOf(bo(t))>=0}function sc(t){return((Lh(t)?t.ownerDocument:t.document)||window.document).documentElement}function mw(t){return bo(t)==="html"?t:t.assignedSlot||t.parentNode||(o4(t)?t.host:null)||sc(t)}function dO(t){return!Rs(t)||gl(t).position==="fixed"?null:t.offsetParent}function tte(t){var e=/firefox/i.test(SC()),r=/Trident/i.test(SC());if(r&&Rs(t)){var i=gl(t);if(i.position==="fixed")return null}var n=mw(t);for(o4(n)&&(n=n.host);Rs(n)&&["html","body"].indexOf(bo(n))<0;){var s=gl(n);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return n;n=n.parentNode}return null}function x1(t){for(var e=Xn(t),r=dO(t);r&&ete(r)&&gl(r).position==="static";)r=dO(r);return r&&(bo(r)==="html"||bo(r)==="body"&&gl(r).position==="static")?e:r||tte(t)||e}function u4(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ag(t,e,r){return vh(t,$b(e,r))}function rte(t,e,r){var i=Ag(t,e,r);return i>r?r:i}function M7(){return{top:0,right:0,bottom:0,left:0}}function k7(t){return Object.assign({},M7(),t)}function N7(t,e){return e.reduce(function(r,i){return r[i]=t,r},{})}var ite=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,k7(typeof e!="number"?e:N7(e,y1))};function nte(t){var e,r=t.state,i=t.name,n=t.options,s=r.elements.arrow,a=r.modifiersData.popperOffsets,o=ho(r.placement),l=u4(o),u=[bn,Os].indexOf(o)>=0,c=u?"height":"width";if(!(!s||!a)){var d=ite(n.padding,r),h=l4(s),p=l==="y"?xn:bn,g=l==="y"?Ns:Os,y=r.rects.reference[c]+r.rects.reference[l]-a[l]-r.rects.popper[c],b=a[l]-r.rects.reference[l],x=x1(s),w=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,_=y/2-b/2,E=d[p],A=w-h[c]-d[g],I=w/2-h[c]/2+_,P=Ag(E,I,A),M=l;r.modifiersData[i]=(e={},e[M]=P,e.centerOffset=P-I,e)}}function ste(t){var e=t.state,r=t.options,i=r.element,n=i===void 0?"[data-popper-arrow]":i;n!=null&&(typeof n=="string"&&(n=e.elements.popper.querySelector(n),!n)||P7(e.elements.popper,n)&&(e.elements.arrow=n))}const ate={name:"arrow",enabled:!0,phase:"main",fn:nte,effect:ste,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function op(t){return t.split("-")[1]}var ote={top:"auto",right:"auto",bottom:"auto",left:"auto"};function lte(t,e){var r=t.x,i=t.y,n=e.devicePixelRatio||1;return{x:sp(r*n)/n||0,y:sp(i*n)/n||0}}function fO(t){var e,r=t.popper,i=t.popperRect,n=t.placement,s=t.variation,a=t.offsets,o=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,h=a.x,p=h===void 0?0:h,g=a.y,y=g===void 0?0:g,b=typeof c=="function"?c({x:p,y}):{x:p,y};p=b.x,y=b.y;var x=a.hasOwnProperty("x"),w=a.hasOwnProperty("y"),_=bn,E=xn,A=window;if(u){var I=x1(r),P="clientHeight",M="clientWidth";if(I===Xn(r)&&(I=sc(r),gl(I).position!=="static"&&o==="absolute"&&(P="scrollHeight",M="scrollWidth")),I=I,n===xn||(n===bn||n===Os)&&s===y0){E=Ns;var k=d&&I===A&&A.visualViewport?A.visualViewport.height:I[P];y-=k-i.height,y*=l?1:-1}if(n===bn||(n===xn||n===Ns)&&s===y0){_=Os;var U=d&&I===A&&A.visualViewport?A.visualViewport.width:I[M];p-=U-i.width,p*=l?1:-1}}var j=Object.assign({position:o},u&&ote),B=c===!0?lte({x:p,y},Xn(r)):{x:p,y};if(p=B.x,y=B.y,l){var L;return Object.assign({},j,(L={},L[E]=w?"0":"",L[_]=x?"0":"",L.transform=(A.devicePixelRatio||1)<=1?"translate("+p+"px, "+y+"px)":"translate3d("+p+"px, "+y+"px, 0)",L))}return Object.assign({},j,(e={},e[E]=w?y+"px":"",e[_]=x?p+"px":"",e.transform="",e))}function ute(t){var e=t.state,r=t.options,i=r.gpuAcceleration,n=i===void 0?!0:i,s=r.adaptive,a=s===void 0?!0:s,o=r.roundOffsets,l=o===void 0?!0:o,u={placement:ho(e.placement),variation:op(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,fO(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,fO(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const cte={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ute,data:{}};var Zv={passive:!0};function hte(t){var e=t.state,r=t.instance,i=t.options,n=i.scroll,s=n===void 0?!0:n,a=i.resize,o=a===void 0?!0:a,l=Xn(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",r.update,Zv)}),o&&l.addEventListener("resize",r.update,Zv),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",r.update,Zv)}),o&&l.removeEventListener("resize",r.update,Zv)}}const dte={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:hte,data:{}};var fte={left:"right",right:"left",bottom:"top",top:"bottom"};function Ax(t){return t.replace(/left|right|bottom|top/g,function(e){return fte[e]})}var pte={start:"end",end:"start"};function pO(t){return t.replace(/start|end/g,function(e){return pte[e]})}function c4(t){var e=Xn(t),r=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:r,scrollTop:i}}function h4(t){return ap(sc(t)).left+c4(t).scrollLeft}function mte(t,e){var r=Xn(t),i=sc(t),n=r.visualViewport,s=i.clientWidth,a=i.clientHeight,o=0,l=0;if(n){s=n.width,a=n.height;var u=I7();(u||!u&&e==="fixed")&&(o=n.offsetLeft,l=n.offsetTop)}return{width:s,height:a,x:o+h4(t),y:l}}function gte(t){var e,r=sc(t),i=c4(t),n=(e=t.ownerDocument)==null?void 0:e.body,s=vh(r.scrollWidth,r.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),a=vh(r.scrollHeight,r.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),o=-i.scrollLeft+h4(t),l=-i.scrollTop;return gl(n||r).direction==="rtl"&&(o+=vh(r.clientWidth,n?n.clientWidth:0)-s),{width:s,height:a,x:o,y:l}}function d4(t){var e=gl(t),r=e.overflow,i=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+n+i)}function O7(t){return["html","body","#document"].indexOf(bo(t))>=0?t.ownerDocument.body:Rs(t)&&d4(t)?t:O7(mw(t))}function Cg(t,e){var r;e===void 0&&(e=[]);var i=O7(t),n=i===((r=t.ownerDocument)==null?void 0:r.body),s=Xn(i),a=n?[s].concat(s.visualViewport||[],d4(i)?i:[]):i,o=e.concat(a);return n?o:o.concat(Cg(mw(a)))}function EC(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function vte(t,e){var r=ap(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function mO(t,e,r){return e===C7?EC(mte(t,r)):Lh(e)?vte(e,r):EC(gte(sc(t)))}function yte(t){var e=Cg(mw(t)),r=["absolute","fixed"].indexOf(gl(t).position)>=0,i=r&&Rs(t)?x1(t):t;return Lh(i)?e.filter(function(n){return Lh(n)&&P7(n,i)&&bo(n)!=="body"}):[]}function xte(t,e,r,i){var n=e==="clippingParents"?yte(t):[].concat(e),s=[].concat(n,[r]),a=s[0],o=s.reduce(function(l,u){var c=mO(t,u,i);return l.top=vh(c.top,l.top),l.right=$b(c.right,l.right),l.bottom=$b(c.bottom,l.bottom),l.left=vh(c.left,l.left),l},mO(t,a,i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function L7(t){var e=t.reference,r=t.element,i=t.placement,n=i?ho(i):null,s=i?op(i):null,a=e.x+e.width/2-r.width/2,o=e.y+e.height/2-r.height/2,l;switch(n){case xn:l={x:a,y:e.y-r.height};break;case Ns:l={x:a,y:e.y+e.height};break;case Os:l={x:e.x+e.width,y:o};break;case bn:l={x:e.x-r.width,y:o};break;default:l={x:e.x,y:e.y}}var u=n?u4(n):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case np:l[u]=l[u]-(e[c]/2-r[c]/2);break;case y0:l[u]=l[u]+(e[c]/2-r[c]/2);break}}return l}function x0(t,e){e===void 0&&(e={});var r=e,i=r.placement,n=i===void 0?t.placement:i,s=r.strategy,a=s===void 0?t.strategy:s,o=r.boundary,l=o===void 0?jee:o,u=r.rootBoundary,c=u===void 0?C7:u,d=r.elementContext,h=d===void 0?bm:d,p=r.altBoundary,g=p===void 0?!1:p,y=r.padding,b=y===void 0?0:y,x=k7(typeof b!="number"?b:N7(b,y1)),w=h===bm?Uee:bm,_=t.rects.popper,E=t.elements[g?w:h],A=xte(Lh(E)?E:E.contextElement||sc(t.elements.popper),l,c,a),I=ap(t.elements.reference),P=L7({reference:I,element:_,strategy:"absolute",placement:n}),M=EC(Object.assign({},_,P)),k=h===bm?M:I,U={top:A.top-k.top+x.top,bottom:k.bottom-A.bottom+x.bottom,left:A.left-k.left+x.left,right:k.right-A.right+x.right},j=t.modifiersData.offset;if(h===bm&&j){var B=j[n];Object.keys(U).forEach(function(L){var F=[Os,Ns].indexOf(L)>=0?1:-1,O=[xn,Ns].indexOf(L)>=0?"y":"x";U[L]+=B[O]*F})}return U}function bte(t,e){e===void 0&&(e={});var r=e,i=r.placement,n=r.boundary,s=r.rootBoundary,a=r.padding,o=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?R7:l,c=op(i),d=c?o?hO:hO.filter(function(g){return op(g)===c}):y1,h=d.filter(function(g){return u.indexOf(g)>=0});h.length===0&&(h=d);var p=h.reduce(function(g,y){return g[y]=x0(t,{placement:y,boundary:n,rootBoundary:s,padding:a})[ho(y)],g},{});return Object.keys(p).sort(function(g,y){return p[g]-p[y]})}function _te(t){if(ho(t)===a4)return[];var e=Ax(t);return[pO(t),e,pO(e)]}function wte(t){var e=t.state,r=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var n=r.mainAxis,s=n===void 0?!0:n,a=r.altAxis,o=a===void 0?!0:a,l=r.fallbackPlacements,u=r.padding,c=r.boundary,d=r.rootBoundary,h=r.altBoundary,p=r.flipVariations,g=p===void 0?!0:p,y=r.allowedAutoPlacements,b=e.options.placement,x=ho(b),w=x===b,_=l||(w||!g?[Ax(b)]:_te(b)),E=[b].concat(_).reduce(function(ie,le){return ie.concat(ho(le)===a4?bte(e,{placement:le,boundary:c,rootBoundary:d,padding:u,flipVariations:g,allowedAutoPlacements:y}):le)},[]),A=e.rects.reference,I=e.rects.popper,P=new Map,M=!0,k=E[0],U=0;U<E.length;U++){var j=E[U],B=ho(j),L=op(j)===np,F=[xn,Ns].indexOf(B)>=0,O=F?"width":"height",$=x0(e,{placement:j,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),z=F?L?Os:bn:L?Ns:xn;A[O]>I[O]&&(z=Ax(z));var D=Ax(z),G=[];if(s&&G.push($[B]<=0),o&&G.push($[z]<=0,$[D]<=0),G.every(function(ie){return ie})){k=j,M=!1;break}P.set(j,G)}if(M)for(var H=g?3:1,W=function(le){var fe=E.find(function(we){var $e=P.get(we);if($e)return $e.slice(0,le).every(function(Ze){return Ze})});if(fe)return k=fe,"break"},K=H;K>0;K--){var Q=W(K);if(Q==="break")break}e.placement!==k&&(e.modifiersData[i]._skip=!0,e.placement=k,e.reset=!0)}}const Ste={name:"flip",enabled:!0,phase:"main",fn:wte,requiresIfExists:["offset"],data:{_skip:!1}};function gO(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function vO(t){return[xn,Os,Ns,bn].some(function(e){return t[e]>=0})}function Ete(t){var e=t.state,r=t.name,i=e.rects.reference,n=e.rects.popper,s=e.modifiersData.preventOverflow,a=x0(e,{elementContext:"reference"}),o=x0(e,{altBoundary:!0}),l=gO(a,i),u=gO(o,n,s),c=vO(l),d=vO(u);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const Tte={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ete};function Ate(t,e,r){var i=ho(t),n=[bn,xn].indexOf(i)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,a=s[0],o=s[1];return a=a||0,o=(o||0)*n,[bn,Os].indexOf(i)>=0?{x:o,y:a}:{x:a,y:o}}function Cte(t){var e=t.state,r=t.options,i=t.name,n=r.offset,s=n===void 0?[0,0]:n,a=R7.reduce(function(c,d){return c[d]=Ate(d,e.rects,s),c},{}),o=a[e.placement],l=o.x,u=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[i]=a}const Rte={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Cte};function Ite(t){var e=t.state,r=t.name;e.modifiersData[r]=L7({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Pte={name:"popperOffsets",enabled:!0,phase:"read",fn:Ite,data:{}};function Mte(t){return t==="x"?"y":"x"}function kte(t){var e=t.state,r=t.options,i=t.name,n=r.mainAxis,s=n===void 0?!0:n,a=r.altAxis,o=a===void 0?!1:a,l=r.boundary,u=r.rootBoundary,c=r.altBoundary,d=r.padding,h=r.tether,p=h===void 0?!0:h,g=r.tetherOffset,y=g===void 0?0:g,b=x0(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),x=ho(e.placement),w=op(e.placement),_=!w,E=u4(x),A=Mte(E),I=e.modifiersData.popperOffsets,P=e.rects.reference,M=e.rects.popper,k=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,U=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),j=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,B={x:0,y:0};if(I){if(s){var L,F=E==="y"?xn:bn,O=E==="y"?Ns:Os,$=E==="y"?"height":"width",z=I[E],D=z+b[F],G=z-b[O],H=p?-M[$]/2:0,W=w===np?P[$]:M[$],K=w===np?-M[$]:-P[$],Q=e.elements.arrow,ie=p&&Q?l4(Q):{width:0,height:0},le=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:M7(),fe=le[F],we=le[O],$e=Ag(0,P[$],ie[$]),Ze=_?P[$]/2-H-$e-fe-U.mainAxis:W-$e-fe-U.mainAxis,Fe=_?-P[$]/2+H+$e+we+U.mainAxis:K+$e+we+U.mainAxis,Se=e.elements.arrow&&x1(e.elements.arrow),We=Se?E==="y"?Se.clientTop||0:Se.clientLeft||0:0,ze=(L=j==null?void 0:j[E])!=null?L:0,Dt=z+Ze-ze-We,Rt=z+Fe-ze,Ar=Ag(p?$b(D,Dt):D,z,p?vh(G,Rt):G);I[E]=Ar,B[E]=Ar-z}if(o){var lt,it=E==="x"?xn:bn,X=E==="x"?Ns:Os,ee=I[A],ne=A==="y"?"height":"width",_e=ee+b[it],ve=ee-b[X],ce=[xn,bn].indexOf(x)!==-1,pe=(lt=j==null?void 0:j[A])!=null?lt:0,je=ce?_e:ee-P[ne]-M[ne]-pe+U.altAxis,Me=ce?ee+P[ne]+M[ne]-pe-U.altAxis:ve,mt=p&&ce?rte(je,ee,Me):Ag(p?je:_e,ee,p?Me:ve);I[A]=mt,B[A]=mt-ee}e.modifiersData[i]=B}}const Nte={name:"preventOverflow",enabled:!0,phase:"main",fn:kte,requiresIfExists:["offset"]};function Ote(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Lte(t){return t===Xn(t)||!Rs(t)?c4(t):Ote(t)}function Dte(t){var e=t.getBoundingClientRect(),r=sp(e.width)/t.offsetWidth||1,i=sp(e.height)/t.offsetHeight||1;return r!==1||i!==1}function Fte(t,e,r){r===void 0&&(r=!1);var i=Rs(e),n=Rs(e)&&Dte(e),s=sc(e),a=ap(t,n,r),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!r)&&((bo(e)!=="body"||d4(s))&&(o=Lte(e)),Rs(e)?(l=ap(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=h4(s))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function Bte(t){var e=new Map,r=new Set,i=[];t.forEach(function(s){e.set(s.name,s)});function n(s){r.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!r.has(o)){var l=e.get(o);l&&n(l)}}),i.push(s)}return t.forEach(function(s){r.has(s.name)||n(s)}),i}function jte(t){var e=Bte(t);return Kee.reduce(function(r,i){return r.concat(e.filter(function(n){return n.phase===i}))},[])}function Ute(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function $te(t){var e=t.reduce(function(r,i){var n=r[i.name];return r[i.name]=n?Object.assign({},n,i,{options:Object.assign({},n.options,i.options),data:Object.assign({},n.data,i.data)}):i,r},{});return Object.keys(e).map(function(r){return e[r]})}var yO={placement:"bottom",modifiers:[],strategy:"absolute"};function xO(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function zte(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,i=r===void 0?[]:r,n=e.defaultOptions,s=n===void 0?yO:n;return function(o,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},yO,s),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},d=[],h=!1,p={state:c,setOptions:function(x){var w=typeof x=="function"?x(c.options):x;y(),c.options=Object.assign({},s,c.options,w),c.scrollParents={reference:Lh(o)?Cg(o):o.contextElement?Cg(o.contextElement):[],popper:Cg(l)};var _=jte($te([].concat(i,c.options.modifiers)));return c.orderedModifiers=_.filter(function(E){return E.enabled}),g(),p.update()},forceUpdate:function(){if(!h){var x=c.elements,w=x.reference,_=x.popper;if(xO(w,_)){c.rects={reference:Fte(w,x1(_),c.options.strategy==="fixed"),popper:l4(_)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(U){return c.modifiersData[U.name]=Object.assign({},U.data)});for(var E=0;E<c.orderedModifiers.length;E++){if(c.reset===!0){c.reset=!1,E=-1;continue}var A=c.orderedModifiers[E],I=A.fn,P=A.options,M=P===void 0?{}:P,k=A.name;typeof I=="function"&&(c=I({state:c,options:M,name:k,instance:p})||c)}}}},update:Ute(function(){return new Promise(function(b){p.forceUpdate(),b(c)})}),destroy:function(){y(),h=!0}};if(!xO(o,l))return p;p.setOptions(u).then(function(b){!h&&u.onFirstUpdate&&u.onFirstUpdate(b)});function g(){c.orderedModifiers.forEach(function(b){var x=b.name,w=b.options,_=w===void 0?{}:w,E=b.effect;if(typeof E=="function"){var A=E({state:c,name:x,instance:p,options:_}),I=function(){};d.push(A||I)}})}function y(){d.forEach(function(b){return b()}),d=[]}return p}}var Hte=[dte,Pte,cte,Jee,Rte,Ste,Nte,ate,Tte],Gte=zte({defaultModifiers:Hte}),Vte=typeof Element<"u",Wte=typeof Map=="function",Xte=typeof Set=="function",Yte=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Cx(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,i,n;if(Array.isArray(t)){if(r=t.length,r!=e.length)return!1;for(i=r;i--!==0;)if(!Cx(t[i],e[i]))return!1;return!0}var s;if(Wte&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(i=s.next()).done;)if(!e.has(i.value[0]))return!1;for(s=t.entries();!(i=s.next()).done;)if(!Cx(i.value[1],e.get(i.value[0])))return!1;return!0}if(Xte&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(i=s.next()).done;)if(!e.has(i.value[0]))return!1;return!0}if(Yte&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(r=t.length,r!=e.length)return!1;for(i=r;i--!==0;)if(t[i]!==e[i])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(n=Object.keys(t),r=n.length,r!==Object.keys(e).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[i]))return!1;if(Vte&&t instanceof Element)return!1;for(i=r;i--!==0;)if(!((n[i]==="_owner"||n[i]==="__v"||n[i]==="__o")&&t.$$typeof)&&!Cx(t[n[i]],e[n[i]]))return!1;return!0}return t!==t&&e!==e}var qte=function(e,r){try{return Cx(e,r)}catch(i){if((i.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw i}};const Kte=qn(qte);var Qte=[],Zte=function(e,r,i){i===void 0&&(i={});var n=R.useRef(null),s={onFirstUpdate:i.onFirstUpdate,placement:i.placement||"bottom",strategy:i.strategy||"absolute",modifiers:i.modifiers||Qte},a=R.useState({styles:{popper:{position:s.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),o=a[0],l=a[1],u=R.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(p){var g=p.state,y=Object.keys(g.elements);Ta.flushSync(function(){l({styles:uO(y.map(function(b){return[b,g.styles[b]||{}]})),attributes:uO(y.map(function(b){return[b,g.attributes[b]]}))})})},requires:["computeStyles"]}},[]),c=R.useMemo(function(){var h={onFirstUpdate:s.onFirstUpdate,placement:s.placement,strategy:s.strategy,modifiers:[].concat(s.modifiers,[u,{name:"applyStyles",enabled:!1}])};return Kte(n.current,h)?n.current||h:(n.current=h,h)},[s.onFirstUpdate,s.placement,s.strategy,s.modifiers,u]),d=R.useRef();return cO(function(){d.current&&d.current.setOptions(c)},[c]),cO(function(){if(!(e==null||r==null)){var h=i.createPopper||Gte,p=h(e,r,c);return d.current=p,function(){p.destroy(),d.current=null}}},[e,r,i.createPopper]),{state:d.current?d.current.state:null,styles:o.styles,attributes:o.attributes,update:d.current?d.current.update:null,forceUpdate:d.current?d.current.forceUpdate:null}};const Jte=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",d:"M19.935 17.51q1.088 0 1.868.792.78.794.78 1.898 0 1.106-.78 1.898-.78.793-1.844.793t-1.869-.793a2.52 2.52 0 0 1-.78-1.922q0-.432.19-.936l-3.997-2.931q-1.16 1.2-2.79 1.2-1.633 0-2.791-1.176-1.16-1.177-1.183-2.86 0-.215.071-.624l-3.168-1.057a1.25 1.25 0 0 1-.852.337q-.567 0-.946-.385a1.32 1.32 0 0 1-.378-.96q0-.578.378-.938.38-.36.946-.384.474 0 .804.312.33.313.45.745l3.192 1.08a3.8 3.8 0 0 1 1.443-1.56 3.84 3.84 0 0 1 2.033-.577q1.23 0 2.27.745l4.706-4.781q-.378-.72-.378-1.321 0-1.106.78-1.898.78-.793 1.869-.793t1.844.793q.758.792.78 1.898a2.42 2.42 0 0 1-.78 1.873q-.804.77-1.868.793-.616 0-1.3-.408l-4.707 4.805q.734 1.056.733 2.306 0 .888-.402 1.753l3.997 2.907q.78-.624 1.679-.624"})]}),ere=Jte,tre=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",d:"M22.996 13.153q0 2.09-.873 3.987a10.6 10.6 0 0 1-2.336 3.292q-1.462 1.393-3.516 2.21t-4.26.817-4.287-.817-3.49-2.21a12.3 12.3 0 0 1-2.362-3.291A8.1 8.1 0 0 1 1 13.153q0-2.451 1.155-4.589t3.234-3.627q.616-.433 1.386-.337t1.181.673q.462.553.36 1.273-.104.72-.72 1.13a7 7 0 0 0-2.155 2.426 6.38 6.38 0 0 0-.18 5.717 7 7 0 0 0 1.566 2.186q.975.913 2.335 1.466a7.5 7.5 0 0 0 2.85.552 7.3 7.3 0 0 0 2.823-.552 8.3 8.3 0 0 0 2.36-1.466 6.04 6.04 0 0 0 1.567-2.186q.538-1.274.564-2.666 0-1.635-.77-3.051T16.4 7.675a1.75 1.75 0 0 1-.719-1.129q-.128-.697.36-1.273.436-.577 1.206-.673t1.36.337q2.079 1.466 3.234 3.627a9.6 9.6 0 0 1 1.155 4.589M13.833 2.846v8.6q0 .698-.54 1.202-.538.505-1.283.505t-1.309-.505q-.564-.505-.539-1.201v-8.6q0-.697.54-1.202.538-.504 1.308-.504t1.284.504.539 1.201"})]}),bO=tre,rre=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",d:"M20.584 13.536v7.458q0 .42-.294.699a1.06 1.06 0 0 1-.667.307H13.91v-5.978h-3.817V22H4.383a.85.85 0 0 1-.668-.307 1.16 1.16 0 0 1-.293-.699v-7.569l8.567-7.375 8.568 7.375q.027.027.027.111m3.31-1.09-.908 1.146a.54.54 0 0 1-.32.168h-.054a.6.6 0 0 1-.32-.084L11.989 4.682 1.687 13.676a.5.5 0 0 1-.347.084.54.54 0 0 1-.32-.168l-.935-1.145a.52.52 0 0 1-.08-.363.6.6 0 0 1 .16-.335l10.703-9.33q.48-.42 1.121-.419.64 0 1.148.419l3.63 3.156V2.56q0-.224.133-.363a.46.46 0 0 1 .347-.14h2.856q.214 0 .347.14a.5.5 0 0 1 .134.363v6.34l3.256 2.85q.16.111.16.335 0 .223-.107.363"})]}),ire=rre,nre=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",d:"M1.898 22.555c-.072-.145-.096-1.37-.048-2.691l.048-2.402h5.261v5.26l-2.595.049c-1.994.048-2.594 0-2.666-.216m7.76 0c-.049-.145-.073-1.37-.049-2.691l.072-2.402h5.238v5.26l-2.571.049c-2.018.048-2.595 0-2.69-.216m7.759 0c-.048-.145-.072-1.37-.048-2.691l.072-2.402h5.237v5.26l-2.57.049c-1.994.048-2.595 0-2.691-.216m-15.52-7.76c-.071-.168-.095-1.37-.047-2.69l.048-2.403h5.261v5.261l-2.595.048c-1.994.048-2.594 0-2.666-.216m7.76 0c-.048-.168-.072-1.37-.048-2.69l.072-2.403h5.238v5.261l-2.571.048c-2.018.048-2.595 0-2.69-.216m7.76 0c-.048-.168-.072-1.37-.048-2.69l.072-2.403h5.237v5.261l-2.57.048c-1.994.048-2.595 0-2.691-.216M1.897 7.011c-.071-.144-.095-1.345-.047-2.666l.048-2.402h5.261V7.18l-2.595.072c-1.994.048-2.594 0-2.666-.24m7.76 0c-.048-.144-.072-1.345-.048-2.666l.072-2.402h5.238V7.18l-2.571.072c-2.018.048-2.595 0-2.69-.24m7.76 0c-.048-.144-.072-1.345-.048-2.666l.072-2.402h5.237V7.18l-2.57.072c-1.994.048-2.595 0-2.691-.24"})]}),_O=nre,sre=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12M7.123 7.667C8.276 5.958 9.745 5 12.013 5 14.425 5 17 6.941 17 9.5c0 2.113-1.377 2.932-2.418 3.552-.633.376-1.142.68-1.142 1.154v.169a.693.693 0 0 1-.682.703h-2.06a.693.693 0 0 1-.681-.703v-.287c0-1.768 1.269-2.5 2.266-3.075l.073-.042c.863-.499 1.392-.838 1.392-1.499 0-.874-1.082-1.454-1.956-1.454-1.112 0-1.64.53-2.351 1.449a.67.67 0 0 1-.945.121L7.27 8.63a.72.72 0 0 1-.147-.963M9.76 17.97c0-1.12.883-2.03 1.969-2.03 1.085 0 1.968.91 1.968 2.03S12.814 20 11.73 20c-1.086 0-1.969-.91-1.969-2.03",clipRule:"evenodd"})]}),are=sre,ore=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",d:"m.5 21.257 7.46-8.216 4.052 2.403 4.052-2.403 7.46 8.216zm0-2.738V8.573l5.848 3.531zm0-12.084V3.048h23.024v3.387l-11.512 6.847zm17.176 5.67 5.848-3.532v9.946z"})]}),wO=ore,lre=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",d:"M13.07 13.07V6.54h-2.14v6.53zm0 4.4v-2.2h-2.14v2.2zM24 12l-2.65 3.01.35 4.04-3.93.86-2.04 3.48L12 21.8l-3.73 1.6-2.04-3.42-3.93-.92.35-4.04L0 12l2.65-3.06-.35-3.99 3.93-.86L8.27.6 12 2.2 15.73.6l2.04 3.48 3.93.86L21.34 9z"})]}),ure=lre,cre=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",d:"M11.685 2C8.66 2 6.7 3.277 5.164 5.556A.96.96 0 0 0 5.36 6.84l1.634 1.278a.89.89 0 0 0 1.26-.162c.95-1.226 1.653-1.932 3.136-1.932 1.165 0 2.607.773 2.607 1.939 0 .88-.705 1.333-1.856 1.998-1.342.776-3.118 1.742-3.118 4.157v.382c0 .518.407.938.909.938h2.746c.502 0 .91-.42.91-.938v-.226c0-1.674 4.745-1.743 4.745-6.274 0-3.412-3.432-6-6.648-6m-.38 14.588c-1.447 0-2.625 1.214-2.625 2.706S9.858 22 11.305 22s2.624-1.214 2.624-2.706-1.177-2.706-2.624-2.706"})]}),hre=cre,dre=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.051 12.366a456 456 0 0 1-2.746-1.822A6.5 6.5 0 0 1 .74 9.067q-.737-.94-.737-1.745a2.7 2.7 0 0 1 .141-.905c.098-.286.242-.542.424-.752Q1.12 5 2.15 5h19.7c.541-.016 1.071.195 1.507.6q.636.6.636 1.446 0 1.01-.657 1.93a6.2 6.2 0 0 1-1.632 1.567q-5.037 3.338-6.267 4.156l-.242.167-.323.222q-.436.303-.724.487-.288.183-.696.415a4 4 0 0 1-.77.345 2.2 2.2 0 0 1-.67.115h-.026a2.2 2.2 0 0 1-.67-.116 4 4 0 0 1-.77-.344q-.41-.23-.697-.415a30 30 0 0 1-.723-.487q-.433-.3-.565-.389-1.215-.817-3.51-2.334m10.943 3.962q2.276-1.578 6.667-4.416c.478-.306.927-.68 1.339-1.113v10.16q0 .845-.63 1.446c-.437.405-.97.614-1.512.594H2.149c-.545.02-1.08-.192-1.52-.601C.21 21.996 0 21.52 0 20.95V10.8c.416.437.871.81 1.356 1.113q4.848 3.148 6.656 4.416.768.537 1.243.837a7.7 7.7 0 0 0 1.265.614c.475.198.97.303 1.47.313h.026c.5-.01.995-.115 1.47-.313a7.7 7.7 0 0 0 1.265-.614q.48-.3 1.243-.837",clipRule:"evenodd"})]}),fre=dre,pre=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("g",{clipPath:"url(#one-profile_svg__a)",children:v.jsx("path",{fill:"currentColor",d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24m0 4.65a4.26 4.26 0 1 1 0 8.51 4.26 4.26 0 0 1 0-8.51m0 16.64a9.27 9.27 0 0 1-7.09-3.3 5.4 5.4 0 0 1 4.77-2.9c.11 0 .23.03.34.06.63.2 1.29.33 1.98.33.7 0 1.35-.13 1.98-.33.11-.03.23-.05.34-.05a5.4 5.4 0 0 1 4.77 2.89 9.27 9.27 0 0 1-7.09 3.3"})}),v.jsx("defs",{children:v.jsx("clipPath",{id:"one-profile_svg__a",children:v.jsx("path",{fill:"#fff",d:"M0 0h24v24H0z"})})})]}),D7=pre,mre=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",d:"M1.27 11.552a7.75 7.75 0 0 1 0-4.156Q1.84 5.33 3.42 3.792a7.9 7.9 0 0 1 2.716-1.777q1.53-.6 3.161-.6 1.605 0 3.136.6 1.53.6 2.716 1.777a7.9 7.9 0 0 1 1.902 2.86 7.8 7.8 0 0 1 .518 3.29 7.65 7.65 0 0 1-.889 3.171q.692.192 1.21.697l4.297 4.156q.864.84.864 2.042t-.864 2.042-2.099.841-2.099-.84l-4.272-4.18a2.42 2.42 0 0 1-.74-1.178 8.3 8.3 0 0 1-3.68.84q-1.63 0-3.16-.6a8.1 8.1 0 0 1-2.717-1.753 7.85 7.85 0 0 1-2.149-3.628m2.495-2.066q0 2.235 1.605 3.796 1.63 1.56 3.926 1.561 2.272 0 3.877-1.561 1.605-1.562 1.63-3.796t-1.63-3.796q-1.63-1.585-3.877-1.585-2.272 0-3.926 1.585-1.605 1.561-1.605 3.796"})]}),gre=mre,vre=({title:t,titleId:e,...r})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?v.jsx("title",{id:e,children:t}):null,v.jsx("path",{fill:"currentColor",d:"M0 24.58V.53h24.05v4.28h-2.62V7.1h2.62v4.28h-2.62v2.35h2.62V18h-2.62v2.3h2.62v4.29H0zm4.64-6.85h12.12V14l-4.5-2.67q.9-.46 1.4-1.3t.53-1.85q0-1.4-1.01-2.43T10.7 4.72 8.25 5.75 7.24 8.18q0 1.03.53 1.85t1.4 1.3L4.63 14v3.73z"})]}),yre=vre;function SO(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function f4(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:SO(e[r])&&SO(t[r])&&Object.keys(e[r]).length>0&&f4(t[r],e[r])})}const F7={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Yh(){const t=typeof document<"u"?document:{};return f4(t,F7),t}const xre={document:F7,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Zn(){const t=typeof window<"u"?window:{};return f4(t,xre),t}function bre(t){const e=t;Object.keys(e).forEach(r=>{try{e[r]=null}catch{}try{delete e[r]}catch{}})}function TC(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function zb(){return Date.now()}function _re(t){const e=Zn();let r;return e.getComputedStyle&&(r=e.getComputedStyle(t,null)),!r&&t.currentStyle&&(r=t.currentStyle),r||(r=t.style),r}function wre(t,e){e===void 0&&(e="x");const r=Zn();let i,n,s;const a=_re(t);return r.WebKitCSSMatrix?(n=a.transform||a.webkitTransform,n.split(",").length>6&&(n=n.split(", ").map(o=>o.replace(",",".")).join(", ")),s=new r.WebKitCSSMatrix(n==="none"?"":n)):(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),e==="x"&&(r.WebKitCSSMatrix?n=s.m41:i.length===16?n=parseFloat(i[12]):n=parseFloat(i[4])),e==="y"&&(r.WebKitCSSMatrix?n=s.m42:i.length===16?n=parseFloat(i[13]):n=parseFloat(i[5])),n||0}function Jv(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Sre(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Fn(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let r=1;r<arguments.length;r+=1){const i=r<0||arguments.length<=r?void 0:arguments[r];if(i!=null&&!Sre(i)){const n=Object.keys(Object(i)).filter(s=>e.indexOf(s)<0);for(let s=0,a=n.length;s<a;s+=1){const o=n[s],l=Object.getOwnPropertyDescriptor(i,o);l!==void 0&&l.enumerable&&(Jv(t[o])&&Jv(i[o])?i[o].__swiper__?t[o]=i[o]:Fn(t[o],i[o]):!Jv(t[o])&&Jv(i[o])?(t[o]={},i[o].__swiper__?t[o]=i[o]:Fn(t[o],i[o])):t[o]=i[o])}}}return t}function ey(t,e,r){t.style.setProperty(e,r)}function B7(t){let{swiper:e,targetPosition:r,side:i}=t;const n=Zn(),s=-e.translate;let a=null,o;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",n.cancelAnimationFrame(e.cssModeFrameID);const u=r>s?"next":"prev",c=(h,p)=>u==="next"&&h>=p||u==="prev"&&h<=p,d=()=>{o=new Date().getTime(),a===null&&(a=o);const h=Math.max(Math.min((o-a)/l,1),0),p=.5-Math.cos(h*Math.PI)/2;let g=s+p*(r-s);if(c(g,r)&&(g=r),e.wrapperEl.scrollTo({[i]:g}),c(g,r)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:g})}),n.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=n.requestAnimationFrame(d)};d()}function ao(t,e){return e===void 0&&(e=""),[...t.children].filter(r=>r.matches(e))}function j7(t,e){e===void 0&&(e=[]);const r=document.createElement(t);return r.classList.add(...Array.isArray(e)?e:[e]),r}function Ere(t,e){const r=[];for(;t.previousElementSibling;){const i=t.previousElementSibling;e?i.matches(e)&&r.push(i):r.push(i),t=i}return r}function Tre(t,e){const r=[];for(;t.nextElementSibling;){const i=t.nextElementSibling;e?i.matches(e)&&r.push(i):r.push(i),t=i}return r}function _u(t,e){return Zn().getComputedStyle(t,null).getPropertyValue(e)}function Hb(t){let e=t,r;if(e){for(r=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(r+=1);return r}}function U7(t,e){const r=[];let i=t.parentElement;for(;i;)e?i.matches(e)&&r.push(i):r.push(i),i=i.parentElement;return r}function AC(t,e,r){const i=Zn();return r?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}function Are(t,e,r,i){return t.params.createElements&&Object.keys(i).forEach(n=>{if(!r[n]&&r.auto===!0){let s=ao(t.el,`.${i[n]}`)[0];s||(s=j7("div",i[n]),s.className=i[n],t.el.append(s)),r[n]=s,e[n]=s}}),r}function _m(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Cre(t){let{swiper:e,extendParams:r,on:i,emit:n}=t;const s="swiper-pagination";r({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:w=>w,formatFractionTotal:w=>w,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let a,o=0;const l=w=>(Array.isArray(w)?w:[w]).filter(_=>!!_);function u(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(w,_){const{bulletActiveClass:E}=e.params.pagination;w&&(w=w[`${_==="prev"?"previous":"next"}ElementSibling`],w&&(w.classList.add(`${E}-${_}`),w=w[`${_==="prev"?"previous":"next"}ElementSibling`],w&&w.classList.add(`${E}-${_}-${_}`)))}function d(w){const _=w.target.closest(_m(e.params.pagination.bulletClass));if(!_)return;w.preventDefault();const E=Hb(_)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===E)return;const A=e.getSlideIndexByData(E),I=e.getSlideIndexByData(e.realIndex);A>e.slides.length-e.loopedSlides&&e.loopFix({direction:A>I?"next":"prev",activeSlideIndex:A,slideTo:!1}),e.slideToLoop(E)}else e.slideTo(E)}function h(){const w=e.rtl,_=e.params.pagination;if(u())return;let E=e.pagination.el;E=l(E);let A,I;const P=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,M=e.params.loop?Math.ceil(P/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(I=e.previousRealIndex||0,A=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(A=e.snapIndex,I=e.previousSnapIndex):(I=e.previousIndex||0,A=e.activeIndex||0),_.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const k=e.pagination.bullets;let U,j,B;if(_.dynamicBullets&&(a=AC(k[0],e.isHorizontal()?"width":"height",!0),E.forEach(L=>{L.style[e.isHorizontal()?"width":"height"]=`${a*(_.dynamicMainBullets+4)}px`}),_.dynamicMainBullets>1&&I!==void 0&&(o+=A-(I||0),o>_.dynamicMainBullets-1?o=_.dynamicMainBullets-1:o<0&&(o=0)),U=Math.max(A-o,0),j=U+(Math.min(k.length,_.dynamicMainBullets)-1),B=(j+U)/2),k.forEach(L=>{const F=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(O=>`${_.bulletActiveClass}${O}`)].map(O=>typeof O=="string"&&O.includes(" ")?O.split(" "):O).flat();L.classList.remove(...F)}),E.length>1)k.forEach(L=>{const F=Hb(L);F===A?L.classList.add(..._.bulletActiveClass.split(" ")):e.isElement&&L.setAttribute("part","bullet"),_.dynamicBullets&&(F>=U&&F<=j&&L.classList.add(...`${_.bulletActiveClass}-main`.split(" ")),F===U&&c(L,"prev"),F===j&&c(L,"next"))});else{const L=k[A];if(L&&L.classList.add(..._.bulletActiveClass.split(" ")),e.isElement&&k.forEach((F,O)=>{F.setAttribute("part",O===A?"bullet-active":"bullet")}),_.dynamicBullets){const F=k[U],O=k[j];for(let $=U;$<=j;$+=1)k[$]&&k[$].classList.add(...`${_.bulletActiveClass}-main`.split(" "));c(F,"prev"),c(O,"next")}}if(_.dynamicBullets){const L=Math.min(k.length,_.dynamicMainBullets+4),F=(a*L-a)/2-B*a,O=w?"right":"left";k.forEach($=>{$.style[e.isHorizontal()?O:"top"]=`${F}px`})}}E.forEach((k,U)=>{if(_.type==="fraction"&&(k.querySelectorAll(_m(_.currentClass)).forEach(j=>{j.textContent=_.formatFractionCurrent(A+1)}),k.querySelectorAll(_m(_.totalClass)).forEach(j=>{j.textContent=_.formatFractionTotal(M)})),_.type==="progressbar"){let j;_.progressbarOpposite?j=e.isHorizontal()?"vertical":"horizontal":j=e.isHorizontal()?"horizontal":"vertical";const B=(A+1)/M;let L=1,F=1;j==="horizontal"?L=B:F=B,k.querySelectorAll(_m(_.progressbarFillClass)).forEach(O=>{O.style.transform=`translate3d(0,0,0) scaleX(${L}) scaleY(${F})`,O.style.transitionDuration=`${e.params.speed}ms`})}_.type==="custom"&&_.renderCustom?(k.innerHTML=_.renderCustom(e,A+1,M),U===0&&n("paginationRender",k)):(U===0&&n("paginationRender",k),n("paginationUpdate",k)),e.params.watchOverflow&&e.enabled&&k.classList[e.isLocked?"add":"remove"](_.lockClass)})}function p(){const w=e.params.pagination;if(u())return;const _=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length;let E=e.pagination.el;E=l(E);let A="";if(w.type==="bullets"){let I=e.params.loop?Math.ceil(_/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&I>_&&(I=_);for(let P=0;P<I;P+=1)w.renderBullet?A+=w.renderBullet.call(e,P,w.bulletClass):A+=`<${w.bulletElement} ${e.isElement?'part="bullet"':""} class="${w.bulletClass}"></${w.bulletElement}>`}w.type==="fraction"&&(w.renderFraction?A=w.renderFraction.call(e,w.currentClass,w.totalClass):A=`<span class="${w.currentClass}"></span> / <span class="${w.totalClass}"></span>`),w.type==="progressbar"&&(w.renderProgressbar?A=w.renderProgressbar.call(e,w.progressbarFillClass):A=`<span class="${w.progressbarFillClass}"></span>`),e.pagination.bullets=[],E.forEach(I=>{w.type!=="custom"&&(I.innerHTML=A||""),w.type==="bullets"&&e.pagination.bullets.push(...I.querySelectorAll(_m(w.bulletClass)))}),w.type!=="custom"&&n("paginationRender",E[0])}function g(){e.params.pagination=Are(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const w=e.params.pagination;if(!w.el)return;let _;typeof w.el=="string"&&e.isElement&&(_=e.el.querySelector(w.el)),!_&&typeof w.el=="string"&&(_=[...document.querySelectorAll(w.el)]),_||(_=w.el),!(!_||_.length===0)&&(e.params.uniqueNavElements&&typeof w.el=="string"&&Array.isArray(_)&&_.length>1&&(_=[...e.el.querySelectorAll(w.el)],_.length>1&&(_=_.filter(E=>U7(E,".swiper")[0]===e.el)[0])),Array.isArray(_)&&_.length===1&&(_=_[0]),Object.assign(e.pagination,{el:_}),_=l(_),_.forEach(E=>{w.type==="bullets"&&w.clickable&&E.classList.add(w.clickableClass),E.classList.add(w.modifierClass+w.type),E.classList.add(e.isHorizontal()?w.horizontalClass:w.verticalClass),w.type==="bullets"&&w.dynamicBullets&&(E.classList.add(`${w.modifierClass}${w.type}-dynamic`),o=0,w.dynamicMainBullets<1&&(w.dynamicMainBullets=1)),w.type==="progressbar"&&w.progressbarOpposite&&E.classList.add(w.progressbarOppositeClass),w.clickable&&E.addEventListener("click",d),e.enabled||E.classList.add(w.lockClass)}))}function y(){const w=e.params.pagination;if(u())return;let _=e.pagination.el;_&&(_=l(_),_.forEach(E=>{E.classList.remove(w.hiddenClass),E.classList.remove(w.modifierClass+w.type),E.classList.remove(e.isHorizontal()?w.horizontalClass:w.verticalClass),w.clickable&&E.removeEventListener("click",d)})),e.pagination.bullets&&e.pagination.bullets.forEach(E=>E.classList.remove(...w.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const w=e.params.pagination;let{el:_}=e.pagination;_=l(_),_.forEach(E=>{E.classList.remove(w.horizontalClass,w.verticalClass),E.classList.add(e.isHorizontal()?w.horizontalClass:w.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?x():(g(),p(),h())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&h()}),i("snapIndexChange",()=>{h()}),i("snapGridLengthChange",()=>{p(),h()}),i("destroy",()=>{y()}),i("enable disable",()=>{let{el:w}=e.pagination;w&&(w=l(w),w.forEach(_=>_.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{h()}),i("click",(w,_)=>{const E=_.target,A=l(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&A&&A.length>0&&!E.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&E===e.navigation.nextEl||e.navigation.prevEl&&E===e.navigation.prevEl))return;const I=A[0].classList.contains(e.params.pagination.hiddenClass);n(I===!0?"paginationShow":"paginationHide"),A.forEach(P=>P.classList.toggle(e.params.pagination.hiddenClass))}});const b=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:w}=e.pagination;w&&(w=l(w),w.forEach(_=>_.classList.remove(e.params.pagination.paginationDisabledClass))),g(),p(),h()},x=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:w}=e.pagination;w&&(w=l(w),w.forEach(_=>_.classList.add(e.params.pagination.paginationDisabledClass))),y()};Object.assign(e.pagination,{enable:b,disable:x,render:p,update:h,init:g,destroy:y})}let eE;function Rre(){const t=Zn(),e=Yh();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function $7(){return eE||(eE=Rre()),eE}let tE;function Ire(t){let{userAgent:e}=t===void 0?{}:t;const r=$7(),i=Zn(),n=i.navigator.platform,s=e||i.navigator.userAgent,a={ios:!1,android:!1},o=i.screen.width,l=i.screen.height,u=s.match(/(Android);?[\s\/]+([\d.]+)?/);let c=s.match(/(iPad).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!c&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=n==="Win32";let g=n==="MacIntel";const y=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&g&&r.touch&&y.indexOf(`${o}x${l}`)>=0&&(c=s.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),g=!1),u&&!p&&(a.os="android",a.android=!0),(c||h||d)&&(a.os="ios",a.ios=!0),a}function Pre(t){return t===void 0&&(t={}),tE||(tE=Ire(t)),tE}let rE;function Mre(){const t=Zn();let e=!1;function r(){const i=t.navigator.userAgent.toLowerCase();return i.indexOf("safari")>=0&&i.indexOf("chrome")<0&&i.indexOf("android")<0}if(r()){const i=String(t.navigator.userAgent);if(i.includes("Version/")){const[n,s]=i.split("Version/")[1].split(" ")[0].split(".").map(a=>Number(a));e=n<16||n===16&&s<2}}return{isSafari:e||r(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function kre(){return rE||(rE=Mre()),rE}function Nre(t){let{swiper:e,on:r,emit:i}=t;const n=Zn();let s=null,a=null;const o=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(d=>{a=n.requestAnimationFrame(()=>{const{width:h,height:p}=e;let g=h,y=p;d.forEach(b=>{let{contentBoxSize:x,contentRect:w,target:_}=b;_&&_!==e.el||(g=w?w.width:(x[0]||x).inlineSize,y=w?w.height:(x[0]||x).blockSize)}),(g!==h||y!==p)&&o()})}),s.observe(e.el))},u=()=>{a&&n.cancelAnimationFrame(a),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},c=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};r("init",()=>{if(e.params.resizeObserver&&typeof n.ResizeObserver<"u"){l();return}n.addEventListener("resize",o),n.addEventListener("orientationchange",c)}),r("destroy",()=>{u(),n.removeEventListener("resize",o),n.removeEventListener("orientationchange",c)})}function Ore(t){let{swiper:e,extendParams:r,on:i,emit:n}=t;const s=[],a=Zn(),o=function(c,d){d===void 0&&(d={});const h=a.MutationObserver||a.WebkitMutationObserver,p=new h(g=>{if(e.__preventObserver__)return;if(g.length===1){n("observerUpdate",g[0]);return}const y=function(){n("observerUpdate",g[0])};a.requestAnimationFrame?a.requestAnimationFrame(y):a.setTimeout(y,0)});p.observe(c,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:typeof d.childList>"u"?!0:d.childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),s.push(p)},l=()=>{if(e.params.observer){if(e.params.observeParents){const c=U7(e.hostEl);for(let d=0;d<c.length;d+=1)o(c[d])}o(e.hostEl,{childList:e.params.observeSlideChildren}),o(e.wrapperEl,{attributes:!1})}},u=()=>{s.forEach(c=>{c.disconnect()}),s.splice(0,s.length)};r({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",l),i("destroy",u)}var Lre={on(t,e,r){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const n=r?"unshift":"push";return t.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][n](e)}),i},once(t,e,r){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function n(){i.off(t,n),n.__emitterProxy&&delete n.__emitterProxy;for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];e.apply(i,a)}return n.__emitterProxy=e,i.on(t,n,r)},onAny(t,e){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;const i=e?"unshift":"push";return r.eventsAnyListeners.indexOf(t)<0&&r.eventsAnyListeners[i](t),r},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const r=e.eventsAnyListeners.indexOf(t);return r>=0&&e.eventsAnyListeners.splice(r,1),e},off(t,e){const r=this;return!r.eventsListeners||r.destroyed||!r.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?r.eventsListeners[i]=[]:r.eventsListeners[i]&&r.eventsListeners[i].forEach((n,s)=>{(n===e||n.__emitterProxy&&n.__emitterProxy===e)&&r.eventsListeners[i].splice(s,1)})}),r},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,r,i;for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],r=s.slice(1,s.length),i=t):(e=s[0].events,r=s[0].data,i=s[0].context||t),r.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(u=>{u.apply(i,[l,...r])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(u=>{u.apply(i,r)})}),t}};function Dre(){const t=this;let e,r;const i=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=i.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?r=t.params.height:r=i.clientHeight,!(e===0&&t.isHorizontal()||r===0&&t.isVertical())&&(e=e-parseInt(_u(i,"padding-left")||0,10)-parseInt(_u(i,"padding-right")||0,10),r=r-parseInt(_u(i,"padding-top")||0,10)-parseInt(_u(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(r)&&(r=0),Object.assign(t,{width:e,height:r,size:t.isHorizontal()?e:r}))}function Fre(){const t=this;function e(j){return t.isHorizontal()?j:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[j]}function r(j,B){return parseFloat(j.getPropertyValue(e(B))||0)}const i=t.params,{wrapperEl:n,slidesEl:s,size:a,rtlTranslate:o,wrongRTL:l}=t,u=t.virtual&&i.virtual.enabled,c=u?t.virtual.slides.length:t.slides.length,d=ao(s,`.${t.params.slideClass}, swiper-slide`),h=u?t.virtual.slides.length:d.length;let p=[];const g=[],y=[];let b=i.slidesOffsetBefore;typeof b=="function"&&(b=i.slidesOffsetBefore.call(t));let x=i.slidesOffsetAfter;typeof x=="function"&&(x=i.slidesOffsetAfter.call(t));const w=t.snapGrid.length,_=t.slidesGrid.length;let E=i.spaceBetween,A=-b,I=0,P=0;if(typeof a>"u")return;typeof E=="string"&&E.indexOf("%")>=0?E=parseFloat(E.replace("%",""))/100*a:typeof E=="string"&&(E=parseFloat(E)),t.virtualSize=-E,d.forEach(j=>{o?j.style.marginLeft="":j.style.marginRight="",j.style.marginBottom="",j.style.marginTop=""}),i.centeredSlides&&i.cssMode&&(ey(n,"--swiper-centered-offset-before",""),ey(n,"--swiper-centered-offset-after",""));const M=i.grid&&i.grid.rows>1&&t.grid;M&&t.grid.initSlides(h);let k;const U=i.slidesPerView==="auto"&&i.breakpoints&&Object.keys(i.breakpoints).filter(j=>typeof i.breakpoints[j].slidesPerView<"u").length>0;for(let j=0;j<h;j+=1){k=0;let B;if(d[j]&&(B=d[j]),M&&t.grid.updateSlide(j,B,h,e),!(d[j]&&_u(B,"display")==="none")){if(i.slidesPerView==="auto"){U&&(d[j].style[e("width")]="");const L=getComputedStyle(B),F=B.style.transform,O=B.style.webkitTransform;if(F&&(B.style.transform="none"),O&&(B.style.webkitTransform="none"),i.roundLengths)k=t.isHorizontal()?AC(B,"width",!0):AC(B,"height",!0);else{const $=r(L,"width"),z=r(L,"padding-left"),D=r(L,"padding-right"),G=r(L,"margin-left"),H=r(L,"margin-right"),W=L.getPropertyValue("box-sizing");if(W&&W==="border-box")k=$+G+H;else{const{clientWidth:K,offsetWidth:Q}=B;k=$+z+D+G+H+(Q-K)}}F&&(B.style.transform=F),O&&(B.style.webkitTransform=O),i.roundLengths&&(k=Math.floor(k))}else k=(a-(i.slidesPerView-1)*E)/i.slidesPerView,i.roundLengths&&(k=Math.floor(k)),d[j]&&(d[j].style[e("width")]=`${k}px`);d[j]&&(d[j].swiperSlideSize=k),y.push(k),i.centeredSlides?(A=A+k/2+I/2+E,I===0&&j!==0&&(A=A-a/2-E),j===0&&(A=A-a/2-E),Math.abs(A)<1/1e3&&(A=0),i.roundLengths&&(A=Math.floor(A)),P%i.slidesPerGroup===0&&p.push(A),g.push(A)):(i.roundLengths&&(A=Math.floor(A)),(P-Math.min(t.params.slidesPerGroupSkip,P))%t.params.slidesPerGroup===0&&p.push(A),g.push(A),A=A+k+E),t.virtualSize+=k+E,I=k,P+=1}}if(t.virtualSize=Math.max(t.virtualSize,a)+x,o&&l&&(i.effect==="slide"||i.effect==="coverflow")&&(n.style.width=`${t.virtualSize+E}px`),i.setWrapperSize&&(n.style[e("width")]=`${t.virtualSize+E}px`),M&&t.grid.updateWrapperSize(k,p,e),!i.centeredSlides){const j=[];for(let B=0;B<p.length;B+=1){let L=p[B];i.roundLengths&&(L=Math.floor(L)),p[B]<=t.virtualSize-a&&j.push(L)}p=j,Math.floor(t.virtualSize-a)-Math.floor(p[p.length-1])>1&&p.push(t.virtualSize-a)}if(u&&i.loop){const j=y[0]+E;if(i.slidesPerGroup>1){const B=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/i.slidesPerGroup),L=j*i.slidesPerGroup;for(let F=0;F<B;F+=1)p.push(p[p.length-1]+L)}for(let B=0;B<t.virtual.slidesBefore+t.virtual.slidesAfter;B+=1)i.slidesPerGroup===1&&p.push(p[p.length-1]+j),g.push(g[g.length-1]+j),t.virtualSize+=j}if(p.length===0&&(p=[0]),E!==0){const j=t.isHorizontal()&&o?"marginLeft":e("marginRight");d.filter((B,L)=>!i.cssMode||i.loop?!0:L!==d.length-1).forEach(B=>{B.style[j]=`${E}px`})}if(i.centeredSlides&&i.centeredSlidesBounds){let j=0;y.forEach(L=>{j+=L+(E||0)}),j-=E;const B=j-a;p=p.map(L=>L<=0?-b:L>B?B+x:L)}if(i.centerInsufficientSlides){let j=0;if(y.forEach(B=>{j+=B+(E||0)}),j-=E,j<a){const B=(a-j)/2;p.forEach((L,F)=>{p[F]=L-B}),g.forEach((L,F)=>{g[F]=L+B})}}if(Object.assign(t,{slides:d,snapGrid:p,slidesGrid:g,slidesSizesGrid:y}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){ey(n,"--swiper-centered-offset-before",`${-p[0]}px`),ey(n,"--swiper-centered-offset-after",`${t.size/2-y[y.length-1]/2}px`);const j=-t.snapGrid[0],B=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(L=>L+j),t.slidesGrid=t.slidesGrid.map(L=>L+B)}if(h!==c&&t.emit("slidesLengthChange"),p.length!==w&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),g.length!==_&&t.emit("slidesGridLengthChange"),i.watchSlidesProgress&&t.updateSlidesOffset(),!u&&!i.cssMode&&(i.effect==="slide"||i.effect==="fade")){const j=`${i.containerModifierClass}backface-hidden`,B=t.el.classList.contains(j);h<=i.maxBackfaceHiddenSlides?B||t.el.classList.add(j):B&&t.el.classList.remove(j)}}function Bre(t){const e=this,r=[],i=e.virtual&&e.params.virtual.enabled;let n=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const a=o=>i?e.slides[e.getSlideIndexByData(o)]:e.slides[o];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(o=>{r.push(o)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const o=e.activeIndex+s;if(o>e.slides.length&&!i)break;r.push(a(o))}else r.push(a(e.activeIndex));for(s=0;s<r.length;s+=1)if(typeof r[s]<"u"){const o=r[s].offsetHeight;n=o>n?o:n}(n||n===0)&&(e.wrapperEl.style.height=`${n}px`)}function jre(){const t=this,e=t.slides,r=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-r-t.cssOverflowAdjustment()}function Ure(t){t===void 0&&(t=this&&this.translate||0);const e=this,r=e.params,{slides:i,rtlTranslate:n,snapGrid:s}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-t;n&&(a=t),i.forEach(l=>{l.classList.remove(r.slideVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let o=r.spaceBetween;typeof o=="string"&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*e.size:typeof o=="string"&&(o=parseFloat(o));for(let l=0;l<i.length;l+=1){const u=i[l];let c=u.swiperSlideOffset;r.cssMode&&r.centeredSlides&&(c-=i[0].swiperSlideOffset);const d=(a+(r.centeredSlides?e.minTranslate():0)-c)/(u.swiperSlideSize+o),h=(a-s[0]+(r.centeredSlides?e.minTranslate():0)-c)/(u.swiperSlideSize+o),p=-(a-c),g=p+e.slidesSizesGrid[l];(p>=0&&p<e.size-1||g>1&&g<=e.size||p<=0&&g>=e.size)&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(l),i[l].classList.add(r.slideVisibleClass)),u.progress=n?-d:d,u.originalProgress=n?-h:h}}function $re(t){const e=this;if(typeof t>"u"){const c=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*c||0}const r=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:n,isBeginning:s,isEnd:a,progressLoop:o}=e;const l=s,u=a;if(i===0)n=0,s=!0,a=!0;else{n=(t-e.minTranslate())/i;const c=Math.abs(t-e.minTranslate())<1,d=Math.abs(t-e.maxTranslate())<1;s=c||n<=0,a=d||n>=1,c&&(n=0),d&&(n=1)}if(r.loop){const c=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),h=e.slidesGrid[c],p=e.slidesGrid[d],g=e.slidesGrid[e.slidesGrid.length-1],y=Math.abs(t);y>=h?o=(y-h)/g:o=(y+g-p)/g,o>1&&(o-=1)}Object.assign(e,{progress:n,progressLoop:o,isBeginning:s,isEnd:a}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&e.updateSlidesProgress(t),s&&!l&&e.emit("reachBeginning toEdge"),a&&!u&&e.emit("reachEnd toEdge"),(l&&!s||u&&!a)&&e.emit("fromEdge"),e.emit("progress",n)}function zre(){const t=this,{slides:e,params:r,slidesEl:i,activeIndex:n}=t,s=t.virtual&&r.virtual.enabled,a=l=>ao(i,`.${r.slideClass}${l}, swiper-slide${l}`)[0];e.forEach(l=>{l.classList.remove(r.slideActiveClass,r.slideNextClass,r.slidePrevClass)});let o;if(s)if(r.loop){let l=n-t.virtual.slidesBefore;l<0&&(l=t.virtual.slides.length+l),l>=t.virtual.slides.length&&(l-=t.virtual.slides.length),o=a(`[data-swiper-slide-index="${l}"]`)}else o=a(`[data-swiper-slide-index="${n}"]`);else o=e[n];if(o){o.classList.add(r.slideActiveClass);let l=Tre(o,`.${r.slideClass}, swiper-slide`)[0];r.loop&&!l&&(l=e[0]),l&&l.classList.add(r.slideNextClass);let u=Ere(o,`.${r.slideClass}, swiper-slide`)[0];r.loop&&!u===0&&(u=e[e.length-1]),u&&u.classList.add(r.slidePrevClass)}t.emitSlidesClasses()}const Rx=(t,e)=>{if(!t||t.destroyed||!t.params)return;const r=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,i=e.closest(r());if(i){const n=i.querySelector(`.${t.params.lazyPreloaderClass}`);n&&n.remove()}},iE=(t,e)=>{if(!t.slides[e])return;const r=t.slides[e].querySelector('[loading="lazy"]');r&&r.removeAttribute("loading")},CC=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const r=t.slides.length;if(!r||!e||e<0)return;e=Math.min(e,r);const i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),n=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const a=n,o=[a-e];o.push(...Array.from({length:e}).map((l,u)=>a+i+u)),t.slides.forEach((l,u)=>{o.includes(l.column)&&iE(t,u)});return}const s=n+i-1;if(t.params.rewind||t.params.loop)for(let a=n-e;a<=s+e;a+=1){const o=(a%r+r)%r;(o<n||o>s)&&iE(t,o)}else for(let a=Math.max(n-e,0);a<=Math.min(s+e,r-1);a+=1)a!==n&&(a>s||a<n)&&iE(t,a)};function Hre(t){const{slidesGrid:e,params:r}=t,i=t.rtlTranslate?t.translate:-t.translate;let n;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?i>=e[s]&&i<e[s+1]-(e[s+1]-e[s])/2?n=s:i>=e[s]&&i<e[s+1]&&(n=s+1):i>=e[s]&&(n=s);return r.normalizeSlideIndex&&(n<0||typeof n>"u")&&(n=0),n}function Gre(t){const e=this,r=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:n,activeIndex:s,realIndex:a,snapIndex:o}=e;let l=t,u;const c=h=>{let p=h-e.virtual.slidesBefore;return p<0&&(p=e.virtual.slides.length+p),p>=e.virtual.slides.length&&(p-=e.virtual.slides.length),p};if(typeof l>"u"&&(l=Hre(e)),i.indexOf(r)>=0)u=i.indexOf(r);else{const h=Math.min(n.slidesPerGroupSkip,l);u=h+Math.floor((l-h)/n.slidesPerGroup)}if(u>=i.length&&(u=i.length-1),l===s){u!==o&&(e.snapIndex=u,e.emit("snapIndexChange")),e.params.loop&&e.virtual&&e.params.virtual.enabled&&(e.realIndex=c(l));return}let d;e.virtual&&n.virtual.enabled&&n.loop?d=c(l):e.slides[l]?d=parseInt(e.slides[l].getAttribute("data-swiper-slide-index")||l,10):d=l,Object.assign(e,{previousSnapIndex:o,snapIndex:u,previousRealIndex:a,realIndex:d,previousIndex:s,activeIndex:l}),e.initialized&&CC(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),a!==d&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function Vre(t){const e=this,r=e.params,i=t.closest(`.${r.slideClass}, swiper-slide`);let n=!1,s;if(i){for(let a=0;a<e.slides.length;a+=1)if(e.slides[a]===i){n=!0,s=a;break}}if(i&&n)e.clickedSlide=i,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):e.clickedIndex=s;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}r.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}var Wre={updateSize:Dre,updateSlides:Fre,updateAutoHeight:Bre,updateSlidesOffset:jre,updateSlidesProgress:Ure,updateProgress:$re,updateSlidesClasses:zre,updateActiveIndex:Gre,updateClickedSlide:Vre};function Xre(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:r,rtlTranslate:i,translate:n,wrapperEl:s}=e;if(r.virtualTranslate)return i?-n:n;if(r.cssMode)return n;let a=wre(s,t);return a+=e.cssOverflowAdjustment(),i&&(a=-a),a||0}function Yre(t,e){const r=this,{rtlTranslate:i,params:n,wrapperEl:s,progress:a}=r;let o=0,l=0;const u=0;r.isHorizontal()?o=i?-t:t:l=t,n.roundLengths&&(o=Math.floor(o),l=Math.floor(l)),r.previousTranslate=r.translate,r.translate=r.isHorizontal()?o:l,n.cssMode?s[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-o:-l:n.virtualTranslate||(r.isHorizontal()?o-=r.cssOverflowAdjustment():l-=r.cssOverflowAdjustment(),s.style.transform=`translate3d(${o}px, ${l}px, ${u}px)`);let c;const d=r.maxTranslate()-r.minTranslate();d===0?c=0:c=(t-r.minTranslate())/d,c!==a&&r.updateProgress(t),r.emit("setTranslate",r.translate,e)}function qre(){return-this.snapGrid[0]}function Kre(){return-this.snapGrid[this.snapGrid.length-1]}function Qre(t,e,r,i,n){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),r===void 0&&(r=!0),i===void 0&&(i=!0);const s=this,{params:a,wrapperEl:o}=s;if(s.animating&&a.preventInteractionOnTransition)return!1;const l=s.minTranslate(),u=s.maxTranslate();let c;if(i&&t>l?c=l:i&&t<u?c=u:c=t,s.updateProgress(c),a.cssMode){const d=s.isHorizontal();if(e===0)o[d?"scrollLeft":"scrollTop"]=-c;else{if(!s.support.smoothScroll)return B7({swiper:s,targetPosition:-c,side:d?"left":"top"}),!0;o.scrollTo({[d?"left":"top"]:-c,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(c),r&&(s.emit("beforeTransitionStart",e,n),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(c),r&&(s.emit("beforeTransitionStart",e,n),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(h){!s||s.destroyed||h.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,r&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var Zre={getTranslate:Xre,setTranslate:Yre,minTranslate:qre,maxTranslate:Kre,translateTo:Qre};function Jre(t,e){const r=this;r.params.cssMode||(r.wrapperEl.style.transitionDuration=`${t}ms`),r.emit("setTransition",t,e)}function z7(t){let{swiper:e,runCallbacks:r,direction:i,step:n}=t;const{activeIndex:s,previousIndex:a}=e;let o=i;if(o||(s>a?o="next":s<a?o="prev":o="reset"),e.emit(`transition${n}`),r&&s!==a){if(o==="reset"){e.emit(`slideResetTransition${n}`);return}e.emit(`slideChangeTransition${n}`),o==="next"?e.emit(`slideNextTransition${n}`):e.emit(`slidePrevTransition${n}`)}}function eie(t,e){t===void 0&&(t=!0);const r=this,{params:i}=r;i.cssMode||(i.autoHeight&&r.updateAutoHeight(),z7({swiper:r,runCallbacks:t,direction:e,step:"Start"}))}function tie(t,e){t===void 0&&(t=!0);const r=this,{params:i}=r;r.animating=!1,!i.cssMode&&(r.setTransition(0),z7({swiper:r,runCallbacks:t,direction:e,step:"End"}))}var rie={setTransition:Jre,transitionStart:eie,transitionEnd:tie};function iie(t,e,r,i,n){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),r===void 0&&(r=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let a=t;a<0&&(a=0);const{params:o,snapGrid:l,slidesGrid:u,previousIndex:c,activeIndex:d,rtlTranslate:h,wrapperEl:p,enabled:g}=s;if(s.animating&&o.preventInteractionOnTransition||!g&&!i&&!n)return!1;const y=Math.min(s.params.slidesPerGroupSkip,a);let b=y+Math.floor((a-y)/s.params.slidesPerGroup);b>=l.length&&(b=l.length-1);const x=-l[b];if(o.normalizeSlideIndex)for(let _=0;_<u.length;_+=1){const E=-Math.floor(x*100),A=Math.floor(u[_]*100),I=Math.floor(u[_+1]*100);typeof u[_+1]<"u"?E>=A&&E<I-(I-A)/2?a=_:E>=A&&E<I&&(a=_+1):E>=A&&(a=_)}if(s.initialized&&a!==d&&(!s.allowSlideNext&&(h?x>s.translate&&x>s.minTranslate():x<s.translate&&x<s.minTranslate())||!s.allowSlidePrev&&x>s.translate&&x>s.maxTranslate()&&(d||0)!==a))return!1;a!==(c||0)&&r&&s.emit("beforeSlideChangeStart"),s.updateProgress(x);let w;if(a>d?w="next":a<d?w="prev":w="reset",h&&-x===s.translate||!h&&x===s.translate)return s.updateActiveIndex(a),o.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),o.effect!=="slide"&&s.setTranslate(x),w!=="reset"&&(s.transitionStart(r,w),s.transitionEnd(r,w)),!1;if(o.cssMode){const _=s.isHorizontal(),E=h?x:-x;if(e===0){const A=s.virtual&&s.params.virtual.enabled;A&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),A&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[_?"scrollLeft":"scrollTop"]=E})):p[_?"scrollLeft":"scrollTop"]=E,A&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1})}else{if(!s.support.smoothScroll)return B7({swiper:s,targetPosition:E,side:_?"left":"top"}),!0;p.scrollTo({[_?"left":"top"]:E,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(x),s.updateActiveIndex(a),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(r,w),e===0?s.transitionEnd(r,w):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(E){!s||s.destroyed||E.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(r,w))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function nie(t,e,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),r===void 0&&(r=!0),typeof t=="string"&&(t=parseInt(t,10));const n=this;let s=t;return n.params.loop&&(n.virtual&&n.params.virtual.enabled?s=s+n.virtual.slidesBefore:s=n.getSlideIndexByData(s)),n.slideTo(s,e,r,i)}function sie(t,e,r){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const i=this,{enabled:n,params:s,animating:a}=i;if(!n)return i;let o=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(o=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<s.slidesPerGroupSkip?1:o,u=i.virtual&&s.virtual.enabled;if(s.loop){if(a&&!u&&s.loopPreventsSliding)return!1;i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft}return s.rewind&&i.isEnd?i.slideTo(0,t,e,r):i.slideTo(i.activeIndex+l,t,e,r)}function aie(t,e,r){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const i=this,{params:n,snapGrid:s,slidesGrid:a,rtlTranslate:o,enabled:l,animating:u}=i;if(!l)return i;const c=i.virtual&&n.virtual.enabled;if(n.loop){if(u&&!c&&n.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const d=o?i.translate:-i.translate;function h(x){return x<0?-Math.floor(Math.abs(x)):Math.floor(x)}const p=h(d),g=s.map(x=>h(x));let y=s[g.indexOf(p)-1];if(typeof y>"u"&&n.cssMode){let x;s.forEach((w,_)=>{p>=w&&(x=_)}),typeof x<"u"&&(y=s[x>0?x-1:x])}let b=0;if(typeof y<"u"&&(b=a.indexOf(y),b<0&&(b=i.activeIndex-1),n.slidesPerView==="auto"&&n.slidesPerGroup===1&&n.slidesPerGroupAuto&&(b=b-i.slidesPerViewDynamic("previous",!0)+1,b=Math.max(b,0))),n.rewind&&i.isBeginning){const x=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(x,t,e,r)}return i.slideTo(b,t,e,r)}function oie(t,e,r){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const i=this;return i.slideTo(i.activeIndex,t,e,r)}function lie(t,e,r,i){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0),i===void 0&&(i=.5);const n=this;let s=n.activeIndex;const a=Math.min(n.params.slidesPerGroupSkip,s),o=a+Math.floor((s-a)/n.params.slidesPerGroup),l=n.rtlTranslate?n.translate:-n.translate;if(l>=n.snapGrid[o]){const u=n.snapGrid[o],c=n.snapGrid[o+1];l-u>(c-u)*i&&(s+=n.params.slidesPerGroup)}else{const u=n.snapGrid[o-1],c=n.snapGrid[o];l-u<=(c-u)*i&&(s-=n.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,n.slidesGrid.length-1),n.slideTo(s,t,e,r)}function uie(){const t=this,{params:e,slidesEl:r}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let n=t.clickedIndex,s;const a=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?n<t.loopedSlides-i/2||n>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),n=t.getSlideIndex(ao(r,`${a}[data-swiper-slide-index="${s}"]`)[0]),TC(()=>{t.slideTo(n)})):t.slideTo(n):n>t.slides.length-i?(t.loopFix(),n=t.getSlideIndex(ao(r,`${a}[data-swiper-slide-index="${s}"]`)[0]),TC(()=>{t.slideTo(n)})):t.slideTo(n)}else t.slideTo(n)}var cie={slideTo:iie,slideToLoop:nie,slideNext:sie,slidePrev:aie,slideReset:oie,slideToClosest:lie,slideToClickedSlide:uie};function hie(t){const e=this,{params:r,slidesEl:i}=e;if(!r.loop||e.virtual&&e.params.virtual.enabled)return;ao(i,`.${r.slideClass}, swiper-slide`).forEach((s,a)=>{s.setAttribute("data-swiper-slide-index",a)}),e.loopFix({slideRealIndex:t,direction:r.centeredSlides?void 0:"next"})}function die(t){let{slideRealIndex:e,slideTo:r=!0,direction:i,setTranslate:n,activeSlideIndex:s,byController:a,byMousewheel:o}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:u,allowSlidePrev:c,allowSlideNext:d,slidesEl:h,params:p}=l;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&p.virtual.enabled){r&&(!p.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):p.centeredSlides&&l.snapIndex<p.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=c,l.allowSlideNext=d,l.emit("loopFix");return}const g=p.slidesPerView==="auto"?l.slidesPerViewDynamic():Math.ceil(parseFloat(p.slidesPerView,10));let y=p.loopedSlides||g;y%p.slidesPerGroup!==0&&(y+=p.slidesPerGroup-y%p.slidesPerGroup),l.loopedSlides=y;const b=[],x=[];let w=l.activeIndex;typeof s>"u"?s=l.getSlideIndex(l.slides.filter(P=>P.classList.contains(p.slideActiveClass))[0]):w=s;const _=i==="next"||!i,E=i==="prev"||!i;let A=0,I=0;if(s<y){A=Math.max(y-s,p.slidesPerGroup);for(let P=0;P<y-s;P+=1){const M=P-Math.floor(P/u.length)*u.length;b.push(u.length-M-1)}}else if(s>l.slides.length-y*2){I=Math.max(s-(l.slides.length-y*2),p.slidesPerGroup);for(let P=0;P<I;P+=1){const M=P-Math.floor(P/u.length)*u.length;x.push(M)}}if(E&&b.forEach(P=>{l.slides[P].swiperLoopMoveDOM=!0,h.prepend(l.slides[P]),l.slides[P].swiperLoopMoveDOM=!1}),_&&x.forEach(P=>{l.slides[P].swiperLoopMoveDOM=!0,h.append(l.slides[P]),l.slides[P].swiperLoopMoveDOM=!1}),l.recalcSlides(),p.slidesPerView==="auto"&&l.updateSlides(),p.watchSlidesProgress&&l.updateSlidesOffset(),r){if(b.length>0&&E)if(typeof e>"u"){const P=l.slidesGrid[w],k=l.slidesGrid[w+A]-P;o?l.setTranslate(l.translate-k):(l.slideTo(w+A,0,!1,!0),n&&(l.touches[l.isHorizontal()?"startX":"startY"]+=k,l.touchEventsData.currentTranslate=l.translate))}else n&&(l.slideToLoop(e,0,!1,!0),l.touchEventsData.currentTranslate=l.translate);else if(x.length>0&&_)if(typeof e>"u"){const P=l.slidesGrid[w],k=l.slidesGrid[w-I]-P;o?l.setTranslate(l.translate-k):(l.slideTo(w-I,0,!1,!0),n&&(l.touches[l.isHorizontal()?"startX":"startY"]+=k,l.touchEventsData.currentTranslate=l.translate))}else l.slideToLoop(e,0,!1,!0)}if(l.allowSlidePrev=c,l.allowSlideNext=d,l.controller&&l.controller.control&&!a){const P={slideRealIndex:e,slideTo:!1,direction:i,setTranslate:n,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(M=>{!M.destroyed&&M.params.loop&&M.loopFix(P)}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix(P)}l.emit("loopFix")}function fie(){const t=this,{params:e,slidesEl:r}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const i=[];t.slides.forEach(n=>{const s=typeof n.swiperSlideIndex>"u"?n.getAttribute("data-swiper-slide-index")*1:n.swiperSlideIndex;i[s]=n}),t.slides.forEach(n=>{n.removeAttribute("data-swiper-slide-index")}),i.forEach(n=>{r.append(n)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var pie={loopCreate:hie,loopFix:die,loopDestroy:fie};function mie(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const r=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),r.style.cursor="move",r.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function gie(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var vie={setGrabCursor:mie,unsetGrabCursor:gie};function yie(t,e){e===void 0&&(e=this);function r(i){if(!i||i===Yh()||i===Zn())return null;i.assignedSlot&&(i=i.assignedSlot);const n=i.closest(t);return!n&&!i.getRootNode?null:n||r(i.getRootNode().host)}return r(e)}function xie(t){const e=this,r=Yh(),i=Zn(),n=e.touchEventsData;n.evCache.push(t);const{params:s,touches:a,enabled:o}=e;if(!o||!s.simulateTouch&&t.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=t;l.originalEvent&&(l=l.originalEvent);let u=l.target;if(s.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(u)||"which"in l&&l.which===3||"button"in l&&l.button>0||n.isTouched&&n.isMoved)return;const c=!!s.noSwipingClass&&s.noSwipingClass!=="",d=t.composedPath?t.composedPath():t.path;c&&l.target&&l.target.shadowRoot&&d&&(u=d[0]);const h=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,p=!!(l.target&&l.target.shadowRoot);if(s.noSwiping&&(p?yie(h,u):u.closest(h))){e.allowClick=!0;return}if(s.swipeHandler&&!u.closest(s.swipeHandler))return;a.currentX=l.pageX,a.currentY=l.pageY;const g=a.currentX,y=a.currentY,b=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,x=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(b&&(g<=x||g>=i.innerWidth-x))if(b==="prevent")t.preventDefault();else return;Object.assign(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=g,a.startY=y,n.touchStartTime=zb(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(n.allowThresholdMove=!1);let w=!0;u.matches(n.focusableElements)&&(w=!1,u.nodeName==="SELECT"&&(n.isTouched=!1)),r.activeElement&&r.activeElement.matches(n.focusableElements)&&r.activeElement!==u&&r.activeElement.blur();const _=w&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||_)&&!u.isContentEditable&&l.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function bie(t){const e=Yh(),r=this,i=r.touchEventsData,{params:n,touches:s,rtlTranslate:a,enabled:o}=r;if(!o||!n.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),!i.isTouched){i.startMoving&&i.isScrolling&&r.emit("touchMoveOpposite",l);return}const u=i.evCache.findIndex(I=>I.pointerId===l.pointerId);u>=0&&(i.evCache[u]=l);const c=i.evCache.length>1?i.evCache[0]:l,d=c.pageX,h=c.pageY;if(l.preventedByNestedSwiper){s.startX=d,s.startY=h;return}if(!r.allowTouchMove){l.target.matches(i.focusableElements)||(r.allowClick=!1),i.isTouched&&(Object.assign(s,{startX:d,startY:h,prevX:r.touches.currentX,prevY:r.touches.currentY,currentX:d,currentY:h}),i.touchStartTime=zb());return}if(n.touchReleaseOnEdges&&!n.loop){if(r.isVertical()){if(h<s.startY&&r.translate<=r.maxTranslate()||h>s.startY&&r.translate>=r.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(d<s.startX&&r.translate<=r.maxTranslate()||d>s.startX&&r.translate>=r.minTranslate())return}if(e.activeElement&&l.target===e.activeElement&&l.target.matches(i.focusableElements)){i.isMoved=!0,r.allowClick=!1;return}if(i.allowTouchCallbacks&&r.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;s.currentX=d,s.currentY=h;const p=s.currentX-s.startX,g=s.currentY-s.startY;if(r.params.threshold&&Math.sqrt(p**2+g**2)<r.params.threshold)return;if(typeof i.isScrolling>"u"){let I;r.isHorizontal()&&s.currentY===s.startY||r.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:p*p+g*g>=25&&(I=Math.atan2(Math.abs(g),Math.abs(p))*180/Math.PI,i.isScrolling=r.isHorizontal()?I>n.touchAngle:90-I>n.touchAngle)}if(i.isScrolling&&r.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||r.zoom&&r.params.zoom&&r.params.zoom.enabled&&i.evCache.length>1){i.isTouched=!1;return}if(!i.startMoving)return;r.allowClick=!1,!n.cssMode&&l.cancelable&&l.preventDefault(),n.touchMoveStopPropagation&&!n.nested&&l.stopPropagation();let y=r.isHorizontal()?p:g,b=r.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;n.oneWayMovement&&(y=Math.abs(y)*(a?1:-1),b=Math.abs(b)*(a?1:-1)),s.diff=y,y*=n.touchRatio,a&&(y=-y,b=-b);const x=r.touchesDirection;r.swipeDirection=y>0?"prev":"next",r.touchesDirection=b>0?"prev":"next";const w=r.params.loop&&!n.cssMode;if(!i.isMoved){if(w&&r.loopFix({direction:r.swipeDirection}),i.startTranslate=r.getTranslate(),r.setTransition(0),r.animating){const I=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});r.wrapperEl.dispatchEvent(I)}i.allowMomentumBounce=!1,n.grabCursor&&(r.allowSlideNext===!0||r.allowSlidePrev===!0)&&r.setGrabCursor(!0),r.emit("sliderFirstMove",l)}let _;i.isMoved&&x!==r.touchesDirection&&w&&Math.abs(y)>=1&&(r.loopFix({direction:r.swipeDirection,setTranslate:!0}),_=!0),r.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=y+i.startTranslate;let E=!0,A=n.resistanceRatio;if(n.touchReleaseOnEdges&&(A=0),y>0?(w&&!_&&i.currentTranslate>(n.centeredSlides?r.minTranslate()-r.size/2:r.minTranslate())&&r.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>r.minTranslate()&&(E=!1,n.resistance&&(i.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+i.startTranslate+y)**A))):y<0&&(w&&!_&&i.currentTranslate<(n.centeredSlides?r.maxTranslate()+r.size/2:r.maxTranslate())&&r.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:r.slides.length-(n.slidesPerView==="auto"?r.slidesPerViewDynamic():Math.ceil(parseFloat(n.slidesPerView,10)))}),i.currentTranslate<r.maxTranslate()&&(E=!1,n.resistance&&(i.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-i.startTranslate-y)**A))),E&&(l.preventedByNestedSwiper=!0),!r.allowSlideNext&&r.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!r.allowSlidePrev&&r.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!r.allowSlidePrev&&!r.allowSlideNext&&(i.currentTranslate=i.startTranslate),n.threshold>0)if(Math.abs(y)>n.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,s.diff=r.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{i.currentTranslate=i.startTranslate;return}!n.followFinger||n.cssMode||((n.freeMode&&n.freeMode.enabled&&r.freeMode||n.watchSlidesProgress)&&(r.updateActiveIndex(),r.updateSlidesClasses()),n.freeMode&&n.freeMode.enabled&&r.freeMode&&r.freeMode.onTouchMove(),r.updateProgress(i.currentTranslate),r.setTranslate(i.currentTranslate))}function _ie(t){const e=this,r=e.touchEventsData,i=r.evCache.findIndex(_=>_.pointerId===t.pointerId);if(i>=0&&r.evCache.splice(i,1),["pointercancel","pointerout","pointerleave"].includes(t.type)&&!(t.type==="pointercancel"&&(e.browser.isSafari||e.browser.isWebView)))return;const{params:n,touches:s,rtlTranslate:a,slidesGrid:o,enabled:l}=e;if(!l||!n.simulateTouch&&t.pointerType==="mouse")return;let u=t;if(u.originalEvent&&(u=u.originalEvent),r.allowTouchCallbacks&&e.emit("touchEnd",u),r.allowTouchCallbacks=!1,!r.isTouched){r.isMoved&&n.grabCursor&&e.setGrabCursor(!1),r.isMoved=!1,r.startMoving=!1;return}n.grabCursor&&r.isMoved&&r.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const c=zb(),d=c-r.touchStartTime;if(e.allowClick){const _=u.path||u.composedPath&&u.composedPath();e.updateClickedSlide(_&&_[0]||u.target),e.emit("tap click",u),d<300&&c-r.lastClickTime<300&&e.emit("doubleTap doubleClick",u)}if(r.lastClickTime=zb(),TC(()=>{e.destroyed||(e.allowClick=!0)}),!r.isTouched||!r.isMoved||!e.swipeDirection||s.diff===0||r.currentTranslate===r.startTranslate){r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;return}r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;let h;if(n.followFinger?h=a?e.translate:-e.translate:h=-r.currentTranslate,n.cssMode)return;if(n.freeMode&&n.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}let p=0,g=e.slidesSizesGrid[0];for(let _=0;_<o.length;_+=_<n.slidesPerGroupSkip?1:n.slidesPerGroup){const E=_<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;typeof o[_+E]<"u"?h>=o[_]&&h<o[_+E]&&(p=_,g=o[_+E]-o[_]):h>=o[_]&&(p=_,g=o[o.length-1]-o[o.length-2])}let y=null,b=null;n.rewind&&(e.isBeginning?b=n.virtual&&n.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(y=0));const x=(h-o[p])/g,w=p<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;if(d>n.longSwipesMs){if(!n.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(x>=n.longSwipesRatio?e.slideTo(n.rewind&&e.isEnd?y:p+w):e.slideTo(p)),e.swipeDirection==="prev"&&(x>1-n.longSwipesRatio?e.slideTo(p+w):b!==null&&x<0&&Math.abs(x)>n.longSwipesRatio?e.slideTo(b):e.slideTo(p))}else{if(!n.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(u.target===e.navigation.nextEl||u.target===e.navigation.prevEl)?u.target===e.navigation.nextEl?e.slideTo(p+w):e.slideTo(p):(e.swipeDirection==="next"&&e.slideTo(y!==null?y:p+w),e.swipeDirection==="prev"&&e.slideTo(b!==null?b:p))}}function EO(){const t=this,{params:e,el:r}=t;if(r&&r.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:n,snapGrid:s}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const o=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!o?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=n,t.allowSlideNext=i,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function wie(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Sie(){const t=this,{wrapperEl:e,rtlTranslate:r,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let n;const s=t.maxTranslate()-t.minTranslate();s===0?n=0:n=(t.translate-t.minTranslate())/s,n!==t.progress&&t.updateProgress(r?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Eie(t){const e=this;Rx(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}let TO=!1;function Tie(){}const H7=(t,e)=>{const r=Yh(),{params:i,el:n,wrapperEl:s,device:a}=t,o=!!i.nested,l=e==="on"?"addEventListener":"removeEventListener",u=e;n[l]("pointerdown",t.onTouchStart,{passive:!1}),r[l]("pointermove",t.onTouchMove,{passive:!1,capture:o}),r[l]("pointerup",t.onTouchEnd,{passive:!0}),r[l]("pointercancel",t.onTouchEnd,{passive:!0}),r[l]("pointerout",t.onTouchEnd,{passive:!0}),r[l]("pointerleave",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&n[l]("click",t.onClick,!0),i.cssMode&&s[l]("scroll",t.onScroll),i.updateOnWindowResize?t[u](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",EO,!0):t[u]("observerUpdate",EO,!0),n[l]("load",t.onLoad,{capture:!0})};function Aie(){const t=this,e=Yh(),{params:r}=t;t.onTouchStart=xie.bind(t),t.onTouchMove=bie.bind(t),t.onTouchEnd=_ie.bind(t),r.cssMode&&(t.onScroll=Sie.bind(t)),t.onClick=wie.bind(t),t.onLoad=Eie.bind(t),TO||(e.addEventListener("touchstart",Tie),TO=!0),H7(t,"on")}function Cie(){H7(this,"off")}var Rie={attachEvents:Aie,detachEvents:Cie};const AO=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function Iie(){const t=this,{realIndex:e,initialized:r,params:i,el:n}=t,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const a=t.getBreakpoint(s,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;const l=(a in s?s[a]:void 0)||t.originalParams,u=AO(t,i),c=AO(t,l),d=i.enabled;u&&!c?(n.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!u&&c&&(n.classList.add(`${i.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&i.grid.fill==="column")&&n.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(y=>{if(typeof l[y]>"u")return;const b=i[y]&&i[y].enabled,x=l[y]&&l[y].enabled;b&&!x&&t[y].disable(),!b&&x&&t[y].enable()});const h=l.direction&&l.direction!==i.direction,p=i.loop&&(l.slidesPerView!==i.slidesPerView||h);h&&r&&t.changeDirection(),Fn(t.params,l);const g=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),d&&!g?t.disable():!d&&g&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",l),p&&r&&(t.loopDestroy(),t.loopCreate(e),t.updateSlides()),t.emit("breakpoint",l)}function Pie(t,e,r){if(e===void 0&&(e="window"),!t||e==="container"&&!r)return;let i=!1;const n=Zn(),s=e==="window"?n.innerHeight:r.clientHeight,a=Object.keys(t).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){const l=parseFloat(o.substr(1));return{value:s*l,point:o}}return{value:o,point:o}});a.sort((o,l)=>parseInt(o.value,10)-parseInt(l.value,10));for(let o=0;o<a.length;o+=1){const{point:l,value:u}=a[o];e==="window"?n.matchMedia(`(min-width: ${u}px)`).matches&&(i=l):u<=r.clientWidth&&(i=l)}return i||"max"}var Mie={setBreakpoint:Iie,getBreakpoint:Pie};function kie(t,e){const r=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(n=>{i[n]&&r.push(e+n)}):typeof i=="string"&&r.push(e+i)}),r}function Nie(){const t=this,{classNames:e,params:r,rtl:i,el:n,device:s}=t,a=kie(["initialized",r.direction,{"free-mode":t.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:i},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&r.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides},{"watch-progress":r.watchSlidesProgress}],r.containerModifierClass);e.push(...a),n.classList.add(...e),t.emitContainerClasses()}function Oie(){const t=this,{el:e,classNames:r}=t;e.classList.remove(...r),t.emitContainerClasses()}var Lie={addClasses:Nie,removeClasses:Oie};function Die(){const t=this,{isLocked:e,params:r}=t,{slidesOffsetBefore:i}=r;if(i){const n=t.slides.length-1,s=t.slidesGrid[n]+t.slidesSizesGrid[n]+i*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;r.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),r.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var Fie={checkOverflow:Die},RC={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Bie(t,e){return function(i){i===void 0&&(i={});const n=Object.keys(i)[0],s=i[n];if(typeof s!="object"||s===null){Fn(e,i);return}if(["navigation","pagination","scrollbar"].indexOf(n)>=0&&t[n]===!0&&(t[n]={auto:!0}),!(n in t&&"enabled"in s)){Fn(e,i);return}t[n]===!0&&(t[n]={enabled:!0}),typeof t[n]=="object"&&!("enabled"in t[n])&&(t[n].enabled=!0),t[n]||(t[n]={enabled:!1}),Fn(e,i)}}const nE={eventsEmitter:Lre,update:Wre,translate:Zre,transition:rie,slide:cie,loop:pie,grabCursor:vie,events:Rie,breakpoints:Mie,checkOverflow:Fie,classes:Lie},sE={};let p4=class jo{constructor(){let e,r;for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];n.length===1&&n[0].constructor&&Object.prototype.toString.call(n[0]).slice(8,-1)==="Object"?r=n[0]:[e,r]=n,r||(r={}),r=Fn({},r),e&&!r.el&&(r.el=e);const a=Yh();if(r.el&&typeof r.el=="string"&&a.querySelectorAll(r.el).length>1){const c=[];return a.querySelectorAll(r.el).forEach(d=>{const h=Fn({},r,{el:d});c.push(new jo(h))}),c}const o=this;o.__swiper__=!0,o.support=$7(),o.device=Pre({userAgent:r.userAgent}),o.browser=kre(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],r.modules&&Array.isArray(r.modules)&&o.modules.push(...r.modules);const l={};o.modules.forEach(c=>{c({params:r,swiper:o,extendParams:Bie(r,l),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const u=Fn({},RC,l);return o.params=Fn({},u,sE,r),o.originalParams=Fn({},o.params),o.passedParams=Fn({},r),o.params&&o.params.on&&Object.keys(o.params.on).forEach(c=>{o.on(c,o.params.on[c])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getSlideIndex(e){const{slidesEl:r,params:i}=this,n=ao(r,`.${i.slideClass}, swiper-slide`),s=Hb(n[0]);return Hb(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(r=>r.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:r,params:i}=e;e.slides=ao(r,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,r){const i=this;e=Math.min(Math.max(e,0),1);const n=i.minTranslate(),a=(i.maxTranslate()-n)*e+n;i.translateTo(a,typeof r>"u"?0:r),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const r=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",r.join(" "))}getSlideClasses(e){const r=this;return r.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(r.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const r=[];e.slides.forEach(i=>{const n=e.getSlideClasses(i);r.push({slideEl:i,classNames:n}),e.emit("_slideClass",i,n)}),e.emit("_slideClasses",r)}slidesPerViewDynamic(e,r){e===void 0&&(e="current"),r===void 0&&(r=!1);const i=this,{params:n,slides:s,slidesGrid:a,slidesSizesGrid:o,size:l,activeIndex:u}=i;let c=1;if(n.centeredSlides){let d=s[u]?s[u].swiperSlideSize:0,h;for(let p=u+1;p<s.length;p+=1)s[p]&&!h&&(d+=s[p].swiperSlideSize,c+=1,d>l&&(h=!0));for(let p=u-1;p>=0;p-=1)s[p]&&!h&&(d+=s[p].swiperSlideSize,c+=1,d>l&&(h=!0))}else if(e==="current")for(let d=u+1;d<s.length;d+=1)(r?a[d]+o[d]-a[u]<l:a[d]-a[u]<l)&&(c+=1);else for(let d=u-1;d>=0;d-=1)a[u]-a[d]<l&&(c+=1);return c}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:r,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Rx(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function n(){const a=e.rtlTranslate?e.translate*-1:e.translate,o=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(o),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)n(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const a=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(a.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||n()}i.watchOverflow&&r!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,r){r===void 0&&(r=!0);const i=this,n=i.params.direction;return e||(e=n==="horizontal"?"vertical":"horizontal"),e===n||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${n}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),i.emit("changeDirection"),r&&i.update()),i}changeLanguageDirection(e){const r=this;r.rtl&&e==="rtl"||!r.rtl&&e==="ltr"||(r.rtl=e==="rtl",r.rtlTranslate=r.params.direction==="horizontal"&&r.rtl,r.rtl?(r.el.classList.add(`${r.params.containerModifierClass}rtl`),r.el.dir="rtl"):(r.el.classList.remove(`${r.params.containerModifierClass}rtl`),r.el.dir="ltr"),r.update())}mount(e){const r=this;if(r.mounted)return!0;let i=e||r.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=r,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName==="SWIPER-CONTAINER"&&(r.isElement=!0);const n=()=>`.${(r.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(n()):ao(i,n())[0];return!a&&r.params.createElements&&(a=j7("div",r.params.wrapperClass),i.append(a),ao(i,`.${r.params.slideClass}`).forEach(o=>{a.append(o)})),Object.assign(r,{el:i,wrapperEl:a,slidesEl:r.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:a,hostEl:r.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||_u(i,"direction")==="rtl",rtlTranslate:r.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||_u(i,"direction")==="rtl"),wrongRTL:_u(a,"display")==="-webkit-box"}),!0}init(e){const r=this;return r.initialized||r.mount(e)===!1||(r.emit("beforeInit"),r.params.breakpoints&&r.setBreakpoint(),r.addClasses(),r.updateSize(),r.updateSlides(),r.params.watchOverflow&&r.checkOverflow(),r.params.grabCursor&&r.enabled&&r.setGrabCursor(),r.params.loop&&r.virtual&&r.params.virtual.enabled?r.slideTo(r.params.initialSlide+r.virtual.slidesBefore,0,r.params.runCallbacksOnInit,!1,!0):r.slideTo(r.params.initialSlide,0,r.params.runCallbacksOnInit,!1,!0),r.params.loop&&r.loopCreate(),r.attachEvents(),[...r.el.querySelectorAll('[loading="lazy"]')].forEach(n=>{n.complete?Rx(r,n):n.addEventListener("load",s=>{Rx(r,s.target)})}),CC(r),r.initialized=!0,CC(r),r.emit("init"),r.emit("afterInit")),r}destroy(e,r){e===void 0&&(e=!0),r===void 0&&(r=!0);const i=this,{params:n,el:s,wrapperEl:a,slides:o}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),n.loop&&i.loopDestroy(),r&&(i.removeClasses(),s.removeAttribute("style"),a.removeAttribute("style"),o&&o.length&&o.forEach(l=>{l.classList.remove(n.slideVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),e!==!1&&(i.el.swiper=null,bre(i)),i.destroyed=!0),null}static extendDefaults(e){Fn(sE,e)}static get extendedDefaults(){return sE}static get defaults(){return RC}static installModule(e){jo.prototype.__modules__||(jo.prototype.__modules__=[]);const r=jo.prototype.__modules__;typeof e=="function"&&r.indexOf(e)<0&&r.push(e)}static use(e){return Array.isArray(e)?(e.forEach(r=>jo.installModule(r)),jo):(jo.installModule(e),jo)}};Object.keys(nE).forEach(t=>{Object.keys(nE[t]).forEach(e=>{p4.prototype[e]=nE[t][e]})});p4.use([Nre,Ore]);const G7=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Dh(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function yh(t,e){const r=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>r.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:Dh(e[i])&&Dh(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:yh(t[i],e[i]):t[i]=e[i]})}function V7(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function W7(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function X7(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function Y7(t){t===void 0&&(t="");const e=t.split(" ").map(i=>i.trim()).filter(i=>!!i),r=[];return e.forEach(i=>{r.indexOf(i)<0&&r.push(i)}),r.join(" ")}function jie(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function Uie(t){let{swiper:e,slides:r,passedParams:i,changedParams:n,nextEl:s,prevEl:a,scrollbarEl:o,paginationEl:l}=t;const u=n.filter(k=>k!=="children"&&k!=="direction"&&k!=="wrapperClass"),{params:c,pagination:d,navigation:h,scrollbar:p,virtual:g,thumbs:y}=e;let b,x,w,_,E,A,I,P;n.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&c.thumbs&&!c.thumbs.swiper&&(b=!0),n.includes("controller")&&i.controller&&i.controller.control&&c.controller&&!c.controller.control&&(x=!0),n.includes("pagination")&&i.pagination&&(i.pagination.el||l)&&(c.pagination||c.pagination===!1)&&d&&!d.el&&(w=!0),n.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||o)&&(c.scrollbar||c.scrollbar===!1)&&p&&!p.el&&(_=!0),n.includes("navigation")&&i.navigation&&(i.navigation.prevEl||a)&&(i.navigation.nextEl||s)&&(c.navigation||c.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(E=!0);const M=k=>{e[k]&&(e[k].destroy(),k==="navigation"?(e.isElement&&(e[k].prevEl.remove(),e[k].nextEl.remove()),c[k].prevEl=void 0,c[k].nextEl=void 0,e[k].prevEl=void 0,e[k].nextEl=void 0):(e.isElement&&e[k].el.remove(),c[k].el=void 0,e[k].el=void 0))};n.includes("loop")&&e.isElement&&(c.loop&&!i.loop?A=!0:!c.loop&&i.loop?I=!0:P=!0),u.forEach(k=>{if(Dh(c[k])&&Dh(i[k]))yh(c[k],i[k]),(k==="navigation"||k==="pagination"||k==="scrollbar")&&"enabled"in i[k]&&!i[k].enabled&&M(k);else{const U=i[k];(U===!0||U===!1)&&(k==="navigation"||k==="pagination"||k==="scrollbar")?U===!1&&M(k):c[k]=i[k]}}),u.includes("controller")&&!x&&e.controller&&e.controller.control&&c.controller&&c.controller.control&&(e.controller.control=c.controller.control),n.includes("children")&&r&&g&&c.virtual.enabled&&(g.slides=r,g.update(!0)),n.includes("children")&&r&&c.loop&&(P=!0),b&&y.init()&&y.update(!0),x&&(e.controller.control=c.controller.control),w&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),e.el.appendChild(l)),l&&(c.pagination.el=l),d.init(),d.render(),d.update()),_&&(e.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),e.el.appendChild(o)),o&&(c.scrollbar.el=o),p.init(),p.updateSize(),p.setTranslate()),E&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.nextButtonSvg,e.el.appendChild(s)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),s.innerHTML=e.hostEl.prevButtonSvg,e.el.appendChild(a))),s&&(c.navigation.nextEl=s),a&&(c.navigation.prevEl=a),h.init(),h.update()),n.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),n.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),n.includes("direction")&&e.changeDirection(i.direction,!1),(A||P)&&e.loopDestroy(),(I||P)&&e.loopCreate(),e.update()}function $ie(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const r={on:{}},i={},n={};yh(r,RC),r._emitClasses=!0,r.init=!1;const s={},a=G7.map(l=>l.replace(/_/,"")),o=Object.assign({},t);return Object.keys(o).forEach(l=>{typeof t[l]>"u"||(a.indexOf(l)>=0?Dh(t[l])?(r[l]={},n[l]={},yh(r[l],t[l]),yh(n[l],t[l])):(r[l]=t[l],n[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?i[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:r.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:s[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{r[l]===!0&&(r[l]={}),r[l]===!1&&delete r[l]}),{params:r,passedParams:n,rest:s,events:i}}function zie(t,e){let{el:r,nextEl:i,prevEl:n,paginationEl:s,scrollbarEl:a,swiper:o}=t;V7(e)&&i&&n&&(o.params.navigation.nextEl=i,o.originalParams.navigation.nextEl=i,o.params.navigation.prevEl=n,o.originalParams.navigation.prevEl=n),W7(e)&&s&&(o.params.pagination.el=s,o.originalParams.pagination.el=s),X7(e)&&a&&(o.params.scrollbar.el=a,o.originalParams.scrollbar.el=a),o.init(r)}function Hie(t,e,r,i,n){const s=[];if(!e)return s;const a=l=>{s.indexOf(l)<0&&s.push(l)};if(r&&i){const l=i.map(n),u=r.map(n);l.join("")!==u.join("")&&a("children"),i.length!==r.length&&a("children")}return G7.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(Dh(t[l])&&Dh(e[l])){const u=Object.keys(t[l]),c=Object.keys(e[l]);u.length!==c.length?a(l):(u.forEach(d=>{t[l][d]!==e[l][d]&&a(l)}),c.forEach(d=>{t[l][d]!==e[l][d]&&a(l)}))}else t[l]!==e[l]&&a(l)}),s}const Gie=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Gb(){return Gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Gb.apply(this,arguments)}function q7(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function K7(t){const e=[];return tt.Children.toArray(t).forEach(r=>{q7(r)?e.push(r):r.props&&r.props.children&&K7(r.props.children).forEach(i=>e.push(i))}),e}function Vie(t){const e=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return tt.Children.toArray(t).forEach(i=>{if(q7(i))e.push(i);else if(i.props&&i.props.slot&&r[i.props.slot])r[i.props.slot].push(i);else if(i.props&&i.props.children){const n=K7(i.props.children);n.length>0?n.forEach(s=>e.push(s)):r["container-end"].push(i)}else r["container-end"].push(i)}),{slides:e,slots:r}}function Wie(t,e,r){if(!r)return null;const i=c=>{let d=c;return c<0?d=e.length+c:d>=e.length&&(d=d-e.length),d},n=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${r.offset}px`}:{top:`${r.offset}px`},{from:s,to:a}=r,o=t.params.loop?-e.length:0,l=t.params.loop?e.length*2:e.length,u=[];for(let c=o;c<l;c+=1)c>=s&&c<=a&&u.push(e[i(c)]);return u.map((c,d)=>tt.cloneElement(c,{swiper:t,style:n,key:`slide-${d}`}))}function Rg(t,e){return typeof window>"u"?R.useEffect(t,e):R.useLayoutEffect(t,e)}const CO=R.createContext(null),Xie=R.createContext(null),Q7=R.forwardRef(function(t,e){let{className:r,tag:i="div",wrapperTag:n="div",children:s,onSwiper:a,...o}=t===void 0?{}:t,l=!1;const[u,c]=R.useState("swiper"),[d,h]=R.useState(null),[p,g]=R.useState(!1),y=R.useRef(!1),b=R.useRef(null),x=R.useRef(null),w=R.useRef(null),_=R.useRef(null),E=R.useRef(null),A=R.useRef(null),I=R.useRef(null),P=R.useRef(null),{params:M,passedParams:k,rest:U,events:j}=$ie(o),{slides:B,slots:L}=Vie(s),F=()=>{g(!p)};Object.assign(M.on,{_containerClasses(G,H){c(H)}});const O=()=>{Object.assign(M.on,j),l=!0;const G={...M};if(delete G.wrapperClass,x.current=new p4(G),x.current.virtual&&x.current.params.virtual.enabled){x.current.virtual.slides=B;const H={cache:!1,slides:B,renderExternal:h,renderExternalUpdate:!1};yh(x.current.params.virtual,H),yh(x.current.originalParams.virtual,H)}};b.current||O(),x.current&&x.current.on("_beforeBreakpoint",F);const $=()=>{l||!j||!x.current||Object.keys(j).forEach(G=>{x.current.on(G,j[G])})},z=()=>{!j||!x.current||Object.keys(j).forEach(G=>{x.current.off(G,j[G])})};R.useEffect(()=>()=>{x.current&&x.current.off("_beforeBreakpoint",F)}),R.useEffect(()=>{!y.current&&x.current&&(x.current.emitSlidesClasses(),y.current=!0)}),Rg(()=>{if(e&&(e.current=b.current),!!b.current)return x.current.destroyed&&O(),zie({el:b.current,nextEl:E.current,prevEl:A.current,paginationEl:I.current,scrollbarEl:P.current,swiper:x.current},M),a&&a(x.current),()=>{x.current&&!x.current.destroyed&&x.current.destroy(!0,!1)}},[]),Rg(()=>{$();const G=Hie(k,w.current,B,_.current,H=>H.key);return w.current=k,_.current=B,G.length&&x.current&&!x.current.destroyed&&Uie({swiper:x.current,slides:B,passedParams:k,changedParams:G,nextEl:E.current,prevEl:A.current,scrollbarEl:P.current,paginationEl:I.current}),()=>{z()}}),Rg(()=>{Gie(x.current)},[d]);function D(){return M.virtual?Wie(x.current,B,d):B.map((G,H)=>tt.cloneElement(G,{swiper:x.current,swiperSlideIndex:H}))}return tt.createElement(i,Gb({ref:b,className:Y7(`${u}${r?` ${r}`:""}`)},U),tt.createElement(Xie.Provider,{value:x.current},L["container-start"],tt.createElement(n,{className:jie(M.wrapperClass)},L["wrapper-start"],D(),L["wrapper-end"]),V7(M)&&tt.createElement(tt.Fragment,null,tt.createElement("div",{ref:A,className:"swiper-button-prev"}),tt.createElement("div",{ref:E,className:"swiper-button-next"})),X7(M)&&tt.createElement("div",{ref:P,className:"swiper-scrollbar"}),W7(M)&&tt.createElement("div",{ref:I,className:"swiper-pagination"}),L["container-end"]))});Q7.displayName="Swiper";const Z7=R.forwardRef(function(t,e){let{tag:r="div",children:i,className:n="",swiper:s,zoom:a,lazy:o,virtualIndex:l,swiperSlideIndex:u,...c}=t===void 0?{}:t;const d=R.useRef(null),[h,p]=R.useState("swiper-slide"),[g,y]=R.useState(!1);function b(E,A,I){A===d.current&&p(I)}Rg(()=>{if(typeof u<"u"&&(d.current.swiperSlideIndex=u),e&&(e.current=d.current),!(!d.current||!s)){if(s.destroyed){h!=="swiper-slide"&&p("swiper-slide");return}return s.on("_slideClass",b),()=>{s&&s.off("_slideClass",b)}}}),Rg(()=>{s&&d.current&&!s.destroyed&&p(s.getSlideClasses(d.current))},[s]);const x={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},w=()=>typeof i=="function"?i(x):i,_=()=>{y(!0)};return tt.createElement(r,Gb({ref:d,className:Y7(`${h}${n?` ${n}`:""}`),"data-swiper-slide-index":l,onLoad:_},c),a&&tt.createElement(CO.Provider,{value:x},tt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},w(),o&&!g&&tt.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&tt.createElement(CO.Provider,{value:x},w(),o&&!g&&tt.createElement("div",{className:"swiper-lazy-preloader"})))});Z7.displayName="SwiperSlide";var m4={},g4={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(i){i.Root="root",i.Text="text",i.Directive="directive",i.Comment="comment",i.Script="script",i.Style="style",i.Tag="tag",i.CDATA="cdata",i.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function r(i){return i.type===e.Tag||i.type===e.Script||i.type===e.Style}t.isTag=r,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype})(g4);var Ct={},ac=Zt&&Zt.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function i(){this.constructor=e}e.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}}(),Ig=Zt&&Zt.__assign||function(){return Ig=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},Ig.apply(this,arguments)};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.cloneNode=Ct.hasChildren=Ct.isDocument=Ct.isDirective=Ct.isComment=Ct.isText=Ct.isCDATA=Ct.isTag=Ct.Element=Ct.Document=Ct.CDATA=Ct.NodeWithChildren=Ct.ProcessingInstruction=Ct.Comment=Ct.Text=Ct.DataNode=Ct.Node=void 0;var _n=g4,v4=function(){function t(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),t.prototype.cloneNode=function(e){return e===void 0&&(e=!1),y4(this,e)},t}();Ct.Node=v4;var gw=function(t){ac(e,t);function e(r){var i=t.call(this)||this;return i.data=r,i}return Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(r){this.data=r},enumerable:!1,configurable:!0}),e}(v4);Ct.DataNode=gw;var J7=function(t){ac(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=_n.ElementType.Text,r}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),e}(gw);Ct.Text=J7;var eU=function(t){ac(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=_n.ElementType.Comment,r}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),e}(gw);Ct.Comment=eU;var tU=function(t){ac(e,t);function e(r,i){var n=t.call(this,i)||this;return n.name=r,n.type=_n.ElementType.Directive,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),e}(gw);Ct.ProcessingInstruction=tU;var vw=function(t){ac(e,t);function e(r){var i=t.call(this)||this;return i.children=r,i}return Object.defineProperty(e.prototype,"firstChild",{get:function(){var r;return(r=this.children[0])!==null&&r!==void 0?r:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(r){this.children=r},enumerable:!1,configurable:!0}),e}(v4);Ct.NodeWithChildren=vw;var rU=function(t){ac(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=_n.ElementType.CDATA,r}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),e}(vw);Ct.CDATA=rU;var iU=function(t){ac(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=_n.ElementType.Root,r}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),e}(vw);Ct.Document=iU;var nU=function(t){ac(e,t);function e(r,i,n,s){n===void 0&&(n=[]),s===void 0&&(s=r==="script"?_n.ElementType.Script:r==="style"?_n.ElementType.Style:_n.ElementType.Tag);var a=t.call(this,n)||this;return a.name=r,a.attribs=i,a.type=s,a}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(r){this.name=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var r=this;return Object.keys(this.attribs).map(function(i){var n,s;return{name:i,value:r.attribs[i],namespace:(n=r["x-attribsNamespace"])===null||n===void 0?void 0:n[i],prefix:(s=r["x-attribsPrefix"])===null||s===void 0?void 0:s[i]}})},enumerable:!1,configurable:!0}),e}(vw);Ct.Element=nU;function sU(t){return(0,_n.isTag)(t)}Ct.isTag=sU;function aU(t){return t.type===_n.ElementType.CDATA}Ct.isCDATA=aU;function oU(t){return t.type===_n.ElementType.Text}Ct.isText=oU;function lU(t){return t.type===_n.ElementType.Comment}Ct.isComment=lU;function uU(t){return t.type===_n.ElementType.Directive}Ct.isDirective=uU;function cU(t){return t.type===_n.ElementType.Root}Ct.isDocument=cU;function Yie(t){return Object.prototype.hasOwnProperty.call(t,"children")}Ct.hasChildren=Yie;function y4(t,e){e===void 0&&(e=!1);var r;if(oU(t))r=new J7(t.data);else if(lU(t))r=new eU(t.data);else if(sU(t)){var i=e?aE(t.children):[],n=new nU(t.name,Ig({},t.attribs),i);i.forEach(function(l){return l.parent=n}),t.namespace!=null&&(n.namespace=t.namespace),t["x-attribsNamespace"]&&(n["x-attribsNamespace"]=Ig({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(n["x-attribsPrefix"]=Ig({},t["x-attribsPrefix"])),r=n}else if(aU(t)){var i=e?aE(t.children):[],s=new rU(i);i.forEach(function(u){return u.parent=s}),r=s}else if(cU(t)){var i=e?aE(t.children):[],a=new iU(i);i.forEach(function(u){return u.parent=a}),t["x-mode"]&&(a["x-mode"]=t["x-mode"]),r=a}else if(uU(t)){var o=new tU(t.name,t.data);t["x-name"]!=null&&(o["x-name"]=t["x-name"],o["x-publicId"]=t["x-publicId"],o["x-systemId"]=t["x-systemId"]),r=o}else throw new Error("Not implemented yet: ".concat(t.type));return r.startIndex=t.startIndex,r.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(r.sourceCodeLocation=t.sourceCodeLocation),r}Ct.cloneNode=y4;function aE(t){for(var e=t.map(function(i){return y4(i,!0)}),r=1;r<e.length;r++)e[r].prev=e[r-1],e[r-1].next=e[r];return e}(function(t){var e=Zt&&Zt.__createBinding||(Object.create?function(o,l,u,c){c===void 0&&(c=u);var d=Object.getOwnPropertyDescriptor(l,u);(!d||("get"in d?!l.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(o,c,d)}:function(o,l,u,c){c===void 0&&(c=u),o[c]=l[u]}),r=Zt&&Zt.__exportStar||function(o,l){for(var u in o)u!=="default"&&!Object.prototype.hasOwnProperty.call(l,u)&&e(l,o,u)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var i=g4,n=Ct;r(Ct,t);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},a=function(){function o(l,u,c){this.dom=[],this.root=new n.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(c=u,u=s),typeof l=="object"&&(u=l,l=void 0),this.callback=l??null,this.options=u??s,this.elementCB=c??null}return o.prototype.onparserinit=function(l){this.parser=l},o.prototype.onreset=function(){this.dom=[],this.root=new n.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},o.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},o.prototype.onerror=function(l){this.handleCallback(l)},o.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},o.prototype.onopentag=function(l,u){var c=this.options.xmlMode?i.ElementType.Tag:void 0,d=new n.Element(l,u,void 0,c);this.addNode(d),this.tagStack.push(d)},o.prototype.ontext=function(l){var u=this.lastNode;if(u&&u.type===i.ElementType.Text)u.data+=l,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var c=new n.Text(l);this.addNode(c),this.lastNode=c}},o.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===i.ElementType.Comment){this.lastNode.data+=l;return}var u=new n.Comment(l);this.addNode(u),this.lastNode=u},o.prototype.oncommentend=function(){this.lastNode=null},o.prototype.oncdatastart=function(){var l=new n.Text(""),u=new n.CDATA([l]);this.addNode(u),l.parent=u,this.lastNode=l},o.prototype.oncdataend=function(){this.lastNode=null},o.prototype.onprocessinginstruction=function(l,u){var c=new n.ProcessingInstruction(l,u);this.addNode(c)},o.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},o.prototype.addNode=function(l){var u=this.tagStack[this.tagStack.length-1],c=u.children[u.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),u.children.push(l),c&&(l.prev=c,c.next=l),l.parent=u,this.lastNode=null},o}();t.DomHandler=a,t.default=a})(m4);var RO="html",IO="head",ty="body",qie=/<([a-zA-Z]+[0-9]?)/,PO=/<head[^]*>/i,MO=/<body[^]*>/i,Vb=function(){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},IC=function(){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},kO=typeof window=="object"&&window.DOMParser;if(typeof kO=="function"){var Kie=new kO,Qie="text/html";IC=function(t,e){return e&&(t="<"+e+">"+t+"</"+e+">"),Kie.parseFromString(t,Qie)},Vb=IC}if(typeof document=="object"&&document.implementation){var ry=document.implementation.createHTMLDocument();Vb=function(t,e){if(e){var r=ry.documentElement.querySelector(e);return r.innerHTML=t,ry}return ry.documentElement.innerHTML=t,ry}}var oE=typeof document=="object"?document.createElement("template"):{},PC;oE.content&&(PC=function(t){return oE.innerHTML=t,oE.content.childNodes});function Zie(t){var e,r=t.match(qie);r&&r[1]&&(e=r[1].toLowerCase());var i,n,s;switch(e){case RO:return i=IC(t),PO.test(t)||(n=i.querySelector(IO),n&&n.parentNode.removeChild(n)),MO.test(t)||(n=i.querySelector(ty),n&&n.parentNode.removeChild(n)),i.querySelectorAll(RO);case IO:case ty:return i=Vb(t),s=i.querySelectorAll(e),MO.test(t)&&PO.test(t)?s[0].parentNode.childNodes:s;default:return PC?PC(t):(n=Vb(t,ty).querySelector(ty),n.childNodes)}}var Jie=Zie,x4={},hU={};hU.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"];var yw=m4,ene=hU,NO=ene.CASE_SENSITIVE_TAG_NAMES,tne=yw.Comment,rne=yw.Element,ine=yw.ProcessingInstruction,nne=yw.Text,dU={},lE;for(var uE=0,sne=NO.length;uE<sne;uE++)lE=NO[uE],dU[lE.toLowerCase()]=lE;function ane(t){return dU[t]}function fU(t){for(var e={},r,i=0,n=t.length;i<n;i++)r=t[i],e[r.name]=r.value;return e}function one(t){t=t.toLowerCase();var e=ane(t);return e||t}function pU(t,e,r){e=e||null;for(var i=[],n,s=0,a=t.length;s<a;s++){var o=t[s],l;switch(o.nodeType){case 1:n=one(o.nodeName),l=new rne(n,fU(o.attributes)),l.children=pU(n==="template"?o.content.childNodes:o.childNodes,l);break;case 3:l=new nne(o.nodeValue);break;case 8:l=new tne(o.nodeValue);break;default:continue}var u=i[s-1]||null;u&&(u.next=l),l.parent=e,l.prev=u,l.next=null,i.push(l)}return r&&(l=new ine(r.substring(0,r.indexOf(" ")).toLowerCase(),r),l.next=i[0]||null,l.parent=e,i.unshift(l),i[1]&&(i[1].prev=i[0])),i}x4.formatAttributes=fU;x4.formatDOM=pU;var lne=Jie,une=x4,cne=une.formatDOM,hne=/<(![a-zA-Z\s]+)>/;function dne(t){if(typeof t!="string")throw new TypeError("First argument must be a string");if(t==="")return[];var e=t.match(hne),r;return e&&e[1]&&(r=e[1]),cne(lne(t),null,r)}var fne=dne,Fs={},xw={},pne=0;xw.SAME=pne;var mne=1;xw.CAMELCASE=mne;xw.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};Object.defineProperty(Fs,"__esModule",{value:!0});function gne(t,e){return vne(t)||yne(t,e)||xne(t,e)||bne()}function vne(t){if(Array.isArray(t))return t}function yne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var i=[],n=!0,s=!1,a,o;try{for(r=r.call(t);!(n=(a=r.next()).done)&&(i.push(a.value),!(e&&i.length===e));n=!0);}catch(l){s=!0,o=l}finally{try{!n&&r.return!=null&&r.return()}finally{if(s)throw o}}return i}}function xne(t,e){if(t){if(typeof t=="string")return OO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OO(t,e)}}function OO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function bne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var mU=0,oc=1,bw=2,_w=3,b4=4,gU=5,vU=6;function _ne(t){return Ci.hasOwnProperty(t)?Ci[t]:null}function tn(t,e,r,i,n,s,a){this.acceptsBooleans=e===bw||e===_w||e===b4,this.attributeName=i,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Ci={},wne=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];wne.forEach(function(t){Ci[t]=new tn(t,mU,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=gne(t,2),r=e[0],i=e[1];Ci[r]=new tn(r,oc,!1,i,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ci[t]=new tn(t,bw,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ci[t]=new tn(t,bw,!1,t,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(t){Ci[t]=new tn(t,_w,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ci[t]=new tn(t,_w,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ci[t]=new tn(t,b4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ci[t]=new tn(t,vU,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ci[t]=new tn(t,gU,!1,t.toLowerCase(),null,!1,!1)});var _4=/[\-\:]([a-z])/g,w4=function(e){return e[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(t){var e=t.replace(_4,w4);Ci[e]=new tn(e,oc,!1,t,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(t){var e=t.replace(_4,w4);Ci[e]=new tn(e,oc,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_4,w4);Ci[e]=new tn(e,oc,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ci[t]=new tn(t,oc,!1,t.toLowerCase(),null,!1,!1)});var Sne="xlinkHref";Ci[Sne]=new tn("xlinkHref",oc,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ci[t]=new tn(t,oc,!1,t.toLowerCase(),null,!0,!0)});var S4=xw,Ene=S4.CAMELCASE,Tne=S4.SAME,LO=S4.possibleStandardNames,Ane=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Cne=Ane+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Rne=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+Cne+"]*$")),Ine=Object.keys(LO).reduce(function(t,e){var r=LO[e];return r===Tne?t[e]=e:r===Ene?t[e.toLowerCase()]=e:t[e]=r,t},{});Fs.BOOLEAN=_w;Fs.BOOLEANISH_STRING=bw;Fs.NUMERIC=gU;Fs.OVERLOADED_BOOLEAN=b4;Fs.POSITIVE_NUMERIC=vU;Fs.RESERVED=mU;Fs.STRING=oc;Fs.getPropertyInfo=_ne;Fs.isCustomAttribute=Rne;Fs.possibleStandardNames=Ine;var yU={},E4={exports:{}},DO=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Pne=/\n/g,Mne=/^\s*/,kne=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Nne=/^:\s*/,One=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Lne=/^[;\s]*/,Dne=/^\s+|\s+$/g,Fne=`
`,FO="/",BO="*",Wc="",Bne="comment",jne="declaration",Une=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var r=1,i=1;function n(g){var y=g.match(Pne);y&&(r+=y.length);var b=g.lastIndexOf(Fne);i=~b?g.length-b:i+g.length}function s(){var g={line:r,column:i};return function(y){return y.position=new a(g),u(),y}}function a(g){this.start=g,this.end={line:r,column:i},this.source=e.source}a.prototype.content=t;function o(g){var y=new Error(e.source+":"+r+":"+i+": "+g);if(y.reason=g,y.filename=e.source,y.line=r,y.column=i,y.source=t,!e.silent)throw y}function l(g){var y=g.exec(t);if(y){var b=y[0];return n(b),t=t.slice(b.length),y}}function u(){l(Mne)}function c(g){var y;for(g=g||[];y=d();)y!==!1&&g.push(y);return g}function d(){var g=s();if(!(FO!=t.charAt(0)||BO!=t.charAt(1))){for(var y=2;Wc!=t.charAt(y)&&(BO!=t.charAt(y)||FO!=t.charAt(y+1));)++y;if(y+=2,Wc===t.charAt(y-1))return o("End of comment missing");var b=t.slice(2,y-2);return i+=2,n(b),t=t.slice(y),i+=2,g({type:Bne,comment:b})}}function h(){var g=s(),y=l(kne);if(y){if(d(),!l(Nne))return o("property missing ':'");var b=l(One),x=g({type:jne,property:jO(y[0].replace(DO,Wc)),value:b?jO(b[0].replace(DO,Wc)):Wc});return l(Lne),x}}function p(){var g=[];c(g);for(var y;y=h();)y!==!1&&(g.push(y),c(g));return g}return u(),p()};function jO(t){return t?t.replace(Dne,Wc):Wc}var $ne=Une;function xU(t,e){var r=null;if(!t||typeof t!="string")return r;for(var i,n=$ne(t),s=typeof e=="function",a,o,l=0,u=n.length;l<u;l++)i=n[l],a=i.property,o=i.value,s?e(a,o,i):o&&(r||(r={}),r[a]=o);return r}E4.exports=xU;E4.exports.default=xU;var zne=E4.exports,ww={};ww.__esModule=!0;ww.camelCase=void 0;var Hne=/^--[a-zA-Z0-9-]+$/,Gne=/-([a-z])/g,Vne=/^[^-]+$/,Wne=/^-(webkit|moz|ms|o|khtml)-/,Xne=/^-(ms)-/,Yne=function(t){return!t||Vne.test(t)||Hne.test(t)},qne=function(t,e){return e.toUpperCase()},UO=function(t,e){return"".concat(e,"-")},Kne=function(t,e){return e===void 0&&(e={}),Yne(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(Xne,UO):t=t.replace(Wne,UO),t.replace(Gne,qne))};ww.camelCase=Kne;(function(t){var e=Zt&&Zt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};t.__esModule=!0;var r=e(zne),i=ww;function n(s,a){var o={};return!s||typeof s!="string"||(0,r.default)(s,function(l,u){l&&u&&(o[(0,i.camelCase)(l,a)]=u)}),o}t.default=n})(yU);var Qne=R,Zne=yU.default;function Jne(t,e){if(!t||typeof t!="object")throw new TypeError("First argument must be an object");var r=typeof e=="function",i={},n={};for(var s in t){var a=t[s];if(r&&(i=e(s,a),i&&i.length===2)){n[i[0]]=i[1];continue}typeof a=="string"&&(n[a]=s)}return n}var ese=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function tse(t,e){return t.indexOf("-")===-1?e&&typeof e.is=="string":!ese.has(t)}var rse={reactCompat:!0};function ise(t,e){if(t!=null)try{e.style=Zne(t,rse)}catch{e.style={}}}var nse=Qne.version.split(".")[0]>=16,bU=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);function sse(t){return!bU.has(t.name)}function ase(t){return t}var _U={PRESERVE_CUSTOM_ATTRIBUTES:nse,ELEMENTS_WITH_NO_TEXT_CHILDREN:bU,invertObject:Jne,isCustomComponent:tse,setStyleProp:ise,canTextBeChildOfNode:sse,returnFirstArg:ase},Xm=Fs,$O=_U,ose=["checked","value"],lse=["input","select","textarea"],use={reset:!0,submit:!0},wU=function(e,r){e=e||{};var i,n,s,a,o,l={},u=e.type&&use[e.type];for(i in e){if(s=e[i],Xm.isCustomAttribute(i)){l[i]=s;continue}if(n=i.toLowerCase(),a=zO(n),a){switch(o=Xm.getPropertyInfo(a),ose.indexOf(a)!==-1&&lse.indexOf(r)!==-1&&!u&&(a=zO("default"+n)),l[a]=s,o&&o.type){case Xm.BOOLEAN:l[a]=!0;break;case Xm.OVERLOADED_BOOLEAN:s===""&&(l[a]=!0);break}continue}$O.PRESERVE_CUSTOM_ATTRIBUTES&&(l[i]=s)}return $O.setStyleProp(e.style,l),l};function zO(t){return Xm.possibleStandardNames[t]}var cse=R,hse=wU,b0=_U,dse=b0.setStyleProp,fse=b0.canTextBeChildOfNode;function SU(t,e){e=e||{};for(var r=e.library||cse,i=r.cloneElement,n=r.createElement,s=r.isValidElement,a=[],o,l,u=typeof e.replace=="function",c=e.transform||b0.returnFirstArg,d,h,p,g=e.trim,y=0,b=t.length;y<b;y++){if(o=t[y],u&&(d=e.replace(o),s(d))){b>1&&(d=i(d,{key:d.key||y})),a.push(c(d,o,y));continue}if(o.type==="text"){if(l=!o.data.trim().length,l&&o.parent&&!fse(o.parent)||g&&l)continue;a.push(c(o.data,o,y));continue}switch(h=o.attribs,pse(o)?dse(h.style,h):h&&(h=hse(h,o.name)),p=null,o.type){case"script":case"style":o.children[0]&&(h.dangerouslySetInnerHTML={__html:o.children[0].data});break;case"tag":o.name==="textarea"&&o.children[0]?h.defaultValue=o.children[0].data:o.children&&o.children.length&&(p=SU(o.children,e));break;default:continue}b>1&&(h.key=y),a.push(c(n(o.name,h,p),o,y))}return a.length===1?a[0]:a}function pse(t){return b0.PRESERVE_CUSTOM_ATTRIBUTES&&t.type==="tag"&&b0.isCustomComponent(t.name,t.attribs)}var mse=SU,Sw=m4,rf=fne,gse=wU,EU=mse;rf=typeof rf.default=="function"?rf.default:rf;var vse={lowerCaseAttributeNames:!1};function _o(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");return t===""?[]:(e=e||{},EU(rf(t,e.htmlparser2||vse),e))}_o.domToReact=EU;_o.htmlToDOM=rf;_o.attributesToProps=gse;_o.Comment=Sw.Comment;_o.Element=Sw.Element;_o.ProcessingInstruction=Sw.ProcessingInstruction;_o.Text=Sw.Text;var yse=_o;_o.default=_o;const lc=qn(yse);var iy=lc.domToReact;lc.htmlToDOM;var cE=lc.attributesToProps;lc.Comment;lc.Element;lc.ProcessingInstruction;lc.Text;/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const xse=4,HO=0,GO=1,bse=2;function Rp(t){let e=t.length;for(;--e>=0;)t[e]=0}const _se=0,TU=1,wse=2,Sse=3,Ese=258,T4=29,b1=256,_0=b1+1+T4,_f=30,A4=19,AU=2*_0+1,th=15,hE=16,Tse=7,C4=256,CU=16,RU=17,IU=18,MC=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ix=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Ase=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),PU=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Cse=512,Vo=new Array((_0+2)*2);Rp(Vo);const Pg=new Array(_f*2);Rp(Pg);const w0=new Array(Cse);Rp(w0);const S0=new Array(Ese-Sse+1);Rp(S0);const R4=new Array(T4);Rp(R4);const Wb=new Array(_f);Rp(Wb);function dE(t,e,r,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}let MU,kU,NU;function fE(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const OU=t=>t<256?w0[t]:w0[256+(t>>>7)],E0=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},pn=(t,e,r)=>{t.bi_valid>hE-r?(t.bi_buf|=e<<t.bi_valid&65535,E0(t,t.bi_buf),t.bi_buf=e>>hE-t.bi_valid,t.bi_valid+=r-hE):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},no=(t,e,r)=>{pn(t,r[e*2],r[e*2+1])},LU=(t,e)=>{let r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1},Rse=t=>{t.bi_valid===16?(E0(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},Ise=(t,e)=>{const r=e.dyn_tree,i=e.max_code,n=e.stat_desc.static_tree,s=e.stat_desc.has_stree,a=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,l=e.stat_desc.max_length;let u,c,d,h,p,g,y=0;for(h=0;h<=th;h++)t.bl_count[h]=0;for(r[t.heap[t.heap_max]*2+1]=0,u=t.heap_max+1;u<AU;u++)c=t.heap[u],h=r[r[c*2+1]*2+1]+1,h>l&&(h=l,y++),r[c*2+1]=h,!(c>i)&&(t.bl_count[h]++,p=0,c>=o&&(p=a[c-o]),g=r[c*2],t.opt_len+=g*(h+p),s&&(t.static_len+=g*(n[c*2+1]+p)));if(y!==0){do{for(h=l-1;t.bl_count[h]===0;)h--;t.bl_count[h]--,t.bl_count[h+1]+=2,t.bl_count[l]--,y-=2}while(y>0);for(h=l;h!==0;h--)for(c=t.bl_count[h];c!==0;)d=t.heap[--u],!(d>i)&&(r[d*2+1]!==h&&(t.opt_len+=(h-r[d*2+1])*r[d*2],r[d*2+1]=h),c--)}},DU=(t,e,r)=>{const i=new Array(th+1);let n=0,s,a;for(s=1;s<=th;s++)n=n+r[s-1]<<1,i[s]=n;for(a=0;a<=e;a++){let o=t[a*2+1];o!==0&&(t[a*2]=LU(i[o]++,o))}},Pse=()=>{let t,e,r,i,n;const s=new Array(th+1);for(r=0,i=0;i<T4-1;i++)for(R4[i]=r,t=0;t<1<<MC[i];t++)S0[r++]=i;for(S0[r-1]=i,n=0,i=0;i<16;i++)for(Wb[i]=n,t=0;t<1<<Ix[i];t++)w0[n++]=i;for(n>>=7;i<_f;i++)for(Wb[i]=n<<7,t=0;t<1<<Ix[i]-7;t++)w0[256+n++]=i;for(e=0;e<=th;e++)s[e]=0;for(t=0;t<=143;)Vo[t*2+1]=8,t++,s[8]++;for(;t<=255;)Vo[t*2+1]=9,t++,s[9]++;for(;t<=279;)Vo[t*2+1]=7,t++,s[7]++;for(;t<=287;)Vo[t*2+1]=8,t++,s[8]++;for(DU(Vo,_0+1,s),t=0;t<_f;t++)Pg[t*2+1]=5,Pg[t*2]=LU(t,5);MU=new dE(Vo,MC,b1+1,_0,th),kU=new dE(Pg,Ix,0,_f,th),NU=new dE(new Array(0),Ase,0,A4,Tse)},FU=t=>{let e;for(e=0;e<_0;e++)t.dyn_ltree[e*2]=0;for(e=0;e<_f;e++)t.dyn_dtree[e*2]=0;for(e=0;e<A4;e++)t.bl_tree[e*2]=0;t.dyn_ltree[C4*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},BU=t=>{t.bi_valid>8?E0(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},VO=(t,e,r,i)=>{const n=e*2,s=r*2;return t[n]<t[s]||t[n]===t[s]&&i[e]<=i[r]},pE=(t,e,r)=>{const i=t.heap[r];let n=r<<1;for(;n<=t.heap_len&&(n<t.heap_len&&VO(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!VO(e,i,t.heap[n],t.depth));)t.heap[r]=t.heap[n],r=n,n<<=1;t.heap[r]=i},WO=(t,e,r)=>{let i,n,s=0,a,o;if(t.sym_next!==0)do i=t.pending_buf[t.sym_buf+s++]&255,i+=(t.pending_buf[t.sym_buf+s++]&255)<<8,n=t.pending_buf[t.sym_buf+s++],i===0?no(t,n,e):(a=S0[n],no(t,a+b1+1,e),o=MC[a],o!==0&&(n-=R4[a],pn(t,n,o)),i--,a=OU(i),no(t,a,r),o=Ix[a],o!==0&&(i-=Wb[a],pn(t,i,o)));while(s<t.sym_next);no(t,C4,e)},kC=(t,e)=>{const r=e.dyn_tree,i=e.stat_desc.static_tree,n=e.stat_desc.has_stree,s=e.stat_desc.elems;let a,o,l=-1,u;for(t.heap_len=0,t.heap_max=AU,a=0;a<s;a++)r[a*2]!==0?(t.heap[++t.heap_len]=l=a,t.depth[a]=0):r[a*2+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=l<2?++l:0,r[u*2]=1,t.depth[u]=0,t.opt_len--,n&&(t.static_len-=i[u*2+1]);for(e.max_code=l,a=t.heap_len>>1;a>=1;a--)pE(t,r,a);u=s;do a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],pE(t,r,1),o=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=o,r[u*2]=r[a*2]+r[o*2],t.depth[u]=(t.depth[a]>=t.depth[o]?t.depth[a]:t.depth[o])+1,r[a*2+1]=r[o*2+1]=u,t.heap[1]=u++,pE(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],Ise(t,e),DU(r,l,t.bl_count)},XO=(t,e,r)=>{let i,n=-1,s,a=e[0*2+1],o=0,l=7,u=4;for(a===0&&(l=138,u=3),e[(r+1)*2+1]=65535,i=0;i<=r;i++)s=a,a=e[(i+1)*2+1],!(++o<l&&s===a)&&(o<u?t.bl_tree[s*2]+=o:s!==0?(s!==n&&t.bl_tree[s*2]++,t.bl_tree[CU*2]++):o<=10?t.bl_tree[RU*2]++:t.bl_tree[IU*2]++,o=0,n=s,a===0?(l=138,u=3):s===a?(l=6,u=3):(l=7,u=4))},YO=(t,e,r)=>{let i,n=-1,s,a=e[0*2+1],o=0,l=7,u=4;for(a===0&&(l=138,u=3),i=0;i<=r;i++)if(s=a,a=e[(i+1)*2+1],!(++o<l&&s===a)){if(o<u)do no(t,s,t.bl_tree);while(--o!==0);else s!==0?(s!==n&&(no(t,s,t.bl_tree),o--),no(t,CU,t.bl_tree),pn(t,o-3,2)):o<=10?(no(t,RU,t.bl_tree),pn(t,o-3,3)):(no(t,IU,t.bl_tree),pn(t,o-11,7));o=0,n=s,a===0?(l=138,u=3):s===a?(l=6,u=3):(l=7,u=4)}},Mse=t=>{let e;for(XO(t,t.dyn_ltree,t.l_desc.max_code),XO(t,t.dyn_dtree,t.d_desc.max_code),kC(t,t.bl_desc),e=A4-1;e>=3&&t.bl_tree[PU[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},kse=(t,e,r,i)=>{let n;for(pn(t,e-257,5),pn(t,r-1,5),pn(t,i-4,4),n=0;n<i;n++)pn(t,t.bl_tree[PU[n]*2+1],3);YO(t,t.dyn_ltree,e-1),YO(t,t.dyn_dtree,r-1)},Nse=t=>{let e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return HO;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return GO;for(r=32;r<b1;r++)if(t.dyn_ltree[r*2]!==0)return GO;return HO};let qO=!1;const Ose=t=>{qO||(Pse(),qO=!0),t.l_desc=new fE(t.dyn_ltree,MU),t.d_desc=new fE(t.dyn_dtree,kU),t.bl_desc=new fE(t.bl_tree,NU),t.bi_buf=0,t.bi_valid=0,FU(t)},jU=(t,e,r,i)=>{pn(t,(_se<<1)+(i?1:0),3),BU(t),E0(t,r),E0(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r},Lse=t=>{pn(t,TU<<1,3),no(t,C4,Vo),Rse(t)},Dse=(t,e,r,i)=>{let n,s,a=0;t.level>0?(t.strm.data_type===bse&&(t.strm.data_type=Nse(t)),kC(t,t.l_desc),kC(t,t.d_desc),a=Mse(t),n=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=n&&(n=s)):n=s=r+5,r+4<=n&&e!==-1?jU(t,e,r,i):t.strategy===xse||s===n?(pn(t,(TU<<1)+(i?1:0),3),WO(t,Vo,Pg)):(pn(t,(wse<<1)+(i?1:0),3),kse(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),WO(t,t.dyn_ltree,t.dyn_dtree)),FU(t),i&&BU(t)},Fse=(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(S0[r]+b1+1)*2]++,t.dyn_dtree[OU(e)*2]++),t.sym_next===t.sym_end);var Bse=Ose,jse=jU,Use=Dse,$se=Fse,zse=Lse,Hse={_tr_init:Bse,_tr_stored_block:jse,_tr_flush_block:Use,_tr_tally:$se,_tr_align:zse};const Gse=(t,e,r,i)=>{let n=t&65535|0,s=t>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do n=n+e[i++]|0,s=s+n|0;while(--a);n%=65521,s%=65521}return n|s<<16|0};var T0=Gse;const Vse=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},Wse=new Uint32Array(Vse()),Xse=(t,e,r,i)=>{const n=Wse,s=i+r;t^=-1;for(let a=i;a<s;a++)t=t>>>8^n[(t^e[a])&255];return t^-1};var hi=Xse,Fh={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},qh={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Yse,_tr_stored_block:NC,_tr_flush_block:qse,_tr_tally:ju,_tr_align:Kse}=Hse,{Z_NO_FLUSH:Uu,Z_PARTIAL_FLUSH:Qse,Z_FULL_FLUSH:Zse,Z_FINISH:_s,Z_BLOCK:KO,Z_OK:wi,Z_STREAM_END:QO,Z_STREAM_ERROR:fo,Z_DATA_ERROR:Jse,Z_BUF_ERROR:mE,Z_DEFAULT_COMPRESSION:eae,Z_FILTERED:tae,Z_HUFFMAN_ONLY:ny,Z_RLE:rae,Z_FIXED:iae,Z_DEFAULT_STRATEGY:nae,Z_UNKNOWN:sae,Z_DEFLATED:Ew}=qh,aae=9,oae=15,lae=8,uae=29,cae=256,OC=cae+1+uae,hae=30,dae=19,fae=2*OC+1,pae=15,Ot=3,wu=258,po=wu+Ot+1,mae=32,lp=42,I4=57,LC=69,DC=73,FC=91,BC=103,rh=113,Ym=666,Yi=1,Ip=2,Bh=3,Pp=4,gae=3,ih=(t,e)=>(t.msg=Fh[e],e),ZO=t=>t*2-(t>4?9:0),au=t=>{let e=t.length;for(;--e>=0;)t[e]=0},vae=t=>{let e,r,i,n=t.w_size;e=t.hash_size,i=e;do r=t.head[--i],t.head[i]=r>=n?r-n:0;while(--e);e=n,i=e;do r=t.prev[--i],t.prev[i]=r>=n?r-n:0;while(--e)};let yae=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask,$u=yae;const kn=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))},zn=(t,e)=>{qse(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,kn(t.strm)},Ht=(t,e)=>{t.pending_buf[t.pending++]=e},wm=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},jC=(t,e,r,i)=>{let n=t.avail_in;return n>i&&(n=i),n===0?0:(t.avail_in-=n,e.set(t.input.subarray(t.next_in,t.next_in+n),r),t.state.wrap===1?t.adler=T0(t.adler,e,n,r):t.state.wrap===2&&(t.adler=hi(t.adler,e,n,r)),t.next_in+=n,t.total_in+=n,n)},UU=(t,e)=>{let r=t.max_chain_length,i=t.strstart,n,s,a=t.prev_length,o=t.nice_match;const l=t.strstart>t.w_size-po?t.strstart-(t.w_size-po):0,u=t.window,c=t.w_mask,d=t.prev,h=t.strstart+wu;let p=u[i+a-1],g=u[i+a];t.prev_length>=t.good_match&&(r>>=2),o>t.lookahead&&(o=t.lookahead);do if(n=e,!(u[n+a]!==g||u[n+a-1]!==p||u[n]!==u[i]||u[++n]!==u[i+1])){i+=2,n++;do;while(u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&i<h);if(s=wu-(h-i),i=h-wu,s>a){if(t.match_start=e,a=s,s>=o)break;p=u[i+a-1],g=u[i+a]}}while((e=d[e&c])>l&&--r!==0);return a<=t.lookahead?a:t.lookahead},up=t=>{const e=t.w_size;let r,i,n;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-po)&&(t.window.set(t.window.subarray(e,e+e-i),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),vae(t),i+=e),t.strm.avail_in===0)break;if(r=jC(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=r,t.lookahead+t.insert>=Ot)for(n=t.strstart-t.insert,t.ins_h=t.window[n],t.ins_h=$u(t,t.ins_h,t.window[n+1]);t.insert&&(t.ins_h=$u(t,t.ins_h,t.window[n+Ot-1]),t.prev[n&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=n,n++,t.insert--,!(t.lookahead+t.insert<Ot)););}while(t.lookahead<po&&t.strm.avail_in!==0)},$U=(t,e)=>{let r=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,i,n,s,a=0,o=t.strm.avail_in;do{if(i=65535,s=t.bi_valid+42>>3,t.strm.avail_out<s||(s=t.strm.avail_out-s,n=t.strstart-t.block_start,i>n+t.strm.avail_in&&(i=n+t.strm.avail_in),i>s&&(i=s),i<r&&(i===0&&e!==_s||e===Uu||i!==n+t.strm.avail_in)))break;a=e===_s&&i===n+t.strm.avail_in?1:0,NC(t,0,0,a),t.pending_buf[t.pending-4]=i,t.pending_buf[t.pending-3]=i>>8,t.pending_buf[t.pending-2]=~i,t.pending_buf[t.pending-1]=~i>>8,kn(t.strm),n&&(n>i&&(n=i),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+n),t.strm.next_out),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n,t.block_start+=n,i-=n),i&&(jC(t.strm,t.strm.output,t.strm.next_out,i),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i)}while(a===0);return o-=t.strm.avail_in,o&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),a?Pp:e!==Uu&&e!==_s&&t.strm.avail_in===0&&t.strstart===t.block_start?Ip:(s=t.window_size-t.strstart,t.strm.avail_in>s&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,s+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),s>t.strm.avail_in&&(s=t.strm.avail_in),s&&(jC(t.strm,t.window,t.strstart,s),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.high_water<t.strstart&&(t.high_water=t.strstart),s=t.bi_valid+42>>3,s=t.pending_buf_size-s>65535?65535:t.pending_buf_size-s,r=s>t.w_size?t.w_size:s,n=t.strstart-t.block_start,(n>=r||(n||e===_s)&&e!==Uu&&t.strm.avail_in===0&&n<=s)&&(i=n>s?s:n,a=e===_s&&t.strm.avail_in===0&&i===n?1:0,NC(t,t.block_start,i,a),t.block_start+=i,kn(t.strm)),a?Bh:Yi)},gE=(t,e)=>{let r,i;for(;;){if(t.lookahead<po){if(up(t),t.lookahead<po&&e===Uu)return Yi;if(t.lookahead===0)break}if(r=0,t.lookahead>=Ot&&(t.ins_h=$u(t,t.ins_h,t.window[t.strstart+Ot-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-po&&(t.match_length=UU(t,r)),t.match_length>=Ot)if(i=ju(t,t.strstart-t.match_start,t.match_length-Ot),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Ot){t.match_length--;do t.strstart++,t.ins_h=$u(t,t.ins_h,t.window[t.strstart+Ot-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=$u(t,t.ins_h,t.window[t.strstart+1]);else i=ju(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(zn(t,!1),t.strm.avail_out===0))return Yi}return t.insert=t.strstart<Ot-1?t.strstart:Ot-1,e===_s?(zn(t,!0),t.strm.avail_out===0?Bh:Pp):t.sym_next&&(zn(t,!1),t.strm.avail_out===0)?Yi:Ip},_d=(t,e)=>{let r,i,n;for(;;){if(t.lookahead<po){if(up(t),t.lookahead<po&&e===Uu)return Yi;if(t.lookahead===0)break}if(r=0,t.lookahead>=Ot&&(t.ins_h=$u(t,t.ins_h,t.window[t.strstart+Ot-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Ot-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-po&&(t.match_length=UU(t,r),t.match_length<=5&&(t.strategy===tae||t.match_length===Ot&&t.strstart-t.match_start>4096)&&(t.match_length=Ot-1)),t.prev_length>=Ot&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-Ot,i=ju(t,t.strstart-1-t.prev_match,t.prev_length-Ot),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=n&&(t.ins_h=$u(t,t.ins_h,t.window[t.strstart+Ot-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=Ot-1,t.strstart++,i&&(zn(t,!1),t.strm.avail_out===0))return Yi}else if(t.match_available){if(i=ju(t,0,t.window[t.strstart-1]),i&&zn(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Yi}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=ju(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Ot-1?t.strstart:Ot-1,e===_s?(zn(t,!0),t.strm.avail_out===0?Bh:Pp):t.sym_next&&(zn(t,!1),t.strm.avail_out===0)?Yi:Ip},xae=(t,e)=>{let r,i,n,s;const a=t.window;for(;;){if(t.lookahead<=wu){if(up(t),t.lookahead<=wu&&e===Uu)return Yi;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=Ot&&t.strstart>0&&(n=t.strstart-1,i=a[n],i===a[++n]&&i===a[++n]&&i===a[++n])){s=t.strstart+wu;do;while(i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&n<s);t.match_length=wu-(s-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Ot?(r=ju(t,1,t.match_length-Ot),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=ju(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(zn(t,!1),t.strm.avail_out===0))return Yi}return t.insert=0,e===_s?(zn(t,!0),t.strm.avail_out===0?Bh:Pp):t.sym_next&&(zn(t,!1),t.strm.avail_out===0)?Yi:Ip},bae=(t,e)=>{let r;for(;;){if(t.lookahead===0&&(up(t),t.lookahead===0)){if(e===Uu)return Yi;break}if(t.match_length=0,r=ju(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(zn(t,!1),t.strm.avail_out===0))return Yi}return t.insert=0,e===_s?(zn(t,!0),t.strm.avail_out===0?Bh:Pp):t.sym_next&&(zn(t,!1),t.strm.avail_out===0)?Yi:Ip};function Ua(t,e,r,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=i,this.func=n}const qm=[new Ua(0,0,0,0,$U),new Ua(4,4,8,4,gE),new Ua(4,5,16,8,gE),new Ua(4,6,32,32,gE),new Ua(4,4,16,16,_d),new Ua(8,16,32,32,_d),new Ua(8,16,128,128,_d),new Ua(8,32,128,256,_d),new Ua(32,128,258,1024,_d),new Ua(32,258,258,4096,_d)],_ae=t=>{t.window_size=2*t.w_size,au(t.head),t.max_lazy_match=qm[t.level].max_lazy,t.good_match=qm[t.level].good_length,t.nice_match=qm[t.level].nice_length,t.max_chain_length=qm[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Ot-1,t.match_available=0,t.ins_h=0};function wae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ew,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(fae*2),this.dyn_dtree=new Uint16Array((2*hae+1)*2),this.bl_tree=new Uint16Array((2*dae+1)*2),au(this.dyn_ltree),au(this.dyn_dtree),au(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(pae+1),this.heap=new Uint16Array(2*OC+1),au(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*OC+1),au(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const _1=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==lp&&e.status!==I4&&e.status!==LC&&e.status!==DC&&e.status!==FC&&e.status!==BC&&e.status!==rh&&e.status!==Ym?1:0},zU=t=>{if(_1(t))return ih(t,fo);t.total_in=t.total_out=0,t.data_type=sae;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?I4:e.wrap?lp:rh,t.adler=e.wrap===2?0:1,e.last_flush=-2,Yse(e),wi},HU=t=>{const e=zU(t);return e===wi&&_ae(t.state),e},Sae=(t,e)=>_1(t)||t.state.wrap!==2?fo:(t.state.gzhead=e,wi),GU=(t,e,r,i,n,s)=>{if(!t)return fo;let a=1;if(e===eae&&(e=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),n<1||n>aae||r!==Ew||i<8||i>15||e<0||e>9||s<0||s>iae||i===8&&a!==1)return ih(t,fo);i===8&&(i=9);const o=new wae;return t.state=o,o.strm=t,o.status=lp,o.wrap=a,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=n+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+Ot-1)/Ot),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<n+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=e,o.strategy=s,o.method=r,HU(t)},Eae=(t,e)=>GU(t,e,Ew,oae,lae,nae),Tae=(t,e)=>{if(_1(t)||e>KO||e<0)return t?ih(t,fo):fo;const r=t.state;if(!t.output||t.avail_in!==0&&!t.input||r.status===Ym&&e!==_s)return ih(t,t.avail_out===0?mE:fo);const i=r.last_flush;if(r.last_flush=e,r.pending!==0){if(kn(t),t.avail_out===0)return r.last_flush=-1,wi}else if(t.avail_in===0&&ZO(e)<=ZO(i)&&e!==_s)return ih(t,mE);if(r.status===Ym&&t.avail_in!==0)return ih(t,mE);if(r.status===lp&&r.wrap===0&&(r.status=rh),r.status===lp){let n=Ew+(r.w_bits-8<<4)<<8,s=-1;if(r.strategy>=ny||r.level<2?s=0:r.level<6?s=1:r.level===6?s=2:s=3,n|=s<<6,r.strstart!==0&&(n|=mae),n+=31-n%31,wm(r,n),r.strstart!==0&&(wm(r,t.adler>>>16),wm(r,t.adler&65535)),t.adler=1,r.status=rh,kn(t),r.pending!==0)return r.last_flush=-1,wi}if(r.status===I4){if(t.adler=0,Ht(r,31),Ht(r,139),Ht(r,8),r.gzhead)Ht(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Ht(r,r.gzhead.time&255),Ht(r,r.gzhead.time>>8&255),Ht(r,r.gzhead.time>>16&255),Ht(r,r.gzhead.time>>24&255),Ht(r,r.level===9?2:r.strategy>=ny||r.level<2?4:0),Ht(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(Ht(r,r.gzhead.extra.length&255),Ht(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=hi(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=LC;else if(Ht(r,0),Ht(r,0),Ht(r,0),Ht(r,0),Ht(r,0),Ht(r,r.level===9?2:r.strategy>=ny||r.level<2?4:0),Ht(r,gae),r.status=rh,kn(t),r.pending!==0)return r.last_flush=-1,wi}if(r.status===LC){if(r.gzhead.extra){let n=r.pending,s=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+s>r.pending_buf_size;){let o=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>n&&(t.adler=hi(t.adler,r.pending_buf,r.pending-n,n)),r.gzindex+=o,kn(t),r.pending!==0)return r.last_flush=-1,wi;n=0,s-=o}let a=new Uint8Array(r.gzhead.extra);r.pending_buf.set(a.subarray(r.gzindex,r.gzindex+s),r.pending),r.pending+=s,r.gzhead.hcrc&&r.pending>n&&(t.adler=hi(t.adler,r.pending_buf,r.pending-n,n)),r.gzindex=0}r.status=DC}if(r.status===DC){if(r.gzhead.name){let n=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(t.adler=hi(t.adler,r.pending_buf,r.pending-n,n)),kn(t),r.pending!==0)return r.last_flush=-1,wi;n=0}r.gzindex<r.gzhead.name.length?s=r.gzhead.name.charCodeAt(r.gzindex++)&255:s=0,Ht(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>n&&(t.adler=hi(t.adler,r.pending_buf,r.pending-n,n)),r.gzindex=0}r.status=FC}if(r.status===FC){if(r.gzhead.comment){let n=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(t.adler=hi(t.adler,r.pending_buf,r.pending-n,n)),kn(t),r.pending!==0)return r.last_flush=-1,wi;n=0}r.gzindex<r.gzhead.comment.length?s=r.gzhead.comment.charCodeAt(r.gzindex++)&255:s=0,Ht(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>n&&(t.adler=hi(t.adler,r.pending_buf,r.pending-n,n))}r.status=BC}if(r.status===BC){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(kn(t),r.pending!==0))return r.last_flush=-1,wi;Ht(r,t.adler&255),Ht(r,t.adler>>8&255),t.adler=0}if(r.status=rh,kn(t),r.pending!==0)return r.last_flush=-1,wi}if(t.avail_in!==0||r.lookahead!==0||e!==Uu&&r.status!==Ym){let n=r.level===0?$U(r,e):r.strategy===ny?bae(r,e):r.strategy===rae?xae(r,e):qm[r.level].func(r,e);if((n===Bh||n===Pp)&&(r.status=Ym),n===Yi||n===Bh)return t.avail_out===0&&(r.last_flush=-1),wi;if(n===Ip&&(e===Qse?Kse(r):e!==KO&&(NC(r,0,0,!1),e===Zse&&(au(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),kn(t),t.avail_out===0))return r.last_flush=-1,wi}return e!==_s?wi:r.wrap<=0?QO:(r.wrap===2?(Ht(r,t.adler&255),Ht(r,t.adler>>8&255),Ht(r,t.adler>>16&255),Ht(r,t.adler>>24&255),Ht(r,t.total_in&255),Ht(r,t.total_in>>8&255),Ht(r,t.total_in>>16&255),Ht(r,t.total_in>>24&255)):(wm(r,t.adler>>>16),wm(r,t.adler&65535)),kn(t),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?wi:QO)},Aae=t=>{if(_1(t))return fo;const e=t.state.status;return t.state=null,e===rh?ih(t,Jse):wi},Cae=(t,e)=>{let r=e.length;if(_1(t))return fo;const i=t.state,n=i.wrap;if(n===2||n===1&&i.status!==lp||i.lookahead)return fo;if(n===1&&(t.adler=T0(t.adler,e,r,0)),i.wrap=0,r>=i.w_size){n===0&&(au(i.head),i.strstart=0,i.block_start=0,i.insert=0);let l=new Uint8Array(i.w_size);l.set(e.subarray(r-i.w_size,r),0),e=l,r=i.w_size}const s=t.avail_in,a=t.next_in,o=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,up(i);i.lookahead>=Ot;){let l=i.strstart,u=i.lookahead-(Ot-1);do i.ins_h=$u(i,i.ins_h,i.window[l+Ot-1]),i.prev[l&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=l,l++;while(--u);i.strstart=l,i.lookahead=Ot-1,up(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=Ot-1,i.match_available=0,t.next_in=a,t.input=o,t.avail_in=s,i.wrap=n,wi};var Rae=Eae,Iae=GU,Pae=HU,Mae=zU,kae=Sae,Nae=Tae,Oae=Aae,Lae=Cae,Dae="pako deflate (from Nodeca project)",Mg={deflateInit:Rae,deflateInit2:Iae,deflateReset:Pae,deflateResetKeep:Mae,deflateSetHeader:kae,deflate:Nae,deflateEnd:Oae,deflateSetDictionary:Lae,deflateInfo:Dae};const Fae=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Bae=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const i in r)Fae(r,i)&&(t[i]=r[i])}}return t},jae=t=>{let e=0;for(let i=0,n=t.length;i<n;i++)e+=t[i].length;const r=new Uint8Array(e);for(let i=0,n=0,s=t.length;i<s;i++){let a=t[i];r.set(a,n),n+=a.length}return r},Tw={assign:Bae,flattenChunks:jae};let VU=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{VU=!1}const A0=new Uint8Array(256);for(let t=0;t<256;t++)A0[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;A0[254]=A0[254]=1;var Uae=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,i,n,s,a=t.length,o=0;for(n=0;n<a;n++)r=t.charCodeAt(n),(r&64512)===55296&&n+1<a&&(i=t.charCodeAt(n+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),n++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),s=0,n=0;s<o;n++)r=t.charCodeAt(n),(r&64512)===55296&&n+1<a&&(i=t.charCodeAt(n+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),n++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const $ae=(t,e)=>{if(e<65534&&t.subarray&&VU)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let i=0;i<e;i++)r+=String.fromCharCode(t[i]);return r};var zae=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let i,n;const s=new Array(r*2);for(n=0,i=0;i<r;){let a=t[i++];if(a<128){s[n++]=a;continue}let o=A0[a];if(o>4){s[n++]=65533,i+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&i<r;)a=a<<6|t[i++]&63,o--;if(o>1){s[n++]=65533;continue}a<65536?s[n++]=a:(a-=65536,s[n++]=55296|a>>10&1023,s[n++]=56320|a&1023)}return $ae(s,n)},Hae=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+A0[t[r]]>e?r:e},C0={string2buf:Uae,buf2string:zae,utf8border:Hae};function Gae(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var WU=Gae;const XU=Object.prototype.toString,{Z_NO_FLUSH:Vae,Z_SYNC_FLUSH:Wae,Z_FULL_FLUSH:Xae,Z_FINISH:Yae,Z_OK:Xb,Z_STREAM_END:qae,Z_DEFAULT_COMPRESSION:Kae,Z_DEFAULT_STRATEGY:Qae,Z_DEFLATED:Zae}=qh;function w1(t){this.options=Tw.assign({level:Kae,method:Zae,chunkSize:16384,windowBits:15,memLevel:8,strategy:Qae},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new WU,this.strm.avail_out=0;let r=Mg.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==Xb)throw new Error(Fh[r]);if(e.header&&Mg.deflateSetHeader(this.strm,e.header),e.dictionary){let i;if(typeof e.dictionary=="string"?i=C0.string2buf(e.dictionary):XU.call(e.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(e.dictionary):i=e.dictionary,r=Mg.deflateSetDictionary(this.strm,i),r!==Xb)throw new Error(Fh[r]);this._dict_set=!0}}w1.prototype.push=function(t,e){const r=this.strm,i=this.options.chunkSize;let n,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Yae:Vae,typeof t=="string"?r.input=C0.string2buf(t):XU.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),(s===Wae||s===Xae)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(n=Mg.deflate(r,s),n===qae)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),n=Mg.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Xb;if(r.avail_out===0){this.onData(r.output);continue}if(s>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};w1.prototype.onData=function(t){this.chunks.push(t)};w1.prototype.onEnd=function(t){t===Xb&&(this.result=Tw.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function P4(t,e){const r=new w1(e);if(r.push(t,!0),r.err)throw r.msg||Fh[r.err];return r.result}function Jae(t,e){return e=e||{},e.raw=!0,P4(t,e)}function eoe(t,e){return e=e||{},e.gzip=!0,P4(t,e)}var toe=w1,roe=P4,ioe=Jae,noe=eoe,soe=qh,aoe={Deflate:toe,deflate:roe,deflateRaw:ioe,gzip:noe,constants:soe};const sy=16209,ooe=16191;var loe=function(e,r){let i,n,s,a,o,l,u,c,d,h,p,g,y,b,x,w,_,E,A,I,P,M,k,U;const j=e.state;i=e.next_in,k=e.input,n=i+(e.avail_in-5),s=e.next_out,U=e.output,a=s-(r-e.avail_out),o=s+(e.avail_out-257),l=j.dmax,u=j.wsize,c=j.whave,d=j.wnext,h=j.window,p=j.hold,g=j.bits,y=j.lencode,b=j.distcode,x=(1<<j.lenbits)-1,w=(1<<j.distbits)-1;e:do{g<15&&(p+=k[i++]<<g,g+=8,p+=k[i++]<<g,g+=8),_=y[p&x];t:for(;;){if(E=_>>>24,p>>>=E,g-=E,E=_>>>16&255,E===0)U[s++]=_&65535;else if(E&16){A=_&65535,E&=15,E&&(g<E&&(p+=k[i++]<<g,g+=8),A+=p&(1<<E)-1,p>>>=E,g-=E),g<15&&(p+=k[i++]<<g,g+=8,p+=k[i++]<<g,g+=8),_=b[p&w];r:for(;;){if(E=_>>>24,p>>>=E,g-=E,E=_>>>16&255,E&16){if(I=_&65535,E&=15,g<E&&(p+=k[i++]<<g,g+=8,g<E&&(p+=k[i++]<<g,g+=8)),I+=p&(1<<E)-1,I>l){e.msg="invalid distance too far back",j.mode=sy;break e}if(p>>>=E,g-=E,E=s-a,I>E){if(E=I-E,E>c&&j.sane){e.msg="invalid distance too far back",j.mode=sy;break e}if(P=0,M=h,d===0){if(P+=u-E,E<A){A-=E;do U[s++]=h[P++];while(--E);P=s-I,M=U}}else if(d<E){if(P+=u+d-E,E-=d,E<A){A-=E;do U[s++]=h[P++];while(--E);if(P=0,d<A){E=d,A-=E;do U[s++]=h[P++];while(--E);P=s-I,M=U}}}else if(P+=d-E,E<A){A-=E;do U[s++]=h[P++];while(--E);P=s-I,M=U}for(;A>2;)U[s++]=M[P++],U[s++]=M[P++],U[s++]=M[P++],A-=3;A&&(U[s++]=M[P++],A>1&&(U[s++]=M[P++]))}else{P=s-I;do U[s++]=U[P++],U[s++]=U[P++],U[s++]=U[P++],A-=3;while(A>2);A&&(U[s++]=U[P++],A>1&&(U[s++]=U[P++]))}}else if(E&64){e.msg="invalid distance code",j.mode=sy;break e}else{_=b[(_&65535)+(p&(1<<E)-1)];continue r}break}}else if(E&64)if(E&32){j.mode=ooe;break e}else{e.msg="invalid literal/length code",j.mode=sy;break e}else{_=y[(_&65535)+(p&(1<<E)-1)];continue t}break}}while(i<n&&s<o);A=g>>3,i-=A,g-=A<<3,p&=(1<<g)-1,e.next_in=i,e.next_out=s,e.avail_in=i<n?5+(n-i):5-(i-n),e.avail_out=s<o?257+(o-s):257-(s-o),j.hold=p,j.bits=g};const wd=15,JO=852,e5=592,t5=0,vE=1,r5=2,uoe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),coe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),hoe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),doe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),foe=(t,e,r,i,n,s,a,o)=>{const l=o.bits;let u=0,c=0,d=0,h=0,p=0,g=0,y=0,b=0,x=0,w=0,_,E,A,I,P,M=null,k;const U=new Uint16Array(wd+1),j=new Uint16Array(wd+1);let B=null,L,F,O;for(u=0;u<=wd;u++)U[u]=0;for(c=0;c<i;c++)U[e[r+c]]++;for(p=l,h=wd;h>=1&&U[h]===0;h--);if(p>h&&(p=h),h===0)return n[s++]=1<<24|64<<16|0,n[s++]=1<<24|64<<16|0,o.bits=1,0;for(d=1;d<h&&U[d]===0;d++);for(p<d&&(p=d),b=1,u=1;u<=wd;u++)if(b<<=1,b-=U[u],b<0)return-1;if(b>0&&(t===t5||h!==1))return-1;for(j[1]=0,u=1;u<wd;u++)j[u+1]=j[u]+U[u];for(c=0;c<i;c++)e[r+c]!==0&&(a[j[e[r+c]]++]=c);if(t===t5?(M=B=a,k=20):t===vE?(M=uoe,B=coe,k=257):(M=hoe,B=doe,k=0),w=0,c=0,u=d,P=s,g=p,y=0,A=-1,x=1<<p,I=x-1,t===vE&&x>JO||t===r5&&x>e5)return 1;for(;;){L=u-y,a[c]+1<k?(F=0,O=a[c]):a[c]>=k?(F=B[a[c]-k],O=M[a[c]-k]):(F=96,O=0),_=1<<u-y,E=1<<g,d=E;do E-=_,n[P+(w>>y)+E]=L<<24|F<<16|O|0;while(E!==0);for(_=1<<u-1;w&_;)_>>=1;if(_!==0?(w&=_-1,w+=_):w=0,c++,--U[u]===0){if(u===h)break;u=e[r+a[c]]}if(u>p&&(w&I)!==A){for(y===0&&(y=p),P+=d,g=u-y,b=1<<g;g+y<h&&(b-=U[g+y],!(b<=0));)g++,b<<=1;if(x+=1<<g,t===vE&&x>JO||t===r5&&x>e5)return 1;A=w&I,n[A]=p<<24|g<<16|P-s|0}}return w!==0&&(n[P+w]=u-y<<24|64<<16|0),o.bits=p,0};var kg=foe;const poe=0,YU=1,qU=2,{Z_FINISH:i5,Z_BLOCK:moe,Z_TREES:ay,Z_OK:jh,Z_STREAM_END:goe,Z_NEED_DICT:voe,Z_STREAM_ERROR:Ls,Z_DATA_ERROR:KU,Z_MEM_ERROR:QU,Z_BUF_ERROR:yoe,Z_DEFLATED:n5}=qh,Aw=16180,s5=16181,a5=16182,o5=16183,l5=16184,u5=16185,c5=16186,h5=16187,d5=16188,f5=16189,Yb=16190,Oo=16191,yE=16192,p5=16193,xE=16194,m5=16195,g5=16196,v5=16197,y5=16198,oy=16199,ly=16200,x5=16201,b5=16202,_5=16203,w5=16204,S5=16205,bE=16206,E5=16207,T5=16208,mr=16209,ZU=16210,JU=16211,xoe=852,boe=592,_oe=15,woe=_oe,A5=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Soe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Kh=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Aw||e.mode>JU?1:0},e$=t=>{if(Kh(t))return Ls;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Aw,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(xoe),e.distcode=e.distdyn=new Int32Array(boe),e.sane=1,e.back=-1,jh},t$=t=>{if(Kh(t))return Ls;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,e$(t)},r$=(t,e)=>{let r;if(Kh(t))return Ls;const i=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ls:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=r,i.wbits=e,t$(t))},i$=(t,e)=>{if(!t)return Ls;const r=new Soe;t.state=r,r.strm=t,r.window=null,r.mode=Aw;const i=r$(t,e);return i!==jh&&(t.state=null),i},Eoe=t=>i$(t,woe);let C5=!0,_E,wE;const Toe=t=>{if(C5){_E=new Int32Array(512),wE=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(kg(YU,t.lens,0,288,_E,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;kg(qU,t.lens,0,32,wE,0,t.work,{bits:5}),C5=!1}t.lencode=_E,t.lenbits=9,t.distcode=wE,t.distbits=5},n$=(t,e,r,i)=>{let n;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(n=s.wsize-s.wnext,n>i&&(n=i),s.window.set(e.subarray(r-i,r-i+n),s.wnext),i-=n,i?(s.window.set(e.subarray(r-i,r),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=n,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=n))),0},Aoe=(t,e)=>{let r,i,n,s,a,o,l,u,c,d,h,p,g,y,b=0,x,w,_,E,A,I,P,M;const k=new Uint8Array(4);let U,j;const B=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Kh(t)||!t.output||!t.input&&t.avail_in!==0)return Ls;r=t.state,r.mode===Oo&&(r.mode=yE),a=t.next_out,n=t.output,l=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,u=r.hold,c=r.bits,d=o,h=l,M=jh;e:for(;;)switch(r.mode){case Aw:if(r.wrap===0){r.mode=yE;break}for(;c<16;){if(o===0)break e;o--,u+=i[s++]<<c,c+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,k[0]=u&255,k[1]=u>>>8&255,r.check=hi(r.check,k,2,0),u=0,c=0,r.mode=s5;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=mr;break}if((u&15)!==n5){t.msg="unknown compression method",r.mode=mr;break}if(u>>>=4,c-=4,P=(u&15)+8,r.wbits===0&&(r.wbits=P),P>15||P>r.wbits){t.msg="invalid window size",r.mode=mr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?f5:Oo,u=0,c=0;break;case s5:for(;c<16;){if(o===0)break e;o--,u+=i[s++]<<c,c+=8}if(r.flags=u,(r.flags&255)!==n5){t.msg="unknown compression method",r.mode=mr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=mr;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,r.check=hi(r.check,k,2,0)),u=0,c=0,r.mode=a5;case a5:for(;c<32;){if(o===0)break e;o--,u+=i[s++]<<c,c+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,k[2]=u>>>16&255,k[3]=u>>>24&255,r.check=hi(r.check,k,4,0)),u=0,c=0,r.mode=o5;case o5:for(;c<16;){if(o===0)break e;o--,u+=i[s++]<<c,c+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,r.check=hi(r.check,k,2,0)),u=0,c=0,r.mode=l5;case l5:if(r.flags&1024){for(;c<16;){if(o===0)break e;o--,u+=i[s++]<<c,c+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,r.check=hi(r.check,k,2,0)),u=0,c=0}else r.head&&(r.head.extra=null);r.mode=u5;case u5:if(r.flags&1024&&(p=r.length,p>o&&(p=o),p&&(r.head&&(P=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(i.subarray(s,s+p),P)),r.flags&512&&r.wrap&4&&(r.check=hi(r.check,i,p,s)),o-=p,s+=p,r.length-=p),r.length))break e;r.length=0,r.mode=c5;case c5:if(r.flags&2048){if(o===0)break e;p=0;do P=i[s+p++],r.head&&P&&r.length<65536&&(r.head.name+=String.fromCharCode(P));while(P&&p<o);if(r.flags&512&&r.wrap&4&&(r.check=hi(r.check,i,p,s)),o-=p,s+=p,P)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=h5;case h5:if(r.flags&4096){if(o===0)break e;p=0;do P=i[s+p++],r.head&&P&&r.length<65536&&(r.head.comment+=String.fromCharCode(P));while(P&&p<o);if(r.flags&512&&r.wrap&4&&(r.check=hi(r.check,i,p,s)),o-=p,s+=p,P)break e}else r.head&&(r.head.comment=null);r.mode=d5;case d5:if(r.flags&512){for(;c<16;){if(o===0)break e;o--,u+=i[s++]<<c,c+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=mr;break}u=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Oo;break;case f5:for(;c<32;){if(o===0)break e;o--,u+=i[s++]<<c,c+=8}t.adler=r.check=A5(u),u=0,c=0,r.mode=Yb;case Yb:if(r.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=c,voe;t.adler=r.check=1,r.mode=Oo;case Oo:if(e===moe||e===ay)break e;case yE:if(r.last){u>>>=c&7,c-=c&7,r.mode=bE;break}for(;c<3;){if(o===0)break e;o--,u+=i[s++]<<c,c+=8}switch(r.last=u&1,u>>>=1,c-=1,u&3){case 0:r.mode=p5;break;case 1:if(Toe(r),r.mode=oy,e===ay){u>>>=2,c-=2;break e}break;case 2:r.mode=g5;break;case 3:t.msg="invalid block type",r.mode=mr}u>>>=2,c-=2;break;case p5:for(u>>>=c&7,c-=c&7;c<32;){if(o===0)break e;o--,u+=i[s++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=mr;break}if(r.length=u&65535,u=0,c=0,r.mode=xE,e===ay)break e;case xE:r.mode=m5;case m5:if(p=r.length,p){if(p>o&&(p=o),p>l&&(p=l),p===0)break e;n.set(i.subarray(s,s+p),a),o-=p,s+=p,l-=p,a+=p,r.length-=p;break}r.mode=Oo;break;case g5:for(;c<14;){if(o===0)break e;o--,u+=i[s++]<<c,c+=8}if(r.nlen=(u&31)+257,u>>>=5,c-=5,r.ndist=(u&31)+1,u>>>=5,c-=5,r.ncode=(u&15)+4,u>>>=4,c-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=mr;break}r.have=0,r.mode=v5;case v5:for(;r.have<r.ncode;){for(;c<3;){if(o===0)break e;o--,u+=i[s++]<<c,c+=8}r.lens[B[r.have++]]=u&7,u>>>=3,c-=3}for(;r.have<19;)r.lens[B[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,U={bits:r.lenbits},M=kg(poe,r.lens,0,19,r.lencode,0,r.work,U),r.lenbits=U.bits,M){t.msg="invalid code lengths set",r.mode=mr;break}r.have=0,r.mode=y5;case y5:for(;r.have<r.nlen+r.ndist;){for(;b=r.lencode[u&(1<<r.lenbits)-1],x=b>>>24,w=b>>>16&255,_=b&65535,!(x<=c);){if(o===0)break e;o--,u+=i[s++]<<c,c+=8}if(_<16)u>>>=x,c-=x,r.lens[r.have++]=_;else{if(_===16){for(j=x+2;c<j;){if(o===0)break e;o--,u+=i[s++]<<c,c+=8}if(u>>>=x,c-=x,r.have===0){t.msg="invalid bit length repeat",r.mode=mr;break}P=r.lens[r.have-1],p=3+(u&3),u>>>=2,c-=2}else if(_===17){for(j=x+3;c<j;){if(o===0)break e;o--,u+=i[s++]<<c,c+=8}u>>>=x,c-=x,P=0,p=3+(u&7),u>>>=3,c-=3}else{for(j=x+7;c<j;){if(o===0)break e;o--,u+=i[s++]<<c,c+=8}u>>>=x,c-=x,P=0,p=11+(u&127),u>>>=7,c-=7}if(r.have+p>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=mr;break}for(;p--;)r.lens[r.have++]=P}}if(r.mode===mr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=mr;break}if(r.lenbits=9,U={bits:r.lenbits},M=kg(YU,r.lens,0,r.nlen,r.lencode,0,r.work,U),r.lenbits=U.bits,M){t.msg="invalid literal/lengths set",r.mode=mr;break}if(r.distbits=6,r.distcode=r.distdyn,U={bits:r.distbits},M=kg(qU,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,U),r.distbits=U.bits,M){t.msg="invalid distances set",r.mode=mr;break}if(r.mode=oy,e===ay)break e;case oy:r.mode=ly;case ly:if(o>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=c,loe(t,h),a=t.next_out,n=t.output,l=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,u=r.hold,c=r.bits,r.mode===Oo&&(r.back=-1);break}for(r.back=0;b=r.lencode[u&(1<<r.lenbits)-1],x=b>>>24,w=b>>>16&255,_=b&65535,!(x<=c);){if(o===0)break e;o--,u+=i[s++]<<c,c+=8}if(w&&!(w&240)){for(E=x,A=w,I=_;b=r.lencode[I+((u&(1<<E+A)-1)>>E)],x=b>>>24,w=b>>>16&255,_=b&65535,!(E+x<=c);){if(o===0)break e;o--,u+=i[s++]<<c,c+=8}u>>>=E,c-=E,r.back+=E}if(u>>>=x,c-=x,r.back+=x,r.length=_,w===0){r.mode=S5;break}if(w&32){r.back=-1,r.mode=Oo;break}if(w&64){t.msg="invalid literal/length code",r.mode=mr;break}r.extra=w&15,r.mode=x5;case x5:if(r.extra){for(j=r.extra;c<j;){if(o===0)break e;o--,u+=i[s++]<<c,c+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=b5;case b5:for(;b=r.distcode[u&(1<<r.distbits)-1],x=b>>>24,w=b>>>16&255,_=b&65535,!(x<=c);){if(o===0)break e;o--,u+=i[s++]<<c,c+=8}if(!(w&240)){for(E=x,A=w,I=_;b=r.distcode[I+((u&(1<<E+A)-1)>>E)],x=b>>>24,w=b>>>16&255,_=b&65535,!(E+x<=c);){if(o===0)break e;o--,u+=i[s++]<<c,c+=8}u>>>=E,c-=E,r.back+=E}if(u>>>=x,c-=x,r.back+=x,w&64){t.msg="invalid distance code",r.mode=mr;break}r.offset=_,r.extra=w&15,r.mode=_5;case _5:if(r.extra){for(j=r.extra;c<j;){if(o===0)break e;o--,u+=i[s++]<<c,c+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=mr;break}r.mode=w5;case w5:if(l===0)break e;if(p=h-l,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=mr;break}p>r.wnext?(p-=r.wnext,g=r.wsize-p):g=r.wnext-p,p>r.length&&(p=r.length),y=r.window}else y=n,g=a-r.offset,p=r.length;p>l&&(p=l),l-=p,r.length-=p;do n[a++]=y[g++];while(--p);r.length===0&&(r.mode=ly);break;case S5:if(l===0)break e;n[a++]=r.length,l--,r.mode=ly;break;case bE:if(r.wrap){for(;c<32;){if(o===0)break e;o--,u|=i[s++]<<c,c+=8}if(h-=l,t.total_out+=h,r.total+=h,r.wrap&4&&h&&(t.adler=r.check=r.flags?hi(r.check,n,h,a-h):T0(r.check,n,h,a-h)),h=l,r.wrap&4&&(r.flags?u:A5(u))!==r.check){t.msg="incorrect data check",r.mode=mr;break}u=0,c=0}r.mode=E5;case E5:if(r.wrap&&r.flags){for(;c<32;){if(o===0)break e;o--,u+=i[s++]<<c,c+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=mr;break}u=0,c=0}r.mode=T5;case T5:M=goe;break e;case mr:M=KU;break e;case ZU:return QU;case JU:default:return Ls}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=c,(r.wsize||h!==t.avail_out&&r.mode<mr&&(r.mode<bE||e!==i5))&&n$(t,t.output,t.next_out,h-t.avail_out),d-=t.avail_in,h-=t.avail_out,t.total_in+=d,t.total_out+=h,r.total+=h,r.wrap&4&&h&&(t.adler=r.check=r.flags?hi(r.check,n,h,t.next_out-h):T0(r.check,n,h,t.next_out-h)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Oo?128:0)+(r.mode===oy||r.mode===xE?256:0),(d===0&&h===0||e===i5)&&M===jh&&(M=yoe),M},Coe=t=>{if(Kh(t))return Ls;let e=t.state;return e.window&&(e.window=null),t.state=null,jh},Roe=(t,e)=>{if(Kh(t))return Ls;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,jh):Ls},Ioe=(t,e)=>{const r=e.length;let i,n,s;return Kh(t)||(i=t.state,i.wrap!==0&&i.mode!==Yb)?Ls:i.mode===Yb&&(n=1,n=T0(n,e,r,0),n!==i.check)?KU:(s=n$(t,e,r,r),s?(i.mode=ZU,QU):(i.havedict=1,jh))};var Poe=t$,Moe=r$,koe=e$,Noe=Eoe,Ooe=i$,Loe=Aoe,Doe=Coe,Foe=Roe,Boe=Ioe,joe="pako inflate (from Nodeca project)",Wo={inflateReset:Poe,inflateReset2:Moe,inflateResetKeep:koe,inflateInit:Noe,inflateInit2:Ooe,inflate:Loe,inflateEnd:Doe,inflateGetHeader:Foe,inflateSetDictionary:Boe,inflateInfo:joe};function Uoe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var $oe=Uoe;const s$=Object.prototype.toString,{Z_NO_FLUSH:zoe,Z_FINISH:Hoe,Z_OK:R0,Z_STREAM_END:SE,Z_NEED_DICT:EE,Z_STREAM_ERROR:Goe,Z_DATA_ERROR:R5,Z_MEM_ERROR:Voe}=qh;function S1(t){this.options=Tw.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new WU,this.strm.avail_out=0;let r=Wo.inflateInit2(this.strm,e.windowBits);if(r!==R0)throw new Error(Fh[r]);if(this.header=new $oe,Wo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=C0.string2buf(e.dictionary):s$.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Wo.inflateSetDictionary(this.strm,e.dictionary),r!==R0)))throw new Error(Fh[r])}S1.prototype.push=function(t,e){const r=this.strm,i=this.options.chunkSize,n=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?Hoe:zoe,s$.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),s=Wo.inflate(r,a),s===EE&&n&&(s=Wo.inflateSetDictionary(r,n),s===R0?s=Wo.inflate(r,a):s===R5&&(s=EE));r.avail_in>0&&s===SE&&r.state.wrap>0&&t[r.next_in]!==0;)Wo.inflateReset(r),s=Wo.inflate(r,a);switch(s){case Goe:case R5:case EE:case Voe:return this.onEnd(s),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||s===SE))if(this.options.to==="string"){let l=C0.utf8border(r.output,r.next_out),u=r.next_out-l,c=C0.buf2string(r.output,l);r.next_out=u,r.avail_out=i-u,u&&r.output.set(r.output.subarray(l,l+u),0),this.onData(c)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===R0&&o===0)){if(s===SE)return s=Wo.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};S1.prototype.onData=function(t){this.chunks.push(t)};S1.prototype.onEnd=function(t){t===R0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Tw.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function M4(t,e){const r=new S1(e);if(r.push(t),r.err)throw r.msg||Fh[r.err];return r.result}function Woe(t,e){return e=e||{},e.raw=!0,M4(t,e)}var Xoe=S1,Yoe=M4,qoe=Woe,Koe=M4,Qoe=qh,Zoe={Inflate:Xoe,inflate:Yoe,inflateRaw:qoe,ungzip:Koe,constants:Qoe};const{Deflate:Joe,deflate:ele,deflateRaw:tle,gzip:rle}=aoe,{Inflate:ile,inflate:nle,inflateRaw:sle,ungzip:ale}=Zoe;var ole=Joe,lle=ele,ule=tle,cle=rle,hle=ile,dle=nle,fle=sle,ple=ale,mle=qh,gle={Deflate:ole,deflate:lle,deflateRaw:ule,gzip:cle,Inflate:hle,inflate:dle,inflateRaw:fle,ungzip:ple,constants:mle},a$={exports:{}},Qh=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(Qh||{}),o$=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(o$||{}),UC=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(UC||{}),ut=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(ut||{}),ha=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(ha||{}),Ce=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(Ce||{}),wf=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(wf||{}),ft=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ft||{}),ke=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(ke||{}),Zo=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(Zo||{}),al=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(al||{}),Ku=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Ku||{}),Ss=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Ss||{}),kc=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(kc||{}),k4=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(k4||{}),Es=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Es||{}),Yr=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(Yr||{}),$r=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))($r||{}),mo=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(mo||{});const vle={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},rt={ADAPTER:vle,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var TE=/iPhone/i,I5=/iPod/i,P5=/iPad/i,M5=/\biOS-universal(?:.+)Mac\b/i,AE=/\bAndroid(?:.+)Mobile\b/i,k5=/Android/i,Sd=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,uy=/Silk/i,Lo=/Windows Phone/i,N5=/\bWindows(?:.+)ARM\b/i,O5=/BlackBerry/i,L5=/BB10/i,D5=/Opera Mini/i,F5=/\b(CriOS|Chrome)(?:.+)Mobile/i,B5=/Mobile(?:.+)Firefox\b/i,j5=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function yle(t){return function(e){return e.test(t)}}function qb(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,i=r.split("[FBAN");typeof i[1]<"u"&&(r=i[0]),i=r.split("Twitter"),typeof i[1]<"u"&&(r=i[0]);var n=yle(r),s={apple:{phone:n(TE)&&!n(Lo),ipod:n(I5),tablet:!n(TE)&&(n(P5)||j5(e))&&!n(Lo),universal:n(M5),device:(n(TE)||n(I5)||n(P5)||n(M5)||j5(e))&&!n(Lo)},amazon:{phone:n(Sd),tablet:!n(Sd)&&n(uy),device:n(Sd)||n(uy)},android:{phone:!n(Lo)&&n(Sd)||!n(Lo)&&n(AE),tablet:!n(Lo)&&!n(Sd)&&!n(AE)&&(n(uy)||n(k5)),device:!n(Lo)&&(n(Sd)||n(uy)||n(AE)||n(k5))||n(/\bokhttp\b/i)},windows:{phone:n(Lo),tablet:n(N5),device:n(Lo)||n(N5)},other:{blackberry:n(O5),blackberry10:n(L5),opera:n(D5),firefox:n(B5),chrome:n(F5),device:n(O5)||n(L5)||n(D5)||n(B5)||n(F5)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const xle=qb.default??qb,nf=xle(globalThis.navigator);rt.RETINA_PREFIX=/@([0-9\.]+)x/;rt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var l$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function n(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new n(c,d||l,h),g=r?r+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new i:delete l._events[u]}function o(){this._events=new i,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=r?r+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,g=new Array(p);h<p;h++)g[h]=d[h].fn;return g},o.prototype.listenerCount=function(u){var c=r?r+u:u,d=this._events[c];return d?d.fn?1:d.length:0},o.prototype.emit=function(u,c,d,h,p,g){var y=r?r+u:u;if(!this._events[y])return!1;var b=this._events[y],x=arguments.length,w,_;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,d),!0;case 4:return b.fn.call(b.context,c,d,h),!0;case 5:return b.fn.call(b.context,c,d,h,p),!0;case 6:return b.fn.call(b.context,c,d,h,p,g),!0}for(_=1,w=new Array(x-1);_<x;_++)w[_-1]=arguments[_];b.fn.apply(b.context,w)}else{var E=b.length,A;for(_=0;_<E;_++)switch(b[_].once&&this.removeListener(u,b[_].fn,void 0,!0),x){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,c);break;case 3:b[_].fn.call(b[_].context,c,d);break;case 4:b[_].fn.call(b[_].context,c,d,h);break;default:if(!w)for(A=1,w=new Array(x-1);A<x;A++)w[A-1]=arguments[A];b[_].fn.apply(b[_].context,w)}}return!0},o.prototype.on=function(u,c,d){return s(this,u,c,d,!1)},o.prototype.once=function(u,c,d){return s(this,u,c,d,!0)},o.prototype.removeListener=function(u,c,d,h){var p=r?r+u:u;if(!this._events[p])return this;if(!c)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!h||g.once)&&(!d||g.context===d)&&a(this,p);else{for(var y=0,b=[],x=g.length;y<x;y++)(g[y].fn!==c||h&&!g[y].once||d&&g[y].context!==d)&&b.push(g[y]);b.length?this._events[p]=b.length===1?b[0]:b:a(this,p)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&a(this,c)):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(l$);var ble=l$.exports;const El=qn(ble);var N4={exports:{}};N4.exports=Cw;N4.exports.default=Cw;function Cw(t,e,r){r=r||2;var i=e&&e.length,n=i?e[0]*r:t.length,s=u$(t,0,n,r,!0),a=[];if(!s||s.next===s.prev)return a;var o,l,u,c,d,h,p;if(i&&(s=Tle(t,e,s,r)),t.length>80*r){o=u=t[0],l=c=t[1];for(var g=r;g<n;g+=r)d=t[g],h=t[g+1],d<o&&(o=d),h<l&&(l=h),d>u&&(u=d),h>c&&(c=h);p=Math.max(u-o,c-l),p=p!==0?32767/p:0}return I0(s,a,r,o,l,p,0),a}function u$(t,e,r,i,n){var s,a;if(n===HC(t,e,r,i)>0)for(s=e;s<r;s+=i)a=U5(s,t[s],t[s+1],a);else for(s=r-i;s>=e;s-=i)a=U5(s,t[s],t[s+1],a);return a&&Rw(a,a.next)&&(M0(a),a=a.next),a}function Uh(t,e){if(!t)return t;e||(e=t);var r=t,i;do if(i=!1,!r.steiner&&(Rw(r,r.next)||wr(r.prev,r,r.next)===0)){if(M0(r),r=e=r.prev,r===r.next)break;i=!0}else r=r.next;while(i||r!==e);return e}function I0(t,e,r,i,n,s,a){if(t){!a&&s&&Ple(t,i,n,s);for(var o=t,l,u;t.prev!==t.next;){if(l=t.prev,u=t.next,s?wle(t,i,n,s):_le(t)){e.push(l.i/r|0),e.push(t.i/r|0),e.push(u.i/r|0),M0(t),t=u.next,o=u.next;continue}if(t=u,t===o){a?a===1?(t=Sle(Uh(t),e,r),I0(t,e,r,i,n,s,2)):a===2&&Ele(t,e,r,i,n,s):I0(Uh(t),e,r,i,n,s,1);break}}}}function _le(t){var e=t.prev,r=t,i=t.next;if(wr(e,r,i)>=0)return!1;for(var n=e.x,s=r.x,a=i.x,o=e.y,l=r.y,u=i.y,c=n<s?n<a?n:a:s<a?s:a,d=o<l?o<u?o:u:l<u?l:u,h=n>s?n>a?n:a:s>a?s:a,p=o>l?o>u?o:u:l>u?l:u,g=i.next;g!==e;){if(g.x>=c&&g.x<=h&&g.y>=d&&g.y<=p&&sf(n,o,s,l,a,u,g.x,g.y)&&wr(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function wle(t,e,r,i){var n=t.prev,s=t,a=t.next;if(wr(n,s,a)>=0)return!1;for(var o=n.x,l=s.x,u=a.x,c=n.y,d=s.y,h=a.y,p=o<l?o<u?o:u:l<u?l:u,g=c<d?c<h?c:h:d<h?d:h,y=o>l?o>u?o:u:l>u?l:u,b=c>d?c>h?c:h:d>h?d:h,x=$C(p,g,e,r,i),w=$C(y,b,e,r,i),_=t.prevZ,E=t.nextZ;_&&_.z>=x&&E&&E.z<=w;){if(_.x>=p&&_.x<=y&&_.y>=g&&_.y<=b&&_!==n&&_!==a&&sf(o,c,l,d,u,h,_.x,_.y)&&wr(_.prev,_,_.next)>=0||(_=_.prevZ,E.x>=p&&E.x<=y&&E.y>=g&&E.y<=b&&E!==n&&E!==a&&sf(o,c,l,d,u,h,E.x,E.y)&&wr(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;_&&_.z>=x;){if(_.x>=p&&_.x<=y&&_.y>=g&&_.y<=b&&_!==n&&_!==a&&sf(o,c,l,d,u,h,_.x,_.y)&&wr(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;E&&E.z<=w;){if(E.x>=p&&E.x<=y&&E.y>=g&&E.y<=b&&E!==n&&E!==a&&sf(o,c,l,d,u,h,E.x,E.y)&&wr(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function Sle(t,e,r){var i=t;do{var n=i.prev,s=i.next.next;!Rw(n,s)&&c$(n,i,i.next,s)&&P0(n,s)&&P0(s,n)&&(e.push(n.i/r|0),e.push(i.i/r|0),e.push(s.i/r|0),M0(i),M0(i.next),i=t=s),i=i.next}while(i!==t);return Uh(i)}function Ele(t,e,r,i,n,s){var a=t;do{for(var o=a.next.next;o!==a.prev;){if(a.i!==o.i&&Nle(a,o)){var l=h$(a,o);a=Uh(a,a.next),l=Uh(l,l.next),I0(a,e,r,i,n,s,0),I0(l,e,r,i,n,s,0);return}o=o.next}a=a.next}while(a!==t)}function Tle(t,e,r,i){var n=[],s,a,o,l,u;for(s=0,a=e.length;s<a;s++)o=e[s]*i,l=s<a-1?e[s+1]*i:t.length,u=u$(t,o,l,i,!1),u===u.next&&(u.steiner=!0),n.push(kle(u));for(n.sort(Ale),s=0;s<n.length;s++)r=Cle(n[s],r);return r}function Ale(t,e){return t.x-e.x}function Cle(t,e){var r=Rle(t,e);if(!r)return e;var i=h$(r,t);return Uh(i,i.next),Uh(r,r.next)}function Rle(t,e){var r=e,i=t.x,n=t.y,s=-1/0,a;do{if(n<=r.y&&n>=r.next.y&&r.next.y!==r.y){var o=r.x+(n-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(o<=i&&o>s&&(s=o,a=r.x<r.next.x?r:r.next,o===i))return a}r=r.next}while(r!==e);if(!a)return null;var l=a,u=a.x,c=a.y,d=1/0,h;r=a;do i>=r.x&&r.x>=u&&i!==r.x&&sf(n<c?i:s,n,u,c,n<c?s:i,n,r.x,r.y)&&(h=Math.abs(n-r.y)/(i-r.x),P0(r,t)&&(h<d||h===d&&(r.x>a.x||r.x===a.x&&Ile(a,r)))&&(a=r,d=h)),r=r.next;while(r!==l);return a}function Ile(t,e){return wr(t.prev,t,e.prev)<0&&wr(e.next,t,t.next)<0}function Ple(t,e,r,i){var n=t;do n.z===0&&(n.z=$C(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,Mle(n)}function Mle(t){var e,r,i,n,s,a,o,l,u=1;do{for(r=t,t=null,s=null,a=0;r;){for(a++,i=r,o=0,e=0;e<u&&(o++,i=i.nextZ,!!i);e++);for(l=u;o>0||l>0&&i;)o!==0&&(l===0||!i||r.z<=i.z)?(n=r,r=r.nextZ,o--):(n=i,i=i.nextZ,l--),s?s.nextZ=n:t=n,n.prevZ=s,s=n;r=i}s.nextZ=null,u*=2}while(a>1);return t}function $C(t,e,r,i,n){return t=(t-r)*n|0,e=(e-i)*n|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function kle(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function sf(t,e,r,i,n,s,a,o){return(n-a)*(e-o)>=(t-a)*(s-o)&&(t-a)*(i-o)>=(r-a)*(e-o)&&(r-a)*(s-o)>=(n-a)*(i-o)}function Nle(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Ole(t,e)&&(P0(t,e)&&P0(e,t)&&Lle(t,e)&&(wr(t.prev,t,e.prev)||wr(t,e.prev,e))||Rw(t,e)&&wr(t.prev,t,t.next)>0&&wr(e.prev,e,e.next)>0)}function wr(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Rw(t,e){return t.x===e.x&&t.y===e.y}function c$(t,e,r,i){var n=hy(wr(t,e,r)),s=hy(wr(t,e,i)),a=hy(wr(r,i,t)),o=hy(wr(r,i,e));return!!(n!==s&&a!==o||n===0&&cy(t,r,e)||s===0&&cy(t,i,e)||a===0&&cy(r,t,i)||o===0&&cy(r,e,i))}function cy(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function hy(t){return t>0?1:t<0?-1:0}function Ole(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&c$(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function P0(t,e){return wr(t.prev,t,t.next)<0?wr(t,e,t.next)>=0&&wr(t,t.prev,e)>=0:wr(t,e,t.prev)<0||wr(t,t.next,e)<0}function Lle(t,e){var r=t,i=!1,n=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&n<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next;while(r!==t);return i}function h$(t,e){var r=new zC(t.i,t.x,t.y),i=new zC(e.i,e.x,e.y),n=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,s.next=i,i.prev=s,i}function U5(t,e,r,i){var n=new zC(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function M0(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function zC(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Cw.deviation=function(t,e,r,i){var n=e&&e.length,s=n?e[0]*r:t.length,a=Math.abs(HC(t,0,s,r));if(n)for(var o=0,l=e.length;o<l;o++){var u=e[o]*r,c=o<l-1?e[o+1]*r:t.length;a-=Math.abs(HC(t,u,c,r))}var d=0;for(o=0;o<i.length;o+=3){var h=i[o]*r,p=i[o+1]*r,g=i[o+2]*r;d+=Math.abs((t[h]-t[g])*(t[p+1]-t[h+1])-(t[h]-t[p])*(t[g+1]-t[h+1]))}return a===0&&d===0?0:Math.abs((d-a)/a)};function HC(t,e,r,i){for(var n=0,s=e,a=r-i;s<r;s+=i)n+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return n}Cw.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var s=0;s<t[n].length;s++)for(var a=0;a<e;a++)r.vertices.push(t[n][s][a]);n>0&&(i+=t[n-1].length,r.holes.push(i))}return r};var Dle=N4.exports;const d$=qn(Dle);var Kb={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Kb.exports;(function(t,e){(function(r){var i=e&&!e.nodeType&&e,n=t&&!t.nodeType&&t,s=typeof Zt=="object"&&Zt;(s.global===s||s.window===s||s.self===s)&&(r=s);var a,o=2147483647,l=36,u=1,c=26,d=38,h=700,p=72,g=128,y="-",b=/^xn--/,x=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=l-u,A=Math.floor,I=String.fromCharCode,P;function M(H){throw new RangeError(_[H])}function k(H,W){for(var K=H.length,Q=[];K--;)Q[K]=W(H[K]);return Q}function U(H,W){var K=H.split("@"),Q="";K.length>1&&(Q=K[0]+"@",H=K[1]),H=H.replace(w,".");var ie=H.split("."),le=k(ie,W).join(".");return Q+le}function j(H){for(var W=[],K=0,Q=H.length,ie,le;K<Q;)ie=H.charCodeAt(K++),ie>=55296&&ie<=56319&&K<Q?(le=H.charCodeAt(K++),(le&64512)==56320?W.push(((ie&1023)<<10)+(le&1023)+65536):(W.push(ie),K--)):W.push(ie);return W}function B(H){return k(H,function(W){var K="";return W>65535&&(W-=65536,K+=I(W>>>10&1023|55296),W=56320|W&1023),K+=I(W),K}).join("")}function L(H){return H-48<10?H-22:H-65<26?H-65:H-97<26?H-97:l}function F(H,W){return H+22+75*(H<26)-((W!=0)<<5)}function O(H,W,K){var Q=0;for(H=K?A(H/h):H>>1,H+=A(H/W);H>E*c>>1;Q+=l)H=A(H/E);return A(Q+(E+1)*H/(H+d))}function $(H){var W=[],K=H.length,Q,ie=0,le=g,fe=p,we,$e,Ze,Fe,Se,We,ze,Dt,Rt;for(we=H.lastIndexOf(y),we<0&&(we=0),$e=0;$e<we;++$e)H.charCodeAt($e)>=128&&M("not-basic"),W.push(H.charCodeAt($e));for(Ze=we>0?we+1:0;Ze<K;){for(Fe=ie,Se=1,We=l;Ze>=K&&M("invalid-input"),ze=L(H.charCodeAt(Ze++)),(ze>=l||ze>A((o-ie)/Se))&&M("overflow"),ie+=ze*Se,Dt=We<=fe?u:We>=fe+c?c:We-fe,!(ze<Dt);We+=l)Rt=l-Dt,Se>A(o/Rt)&&M("overflow"),Se*=Rt;Q=W.length+1,fe=O(ie-Fe,Q,Fe==0),A(ie/Q)>o-le&&M("overflow"),le+=A(ie/Q),ie%=Q,W.splice(ie++,0,le)}return B(W)}function z(H){var W,K,Q,ie,le,fe,we,$e,Ze,Fe,Se,We=[],ze,Dt,Rt,Ar;for(H=j(H),ze=H.length,W=g,K=0,le=p,fe=0;fe<ze;++fe)Se=H[fe],Se<128&&We.push(I(Se));for(Q=ie=We.length,ie&&We.push(y);Q<ze;){for(we=o,fe=0;fe<ze;++fe)Se=H[fe],Se>=W&&Se<we&&(we=Se);for(Dt=Q+1,we-W>A((o-K)/Dt)&&M("overflow"),K+=(we-W)*Dt,W=we,fe=0;fe<ze;++fe)if(Se=H[fe],Se<W&&++K>o&&M("overflow"),Se==W){for($e=K,Ze=l;Fe=Ze<=le?u:Ze>=le+c?c:Ze-le,!($e<Fe);Ze+=l)Ar=$e-Fe,Rt=l-Fe,We.push(I(F(Fe+Ar%Rt,0))),$e=A(Ar/Rt);We.push(I(F($e,0))),le=O(K,Dt,Q==ie),K=0,++Q}++K,++W}return We.join("")}function D(H){return U(H,function(W){return b.test(W)?$(W.slice(4).toLowerCase()):W})}function G(H){return U(H,function(W){return x.test(W)?"xn--"+z(W):W})}if(a={version:"1.4.1",ucs2:{decode:j,encode:B},decode:$,encode:z,toASCII:G,toUnicode:D},i&&n)if(t.exports==i)n.exports=a;else for(P in a)a.hasOwnProperty(P)&&(i[P]=a[P]);else r.punycode=a})(Zt)})(Kb,Kb.exports);var Fle=Kb.exports,Ble=Error,jle=EvalError,Ule=RangeError,$le=ReferenceError,f$=SyntaxError,E1=TypeError,zle=URIError,Hle=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),i=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var n=42;e[r]=n;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==n||a.enumerable!==!0)return!1}return!0},$5=typeof Symbol<"u"&&Symbol,Gle=Hle,Vle=function(){return typeof $5!="function"||typeof Symbol!="function"||typeof $5("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Gle()},z5={foo:{}},Wle=Object,Xle=function(){return{__proto__:z5}.foo===z5.foo&&!({__proto__:null}instanceof Wle)},Yle="Function.prototype.bind called on incompatible ",qle=Object.prototype.toString,Kle=Math.max,Qle="[object Function]",H5=function(e,r){for(var i=[],n=0;n<e.length;n+=1)i[n]=e[n];for(var s=0;s<r.length;s+=1)i[s+e.length]=r[s];return i},Zle=function(e,r){for(var i=[],n=r||0,s=0;n<e.length;n+=1,s+=1)i[s]=e[n];return i},Jle=function(t,e){for(var r="",i=0;i<t.length;i+=1)r+=t[i],i+1<t.length&&(r+=e);return r},eue=function(e){var r=this;if(typeof r!="function"||qle.apply(r)!==Qle)throw new TypeError(Yle+r);for(var i=Zle(arguments,1),n,s=function(){if(this instanceof n){var c=r.apply(this,H5(i,arguments));return Object(c)===c?c:this}return r.apply(e,H5(i,arguments))},a=Kle(0,r.length-i.length),o=[],l=0;l<a;l++)o[l]="$"+l;if(n=Function("binder","return function ("+Jle(o,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var u=function(){};u.prototype=r.prototype,n.prototype=new u,u.prototype=null}return n},tue=eue,O4=Function.prototype.bind||tue,rue=Function.prototype.call,iue=Object.prototype.hasOwnProperty,nue=O4,sue=nue.call(rue,iue),It,aue=Ble,oue=jle,lue=Ule,uue=$le,cp=f$,Sf=E1,cue=zle,p$=Function,CE=function(t){try{return p$('"use strict"; return ('+t+").constructor;")()}catch{}},xh=Object.getOwnPropertyDescriptor;if(xh)try{xh({},"")}catch{xh=null}var RE=function(){throw new Sf},hue=xh?function(){try{return arguments.callee,RE}catch{try{return xh(arguments,"callee").get}catch{return RE}}}():RE,Ed=Vle(),due=Xle(),ci=Object.getPrototypeOf||(due?function(t){return t.__proto__}:null),Nd={},fue=typeof Uint8Array>"u"||!ci?It:ci(Uint8Array),bh={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?It:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?It:ArrayBuffer,"%ArrayIteratorPrototype%":Ed&&ci?ci([][Symbol.iterator]()):It,"%AsyncFromSyncIteratorPrototype%":It,"%AsyncFunction%":Nd,"%AsyncGenerator%":Nd,"%AsyncGeneratorFunction%":Nd,"%AsyncIteratorPrototype%":Nd,"%Atomics%":typeof Atomics>"u"?It:Atomics,"%BigInt%":typeof BigInt>"u"?It:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?It:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?It:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?It:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":aue,"%eval%":eval,"%EvalError%":oue,"%Float32Array%":typeof Float32Array>"u"?It:Float32Array,"%Float64Array%":typeof Float64Array>"u"?It:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?It:FinalizationRegistry,"%Function%":p$,"%GeneratorFunction%":Nd,"%Int8Array%":typeof Int8Array>"u"?It:Int8Array,"%Int16Array%":typeof Int16Array>"u"?It:Int16Array,"%Int32Array%":typeof Int32Array>"u"?It:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ed&&ci?ci(ci([][Symbol.iterator]())):It,"%JSON%":typeof JSON=="object"?JSON:It,"%Map%":typeof Map>"u"?It:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ed||!ci?It:ci(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?It:Promise,"%Proxy%":typeof Proxy>"u"?It:Proxy,"%RangeError%":lue,"%ReferenceError%":uue,"%Reflect%":typeof Reflect>"u"?It:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?It:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ed||!ci?It:ci(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?It:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ed&&ci?ci(""[Symbol.iterator]()):It,"%Symbol%":Ed?Symbol:It,"%SyntaxError%":cp,"%ThrowTypeError%":hue,"%TypedArray%":fue,"%TypeError%":Sf,"%Uint8Array%":typeof Uint8Array>"u"?It:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?It:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?It:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?It:Uint32Array,"%URIError%":cue,"%WeakMap%":typeof WeakMap>"u"?It:WeakMap,"%WeakRef%":typeof WeakRef>"u"?It:WeakRef,"%WeakSet%":typeof WeakSet>"u"?It:WeakSet};if(ci)try{null.error}catch(t){var pue=ci(ci(t));bh["%Error.prototype%"]=pue}var mue=function t(e){var r;if(e==="%AsyncFunction%")r=CE("async function () {}");else if(e==="%GeneratorFunction%")r=CE("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=CE("async function* () {}");else if(e==="%AsyncGenerator%"){var i=t("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if(e==="%AsyncIteratorPrototype%"){var n=t("%AsyncGenerator%");n&&ci&&(r=ci(n.prototype))}return bh[e]=r,r},G5={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T1=O4,Qb=sue,gue=T1.call(Function.call,Array.prototype.concat),vue=T1.call(Function.apply,Array.prototype.splice),V5=T1.call(Function.call,String.prototype.replace),Zb=T1.call(Function.call,String.prototype.slice),yue=T1.call(Function.call,RegExp.prototype.exec),xue=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,bue=/\\(\\)?/g,_ue=function(e){var r=Zb(e,0,1),i=Zb(e,-1);if(r==="%"&&i!=="%")throw new cp("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&r!=="%")throw new cp("invalid intrinsic syntax, expected opening `%`");var n=[];return V5(e,xue,function(s,a,o,l){n[n.length]=o?V5(l,bue,"$1"):a||s}),n},wue=function(e,r){var i=e,n;if(Qb(G5,i)&&(n=G5[i],i="%"+n[0]+"%"),Qb(bh,i)){var s=bh[i];if(s===Nd&&(s=mue(i)),typeof s>"u"&&!r)throw new Sf("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:s}}throw new cp("intrinsic "+e+" does not exist!")},Zh=function(e,r){if(typeof e!="string"||e.length===0)throw new Sf("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Sf('"allowMissing" argument must be a boolean');if(yue(/^%?[^%]*%?$/,e)===null)throw new cp("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=_ue(e),n=i.length>0?i[0]:"",s=wue("%"+n+"%",r),a=s.name,o=s.value,l=!1,u=s.alias;u&&(n=u[0],vue(i,gue([0,1],u)));for(var c=1,d=!0;c<i.length;c+=1){var h=i[c],p=Zb(h,0,1),g=Zb(h,-1);if((p==='"'||p==="'"||p==="`"||g==='"'||g==="'"||g==="`")&&p!==g)throw new cp("property names with quotes must have matching quotes");if((h==="constructor"||!d)&&(l=!0),n+="."+h,a="%"+n+"%",Qb(bh,a))o=bh[a];else if(o!=null){if(!(h in o)){if(!r)throw new Sf("base intrinsic for "+e+" exists, but the property is not available.");return}if(xh&&c+1>=i.length){var y=xh(o,h);d=!!y,d&&"get"in y&&!("originalValue"in y.get)?o=y.get:o=o[h]}else d=Qb(o,h),o=o[h];d&&!l&&(bh[a]=o)}}return o},m$={exports:{}},Sue=Zh,GC=Sue("%Object.defineProperty%",!0),VC=function(){if(GC)try{return GC({},"a",{value:1}),!0}catch{return!1}return!1};VC.hasArrayLengthDefineBug=function(){if(!VC())return null;try{return GC([],"length",{value:1}).length!==1}catch{return!0}};var g$=VC,Eue=Zh,Px=Eue("%Object.getOwnPropertyDescriptor%",!0);if(Px)try{Px([],"length")}catch{Px=null}var v$=Px,Tue=g$(),Aue=Zh,Ng=Tue&&Aue("%Object.defineProperty%",!0);if(Ng)try{Ng({},"a",{value:1})}catch{Ng=!1}var Cue=f$,Td=E1,W5=v$,Rue=function(e,r,i){if(!e||typeof e!="object"&&typeof e!="function")throw new Td("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Td("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Td("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Td("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Td("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Td("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,o=arguments.length>6?arguments[6]:!1,l=!!W5&&W5(e,r);if(Ng)Ng(e,r,{configurable:a===null&&l?l.configurable:!a,enumerable:n===null&&l?l.enumerable:!n,value:i,writable:s===null&&l?l.writable:!s});else if(o||!n&&!s&&!a)e[r]=i;else throw new Cue("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Iue=Zh,X5=Rue,Pue=g$(),Y5=v$,q5=E1,Mue=Iue("%Math.floor%"),kue=function(e,r){if(typeof e!="function")throw new q5("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Mue(r)!==r)throw new q5("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],n=!0,s=!0;if("length"in e&&Y5){var a=Y5(e,"length");a&&!a.configurable&&(n=!1),a&&!a.writable&&(s=!1)}return(n||s||!i)&&(Pue?X5(e,"length",r,!0,!0):X5(e,"length",r)),e};(function(t){var e=O4,r=Zh,i=kue,n=E1,s=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||e.call(a,s),l=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}t.exports=function(h){if(typeof h!="function")throw new n("a function is required");var p=o(e,a,arguments);return i(p,1+u(0,h.length-(arguments.length-1)),!0)};var c=function(){return o(e,s,arguments)};l?l(t.exports,"apply",{value:c}):t.exports.apply=c})(m$);var Nue=m$.exports,y$=Zh,x$=Nue,Oue=x$(y$("String.prototype.indexOf")),Lue=function(e,r){var i=y$(e,!!r);return typeof i=="function"&&Oue(e,".prototype.")>-1?x$(i):i};const Due={},Fue=Object.freeze(Object.defineProperty({__proto__:null,default:Due},Symbol.toStringTag,{value:"Module"})),Bue=SF(Fue);var L4=typeof Map=="function"&&Map.prototype,IE=Object.getOwnPropertyDescriptor&&L4?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Jb=L4&&IE&&typeof IE.get=="function"?IE.get:null,K5=L4&&Map.prototype.forEach,D4=typeof Set=="function"&&Set.prototype,PE=Object.getOwnPropertyDescriptor&&D4?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,e_=D4&&PE&&typeof PE.get=="function"?PE.get:null,Q5=D4&&Set.prototype.forEach,jue=typeof WeakMap=="function"&&WeakMap.prototype,Og=jue?WeakMap.prototype.has:null,Uue=typeof WeakSet=="function"&&WeakSet.prototype,Lg=Uue?WeakSet.prototype.has:null,$ue=typeof WeakRef=="function"&&WeakRef.prototype,Z5=$ue?WeakRef.prototype.deref:null,zue=Boolean.prototype.valueOf,Hue=Object.prototype.toString,Gue=Function.prototype.toString,Vue=String.prototype.match,F4=String.prototype.slice,Su=String.prototype.replace,Wue=String.prototype.toUpperCase,J5=String.prototype.toLowerCase,b$=RegExp.prototype.test,eL=Array.prototype.concat,eo=Array.prototype.join,Xue=Array.prototype.slice,tL=Math.floor,WC=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ME=Object.getOwnPropertySymbols,XC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,hp=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ui=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===hp||!0)?Symbol.toStringTag:null,_$=Object.prototype.propertyIsEnumerable,rL=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function iL(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||b$.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var i=t<0?-tL(-t):tL(t);if(i!==t){var n=String(i),s=F4.call(e,n.length+1);return Su.call(n,r,"$&_")+"."+Su.call(Su.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Su.call(e,r,"$&_")}var YC=Bue,nL=YC.custom,sL=S$(nL)?nL:null,Yue=function t(e,r,i,n){var s=r||{};if(tu(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(tu(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=tu(s,"customInspect")?s.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(tu(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(tu(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var o=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return T$(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return o?iL(e,l):l}if(typeof e=="bigint"){var u=String(e)+"n";return o?iL(e,u):u}var c=typeof s.depth>"u"?5:s.depth;if(typeof i>"u"&&(i=0),i>=c&&c>0&&typeof e=="object")return qC(e)?"[Array]":"[Object]";var d=dce(s,i);if(typeof n>"u")n=[];else if(E$(n,e)>=0)return"[Circular]";function h(L,F,O){if(F&&(n=Xue.call(n),n.push(F)),O){var $={depth:s.depth};return tu(s,"quoteStyle")&&($.quoteStyle=s.quoteStyle),t(L,$,i+1,n)}return t(L,s,i+1,n)}if(typeof e=="function"&&!aL(e)){var p=ice(e),g=dy(e,h);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(g.length>0?" { "+eo.call(g,", ")+" }":"")}if(S$(e)){var y=hp?Su.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):XC.call(e);return typeof e=="object"&&!hp?Sm(y):y}if(uce(e)){for(var b="<"+J5.call(String(e.nodeName)),x=e.attributes||[],w=0;w<x.length;w++)b+=" "+x[w].name+"="+w$(que(x[w].value),"double",s);return b+=">",e.childNodes&&e.childNodes.length&&(b+="..."),b+="</"+J5.call(String(e.nodeName))+">",b}if(qC(e)){if(e.length===0)return"[]";var _=dy(e,h);return d&&!hce(_)?"["+KC(_,d)+"]":"[ "+eo.call(_,", ")+" ]"}if(Que(e)){var E=dy(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!_$.call(e,"cause")?"{ ["+String(e)+"] "+eo.call(eL.call("[cause]: "+h(e.cause),E),", ")+" }":E.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+eo.call(E,", ")+" }"}if(typeof e=="object"&&a){if(sL&&typeof e[sL]=="function"&&YC)return YC(e,{depth:c-i});if(a!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(nce(e)){var A=[];return K5&&K5.call(e,function(L,F){A.push(h(F,e,!0)+" => "+h(L,e))}),oL("Map",Jb.call(e),A,d)}if(oce(e)){var I=[];return Q5&&Q5.call(e,function(L){I.push(h(L,e))}),oL("Set",e_.call(e),I,d)}if(sce(e))return kE("WeakMap");if(lce(e))return kE("WeakSet");if(ace(e))return kE("WeakRef");if(Jue(e))return Sm(h(Number(e)));if(tce(e))return Sm(h(WC.call(e)));if(ece(e))return Sm(zue.call(e));if(Zue(e))return Sm(h(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===Zt)return"{ [object globalThis] }";if(!Kue(e)&&!aL(e)){var P=dy(e,h),M=rL?rL(e)===Object.prototype:e instanceof Object||e.constructor===Object,k=e instanceof Object?"":"null prototype",U=!M&&Ui&&Object(e)===e&&Ui in e?F4.call(uc(e),8,-1):k?"Object":"",j=M||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",B=j+(U||k?"["+eo.call(eL.call([],U||[],k||[]),": ")+"] ":"");return P.length===0?B+"{}":d?B+"{"+KC(P,d)+"}":B+"{ "+eo.call(P,", ")+" }"}return String(e)};function w$(t,e,r){var i=(r.quoteStyle||e)==="double"?'"':"'";return i+t+i}function que(t){return Su.call(String(t),/"/g,"&quot;")}function qC(t){return uc(t)==="[object Array]"&&(!Ui||!(typeof t=="object"&&Ui in t))}function Kue(t){return uc(t)==="[object Date]"&&(!Ui||!(typeof t=="object"&&Ui in t))}function aL(t){return uc(t)==="[object RegExp]"&&(!Ui||!(typeof t=="object"&&Ui in t))}function Que(t){return uc(t)==="[object Error]"&&(!Ui||!(typeof t=="object"&&Ui in t))}function Zue(t){return uc(t)==="[object String]"&&(!Ui||!(typeof t=="object"&&Ui in t))}function Jue(t){return uc(t)==="[object Number]"&&(!Ui||!(typeof t=="object"&&Ui in t))}function ece(t){return uc(t)==="[object Boolean]"&&(!Ui||!(typeof t=="object"&&Ui in t))}function S$(t){if(hp)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!XC)return!1;try{return XC.call(t),!0}catch{}return!1}function tce(t){if(!t||typeof t!="object"||!WC)return!1;try{return WC.call(t),!0}catch{}return!1}var rce=Object.prototype.hasOwnProperty||function(t){return t in this};function tu(t,e){return rce.call(t,e)}function uc(t){return Hue.call(t)}function ice(t){if(t.name)return t.name;var e=Vue.call(Gue.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function E$(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}function nce(t){if(!Jb||!t||typeof t!="object")return!1;try{Jb.call(t);try{e_.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function sce(t){if(!Og||!t||typeof t!="object")return!1;try{Og.call(t,Og);try{Lg.call(t,Lg)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function ace(t){if(!Z5||!t||typeof t!="object")return!1;try{return Z5.call(t),!0}catch{}return!1}function oce(t){if(!e_||!t||typeof t!="object")return!1;try{e_.call(t);try{Jb.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function lce(t){if(!Lg||!t||typeof t!="object")return!1;try{Lg.call(t,Lg);try{Og.call(t,Og)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function uce(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function T$(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,i="... "+r+" more character"+(r>1?"s":"");return T$(F4.call(t,0,e.maxStringLength),e)+i}var n=Su.call(Su.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,cce);return w$(n,"single",e)}function cce(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Wue.call(e.toString(16))}function Sm(t){return"Object("+t+")"}function kE(t){return t+" { ? }"}function oL(t,e,r,i){var n=i?KC(r,i):eo.call(r,", ");return t+" ("+e+") {"+n+"}"}function hce(t){for(var e=0;e<t.length;e++)if(E$(t[e],`
`)>=0)return!1;return!0}function dce(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=eo.call(Array(t.indent+1)," ");else return null;return{base:r,prev:eo.call(Array(e+1),r)}}function KC(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+eo.call(t,","+r)+`
`+e.prev}function dy(t,e){var r=qC(t),i=[];if(r){i.length=t.length;for(var n=0;n<t.length;n++)i[n]=tu(t,n)?e(t[n],t):""}var s=typeof ME=="function"?ME(t):[],a;if(hp){a={};for(var o=0;o<s.length;o++)a["$"+s[o]]=s[o]}for(var l in t)tu(t,l)&&(r&&String(Number(l))===l&&l<t.length||hp&&a["$"+l]instanceof Symbol||(b$.call(/[^\w$]/,l)?i.push(e(l,t)+": "+e(t[l],t)):i.push(l+": "+e(t[l],t))));if(typeof ME=="function")for(var u=0;u<s.length;u++)_$.call(t,s[u])&&i.push("["+e(s[u])+"]: "+e(t[s[u]],t));return i}var A$=Zh,Mp=Lue,fce=Yue,pce=E1,fy=A$("%WeakMap%",!0),py=A$("%Map%",!0),mce=Mp("WeakMap.prototype.get",!0),gce=Mp("WeakMap.prototype.set",!0),vce=Mp("WeakMap.prototype.has",!0),yce=Mp("Map.prototype.get",!0),xce=Mp("Map.prototype.set",!0),bce=Mp("Map.prototype.has",!0),B4=function(t,e){for(var r=t,i;(i=r.next)!==null;r=i)if(i.key===e)return r.next=i.next,i.next=t.next,t.next=i,i},_ce=function(t,e){var r=B4(t,e);return r&&r.value},wce=function(t,e,r){var i=B4(t,e);i?i.value=r:t.next={key:e,next:t.next,value:r}},Sce=function(t,e){return!!B4(t,e)},Ece=function(){var e,r,i,n={assert:function(s){if(!n.has(s))throw new pce("Side channel does not contain "+fce(s))},get:function(s){if(fy&&s&&(typeof s=="object"||typeof s=="function")){if(e)return mce(e,s)}else if(py){if(r)return yce(r,s)}else if(i)return _ce(i,s)},has:function(s){if(fy&&s&&(typeof s=="object"||typeof s=="function")){if(e)return vce(e,s)}else if(py){if(r)return bce(r,s)}else if(i)return Sce(i,s);return!1},set:function(s,a){fy&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new fy),gce(e,s,a)):py?(r||(r=new py),xce(r,s,a)):(i||(i={key:{},next:null}),wce(i,s,a))}};return n},Tce=String.prototype.replace,Ace=/%20/g,NE={RFC1738:"RFC1738",RFC3986:"RFC3986"},j4={default:NE.RFC3986,formatters:{RFC1738:function(t){return Tce.call(t,Ace,"+")},RFC3986:function(t){return String(t)}},RFC1738:NE.RFC1738,RFC3986:NE.RFC3986},Cce=j4,OE=Object.prototype.hasOwnProperty,Xc=Array.isArray,$a=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Rce=function(e){for(;e.length>1;){var r=e.pop(),i=r.obj[r.prop];if(Xc(i)){for(var n=[],s=0;s<i.length;++s)typeof i[s]<"u"&&n.push(i[s]);r.obj[r.prop]=n}}},C$=function(e,r){for(var i=r&&r.plainObjects?Object.create(null):{},n=0;n<e.length;++n)typeof e[n]<"u"&&(i[n]=e[n]);return i},Ice=function t(e,r,i){if(!r)return e;if(typeof r!="object"){if(Xc(e))e.push(r);else if(e&&typeof e=="object")(i&&(i.plainObjects||i.allowPrototypes)||!OE.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var n=e;return Xc(e)&&!Xc(r)&&(n=C$(e,i)),Xc(e)&&Xc(r)?(r.forEach(function(s,a){if(OE.call(e,a)){var o=e[a];o&&typeof o=="object"&&s&&typeof s=="object"?e[a]=t(o,s,i):e.push(s)}else e[a]=s}),e):Object.keys(r).reduce(function(s,a){var o=r[a];return OE.call(s,a)?s[a]=t(s[a],o,i):s[a]=o,s},n)},Pce=function(e,r){return Object.keys(r).reduce(function(i,n){return i[n]=r[n],i},e)},Mce=function(t,e,r){var i=t.replace(/\+/g," ");if(r==="iso-8859-1")return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch{return i}},kce=function(e,r,i,n,s){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),i==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var o="",l=0;l<a.length;++l){var u=a.charCodeAt(l);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===Cce.RFC1738&&(u===40||u===41)){o+=a.charAt(l);continue}if(u<128){o=o+$a[u];continue}if(u<2048){o=o+($a[192|u>>6]+$a[128|u&63]);continue}if(u<55296||u>=57344){o=o+($a[224|u>>12]+$a[128|u>>6&63]+$a[128|u&63]);continue}l+=1,u=65536+((u&1023)<<10|a.charCodeAt(l)&1023),o+=$a[240|u>>18]+$a[128|u>>12&63]+$a[128|u>>6&63]+$a[128|u&63]}return o},Nce=function(e){for(var r=[{obj:{o:e},prop:"o"}],i=[],n=0;n<r.length;++n)for(var s=r[n],a=s.obj[s.prop],o=Object.keys(a),l=0;l<o.length;++l){var u=o[l],c=a[u];typeof c=="object"&&c!==null&&i.indexOf(c)===-1&&(r.push({obj:a,prop:u}),i.push(c))}return Rce(r),e},Oce=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Lce=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Dce=function(e,r){return[].concat(e,r)},Fce=function(e,r){if(Xc(e)){for(var i=[],n=0;n<e.length;n+=1)i.push(r(e[n]));return i}return r(e)},R$={arrayToObject:C$,assign:Pce,combine:Dce,compact:Nce,decode:Mce,encode:kce,isBuffer:Lce,isRegExp:Oce,maybeMap:Fce,merge:Ice},I$=Ece,Mx=R$,Dg=j4,Bce=Object.prototype.hasOwnProperty,lL={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Xo=Array.isArray,jce=Array.prototype.push,P$=function(t,e){jce.apply(t,Xo(e)?e:[e])},Uce=Date.prototype.toISOString,uL=Dg.default,Di={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Mx.encode,encodeValuesOnly:!1,format:uL,formatter:Dg.formatters[uL],indices:!1,serializeDate:function(e){return Uce.call(e)},skipNulls:!1,strictNullHandling:!1},$ce=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},LE={},zce=function t(e,r,i,n,s,a,o,l,u,c,d,h,p,g,y,b){for(var x=e,w=b,_=0,E=!1;(w=w.get(LE))!==void 0&&!E;){var A=w.get(e);if(_+=1,typeof A<"u"){if(A===_)throw new RangeError("Cyclic object value");E=!0}typeof w.get(LE)>"u"&&(_=0)}if(typeof l=="function"?x=l(r,x):x instanceof Date?x=d(x):i==="comma"&&Xo(x)&&(x=Mx.maybeMap(x,function($){return $ instanceof Date?d($):$})),x===null){if(s)return o&&!g?o(r,Di.encoder,y,"key",h):r;x=""}if($ce(x)||Mx.isBuffer(x)){if(o){var I=g?r:o(r,Di.encoder,y,"key",h);return[p(I)+"="+p(o(x,Di.encoder,y,"value",h))]}return[p(r)+"="+p(String(x))]}var P=[];if(typeof x>"u")return P;var M;if(i==="comma"&&Xo(x))g&&o&&(x=Mx.maybeMap(x,o)),M=[{value:x.length>0?x.join(",")||null:void 0}];else if(Xo(l))M=l;else{var k=Object.keys(x);M=u?k.sort(u):k}for(var U=n&&Xo(x)&&x.length===1?r+"[]":r,j=0;j<M.length;++j){var B=M[j],L=typeof B=="object"&&typeof B.value<"u"?B.value:x[B];if(!(a&&L===null)){var F=Xo(x)?typeof i=="function"?i(U,B):U:U+(c?"."+B:"["+B+"]");b.set(e,_);var O=I$();O.set(LE,b),P$(P,t(L,F,i,n,s,a,i==="comma"&&g&&Xo(x)?null:o,l,u,c,d,h,p,g,y,O))}}return P},Hce=function(e){if(!e)return Di;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Di.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=Dg.default;if(typeof e.format<"u"){if(!Bce.call(Dg.formatters,e.format))throw new TypeError("Unknown format option provided.");i=e.format}var n=Dg.formatters[i],s=Di.filter;return(typeof e.filter=="function"||Xo(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Di.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Di.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Di.charsetSentinel,delimiter:typeof e.delimiter>"u"?Di.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Di.encode,encoder:typeof e.encoder=="function"?e.encoder:Di.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Di.encodeValuesOnly,filter:s,format:i,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Di.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Di.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Di.strictNullHandling}},Gce=function(t,e){var r=t,i=Hce(e),n,s;typeof i.filter=="function"?(s=i.filter,r=s("",r)):Xo(i.filter)&&(s=i.filter,n=s);var a=[];if(typeof r!="object"||r===null)return"";var o;e&&e.arrayFormat in lL?o=e.arrayFormat:e&&"indices"in e?o=e.indices?"indices":"repeat":o="indices";var l=lL[o];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=l==="comma"&&e&&e.commaRoundTrip;n||(n=Object.keys(r)),i.sort&&n.sort(i.sort);for(var c=I$(),d=0;d<n.length;++d){var h=n[d];i.skipNulls&&r[h]===null||P$(a,zce(r[h],h,l,u,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,c))}var p=a.join(i.delimiter),g=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),p.length>0?g+p:""},dp=R$,QC=Object.prototype.hasOwnProperty,Vce=Array.isArray,li={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:dp.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Wce=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},M$=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Xce="utf8=%26%2310003%3B",Yce="utf8=%E2%9C%93",qce=function(e,r){var i={__proto__:null},n=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,a=n.split(r.delimiter,s),o=-1,l,u=r.charset;if(r.charsetSentinel)for(l=0;l<a.length;++l)a[l].indexOf("utf8=")===0&&(a[l]===Yce?u="utf-8":a[l]===Xce&&(u="iso-8859-1"),o=l,l=a.length);for(l=0;l<a.length;++l)if(l!==o){var c=a[l],d=c.indexOf("]="),h=d===-1?c.indexOf("="):d+1,p,g;h===-1?(p=r.decoder(c,li.decoder,u,"key"),g=r.strictNullHandling?null:""):(p=r.decoder(c.slice(0,h),li.decoder,u,"key"),g=dp.maybeMap(M$(c.slice(h+1),r),function(y){return r.decoder(y,li.decoder,u,"value")})),g&&r.interpretNumericEntities&&u==="iso-8859-1"&&(g=Wce(g)),c.indexOf("[]=")>-1&&(g=Vce(g)?[g]:g),QC.call(i,p)?i[p]=dp.combine(i[p],g):i[p]=g}return i},Kce=function(t,e,r,i){for(var n=i?e:M$(e,r),s=t.length-1;s>=0;--s){var a,o=t[s];if(o==="[]"&&r.parseArrays)a=[].concat(n);else{a=r.plainObjects?Object.create(null):{};var l=o.charAt(0)==="["&&o.charAt(o.length-1)==="]"?o.slice(1,-1):o,u=parseInt(l,10);!r.parseArrays&&l===""?a={0:n}:!isNaN(u)&&o!==l&&String(u)===l&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(a=[],a[u]=n):l!=="__proto__"&&(a[l]=n)}n=a}return n},Qce=function(e,r,i,n){if(e){var s=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,l=i.depth>0&&a.exec(s),u=l?s.slice(0,l.index):s,c=[];if(u){if(!i.plainObjects&&QC.call(Object.prototype,u)&&!i.allowPrototypes)return;c.push(u)}for(var d=0;i.depth>0&&(l=o.exec(s))!==null&&d<i.depth;){if(d+=1,!i.plainObjects&&QC.call(Object.prototype,l[1].slice(1,-1))&&!i.allowPrototypes)return;c.push(l[1])}return l&&c.push("["+s.slice(l.index)+"]"),Kce(c,r,i,n)}},Zce=function(e){if(!e)return li;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?li.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?li.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:li.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:li.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:li.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:li.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:li.comma,decoder:typeof e.decoder=="function"?e.decoder:li.decoder,delimiter:typeof e.delimiter=="string"||dp.isRegExp(e.delimiter)?e.delimiter:li.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:li.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:li.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:li.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:li.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:li.strictNullHandling}},Jce=function(t,e){var r=Zce(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var i=typeof t=="string"?qce(t,r):t,n=r.plainObjects?Object.create(null):{},s=Object.keys(i),a=0;a<s.length;++a){var o=s[a],l=Qce(o,i[o],r,typeof t=="string");n=dp.merge(n,l,r)}return r.allowSparse===!0?n:dp.compact(n)},ehe=Gce,the=Jce,rhe=j4,ihe={formats:rhe,parse:the,stringify:ehe},nhe=Fle;function ol(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var she=/^([a-z0-9.+-]+:)/i,ahe=/:[0-9]*$/,ohe=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,lhe=["<",">",'"',"`"," ","\r",`
`,"	"],uhe=["{","}","|","\\","^","`"].concat(lhe),ZC=["'"].concat(uhe),cL=["%","/","?",";","#"].concat(ZC),hL=["/","?","#"],che=255,dL=/^[+a-z0-9A-Z_-]{0,63}$/,hhe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,dhe={javascript:!0,"javascript:":!0},JC={javascript:!0,"javascript:":!0},Ef={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},e3=ihe;function fhe(t,e,r){if(t&&typeof t=="object"&&t instanceof ol)return t;var i=new ol;return i.parse(t,e,r),i}ol.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),n=i!==-1&&i<t.indexOf("#")?"?":"#",s=t.split(n),a=/\\/g;s[0]=s[0].replace(a,"/"),t=s.join(n);var o=t;if(o=o.trim(),!r&&t.split("#").length===1){var l=ohe.exec(o);if(l)return this.path=o,this.href=o,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=e3.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=she.exec(o);if(u){u=u[0];var c=u.toLowerCase();this.protocol=c,o=o.substr(u.length)}if(r||u||o.match(/^\/\/[^@/]+@[^@/]+/)){var d=o.substr(0,2)==="//";d&&!(u&&JC[u])&&(o=o.substr(2),this.slashes=!0)}if(!JC[u]&&(d||u&&!Ef[u])){for(var h=-1,p=0;p<hL.length;p++){var g=o.indexOf(hL[p]);g!==-1&&(h===-1||g<h)&&(h=g)}var y,b;h===-1?b=o.lastIndexOf("@"):b=o.lastIndexOf("@",h),b!==-1&&(y=o.slice(0,b),o=o.slice(b+1),this.auth=decodeURIComponent(y)),h=-1;for(var p=0;p<cL.length;p++){var g=o.indexOf(cL[p]);g!==-1&&(h===-1||g<h)&&(h=g)}h===-1&&(h=o.length),this.host=o.slice(0,h),o=o.slice(h),this.parseHost(),this.hostname=this.hostname||"";var x=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!x)for(var w=this.hostname.split(/\./),p=0,_=w.length;p<_;p++){var E=w[p];if(E&&!E.match(dL)){for(var A="",I=0,P=E.length;I<P;I++)E.charCodeAt(I)>127?A+="x":A+=E[I];if(!A.match(dL)){var M=w.slice(0,p),k=w.slice(p+1),U=E.match(hhe);U&&(M.push(U[1]),k.unshift(U[2])),k.length&&(o="/"+k.join(".")+o),this.hostname=M.join(".");break}}}this.hostname.length>che?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=nhe.toASCII(this.hostname));var j=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+j,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),o[0]!=="/"&&(o="/"+o))}if(!dhe[c])for(var p=0,_=ZC.length;p<_;p++){var L=ZC[p];if(o.indexOf(L)!==-1){var F=encodeURIComponent(L);F===L&&(F=escape(L)),o=o.split(L).join(F)}}var O=o.indexOf("#");O!==-1&&(this.hash=o.substr(O),o=o.slice(0,O));var $=o.indexOf("?");if($!==-1?(this.search=o.substr($),this.query=o.substr($+1),e&&(this.query=e3.parse(this.query)),o=o.slice(0,$)):e&&(this.search="",this.query={}),o&&(this.pathname=o),Ef[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var j=this.pathname||"",z=this.search||"";this.path=j+z}return this.href=this.format(),this};ol.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",n=!1,s="";this.host?n=t+this.host:this.hostname&&(n=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=e3.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var a=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Ef[e])&&n!==!1?(n="//"+(n||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):n||(n=""),i&&i.charAt(0)!=="#"&&(i="#"+i),a&&a.charAt(0)!=="?"&&(a="?"+a),r=r.replace(/[?#]/g,function(o){return encodeURIComponent(o)}),a=a.replace("#","%23"),e+n+r+a+i};ol.prototype.resolve=function(t){return this.resolveObject(fhe(t,!1,!0)).format()};ol.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new ol;e.parse(t,!1,!0),t=e}for(var r=new ol,i=Object.keys(this),n=0;n<i.length;n++){var s=i[n];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),o=0;o<a.length;o++){var l=a[o];l!=="protocol"&&(r[l]=t[l])}return Ef[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Ef[t.protocol]){for(var u=Object.keys(t),c=0;c<u.length;c++){var d=u[c];r[d]=t[d]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!JC[t.protocol]){for(var _=(t.pathname||"").split("/");_.length&&!(t.host=_.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),_[0]!==""&&_.unshift(""),_.length<2&&_.unshift(""),r.pathname=_.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var h=r.pathname||"",p=r.search||"";r.path=h+p}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var g=r.pathname&&r.pathname.charAt(0)==="/",y=t.host||t.pathname&&t.pathname.charAt(0)==="/",b=y||g||r.host&&t.pathname,x=b,w=r.pathname&&r.pathname.split("/")||[],_=t.pathname&&t.pathname.split("/")||[],E=r.protocol&&!Ef[r.protocol];if(E&&(r.hostname="",r.port=null,r.host&&(w[0]===""?w[0]=r.host:w.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(_[0]===""?_[0]=t.host:_.unshift(t.host)),t.host=null),b=b&&(_[0]===""||w[0]==="")),y)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,w=_;else if(_.length)w||(w=[]),w.pop(),w=w.concat(_),r.search=t.search,r.query=t.query;else if(t.search!=null){if(E){r.host=w.shift(),r.hostname=r.host;var A=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;A&&(r.auth=A.shift(),r.hostname=A.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var I=w.slice(-1)[0],P=(r.host||t.host||w.length>1)&&(I==="."||I==="..")||I==="",M=0,k=w.length;k>=0;k--)I=w[k],I==="."?w.splice(k,1):I===".."?(w.splice(k,1),M++):M&&(w.splice(k,1),M--);if(!b&&!x)for(;M--;M)w.unshift("..");b&&w[0]!==""&&(!w[0]||w[0].charAt(0)!=="/")&&w.unshift(""),P&&w.join("/").substr(-1)!=="/"&&w.push("");var U=w[0]===""||w[0]&&w[0].charAt(0)==="/";if(E){r.hostname=U?"":w.length?w.shift():"",r.host=r.hostname;var A=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;A&&(r.auth=A.shift(),r.hostname=A.shift(),r.host=r.hostname)}return b=b||r.host&&w.length,b&&!U&&w.unshift(""),w.length>0?r.pathname=w.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};ol.prototype.parseHost=function(){var t=this.host,e=ahe.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const fL={};function Ft(t,e,r=3){if(fL[e])return;let i=new Error().stack;typeof i>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(i=i.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(i))),fL[e]=!0}function Ws(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Em(t){return t.split("?")[0].split("#")[0]}function phe(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function mhe(t,e,r){return t.replace(new RegExp(phe(e),"g"),r)}function ghe(t,e){let r="",i=0,n=-1,s=0,a=-1;for(let o=0;o<=t.length;++o){if(o<t.length)a=t.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(n===o-1||s===1))if(n!==o-1&&s===2){if(r.length<2||i!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const l=r.lastIndexOf("/");if(l!==r.length-1){l===-1?(r="",i=0):(r=r.slice(0,l),i=r.length-1-r.lastIndexOf("/")),n=o,s=0;continue}}else if(r.length===2||r.length===1){r="",i=0,n=o,s=0;continue}}e&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+=`/${t.slice(n+1,o)}`:r=t.slice(n+1,o),i=o-n-1;n=o,s=0}else a===46&&s!==-1?++s:s=-1}return r}const Is={toPosix(t){return mhe(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){Ws(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(Ws(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const i=Em(this.toPosix(e??rt.ADAPTER.getBaseUrl())),n=Em(this.toPosix(r??this.rootname(i)));return t=this.toPosix(t),t.startsWith("/")?Is.join(n,t.slice(1)):this.isAbsolute(t)?t:this.join(i,t)},normalize(t){if(Ws(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const i=t.endsWith("/");return t=ghe(t,!1),t.length>0&&i&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return Ws(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const i=t[r];if(Ws(i),i.length>0)if(e===void 0)e=i;else{const n=t[r-1]??"";this.joinExtensions.includes(this.extname(n).toLowerCase())?e+=`/../${i}`:e+=`/${i}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Ws(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let i=-1,n=!0;const s=this.getProtocol(t),a=t;t=t.slice(s.length);for(let o=t.length-1;o>=1;--o)if(e=t.charCodeAt(o),e===47){if(!n){i=o;break}}else n=!1;return i===-1?r?"/":this.isUrl(a)?s+t:s:r&&i===1?"//":s+t.slice(0,i)},rootname(t){Ws(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Ws(t),e&&Ws(e),t=Em(this.toPosix(t));let r=0,i=-1,n=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let a=e.length-1,o=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!n){r=s+1;break}}else o===-1&&(n=!1,o=s+1),a>=0&&(l===e.charCodeAt(a)?--a===-1&&(i=s):(a=-1,i=o))}return r===i?i=o:i===-1&&(i=t.length),t.slice(r,i)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!n){r=s+1;break}}else i===-1&&(n=!1,i=s+1);return i===-1?"":t.slice(r,i)},extname(t){Ws(t),t=Em(this.toPosix(t));let e=-1,r=0,i=-1,n=!0,s=0;for(let a=t.length-1;a>=0;--a){const o=t.charCodeAt(a);if(o===47){if(!n){r=a+1;break}continue}i===-1&&(n=!1,i=a+1),o===46?e===-1?e=a:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||i===-1||s===0||s===1&&e===i-1&&e===r+1?"":t.slice(e,i)},parse(t){Ws(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Em(this.toPosix(t));let r=t.charCodeAt(0);const i=this.isAbsolute(t);let n;e.root=this.rootname(t),i||this.hasProtocol(t)?n=1:n=0;let s=-1,a=0,o=-1,l=!0,u=t.length-1,c=0;for(;u>=n;--u){if(r=t.charCodeAt(u),r===47){if(!l){a=u+1;break}continue}o===-1&&(l=!1,o=u+1),r===46?s===-1?s=u:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||o===-1||c===0||c===1&&s===o-1&&s===a+1?o!==-1&&(a===0&&i?e.base=e.name=t.slice(1,o):e.base=e.name=t.slice(a,o)):(a===0&&i?(e.name=t.slice(1,s),e.base=t.slice(1,o)):(e.name=t.slice(a,s),e.base=t.slice(a,o)),e.ext=t.slice(s,o)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let DE;async function vhe(){return DE??(DE=(async()=>{var s;const t=document.createElement("canvas").getContext("webgl");if(!t)return Ss.UNPACK;const e=await new Promise(a=>{const o=document.createElement("video");o.onloadeddata=()=>a(o),o.onerror=()=>a(null),o.autoplay=!1,o.crossOrigin="anonymous",o.preload="auto",o.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",o.load()});if(!e)return Ss.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const i=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,i),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const n=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,n),t.deleteFramebuffer(i),t.deleteTexture(r),(s=t.getExtension("WEBGL_lose_context"))==null||s.loseContext(),n[0]<=n[3]?Ss.PMA:Ss.UNPACK})()),DE}let FE;function yhe(){return typeof FE>"u"&&(FE=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:rt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!rt.ADAPTER.getWebGLRenderingContext())return!1;const r=rt.ADAPTER.createCanvas();let i=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const n=!!((e=i==null?void 0:i.getContextAttributes())!=null&&e.stencil);if(i){const s=i.getExtension("WEBGL_lose_context");s&&s.loseContext()}return i=null,n}catch{return!1}}()),FE}var xhe={grad:.9,turn:360,rad:360/(2*Math.PI)},Do=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},fi=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Ts=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},k$=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},pL=function(t){return{r:Ts(t.r,0,255),g:Ts(t.g,0,255),b:Ts(t.b,0,255),a:Ts(t.a)}},BE=function(t){return{r:fi(t.r),g:fi(t.g),b:fi(t.b),a:fi(t.a,3)}},bhe=/^#([0-9a-f]{3,8})$/i,my=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},N$=function(t){var e=t.r,r=t.g,i=t.b,n=t.a,s=Math.max(e,r,i),a=s-Math.min(e,r,i),o=a?s===e?(r-i)/a:s===r?2+(i-e)/a:4+(e-r)/a:0;return{h:60*(o<0?o+6:o),s:s?a/s*100:0,v:s/255*100,a:n}},O$=function(t){var e=t.h,r=t.s,i=t.v,n=t.a;e=e/360*6,r/=100,i/=100;var s=Math.floor(e),a=i*(1-r),o=i*(1-(e-s)*r),l=i*(1-(1-e+s)*r),u=s%6;return{r:255*[i,o,a,a,l,i][u],g:255*[l,i,i,o,a,a][u],b:255*[a,a,l,i,i,o][u],a:n}},mL=function(t){return{h:k$(t.h),s:Ts(t.s,0,100),l:Ts(t.l,0,100),a:Ts(t.a)}},gL=function(t){return{h:fi(t.h),s:fi(t.s),l:fi(t.l),a:fi(t.a,3)}},vL=function(t){return O$((r=(e=t).s,{h:e.h,s:(r*=((i=e.l)<50?i:100-i)/100)>0?2*r/(i+r)*100:0,v:i+r,a:e.a}));var e,r,i},Fg=function(t){return{h:(e=N$(t)).h,s:(n=(200-(r=e.s))*(i=e.v)/100)>0&&n<200?r*i/100/(n<=100?n:200-n)*100:0,l:n/2,a:e.a};var e,r,i,n},_he=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,whe=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,She=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ehe=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,t3={string:[[function(t){var e=bhe.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?fi(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?fi(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=She.exec(t)||Ehe.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:pL({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=_he.exec(t)||whe.exec(t);if(!e)return null;var r,i,n=mL({h:(r=e[1],i=e[2],i===void 0&&(i="deg"),Number(r)*(xhe[i]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return vL(n)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,i=t.b,n=t.a,s=n===void 0?1:n;return Do(e)&&Do(r)&&Do(i)?pL({r:Number(e),g:Number(r),b:Number(i),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,i=t.l,n=t.a,s=n===void 0?1:n;if(!Do(e)||!Do(r)||!Do(i))return null;var a=mL({h:Number(e),s:Number(r),l:Number(i),a:Number(s)});return vL(a)},"hsl"],[function(t){var e=t.h,r=t.s,i=t.v,n=t.a,s=n===void 0?1:n;if(!Do(e)||!Do(r)||!Do(i))return null;var a=function(o){return{h:k$(o.h),s:Ts(o.s,0,100),v:Ts(o.v,0,100),a:Ts(o.a)}}({h:Number(e),s:Number(r),v:Number(i),a:Number(s)});return O$(a)},"hsv"]]},yL=function(t,e){for(var r=0;r<e.length;r++){var i=e[r][0](t);if(i)return[i,e[r][1]]}return[null,void 0]},The=function(t){return typeof t=="string"?yL(t.trim(),t3.string):typeof t=="object"&&t!==null?yL(t,t3.object):[null,void 0]},jE=function(t,e){var r=Fg(t);return{h:r.h,s:Ts(r.s+100*e,0,100),l:r.l,a:r.a}},UE=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},xL=function(t,e){var r=Fg(t);return{h:r.h,s:r.s,l:Ts(r.l+100*e,0,100),a:r.a}},r3=function(){function t(e){this.parsed=The(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return fi(UE(this.rgba),2)},t.prototype.isDark=function(){return UE(this.rgba)<.5},t.prototype.isLight=function(){return UE(this.rgba)>=.5},t.prototype.toHex=function(){return e=BE(this.rgba),r=e.r,i=e.g,n=e.b,a=(s=e.a)<1?my(fi(255*s)):"","#"+my(r)+my(i)+my(n)+a;var e,r,i,n,s,a},t.prototype.toRgb=function(){return BE(this.rgba)},t.prototype.toRgbString=function(){return e=BE(this.rgba),r=e.r,i=e.g,n=e.b,(s=e.a)<1?"rgba("+r+", "+i+", "+n+", "+s+")":"rgb("+r+", "+i+", "+n+")";var e,r,i,n,s},t.prototype.toHsl=function(){return gL(Fg(this.rgba))},t.prototype.toHslString=function(){return e=gL(Fg(this.rgba)),r=e.h,i=e.s,n=e.l,(s=e.a)<1?"hsla("+r+", "+i+"%, "+n+"%, "+s+")":"hsl("+r+", "+i+"%, "+n+"%)";var e,r,i,n,s},t.prototype.toHsv=function(){return e=N$(this.rgba),{h:fi(e.h),s:fi(e.s),v:fi(e.v),a:fi(e.a,3)};var e},t.prototype.invert=function(){return Js({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Js(jE(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Js(jE(this.rgba,-e))},t.prototype.grayscale=function(){return Js(jE(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Js(xL(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Js(xL(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Js({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):fi(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Fg(this.rgba);return typeof e=="number"?Js({h:e,s:r.s,l:r.l,a:r.a}):fi(r.h)},t.prototype.isEqual=function(e){return this.toHex()===Js(e).toHex()},t}(),Js=function(t){return t instanceof r3?t:new r3(t)},bL=[],L$=function(t){t.forEach(function(e){bL.indexOf(e)<0&&(e(r3,t3),bL.push(e))})};function D$(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var n in r)i[r[n]]=n;var s={};t.prototype.toName=function(a){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var o,l,u=i[this.toHex()];if(u)return u;if(a!=null&&a.closest){var c=this.toRgb(),d=1/0,h="black";if(!s.length)for(var p in r)s[p]=new t(r[p]).toRgb();for(var g in r){var y=(o=c,l=s[g],Math.pow(o.r-l.r,2)+Math.pow(o.g-l.g,2)+Math.pow(o.b-l.b,2));y<d&&(d=y,h=g)}return h}},e.string.push([function(a){var o=a.toLowerCase(),l=o==="transparent"?"#0000":r[o];return l?new t(l).toRgb():null},"name"])}L$([D$]);const Od=class kx{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof kx)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const i=typeof e;if(i!==typeof r)return!1;if(i==="number"||i==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((n,s)=>n===r[s]);if(e!==null&&r!==null){const n=Object.keys(e),s=Object.keys(r);return n.length!==s.length?!1:n.every(a=>e[a]===r[a])}return e===r}toRgba(){const[e,r,i,n]=this._components;return{r:e,g:r,b:i,a:n}}toRgb(){const[e,r,i]=this._components;return{r:e,g:r,b:i}}toRgbaString(){const[e,r,i]=this.toUint8RgbArray();return`rgba(${e},${r},${i},${this.alpha})`}toUint8RgbArray(e){const[r,i,n]=this._components;return e=e??[],e[0]=Math.round(r*255),e[1]=Math.round(i*255),e[2]=Math.round(n*255),e}toRgbArray(e){e=e??[];const[r,i,n]=this._components;return e[0]=r,e[1]=i,e[2]=n,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,i,n,s]=kx.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=i,this._components[2]*=n,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let i=this._int>>16&255,n=this._int>>8&255,s=this._int&255;return r&&(i=i*e+.5|0,n=n*e+.5|0,s=s*e+.5|0),(e*255<<24)+(i<<16)+(n<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,i,n]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(i*e)/e,this._components[2]=Math.round(n*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[r,i,n,s]=this._components;return e[0]=r,e[1]=i,e[2]=n,e[3]=s,e}normalize(e){let r,i,n,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const a=e;r=(a>>16&255)/255,i=(a>>8&255)/255,n=(a&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,i,n,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,i,n,s=255]=e,r/=255,i/=255,n/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const o=kx.HEX_PATTERN.exec(e);o&&(e=`#${o[2]}`)}const a=Js(e);a.isValid()&&({r,g:i,b:n,a:s}=a.rgba,r/=255,i/=255,n/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=i,this._components[2]=n,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,r,i]=this._components;this._int=(e*255<<16)+(r*255<<8)+(i*255|0)}_clamp(e,r=0,i=1){return typeof e=="number"?Math.min(Math.max(e,r),i):(e.forEach((n,s)=>{e[s]=Math.min(Math.max(n,r),i)}),e)}};Od.shared=new Od,Od.temp=new Od,Od.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Mr=Od;function Ahe(){const t=[],e=[];for(let i=0;i<32;i++)t[i]=i,e[i]=i;t[ut.NORMAL_NPM]=ut.NORMAL,t[ut.ADD_NPM]=ut.ADD,t[ut.SCREEN_NPM]=ut.SCREEN,e[ut.NORMAL]=ut.NORMAL_NPM,e[ut.ADD]=ut.ADD_NPM,e[ut.SCREEN]=ut.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const F$=Ahe();function B$(t,e){return F$[e?1:0][t]}function Che(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let i=0,n=0;i<r;i+=6,n+=4)e[i+0]=n+0,e[i+1]=n+1,e[i+2]=n+2,e[i+3]=n+0,e[i+4]=n+2,e[i+5]=n+3;return e}function j$(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function t_(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function _L(t){return!(t&t-1)&&!!t}function wL(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Bg(t,e,r){const i=t.length;let n;if(e>=i||r===0)return;r=e+r>i?i-e:r;const s=i-r;for(n=e;n<s;++n)t[n]=t[n+r];t.length=s}function af(t){return t===0?0:t<0?-1:1}let Rhe=0;function k0(){return++Rhe}const i3=class{constructor(e,r,i,n){this.left=e,this.top=r,this.right=i,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};i3.EMPTY=new i3(0,0,0,0);let SL=i3;const EL={},za=Object.create(null),Gl=Object.create(null);function TL(t,e,r){for(let i=0,n=4*r*e;i<e;++i,n+=4)if(t[n+3]!==0)return!1;return!0}function AL(t,e,r,i,n){const s=4*e;for(let a=i,o=i*s+4*r;a<=n;++a,o+=s)if(t[o+3]!==0)return!1;return!0}function Ihe(t){const{width:e,height:r}=t,i=t.getContext("2d",{willReadFrequently:!0});if(i===null)throw new TypeError("Failed to get canvas 2D context");const n=i.getImageData(0,0,e,r).data;let s=0,a=0,o=e-1,l=r-1;for(;a<r&&TL(n,e,a);)++a;if(a===r)return SL.EMPTY;for(;TL(n,e,l);)--l;for(;AL(n,e,s,a,l);)++s;for(;AL(n,e,o,a,l);)--o;return++o,++l,new SL(s,a,o,l)}function Phe(t){const e=Ihe(t),{width:r,height:i}=e;let n=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");n=s.getImageData(e.left,e.top,r,i)}return{width:r,height:i,data:n}}function Mhe(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function fp(t,e=1){var i;const r=(i=rt.RETINA_PREFIX)==null?void 0:i.exec(t);return r?parseFloat(r[1]):e}var Be=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(Be||{});const n3=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},CL=(t,e)=>n3(t).priority??e,ot={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(n3).forEach(e=>{e.type.forEach(r=>{var i,n;return(n=(i=this._removeHandlers)[r])==null?void 0:n.call(i,e)})}),this},add(...t){return t.map(n3).forEach(e=>{e.type.forEach(r=>{var s,a;const i=this._addHandlers,n=this._queue;i[r]?(s=i[r])==null||s.call(i,e):(n[r]=n[r]||[],(a=n[r])==null||a.push(e))})}),this},handle(t,e,r){var a;const i=this._addHandlers,n=this._removeHandlers;if(i[t]||n[t])throw new Error(`Extension type ${t} already has a handler`);i[t]=e,n[t]=r;const s=this._queue;return s[t]&&((a=s[t])==null||a.forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{r.name&&(e[r.name]=r.ref)},r=>{r.name&&delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,i=>{e.includes(i.ref)||(e.push(i.ref),e.sort((n,s)=>CL(s,r)-CL(n,r)))},i=>{const n=e.indexOf(i.ref);n!==-1&&e.splice(n,1)})}};let khe=class{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}};const Nhe=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Ohe(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function Lhe(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const i=Nhe.replace(/%forloop%/gi,Ohe(t));if(e.shaderSource(r,i),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const $E=0,zE=1,HE=2,GE=3,VE=4,WE=5;let cc=class U${constructor(){this.data=0,this.blendMode=ut.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<$E)}set blend(e){!!(this.data&1<<$E)!==e&&(this.data^=1<<$E)}get offsets(){return!!(this.data&1<<zE)}set offsets(e){!!(this.data&1<<zE)!==e&&(this.data^=1<<zE)}get culling(){return!!(this.data&1<<HE)}set culling(e){!!(this.data&1<<HE)!==e&&(this.data^=1<<HE)}get depthTest(){return!!(this.data&1<<GE)}set depthTest(e){!!(this.data&1<<GE)!==e&&(this.data^=1<<GE)}get depthMask(){return!!(this.data&1<<WE)}set depthMask(e){!!(this.data&1<<WE)!==e&&(this.data^=1<<WE)}get clockwiseFrontFace(){return!!(this.data&1<<VE)}set clockwiseFrontFace(e){!!(this.data&1<<VE)!==e&&(this.data^=1<<VE)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==ut.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new U$;return e.depthTest=!1,e.blend=!0,e}};cc.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const s3=[];function $$(t,e){if(!t)return null;let r="";if(typeof t=="string"){const i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);i&&(r=i[1].toLowerCase())}for(let i=s3.length-1;i>=0;--i){const n=s3[i];if(n.test&&n.test(t,r))return new n(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}let ga=class{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,i,n,s,a,o,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:u,items:c}=this;this._aliasCount++;for(let d=0,h=c.length;d<h;d++)c[d][u](e,r,i,n,s,a,o,l);return c===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}};Object.defineProperties(ga.prototype,{dispatch:{value:ga.prototype.emit},run:{value:ga.prototype.emit}});let N0=class{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new ga("setRealSize"),this.onUpdate=new ga("update"),this.onError=new ga("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,i){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}},z$=class extends N0{constructor(e,r){const{width:i,height:n}=r||{};if(!i||!n)throw new Error("BufferResource width or height invalid");super(i,n),this.data=e,this.unpackAlignment=r.unpackAlignment??4}upload(e,r,i){const n=e.gl;n.pixelStorei(n.UNPACK_ALIGNMENT,this.unpackAlignment),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Ss.UNPACK);const s=r.realWidth,a=r.realHeight;return i.width===s&&i.height===a?n.texSubImage2D(r.target,0,0,0,s,a,r.format,i.type,this.data):(i.width=s,i.height=a,n.texImage2D(r.target,0,i.internalFormat,s,a,0,r.format,i.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}};const Dhe={scaleMode:Zo.NEAREST,alphaMode:Ss.NPM},a3=class Ld extends El{constructor(e=null,r=null){super(),r=Object.assign({},Ld.defaultOptions,r);const{alphaMode:i,mipmap:n,anisotropicLevel:s,scaleMode:a,width:o,height:l,wrapMode:u,format:c,type:d,target:h,resolution:p,resourceOptions:g}=r;e&&!(e instanceof N0)&&(e=$$(e,g),e.internal=!0),this.resolution=p||rt.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((l||0)*this.resolution)/this.resolution,this._mipmap=n,this.anisotropicLevel=s,this._wrapMode=u,this._scaleMode=a,this.format=c,this.type=d,this.target=h,this.alphaMode=i,this.uid=k0(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&l>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let i;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,i=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,i=!0),i&&this.dirtyStyleId++,this}setSize(e,r,i){return i=i||this.resolution,this.setRealSize(e*i,r*i,i)}setRealSize(e,r,i){return this.resolution=i||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=_L(this.realWidth)&&_L(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Gl[this.cacheId],delete za[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Ld.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,i=rt.STRICT_TEXTURE_CACHE){const n=typeof e=="string";let s=null;if(n)s=e;else{if(!e._pixiId){const o=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${o}_${k0()}`}s=e._pixiId}let a=Gl[s];if(n&&i&&!a)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return a||(a=new Ld(e,r),a.cacheId=s,Ld.addToCache(a,s)),a}static fromBuffer(e,r,i,n){e=e||new Float32Array(r*i*4);const s=new z$(e,{width:r,height:i,...n==null?void 0:n.resourceOptions});let a,o;return e instanceof Float32Array?(a=Ce.RGBA,o=ft.FLOAT):e instanceof Int32Array?(a=Ce.RGBA_INTEGER,o=ft.INT):e instanceof Uint32Array?(a=Ce.RGBA_INTEGER,o=ft.UNSIGNED_INT):e instanceof Int16Array?(a=Ce.RGBA_INTEGER,o=ft.SHORT):e instanceof Uint16Array?(a=Ce.RGBA_INTEGER,o=ft.UNSIGNED_SHORT):e instanceof Int8Array?(a=Ce.RGBA,o=ft.BYTE):(a=Ce.RGBA,o=ft.UNSIGNED_BYTE),s.internal=!0,new Ld(s,Object.assign({},Dhe,{type:o,format:a},n))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Gl[r]&&Gl[r]!==e&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),Gl[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Gl[e];if(r){const i=r.textureCacheIds.indexOf(e);return i>-1&&r.textureCacheIds.splice(i,1),delete Gl[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete Gl[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};a3.defaultOptions={mipmap:Ku.POW2,anisotropicLevel:0,scaleMode:Zo.LINEAR,wrapMode:al.CLAMP,alphaMode:Ss.UNPACK,target:wf.TEXTURE_2D,format:Ce.RGBA,type:ft.UNSIGNED_BYTE},a3._globalBatch=0;let Nt=a3,o3=class{constructor(){this.texArray=null,this.blend=0,this.type=ha.TRIANGLES,this.start=0,this.size=0,this.data=null}},Fhe=0,Qr=class H${constructor(e,r=!0,i=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=r,this.id=Fhe++,this.disposeRunner=new ga("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?mo.ELEMENT_ARRAY_BUFFER:mo.ARRAY_BUFFER}get index(){return this.type===mo.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new H$(e)}},RL=class G${constructor(e,r=0,i=!1,n=ft.FLOAT,s,a,o,l=1){this.buffer=e,this.size=r,this.normalized=i,this.type=n,this.stride=s,this.start=a,this.instance=o,this.divisor=l}destroy(){this.buffer=null}static from(e,r,i,n,s){return new G$(e,r,i,n,s)}};const Bhe={Float32Array,Uint32Array,Int32Array,Uint8Array};function jhe(t,e){let r=0,i=0;const n={};for(let l=0;l<t.length;l++)i+=e[l],r+=t[l].length;const s=new ArrayBuffer(r*4);let a=null,o=0;for(let l=0;l<t.length;l++){const u=e[l],c=t[l],d=j$(c);n[d]||(n[d]=new Bhe[d](s)),a=n[d];for(let h=0;h<c.length;h++){const p=(h/u|0)*i+o,g=h%u;a[p+g]=c[h]}o+=u}return new Float32Array(s)}const IL={5126:4,5123:2,5121:1};let Uhe=0;const $he={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};let A1=class l3{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=Uhe++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new ga("disposeGeometry"),this.refCount=0}addAttribute(e,r,i=0,n=!1,s,a,o,l=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Qr||(r instanceof Array&&(r=new Float32Array(r)),r=new Qr(r));const u=e.split("|");if(u.length>1){for(let d=0;d<u.length;d++)this.addAttribute(u[d],r,i,n,s);return this}let c=this.buffers.indexOf(r);return c===-1&&(this.buffers.push(r),c=this.buffers.length-1),this.attributes[e]=new RL(c,i,n,s,a,o,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Qr||(e instanceof Array&&(e=new Uint16Array(e)),e=new Qr(e)),e.type=mo.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],i=new Qr;let n;for(n in this.attributes){const s=this.attributes[n],a=this.buffers[s.buffer];e.push(a.data),r.push(s.size*IL[s.type]/4),s.buffer=0}for(i.data=jhe(e,r),n=0;n<this.buffers.length;n++)this.buffers[n]!==this.indexBuffer&&this.buffers[n].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new l3;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new Qr(this.buffers[r].data.slice(0));for(const r in this.attributes){const i=this.attributes[r];e.attributes[r]=new RL(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=mo.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new l3,i=[],n=[],s=[];let a;for(let o=0;o<e.length;o++){a=e[o];for(let l=0;l<a.buffers.length;l++)n[l]=n[l]||0,n[l]+=a.buffers[l].data.length,s[l]=0}for(let o=0;o<a.buffers.length;o++)i[o]=new $he[j$(a.buffers[o].data)](n[o]),r.buffers[o]=new Qr(i[o]);for(let o=0;o<e.length;o++){a=e[o];for(let l=0;l<a.buffers.length;l++)i[l].set(a.buffers[l].data,s[l]),s[l]+=a.buffers[l].data.length}if(r.attributes=a.attributes,a.indexBuffer){r.indexBuffer=r.buffers[a.buffers.indexOf(a.indexBuffer)],r.indexBuffer.type=mo.ELEMENT_ARRAY_BUFFER;let o=0,l=0,u=0,c=0;for(let d=0;d<a.buffers.length;d++)if(a.buffers[d]!==a.indexBuffer){c=d;break}for(const d in a.attributes){const h=a.attributes[d];(h.buffer|0)===c&&(l+=h.size*IL[h.type]/4)}for(let d=0;d<e.length;d++){const h=e[d].indexBuffer.data;for(let p=0;p<h.length;p++)r.indexBuffer.data[p+u]+=o;o+=e[d].buffers[c].data.length/l,u+=h.length}}return r}},V$=class extends A1{constructor(e=!1){super(),this._buffer=new Qr(null,e,!1),this._indexBuffer=new Qr(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ft.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ft.FLOAT).addAttribute("aColor",this._buffer,4,!0,ft.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ft.FLOAT).addIndex(this._indexBuffer)}};const r_=Math.PI*2,zhe=180/Math.PI,Hhe=Math.PI/180;var Si=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Si||{});let zt=class W${constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new W$(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}};zt.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const gy=[new zt,new zt,new zt,new zt];let Gt=class u3{constructor(e=0,r=0,i=0,n=0){this.x=Number(e),this.y=Number(r),this.width=Number(i),this.height=Number(n),this.type=Si.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new u3(0,0,0,0)}clone(){return new u3(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const M=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=M)return!1;const k=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>k}const i=this.left,n=this.right,s=this.top,a=this.bottom;if(n<=i||a<=s)return!1;const o=gy[0].set(e.left,e.top),l=gy[1].set(e.left,e.bottom),u=gy[2].set(e.right,e.top),c=gy[3].set(e.right,e.bottom);if(u.x<=o.x||l.y<=o.y)return!1;const d=Math.sign(r.a*r.d-r.b*r.c);if(d===0||(r.apply(o,o),r.apply(l,l),r.apply(u,u),r.apply(c,c),Math.max(o.x,l.x,u.x,c.x)<=i||Math.min(o.x,l.x,u.x,c.x)>=n||Math.max(o.y,l.y,u.y,c.y)<=s||Math.min(o.y,l.y,u.y,c.y)>=a))return!1;const h=d*(l.y-o.y),p=d*(o.x-l.x),g=h*i+p*s,y=h*n+p*s,b=h*i+p*a,x=h*n+p*a;if(Math.max(g,y,b,x)<=h*o.x+p*o.y||Math.min(g,y,b,x)>=h*c.x+p*c.y)return!1;const w=d*(o.y-u.y),_=d*(u.x-o.x),E=w*i+_*s,A=w*n+_*s,I=w*i+_*a,P=w*n+_*a;return!(Math.max(E,A,I,P)<=w*o.x+_*o.y||Math.min(E,A,I,P)>=w*c.x+_*c.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),i=Math.min(this.x+this.width,e.x+e.width),n=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(i-r,0),this.y=n,this.height=Math.max(s-n,0),this}ceil(e=1,r=.001){const i=Math.ceil((this.x+this.width-r)*e)/e,n=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=i-this.x,this.height=n-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),i=Math.max(this.x+this.width,e.x+e.width),n=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=i-r,this.y=n,this.height=s-n,this}};Gt.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};let X$=class Y${constructor(e=0,r=0,i=0){this.x=e,this.y=r,this.radius=i,this.type=Si.CIRC}clone(){return new Y$(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const i=this.radius*this.radius;let n=this.x-e,s=this.y-r;return n*=n,s*=s,n+s<=i}getBounds(){return new Gt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}};X$.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};let q$=class K${constructor(e=0,r=0,i=0,n=0){this.x=e,this.y=r,this.width=i,this.height=n,this.type=Si.ELIP}clone(){return new K$(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let i=(e-this.x)/this.width,n=(r-this.y)/this.height;return i*=i,n*=n,i+n<=1}getBounds(){return new Gt(this.x-this.width,this.y-this.height,this.width,this.height)}};q$.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};let jg=class Q${constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const i=[];for(let n=0,s=r.length;n<s;n++)i.push(r[n].x,r[n].y);r=i}this.points=r,this.type=Si.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new Q$(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let i=!1;const n=this.points.length/2;for(let s=0,a=n-1;s<n;a=s++){const o=this.points[s*2],l=this.points[s*2+1],u=this.points[a*2],c=this.points[a*2+1];l>r!=c>r&&e<(u-o)*((r-l)/(c-l))+o&&(i=!i)}return i}};jg.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`};let Z$=class J${constructor(e=0,r=0,i=0,n=0,s=20){this.x=e,this.y=r,this.width=i,this.height=n,this.radius=s,this.type=Si.RREC}clone(){return new J$(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+i&&r<=this.y+this.height-i||e>=this.x+i&&e<=this.x+this.width-i)return!0;let n=e-(this.x+i),s=r-(this.y+i);const a=i*i;if(n*n+s*s<=a||(n=e-(this.x+this.width-i),n*n+s*s<=a)||(s=r-(this.y+this.height-i),n*n+s*s<=a)||(n=e-(this.x+i),n*n+s*s<=a))return!0}return!1}};Z$.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};let ii=class Nx{constructor(e=1,r=0,i=0,n=1,s=0,a=0){this.array=null,this.a=e,this.b=r,this.c=i,this.d=n,this.tx=s,this.ty=a}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,i,n,s,a){return this.a=e,this.b=r,this.c=i,this.d=n,this.tx=s,this.ty=a,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const i=r||this.array;return e?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i}apply(e,r){r=r||new zt;const i=e.x,n=e.y;return r.x=this.a*i+this.c*n+this.tx,r.y=this.b*i+this.d*n+this.ty,r}applyInverse(e,r){r=r||new zt;const i=1/(this.a*this.d+this.c*-this.b),n=e.x,s=e.y;return r.x=this.d*i*n+-this.c*i*s+(this.ty*this.c-this.tx*this.d)*i,r.y=this.a*i*s+-this.b*i*n+(-this.ty*this.a+this.tx*this.b)*i,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),i=Math.sin(e),n=this.a,s=this.c,a=this.tx;return this.a=n*r-this.b*i,this.b=n*i+this.b*r,this.c=s*r-this.d*i,this.d=s*i+this.d*r,this.tx=a*r-this.ty*i,this.ty=a*i+this.ty*r,this}append(e){const r=this.a,i=this.b,n=this.c,s=this.d;return this.a=e.a*r+e.b*n,this.b=e.a*i+e.b*s,this.c=e.c*r+e.d*n,this.d=e.c*i+e.d*s,this.tx=e.tx*r+e.ty*n+this.tx,this.ty=e.tx*i+e.ty*s+this.ty,this}setTransform(e,r,i,n,s,a,o,l,u){return this.a=Math.cos(o+u)*s,this.b=Math.sin(o+u)*s,this.c=-Math.sin(o-l)*a,this.d=Math.cos(o-l)*a,this.tx=e-(i*this.a+n*this.c),this.ty=r-(i*this.b+n*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const i=this.a,n=this.c;this.a=i*e.a+this.b*e.c,this.b=i*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,i=this.b,n=this.c,s=this.d,a=e.pivot,o=-Math.atan2(-n,s),l=Math.atan2(i,r),u=Math.abs(o+l);return u<1e-5||Math.abs(r_-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=o,e.skew.y=l),e.scale.x=Math.sqrt(r*r+i*i),e.scale.y=Math.sqrt(n*n+s*s),e.position.x=this.tx+(a.x*r+a.y*n),e.position.y=this.ty+(a.x*i+a.y*s),e}invert(){const e=this.a,r=this.b,i=this.c,n=this.d,s=this.tx,a=e*n-r*i;return this.a=n/a,this.b=-r/a,this.c=-i/a,this.d=e/a,this.tx=(i*this.ty-n*s)/a,this.ty=-(e*this.ty-r*s)/a,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Nx;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Nx}static get TEMP_MATRIX(){return new Nx}};ii.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Nc=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Oc=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Lc=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Dc=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],c3=[],e9=[],vy=Math.sign;function Ghe(){for(let t=0;t<16;t++){const e=[];c3.push(e);for(let r=0;r<16;r++){const i=vy(Nc[t]*Nc[r]+Lc[t]*Oc[r]),n=vy(Oc[t]*Nc[r]+Dc[t]*Oc[r]),s=vy(Nc[t]*Lc[r]+Lc[t]*Dc[r]),a=vy(Oc[t]*Lc[r]+Dc[t]*Dc[r]);for(let o=0;o<16;o++)if(Nc[o]===i&&Oc[o]===n&&Lc[o]===s&&Dc[o]===a){e.push(o);break}}}for(let t=0;t<16;t++){const e=new ii;e.set(Nc[t],Oc[t],Lc[t],Dc[t],0,0),e9.push(e)}}Ghe();const yr={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Nc[t],uY:t=>Oc[t],vX:t=>Lc[t],vY:t=>Dc[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>c3[t][e],sub:(t,e)=>c3[t][yr.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?yr.S:yr.N:Math.abs(e)*2<=Math.abs(t)?t>0?yr.E:yr.W:e>0?t>0?yr.SE:yr.SW:t>0?yr.NE:yr.NW,matrixAppendRotationInv:(t,e,r=0,i=0)=>{const n=e9[yr.inv(e)];n.tx=r,n.ty=i,t.append(n)}};let Eu=class t9{constructor(e,r,i=0,n=0){this._x=i,this._y=n,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new t9(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}};Eu.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const h3=class{constructor(){this.worldTransform=new ii,this.localTransform=new ii,this.position=new Eu(this.onChange,this,0,0),this.scale=new Eu(this.onChange,this,1,1),this.pivot=new Eu(this.onChange,this,0,0),this.skew=new Eu(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(e){const r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){const i=e.worldTransform,n=this.worldTransform;n.a=r.a*i.a+r.b*i.c,n.b=r.a*i.b+r.b*i.d,n.c=r.c*i.a+r.d*i.c,n.d=r.c*i.b+r.d*i.d,n.tx=r.tx*i.a+r.ty*i.c+i.tx,n.ty=r.tx*i.b+r.ty*i.d+i.ty,this._parentID=e._worldID,this._worldID++}}setFromMatrix(e){e.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}};h3.IDENTITY=new h3;let Iw=h3;Iw.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var Vhe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,Whe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function PL(t,e,r){const i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),i}function XE(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function r9(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return XE(2*e);case"bvec3":return XE(3*e);case"bvec4":return XE(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Tf=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],Xhe={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},Yhe={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function qhe(t,e){var i;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const n in t.uniforms){const s=e[n];if(!s){((i=t.uniforms[n])==null?void 0:i.group)===!0&&(t.uniforms[n].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${n}, '${n}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${n}, syncData);
                    `));continue}const a=t.uniforms[n];let o=!1;for(let l=0;l<Tf.length;l++)if(Tf[l].test(s,a)){r.push(Tf[l].code(n,a)),o=!0;break}if(!o){const l=(s.size===1&&!s.isArray?Xhe:Yhe)[s.type].replace("location",`ud["${n}"].location`);r.push(`
            cu = ud["${n}"];
            cv = cu.value;
            v = uv["${n}"];
            ${l};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const i9={};let Ad=i9;function Khe(){if(Ad===i9||Ad!=null&&Ad.isContextLost()){const t=rt.ADAPTER.createCanvas();let e;rt.PREFER_ENV>=Qh.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Ad=e}return Ad}let yy;function Qhe(){if(!yy){yy=Es.MEDIUM;const t=Khe();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(yy=e.precision?Es.HIGH:Es.MEDIUM)}}return yy}function ML(t,e){const r=t.getShaderSource(e).split(`
`).map((u,c)=>`${c}: ${u}`),i=t.getShaderInfoLog(e),n=i.split(`
`),s={},a=n.map(u=>parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(u=>u&&!s[u]?(s[u]=!0,!0):!1),o=[""];a.forEach(u=>{r[u-1]=`%c${r[u-1]}%c`,o.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=r.join(`
`);o[0]=l,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn(...o),console.groupEnd()}function Zhe(t,e,r,i){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||ML(t,r),t.getShaderParameter(i,t.COMPILE_STATUS)||ML(t,i),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const Jhe={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function n9(t){return Jhe[t]}let xy=null;const kL={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function s9(t,e){if(!xy){const r=Object.keys(kL);xy={};for(let i=0;i<r.length;++i){const n=r[i];xy[t[n]]=kL[n]}}return xy[e]}function NL(t,e,r){if(t.substring(0,9)!=="precision"){let i=e;return e===Es.HIGH&&r!==Es.HIGH&&(i=Es.MEDIUM),`precision ${i} float;
${t}`}else if(r!==Es.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Tm;function ede(){if(typeof Tm=="boolean")return Tm;try{Tm=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Tm=!1}return Tm}let tde=0;const by={},d3=class Dd{constructor(e,r,i="pixi-shader",n={}){this.extra={},this.id=tde++,this.vertexSrc=e||Dd.defaultVertexSrc,this.fragmentSrc=r||Dd.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,this.vertexSrc.substring(0,8)!=="#version"&&(i=i.replace(/\s+/g,"-"),by[i]?(by[i]++,i+=`-${by[i]}`):by[i]=1,this.vertexSrc=`#define SHADER_NAME ${i}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${i}
${this.fragmentSrc}`,this.vertexSrc=NL(this.vertexSrc,Dd.defaultVertexPrecision,Es.HIGH),this.fragmentSrc=NL(this.fragmentSrc,Dd.defaultFragmentPrecision,Qhe())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return Whe}static get defaultFragmentSrc(){return Vhe}static from(e,r,i){const n=e+r;let s=EL[n];return s||(EL[n]=s=new Dd(e,r,i)),s}};d3.defaultVertexPrecision=Es.HIGH,d3.defaultFragmentPrecision=nf.apple.device?Es.HIGH:Es.MEDIUM;let Jo=d3,rde=0,_h=class Ox{constructor(e,r,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=rde++,this.static=!!r,this.ubo=!!i,e instanceof Qr?(this.buffer=e,this.buffer.type=mo.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Qr(new Float32Array(1)),this.buffer.type=mo.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,i){if(!this.ubo)this.uniforms[e]=new Ox(r,i);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,i){return new Ox(e,r,i)}static uboFrom(e,r){return new Ox(e,r??!0,!0)}},zu=class a9{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof _h?this.uniformGroup=r:this.uniformGroup=new _h(r):this.uniformGroup=new _h({}),this.disposeRunner=new ga("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const i in r.uniforms){const n=r.uniforms[i];if(n.group===!0&&this.checkUniformExists(e,n))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,i){const n=Jo.from(e,r);return new a9(n,i)}},ide=class{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const i=new Int32Array(e);for(let s=0;s<e;s++)i[s]=s;this.defaultGroupCache[e]=_h.from({uSamplers:i},!0);let n=this.fragTemplate;n=n.replace(/%count%/gi,`${e}`),n=n.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Jo(this.vertexSrc,n)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new ii,default:this.defaultGroupCache[e]};return new zu(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let i=0;i<e;i++)i>0&&(r+=`
else `),i<e-1&&(r+=`if(vTextureId < ${i}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${i}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}},f3=class{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}};function nde(){return!nf.apple.device}function sde(t){let e=!0;const r=rt.ADAPTER.getNavigator();if(nf.tablet||nf.phone){if(nf.apple.device){const i=r.userAgent.match(/OS (\d+)_(\d+)?/);i&&parseInt(i[1],10)<11&&(e=!1)}if(nf.android.device){const i=r.userAgent.match(/Android\s([0-9.]*)/);i&&parseInt(i[1],10)<7&&(e=!1)}}return e?t:4}let Pw=class{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}};var ade=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,ode=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Km=class qs extends Pw{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=V$,this.vertexSize=6,this.state=cc.for2d(),this.size=qs.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??sde(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??nde(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Ft("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return ode}static get defaultFragmentTemplate(){return ade}setShaderGenerator({vertex:e=qs.defaultVertexSrc,fragment:r=qs.defaultFragmentTemplate}={}){this.shaderGenerator=new ide(e,r)}contextChange(){const e=this.renderer.gl;rt.PREFER_ENV===Qh.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),qs.defaultMaxTextures),this.maxTextures=Lhe(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=qs,i=this.size/4,n=Math.floor(i/this.maxTextures)+1;for(;e.length<i;)e.push(new o3);for(;r.length<n;)r.push(new f3);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,i=qs._textureArrayPool,n=this.renderer.batch,s=this._tempBoundTextures,a=this.renderer.textureGC.count;let o=++Nt._globalBatch,l=0,u=i[0],c=0;n.copyBoundTextures(s,r);for(let d=0;d<this._bufferSize;++d){const h=e[d];e[d]=null,h._batchEnabled!==o&&(u.count>=r&&(n.boundArray(u,s,o,r),this.buildDrawCalls(u,c,d),c=d,u=i[++l],++o),h._batchEnabled=o,h.touched=a,u.elements[u.count++]=h)}u.count>0&&(n.boundArray(u,s,o,r),this.buildDrawCalls(u,c,this._bufferSize),++l,++o);for(let d=0;d<s.length;d++)s[d]=null;Nt._globalBatch=o}buildDrawCalls(e,r,i){const{_bufferedElements:n,_attributeBuffer:s,_indexBuffer:a,vertexSize:o}=this,l=qs._drawCallPool;let u=this._dcIndex,c=this._aIndex,d=this._iIndex,h=l[u];h.start=this._iIndex,h.texArray=e;for(let p=r;p<i;++p){const g=n[p],y=g._texture.baseTexture,b=F$[y.alphaMode?1:0][g.blendMode];n[p]=null,r<p&&h.blend!==b&&(h.size=d-h.start,r=p,h=l[++u],h.texArray=e,h.start=d),this.packInterleavedGeometry(g,s,a,c,d),c+=g.vertexData.length/2*o,d+=g.indices.length,h.blend=b}r<i&&(h.size=d-h.start,++u),this._dcIndex=u,this._aIndex=c,this._iIndex=d}bindAndClearTexArray(e){const r=this.renderer.texture;for(let i=0;i<e.count;i++)r.bind(e.elements[i],e.ids[i]),e.elements[i]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:i}=this;qs.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:i}=this.renderer,n=qs._drawCallPool;let s=null;for(let a=0;a<e;a++){const{texArray:o,type:l,size:u,start:c,blend:d}=n[a];s!==o&&(s=o,this.bindAndClearTexArray(o)),this.state.blendMode=d,i.set(this.state),r.drawElements(l,u,r.UNSIGNED_SHORT,c*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),qs.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=t_(Math.ceil(e/8)),i=wL(r),n=r*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);let s=this._aBuffers[n];return s||(this._aBuffers[n]=s=new khe(n*this.vertexSize*4)),s}getIndexBuffer(e){const r=t_(Math.ceil(e/12)),i=wL(r),n=r*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);let s=this._iBuffers[i];return s||(this._iBuffers[i]=s=new Uint16Array(n)),s}packInterleavedGeometry(e,r,i,n,s){const{uint32View:a,float32View:o}=r,l=n/this.vertexSize,u=e.uvs,c=e.indices,d=e.vertexData,h=e._texture.baseTexture._batchLocation,p=Math.min(e.worldAlpha,1),g=Mr.shared.setValue(e._tintRGB).toPremultiplied(p,e._texture.baseTexture.alphaMode>0);for(let y=0;y<d.length;y+=2)o[n++]=d[y],o[n++]=d[y+1],o[n++]=u[y],o[n++]=u[y+1],a[n++]=g,o[n++]=h;for(let y=0;y<c.length;y++)i[s++]=l+c[y]}};Km.defaultBatchSize=4096,Km.extension={name:"batch",type:Be.RendererPlugin},Km._drawCallPool=[],Km._textureArrayPool=[];let Fc=Km;ot.add(Fc);var lde=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,ude=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const p3=class Qm extends zu{constructor(e,r,i){const n=Jo.from(e||Qm.defaultVertexSrc,r||Qm.defaultFragmentSrc);super(n,i),this.padding=0,this.resolution=Qm.defaultResolution,this.multisample=Qm.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new cc}apply(e,r,i,n,s){e.applyFilter(this,r,i,n)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return ude}static get defaultFragmentSrc(){return lde}};p3.defaultResolution=1,p3.defaultMultisample=$r.NONE;let of=p3,i_=class{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Mr(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:i,backgroundAlpha:n}=e,s=i??r;s!==void 0&&(this.color=s),this.alpha=n}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}};i_.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},i_.extension={type:[Be.RendererSystem,Be.CanvasRendererSystem],name:"background"};ot.add(i_);let o9=class{constructor(e){this.renderer=e,this.emptyRenderer=new Pw(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:i}=this.renderer.texture;for(let n=r-1;n>=0;--n)e[n]=i[n]||null,e[n]&&(e[n]._batchLocation=n)}boundArray(e,r,i,n){const{elements:s,ids:a,count:o}=e;let l=0;for(let u=0;u<o;u++){const c=s[u],d=c._batchLocation;if(d>=0&&d<n&&r[d]===c){a[u]=d;continue}for(;l<n;){const h=r[l];if(h&&h._batchEnabled===i&&h._batchLocation===l){l++;continue}a[u]=l,c._batchLocation=l,r[l]=c;break}}}destroy(){this.renderer=null}};o9.extension={type:Be.RendererSystem,name:"batch"};ot.add(o9);let OL=0,n_=class{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=OL++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,i=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:i,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=OL++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let i;if(rt.PREFER_ENV>=Qh.WEBGL2&&(i=e.getContext("webgl2",r)),i)this.webGLVersion=2;else if(this.webGLVersion=1,i=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!i)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),i="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;i&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const n=i||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=n,n||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}};n_.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},n_.extension={type:Be.RendererSystem,name:"context"};ot.add(n_);let m3=class{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new ga("disposeFramebuffer"),this.multisample=$r.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new Nt(null,{scaleMode:Zo.NEAREST,resolution:1,mipmap:Ku.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Nt(null,{scaleMode:Zo.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Ku.OFF,format:Ce.DEPTH_COMPONENT,type:ft.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let i=0;i<this.colorTextures.length;i++){const n=this.colorTextures[i],s=n.resolution;n.setSize(e/s,r/s)}if(this.depthTexture){const i=this.depthTexture.resolution;this.depthTexture.setSize(e/i,r/i)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}},l9=class extends Nt{constructor(e={}){if(typeof e=="number"){const r=arguments[0],i=arguments[1],n=arguments[2],s=arguments[3];e={width:r,height:i,scaleMode:n,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=$r.NONE),super(null,e),this.mipmap=Ku.OFF,this.valid=!0,this._clear=new Mr([0,0,0,0]),this.framebuffer=new m3(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}},vl=class extends N0{constructor(e){const r=e,i=r.naturalWidth||r.videoWidth||r.displayWidth||r.width,n=r.naturalHeight||r.videoHeight||r.displayHeight||r.height;super(i,n),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,i){i===void 0&&!r.startsWith("data:")?e.crossOrigin=Mhe(r):i!==!1&&(e.crossOrigin=typeof i=="string"?i:"anonymous")}upload(e,r,i,n){const s=e.gl,a=r.realWidth,o=r.realHeight;if(n=n||this.source,typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement){if(!n.complete||n.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement&&n.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Ss.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&i.width===a&&i.height===o?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,i.type,n):(i.width=a,i.height=o,s.texImage2D(r.target,0,i.internalFormat,r.format,i.type,n)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;this.resize(r,i),super.update()}dispose(){this.source=null}},u9=class extends vl{constructor(e,r){if(r=r||{},typeof e=="string"){const i=new Image;vl.crossOrigin(i,e,r.crossorigin),i.src=e,e=i}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??rt.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,i)=>{const n=this.source;this.url=n.src;const s=()=>{this.destroyed||(n.onload=null,n.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};n.complete&&n.src?s():(n.onload=s,n.onerror=a=>{i(a),this.onError.emit(a)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,i=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:i?"cors":"no-cors"}).then(n=>n.blob()).then(n=>r(n,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ss.UNPACK?"premultiply":"none"})).then(n=>this.destroyed?Promise.reject():(this.bitmap=n,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,i){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,i,this.bitmap),!this.preserveBitmap){let n=!0;const s=r._glTextures;for(const a in s){const o=s[a];if(o!==i&&o.dirtyId!==r.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}},U4=class{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,i){const n=r.width,s=r.height;if(i){const a=e.width/2/n,o=e.height/2/s,l=e.x/n+a,u=e.y/s+o;i=yr.add(i,yr.NW),this.x0=l+a*yr.uX(i),this.y0=u+o*yr.uY(i),i=yr.add(i,2),this.x1=l+a*yr.uX(i),this.y1=u+o*yr.uY(i),i=yr.add(i,2),this.x2=l+a*yr.uX(i),this.y2=u+o*yr.uY(i),i=yr.add(i,2),this.x3=l+a*yr.uX(i),this.y3=u+o*yr.uY(i)}else this.x0=e.x/n,this.y0=e.y/s,this.x1=(e.x+e.width)/n,this.y1=e.y/s,this.x2=(e.x+e.width)/n,this.y2=(e.y+e.height)/s,this.x3=e.x/n,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}};U4.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const LL=new U4;function _y(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}let Et=class ir extends El{constructor(e,r,i,n,s,a,o){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Gt(0,0,1,1)),e instanceof ir&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=n,this.valid=!1,this.destroyed=!1,this._uvs=LL,this.uvMatrix=null,this.orig=i||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=a?new zt(a.x,a.y):new zt(0,0),this.defaultBorders=o,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&za[r.url]&&ir.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ir.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var n;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),i=new ir(this.baseTexture,!this.noFrame&&e,r,(n=this.trim)==null?void 0:n.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(i._frame=e),i}updateUvs(){this._uvs===LL&&(this._uvs=new U4),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},i=rt.STRICT_TEXTURE_CACHE){const n=typeof e=="string";let s=null;if(n)s=e;else if(e instanceof Nt){if(!e.cacheId){const o=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${o}-${k0()}`,Nt.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const o=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${o}_${k0()}`}s=e._pixiId}let a=za[s];if(n&&i&&!a)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!a&&!(e instanceof Nt)?(r.resolution||(r.resolution=fp(e)),a=new ir(new Nt(e,r)),a.baseTexture.cacheId=s,Nt.addToCache(a.baseTexture,s),ir.addToCache(a,s)):!a&&e instanceof Nt&&(a=new ir(e),ir.addToCache(a,s)),a}static fromURL(e,r){const i=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),n=ir.from(e,Object.assign({resourceOptions:i},r),!1),s=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):s.load().then(()=>Promise.resolve(n))}static fromBuffer(e,r,i,n){return new ir(Nt.fromBuffer(e,r,i,n))}static fromLoader(e,r,i,n){const s=new Nt(e,Object.assign({scaleMode:Nt.defaultOptions.scaleMode,resolution:fp(r)},n)),{resource:a}=s;a instanceof u9&&(a.url=r);const o=new ir(s);return i||(i=r),Nt.addToCache(o.baseTexture,i),ir.addToCache(o,i),i!==r&&(Nt.addToCache(o.baseTexture,r),ir.addToCache(o,r)),o.baseTexture.valid?Promise.resolve(o):new Promise(l=>{o.baseTexture.once("loaded",()=>l(o))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),za[r]&&za[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),za[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=za[e];if(r){const i=r.textureCacheIds.indexOf(e);return i>-1&&r.textureCacheIds.splice(i,1),delete za[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)za[e.textureCacheIds[r]]===e&&delete za[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:i,width:n,height:s}=e,a=r+n>this.baseTexture.width,o=i+s>this.baseTexture.height;if(a||o){const l=a&&o?"and":"or",u=`X: ${r} + ${n} = ${r+n} > ${this.baseTexture.width}`,c=`Y: ${i} + ${s} = ${i+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${u} ${l} ${c}`)}this.valid=n&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ir._EMPTY||(ir._EMPTY=new ir(new Nt),_y(ir._EMPTY),_y(ir._EMPTY.baseTexture)),ir._EMPTY}static get WHITE(){if(!ir._WHITE){const e=rt.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),ir._WHITE=new ir(Nt.from(e)),_y(ir._WHITE),_y(ir._WHITE.baseTexture)}return ir._WHITE}},c9=class h9 extends Et{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,i=!0){const n=this.baseTexture.resolution,s=Math.round(e*n)/n,a=Math.round(r*n)/n;this.valid=s>0&&a>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=a,i&&this.baseTexture.resize(s,a),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new h9(new l9(e))}},d9=class{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,i=$r.NONE){const n=new l9(Object.assign({width:e,height:r,resolution:1,multisample:i},this.textureOptions));return new c9(n)}getOptimalTexture(e,r,i=1,n=$r.NONE){let s;e=Math.max(Math.ceil(e*i-1e-6),1),r=Math.max(Math.ceil(r*i-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=t_(e),r=t_(r),s=((e&65535)<<16|r&65535)>>>0,n>1&&(s+=n*4294967296)):s=n>1?-n:-1,this.texturePool[s]||(this.texturePool[s]=[]);let a=this.texturePool[s].pop();return a||(a=this.createTexture(e,r,n)),a.filterPoolKey=s,a.setResolution(i),a}getFilterTexture(e,r,i){const n=this.getOptimalTexture(e.width,e.height,r||e.resolution,i||$r.NONE);return n.filterFrame=e.filterFrame,n}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const i=this.texturePool[r];if(i)for(let n=0;n<i.length;n++)i[n].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const i=this.texturePool[r];if(i)for(let n=0;n<i.length;n++)i[n].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}};d9.SCREEN_KEY=-1;let cde=class extends A1{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}},f9=class extends A1{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Qr(this.vertices),this.uvBuffer=new Qr(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let i=0,n=0;return this.uvs[0]=i,this.uvs[1]=n,this.uvs[2]=i+r.width/e.width,this.uvs[3]=n,this.uvs[4]=i+r.width/e.width,this.uvs[5]=n+r.height/e.height,this.uvs[6]=i,this.uvs[7]=n+r.height/e.height,i=r.x,n=r.y,this.vertices[0]=i,this.vertices[1]=n,this.vertices[2]=i+r.width,this.vertices[3]=n,this.vertices[4]=i+r.width,this.vertices[5]=n+r.height,this.vertices[6]=i,this.vertices[7]=n+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}},hde=class{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=$r.NONE,this.sourceFrame=new Gt,this.destinationFrame=new Gt,this.bindingSourceFrame=new Gt,this.bindingDestinationFrame=new Gt,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}};const wy=[new zt,new zt,new zt,new zt],YE=new ii;let p9=class{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new d9,this.statePool=[],this.quad=new cde,this.quadUv=new f9,this.tempRect=new Gt,this.activeState={},this.globalUniforms=new _h({outputFrame:new Gt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const i=this.renderer,n=this.defaultFilterStack,s=this.statePool.pop()||new hde,a=i.renderTexture;let o,l;if(a.current){const b=a.current;o=b.resolution,l=b.multisample}else o=i.resolution,l=i.multisample;let u=r[0].resolution||o,c=r[0].multisample??l,d=r[0].padding,h=r[0].autoFit,p=r[0].legacy??!0;for(let b=1;b<r.length;b++){const x=r[b];u=Math.min(u,x.resolution||o),c=Math.min(c,x.multisample??l),d=this.useMaxPadding?Math.max(d,x.padding):d+x.padding,h=h&&x.autoFit,p=p||(x.legacy??!0)}n.length===1&&(this.defaultFilterStack[0].renderTexture=a.current),n.push(s),s.resolution=u,s.multisample=c,s.legacy=p,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(d);const g=this.tempRect.copyFrom(a.sourceFrame);i.projection.transform&&this.transformAABB(YE.copyFrom(i.projection.transform).invert(),g),h?(s.sourceFrame.fit(g),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(g)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,a.current?a.current.resolution:i.resolution,a.sourceFrame,a.destinationFrame,i.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,u,c),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const y=this.tempRect;y.x=0,y.y=0,y.width=s.sourceFrame.width,y.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(a.sourceFrame),s.bindingDestinationFrame.copyFrom(a.destinationFrame),s.transform=i.projection.transform,i.projection.transform=null,a.bind(s.renderTexture,s.sourceFrame,y),i.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),i=r.filters;this.activeState=r;const n=this.globalUniforms.uniforms;n.outputFrame=r.sourceFrame,n.resolution=r.resolution;const s=n.inputSize,a=n.inputPixel,o=n.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],a[0]=Math.round(s[0]*r.resolution),a[1]=Math.round(s[1]*r.resolution),a[2]=1/a[0],a[3]=1/a[1],o[0]=.5*a[2],o[1]=.5*a[3],o[2]=r.sourceFrame.width*s[2]-.5*a[2],o[3]=r.sourceFrame.height*s[3]-.5*a[3],r.legacy){const u=n.filterArea;u[0]=r.destinationFrame.width,u[1]=r.destinationFrame.height,u[2]=r.sourceFrame.x,u[3]=r.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),i.length===1)i[0].apply(this,r.renderTexture,l.renderTexture,kc.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let u=r.renderTexture,c=this.getOptimalFilterTexture(u.width,u.height,r.resolution);c.filterFrame=u.filterFrame;let d=0;for(d=0;d<i.length-1;++d){d===1&&r.multisample>1&&(c=this.getOptimalFilterTexture(u.width,u.height,r.resolution),c.filterFrame=u.filterFrame),i[d].apply(this,u,c,kc.CLEAR,r);const h=u;u=c,c=h}i[d].apply(this,u,l.renderTexture,kc.BLEND,r),d>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(c)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=kc.CLEAR){const{renderTexture:i,state:n}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const a=this.tempRect;a.x=0,a.y=0,a.width=e.filterFrame.width,a.height=e.filterFrame.height,i.bind(e,e.filterFrame,a)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=n.stateId&1||this.forceClear;(r===kc.CLEAR||r===kc.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,i,n){const s=this.renderer;s.state.set(e.state),this.bindAndClear(i,n),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(ha.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(ha.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:i,destinationFrame:n}=this.activeState,{orig:s}=r._texture,a=e.set(n.width,0,0,n.height,i.x,i.y),o=r.worldTransform.copyTo(ii.TEMP_MATRIX);return o.invert(),a.prepend(o),a.scale(1/s.width,1/s.height),a.translate(r.anchor.x,r.anchor.y),a}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,i=1,n=$r.NONE){return this.texturePool.getOptimalTexture(e,r,i,n)}getFilterTexture(e,r,i){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const n=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,i||$r.NONE);return n.filterFrame=e.filterFrame,n}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const i=wy[0],n=wy[1],s=wy[2],a=wy[3];i.set(r.left,r.top),n.set(r.left,r.bottom),s.set(r.right,r.top),a.set(r.right,r.bottom),e.apply(i,i),e.apply(n,n),e.apply(s,s),e.apply(a,a);const o=Math.min(i.x,n.x,s.x,a.x),l=Math.min(i.y,n.y,s.y,a.y),u=Math.max(i.x,n.x,s.x,a.x),c=Math.max(i.y,n.y,s.y,a.y);r.x=o,r.y=l,r.width=u-o,r.height=c-l}roundFrame(e,r,i,n,s){if(!(e.width<=0||e.height<=0||i.width<=0||i.height<=0)){if(s){const{a,b:o,c:l,d:u}=s;if((Math.abs(o)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(a)>1e-4||Math.abs(u)>1e-4))return}s=s?YE.copyFrom(s):YE.identity(),s.translate(-i.x,-i.y).scale(n.width/i.width,n.height/i.height).translate(n.x,n.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}};p9.extension={type:Be.RendererSystem,name:"filter"};ot.add(p9);let dde=class{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=$r.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}};const fde=new Gt;let m9=class{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new m3(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Gt,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;rt.PREFER_ENV===Qh.WEBGL_LEGACY&&(r=null,i=null),r?e.drawBuffers=n=>r.drawBuffersWEBGL(n):(this.hasMRT=!1,e.drawBuffers=()=>{}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,i=0){const{gl:n}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,n.bindFramebuffer(n.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==i&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=i),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,i)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let a=0;a<e.colorTextures.length;a++){const o=e.colorTextures[a];this.renderer.texture.unbind(o.parentTextureArray||o)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const a=r.width>>i,o=r.height>>i,l=a/r.width;this.setViewport(r.x*l,r.y*l,a,o)}else{const a=e.width>>i,o=e.height>>i;this.setViewport(0,0,a,o)}}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,i,n){const s=this.viewport;e=Math.round(e),r=Math.round(r),i=Math.round(i),n=Math.round(n),(s.width!==i||s.height!==n||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=i,s.height=n,this.gl.viewport(e,r,i,n))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,i,n,s=UC.COLOR|UC.DEPTH){const{gl:a}=this;a.clearColor(e,r,i,n),a.clear(s)}initFramebuffer(e){const{gl:r}=this,i=new dde(r.createFramebuffer());return i.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(e),e.disposeRunner.add(this),i}resizeFramebuffer(e){const{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID];if(i.stencil){r.bindRenderbuffer(r.RENDERBUFFER,i.stencil);let a;this.renderer.context.webGLVersion===1?a=r.DEPTH_STENCIL:e.depth&&e.stencil?a=r.DEPTH24_STENCIL8:e.depth?a=r.DEPTH_COMPONENT24:a=r.STENCIL_INDEX8,i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,a,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,a,e.width,e.height)}const n=e.colorTextures;let s=n.length;r.drawBuffers||(s=Math.min(s,1));for(let a=0;a<s;a++){const o=n[a],l=o.parentTextureArray||o;this.renderer.texture.bind(l,0),a===0&&i.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:i}=this,n=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let a=s.length;i.drawBuffers||(a=Math.min(a,1)),n.multisample>1&&this.canMultisampleFramebuffer(e)?n.msaaBuffer=n.msaaBuffer||i.createRenderbuffer():n.msaaBuffer&&(i.deleteRenderbuffer(n.msaaBuffer),n.msaaBuffer=null,n.blitFramebuffer&&(n.blitFramebuffer.dispose(),n.blitFramebuffer=null));const o=[];for(let l=0;l<a;l++){const u=s[l],c=u.parentTextureArray||u;this.renderer.texture.bind(c,0),l===0&&n.msaaBuffer?(i.bindRenderbuffer(i.RENDERBUFFER,n.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,n.msaaBuffer)):(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+l,u.target,c._glTextures[this.CONTEXT_UID].texture,r),o.push(i.COLOR_ATTACHMENT0+l))}if(o.length>1&&i.drawBuffers(o),e.depthTexture&&this.writeDepthTexture){const l=e.depthTexture;this.renderer.texture.bind(l,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,l._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){n.stencil=n.stencil||i.createRenderbuffer();let l,u;this.renderer.context.webGLVersion===1?(l=i.DEPTH_STENCIL_ATTACHMENT,u=i.DEPTH_STENCIL):e.depth&&e.stencil?(l=i.DEPTH_STENCIL_ATTACHMENT,u=i.DEPTH24_STENCIL8):e.depth?(l=i.DEPTH_ATTACHMENT,u=i.DEPTH_COMPONENT24):(l=i.STENCIL_ATTACHMENT,u=i.STENCIL_INDEX8),i.bindRenderbuffer(i.RENDERBUFFER,n.stencil),n.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,u,e.width,e.height):i.renderbufferStorage(i.RENDERBUFFER,u,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,l,i.RENDERBUFFER,n.stencil)}else n.stencil&&(i.deleteRenderbuffer(n.stencil),n.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let i=$r.NONE;if(e<=1||r===null)return i;for(let n=0;n<r.length;n++)if(r[n]<=e){i=r[n];break}return i===1&&(i=$r.NONE),i}blit(e,r,i){const{current:n,renderer:s,gl:a,CONTEXT_UID:o}=this;if(s.context.webGLVersion!==2||!n)return;const l=n.glFramebuffers[o];if(!l)return;if(!e){if(!l.msaaBuffer)return;const c=n.colorTextures[0];if(!c)return;l.blitFramebuffer||(l.blitFramebuffer=new m3(n.width,n.height),l.blitFramebuffer.addColorTexture(0,c)),e=l.blitFramebuffer,e.colorTextures[0]!==c&&(e.colorTextures[0]=c,e.dirtyId++,e.dirtyFormat++),(e.width!==n.width||e.height!==n.height)&&(e.width=n.width,e.height=n.height,e.dirtyId++,e.dirtySize++)}r||(r=fde,r.width=n.width,r.height=n.height),i||(i=r);const u=r.width===i.width&&r.height===i.height;this.bind(e),a.bindFramebuffer(a.READ_FRAMEBUFFER,l.framebuffer),a.blitFramebuffer(r.left,r.top,r.right,r.bottom,i.left,i.top,i.right,i.bottom,a.COLOR_BUFFER_BIT,u?a.NEAREST:a.LINEAR),a.bindFramebuffer(a.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const i=e.glFramebuffers[this.CONTEXT_UID],n=this.gl;if(!i)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(n.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&n.deleteRenderbuffer(i.msaaBuffer),i.stencil&&n.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&this.disposeFramebuffer(i.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let i=0;i<r.length;i++)this.disposeFramebuffer(r[i],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const i=e.width,n=e.height,s=this.gl,a=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,a);let o,l;this.renderer.context.webGLVersion===1?(o=s.DEPTH_STENCIL_ATTACHMENT,l=s.DEPTH_STENCIL):e.depth?(o=s.DEPTH_STENCIL_ATTACHMENT,l=s.DEPTH24_STENCIL8):(o=s.STENCIL_ATTACHMENT,l=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,l,i,n):s.renderbufferStorage(s.RENDERBUFFER,l,i,n),s.framebufferRenderbuffer(s.FRAMEBUFFER,o,s.RENDERBUFFER,a)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Gt}destroy(){this.renderer=null}};m9.extension={type:Be.RendererSystem,name:"framebuffer"};ot.add(m9);const qE={5126:4,5123:2,5121:1};let g9=class{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let i=this.renderer.context.extensions.vertexArrayObject;rt.PREFER_ENV===Qh.WEBGL_LEGACY&&(i=null),i?(e.createVertexArray=()=>i.createVertexArrayOES(),e.bindVertexArray=n=>i.bindVertexArrayOES(n),e.deleteVertexArray=n=>i.deleteVertexArrayOES(n)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=(n,s)=>i.vertexAttribDivisorANGLE(n,s),e.drawElementsInstanced=(n,s,a,o,l)=>i.drawElementsInstancedANGLE(n,s,a,o,l),e.drawArraysInstanced=(n,s,a,o)=>i.drawArraysInstancedANGLE(n,s,a,o)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:i}=this;let n=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;n||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=n={},s=!0);const a=n[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==a&&(this._activeVao=a,this.hasVao?i.bindVertexArray(a):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let i=0;i<e.buffers.length;i++){const n=e.buffers[i];r.update(n)}}checkCompatibility(e,r){const i=e.attributes,n=r.attributeData;for(const s in n)if(!i[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const i=e.attributes,n=r.attributeData,s=["g",e.id];for(const a in i)n[a]&&s.push(a,n[a].location);return s.join("-")}initGeometryVao(e,r,i=!0){const n=this.gl,s=this.CONTEXT_UID,a=this.renderer.buffer,o=r.program;o.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,o);const l=this.getSignature(e,o),u=e.glVertexArrayObjects[this.CONTEXT_UID];let c=u[l];if(c)return u[o.id]=c,c;const d=e.buffers,h=e.attributes,p={},g={};for(const y in d)p[y]=0,g[y]=0;for(const y in h)!h[y].size&&o.attributeData[y]?h[y].size=o.attributeData[y].size:h[y].size||console.warn(`PIXI Geometry attribute '${y}' size cannot be determined (likely the bound shader does not have the attribute)`),p[h[y].buffer]+=h[y].size*qE[h[y].type];for(const y in h){const b=h[y],x=b.size;b.stride===void 0&&(p[b.buffer]===x*qE[b.type]?b.stride=0:b.stride=p[b.buffer]),b.start===void 0&&(b.start=g[b.buffer],g[b.buffer]+=x*qE[b.type])}c=n.createVertexArray(),n.bindVertexArray(c);for(let y=0;y<d.length;y++){const b=d[y];a.bind(b),i&&b._glBuffers[s].refCount++}return this.activateVao(e,o),u[o.id]=c,u[l]=c,n.bindVertexArray(null),a.unbind(mo.ARRAY_BUFFER),c}disposeGeometry(e,r){var o;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const i=e.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,s=e.buffers,a=(o=this.renderer)==null?void 0:o.buffer;if(e.disposeRunner.remove(this),!!i){if(a)for(let l=0;l<s.length;l++){const u=s[l]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!r&&a.dispose(s[l],r))}if(!r){for(const l in i)if(l[0]==="g"){const u=i[l];this._activeVao===u&&this.unbind(),n.deleteVertexArray(u)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let i=0;i<r.length;i++)this.disposeGeometry(this.managedGeometries[r[i]],e)}activateVao(e,r){const i=this.gl,n=this.CONTEXT_UID,s=this.renderer.buffer,a=e.buffers,o=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const u in o){const c=o[u],d=a[c.buffer],h=d._glBuffers[n];if(r.attributeData[u]){l!==h&&(s.bind(d),l=h);const p=r.attributeData[u].location;if(i.enableVertexAttribArray(p),i.vertexAttribPointer(p,c.size,c.type||i.FLOAT,c.normalized,c.stride,c.start),c.instance)if(this.hasInstance)i.vertexAttribDivisor(p,c.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,i,n){const{gl:s}=this,a=this._activeGeometry;if(a.indexBuffer){const o=a.indexBuffer.data.BYTES_PER_ELEMENT,l=o===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;o===2||o===4&&this.canUseUInt32ElementIndex?a.instanced?s.drawElementsInstanced(e,r||a.indexBuffer.data.length,l,(i||0)*o,n||1):s.drawElements(e,r||a.indexBuffer.data.length,l,(i||0)*o):console.warn("unsupported index buffer type: uint32")}else a.instanced?s.drawArraysInstanced(e,i,r||a.getSize(),n||1):s.drawArrays(e,i,r||a.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}};g9.extension={type:Be.RendererSystem,name:"geometry"};ot.add(g9);const DL=new ii;let $4=class{constructor(e,r){this._texture=e,this.mapCoord=new ii,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const i=this.mapCoord;for(let n=0;n<e.length;n+=2){const s=e[n],a=e[n+1];r[n]=s*i.a+a*i.c+i.tx,r[n+1]=s*i.b+a*i.d+i.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const i=r._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);const n=r.orig,s=r.trim;s&&(DL.set(n.width/s.width,0,0,n.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(DL));const a=r.baseTexture,o=this.uClampFrame,l=this.clampMargin/a.resolution,u=this.clampOffset;return o[0]=(r._frame.x+l+u)/a.width,o[1]=(r._frame.y+l+u)/a.height,o[2]=(r._frame.x+r._frame.width-l+u)/a.width,o[3]=(r._frame.y+r._frame.height-l+u)/a.height,this.uClampOffset[0]=u/a.realWidth,this.uClampOffset[1]=u/a.realHeight,this.isSimple=r._frame.width===a.width&&r._frame.height===a.height&&r.rotate===0,!0}};var pde=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,mde=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;let gde=class extends of{constructor(e,r,i){let n=null;typeof e!="string"&&r===void 0&&i===void 0&&(n=e,e=void 0,r=void 0,i=void 0),super(e||mde,r||pde,i),this.maskSprite=n,this.maskMatrix=new ii}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,i,n){const s=this._maskSprite,a=s._texture;a.valid&&(a.uvMatrix||(a.uvMatrix=new $4(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,r,i,n))}},vde=class{constructor(e=null){this.type=Yr.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=of.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Yr.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}},v9=class{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let i=r;if(!i.isMaskData){const s=this.maskDataPool.pop()||new vde;s.pooled=!0,s.maskObject=r,i=s}const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(i.copyCountersOrReset(n),i._colorMask=n?n._colorMask:15,i.autoDetect&&this.detect(i),i._target=e,i.type!==Yr.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case Yr.SCISSOR:this.renderer.scissor.push(i);break;case Yr.STENCIL:this.renderer.stencil.push(i);break;case Yr.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i);break;case Yr.COLOR:this.pushColorMask(i);break}i.type===Yr.SPRITE&&this.maskStack.push(i)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case Yr.SCISSOR:this.renderer.scissor.pop(r);break;case Yr.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Yr.SPRITE:this.popSpriteMask(r);break;case Yr.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const i=this.maskStack[this.maskStack.length-1];i.type===Yr.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=Yr.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Yr.SCISSOR:e.type=Yr.STENCIL:e.type=Yr.COLOR}pushSpriteMask(e){const{maskObject:r}=e,i=e._target;let n=e._filters;n||(n=this.alphaMaskPool[this.alphaMaskIndex],n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new gde])),n[0].resolution=e.resolution,n[0].multisample=e.multisample,n[0].maskSprite=r;const s=i.filterArea;i.filterArea=r.getBounds(!0),this.renderer.filter.push(i,n),i.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,i=e._colorMask=r&e.colorMask;i!==r&&this.renderer.gl.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)}popColorMask(e){const r=e._colorMask,i=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;i!==r&&this.renderer.gl.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)}destroy(){this.renderer=null}};v9.extension={type:Be.RendererSystem,name:"mask"};ot.add(v9);let y9=class{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,i=this.getStackLength();this.maskStack=e;const n=this.getStackLength();n!==i&&(n===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}};const FL=new ii,BL=[],x9=class Lx extends y9{constructor(e){super(e),this.glConst=rt.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:i}=e,{renderer:n}=this,s=n.renderTexture,a=i.getBounds(!0,BL.pop()??new Gt);this.roundFrameToPixels(a,s.current?s.current.resolution:n.resolution,s.sourceFrame,s.destinationFrame,n.projection.transform),r&&a.fit(r),e._scissorRectLocal=a}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:i,c:n,d:s}=e;return(Math.abs(i)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||Lx.isMatrixRotated(r.worldTransform)||Lx.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const i=e._scissorRectLocal;return i.width>0&&i.height>0}roundFrameToPixels(e,r,i,n,s){Lx.isMatrixRotated(s)||(s=s?FL.copyFrom(s):FL.identity(),s.translate(-i.x,-i.y).scale(n.width/i.width,n.height/i.height).translate(n.x,n.y),this.renderer.filter.transformAABB(s,e),e.fit(n),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&BL.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};x9.extension={type:Be.RendererSystem,name:"scissor"};let yde=x9;ot.add(yde);let b9=class extends y9{constructor(e){super(e),this.glConst=rt.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:i}=this.renderer,n=e._stencilCounter;n===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,n,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,i.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,n=i?i._colorMask:15;n!==0&&(i._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,n!==0&&(i._colorMask=n,r.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}};b9.extension={type:Be.RendererSystem,name:"stencil"};ot.add(b9);let _9=class{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Ft("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Ft("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Ft("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}};_9.extension={type:[Be.RendererSystem,Be.CanvasRendererSystem],name:"_plugin"};ot.add(_9);let w9=class{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new ii,this.transform=null}update(e,r,i,n){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,n),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,i,n){const s=this.projectionMatrix,a=n?-1:1;s.identity(),s.a=1/r.width*2,s.d=a*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-a-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}};w9.extension={type:Be.RendererSystem,name:"projection"};ot.add(w9);const xde=new Iw,jL=new Gt;let S9=class{constructor(e){this.renderer=e,this._tempMatrix=new ii}generateTexture(e,r){const{region:i,...n}=r||{},s=(i==null?void 0:i.copyTo(jL))||e.getLocalBounds(jL,!0),a=n.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/a),s.height=Math.max(s.height,1/a),n.width=s.width,n.height=s.height,n.resolution=a,n.multisample??(n.multisample=this.renderer.multisample);const o=c9.create(n);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const l=e.transform;return e.transform=xde,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=l,o}destroy(){}};S9.extension={type:[Be.RendererSystem,Be.CanvasRendererSystem],name:"textureGenerator"};ot.add(S9);const Ec=new Gt,Am=new Gt;let E9=class{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Gt,this.destinationFrame=new Gt,this.viewportFrame=new Gt}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,i){const n=this.renderer;this.current=e;let s,a,o;e?(s=e.baseTexture,o=s.resolution,r||(Ec.width=e.frame.width,Ec.height=e.frame.height,r=Ec),i||(Am.x=e.frame.x,Am.y=e.frame.y,Am.width=r.width,Am.height=r.height,i=Am),a=s.framebuffer):(o=n.resolution,r||(Ec.width=n._view.screen.width,Ec.height=n._view.screen.height,r=Ec),i||(i=Ec,i.width=r.width,i.height=r.height));const l=this.viewportFrame;l.x=i.x*o,l.y=i.y*o,l.width=i.width*o,l.height=i.height*o,e||(l.y=n.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(a,l),this.renderer.projection.update(i,r,o,!a),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(i)}clear(e,r){const i=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,n=Mr.shared.setValue(e||i);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&n.premultiply(n.alpha);const s=this.destinationFrame,a=this.current?this.current.baseTexture:this.renderer._view.screen,o=s.width!==a.width||s.height!==a.height;if(o){let{x:l,y:u,width:c,height:d}=this.viewportFrame;l=Math.round(l),u=Math.round(u),c=Math.round(c),d=Math.round(d),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(l,u,c,d)}this.renderer.framebuffer.clear(n.red,n.green,n.blue,n.alpha,r),o&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}};E9.extension={type:Be.RendererSystem,name:"renderTexture"};ot.add(E9);let bde=class{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}};function _de(t,e){const r={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let n=0;n<i;n++){const s=e.getActiveAttrib(t,n);if(s.name.startsWith("gl_"))continue;const a=s9(e,s.type),o={type:a,name:s.name,size:n9(a),location:e.getAttribLocation(t,s.name)};r[s.name]=o}return r}function wde(t,e){const r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let n=0;n<i;n++){const s=e.getActiveUniform(t,n),a=s.name.replace(/\[.*?\]$/,""),o=!!s.name.match(/\[.*?\]$/),l=s9(e,s.type);r[a]={name:a,index:n,type:l,size:s.size,isArray:o,value:r9(l,s.size)}}return r}function Sde(t,e){var o;const r=PL(t,t.VERTEX_SHADER,e.vertexSrc),i=PL(t,t.FRAGMENT_SHADER,e.fragmentSrc),n=t.createProgram();t.attachShader(n,r),t.attachShader(n,i);const s=(o=e.extra)==null?void 0:o.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(n,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS)||Zhe(t,n,r,i),e.attributeData=_de(n,t),e.uniformData=wde(n,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const l=Object.keys(e.attributeData);l.sort((u,c)=>u>c?1:-1);for(let u=0;u<l.length;u++)e.attributeData[l[u]].location=u,t.bindAttribLocation(n,u,l[u]);t.linkProgram(n)}t.deleteShader(r),t.deleteShader(i);const a={};for(const l in e.uniformData){const u=e.uniformData[l];a[l]={location:t.getUniformLocation(n,l),value:r9(u.type,u.size)}}return new bde(n,a)}function Ede(t,e,r,i,n){r.buffer.update(n)}const Tde={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},T9={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function Ade(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,i=0,n=0;for(let s=0;s<e.length;s++){const a=e[s];if(r=T9[a.data.type],a.data.size>1&&(r=Math.max(r,16)*a.data.size),a.dataLen=r,i%r!==0&&i<16){const o=i%r%16;i+=o,n+=o}i+r>16?(n=Math.ceil(n/16)*16,a.offset=n,n+=r,i=r):(a.offset=n,i+=r,n+=r)}return n=Math.ceil(n/16)*16,{uboElements:e,size:n}}function Cde(t,e){const r=[];for(const i in t)e[i]&&r.push(e[i]);return r.sort((i,n)=>i.index-n.index),r}function Rde(t,e){if(!t.autoManage)return{size:0,syncFunc:Ede};const r=Cde(t.uniforms,e),{uboElements:i,size:n}=Ade(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let a=0;a<i.length;a++){const o=i[a],l=t.uniforms[o.data.name],u=o.data.name;let c=!1;for(let d=0;d<Tf.length;d++){const h=Tf[d];if(h.codeUbo&&h.test(o.data,l)){s.push(`offset = ${o.offset/4};`,Tf[d].codeUbo(o.data.name,l)),c=!0;break}}if(!c)if(o.data.size>1){const d=n9(o.data.type),h=Math.max(T9[o.data.type]/16,1),p=d/h,g=(4-p%4)%4;s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${o.offset/4};

                t = 0;

                for(var i=0; i < ${o.data.size*h}; i++)
                {
                    for(var j = 0; j < ${p}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${g};
                }

                `)}else{const d=Tde[o.data.type];s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${o.offset/4};
                ${d};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:n,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let Ide=0;const Sy={textureCount:0,uboCount:0};let A9=class{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Ide++}systemCheck(){if(!ede())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const i=e.program,n=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==i&&(this.program=i,this.gl.useProgram(n.program)),r||(Sy.textureCount=0,Sy.uboCount=0,this.syncUniformGroup(e.uniformGroup,Sy)),n}setUniforms(e){const r=this.shader.program,i=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(i.uniformData,e,this.renderer)}syncUniformGroup(e,r){const i=this.getGlProgram();(!e.static||e.dirtyId!==i.uniformDirtyGroups[e.id])&&(i.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,i,r))}syncUniforms(e,r,i){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,i)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=qhe(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const i=this.getGlProgram();if(!e.static||e.dirtyId!==0||!i.uniformGroups[e.id]){e.dirtyId=0;const n=i.uniformGroups[e.id]||this.createSyncBufferGroup(e,i,r);e.buffer.update(),n(i.uniformData,e.uniforms,this.renderer,Sy,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,i.uniformBufferBindings[r])}createSyncBufferGroup(e,r,i){const{gl:n}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,i);r.uniformBufferBindings[i]=this.shader.uniformBindCount,n.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const a=this.getSignature(e,this.shader.program.uniformData,"ubo");let o=this._uboCache[a];if(o||(o=this._uboCache[a]=Rde(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(o.size/4);e.buffer.update(l)}return r.uniformGroups[e.id]=o.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,i){const n=e.uniforms,s=[`${i}-`];for(const a in n)s.push(a),r[a]&&s.push(r[a].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,i=e.program,n=Sde(r,i);return i.glPrograms[this.renderer.CONTEXT_UID]=n,n}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}};A9.extension={type:Be.RendererSystem,name:"shader"};ot.add(A9);let s_=class{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.4.0 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}};s_.defaultOptions={hello:!1},s_.extension={type:[Be.RendererSystem,Be.CanvasRendererSystem],name:"startup"};ot.add(s_);function Pde(t,e=[]){return e[ut.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.ADD]=[t.ONE,t.ONE],e[ut.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.NONE]=[0,0],e[ut.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ut.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ut.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ut.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ut.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ut.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ut.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ut.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ut.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ut.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const Mde=0,kde=1,Nde=2,Ode=3,Lde=4,Dde=5,C9=class g3{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ut.NONE,this._blendEq=!1,this.map=[],this.map[Mde]=this.setBlend,this.map[kde]=this.setOffset,this.map[Nde]=this.setCullFace,this.map[Ode]=this.setDepthTest,this.map[Lde]=this.setFrontFace,this.map[Dde]=this.setDepthMask,this.checks=[],this.defaultState=new cc,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=Pde(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,i=0;for(;r;)r&1&&this.map[i].call(this,!!(e.data&1<<i)),r=r>>1,i++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(g3.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(g3.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],i=this.gl;r.length===2?i.blendFunc(r[0],r[1]):i.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,i.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const i=this.checks.indexOf(e);r&&i===-1?this.checks.push(e):!r&&i!==-1&&this.checks.splice(i,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};C9.extension={type:Be.RendererSystem,name:"state"};let Fde=C9;ot.add(Fde);let Bde=class extends El{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(n=>e.systems[n]),i=[...r,...Object.keys(e.systems).filter(n=>!r.includes(n))];for(const n of i)this.addSystem(e.systems[n],n)}addRunners(...e){e.forEach(r=>{this.runners[r]=new ga(r)})}addSystem(e,r){const i=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=i,this._systemsHash[r]=i;for(const n in this.runners)this.runners[n].add(i);return this}emitWithCustomOptions(e,r){const i=Object.keys(this._systemsHash);e.items.forEach(n=>{const s=i.find(a=>this._systemsHash[a]===n);n[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}};const Zm=class Dx{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Dx.defaultMaxIdle,this.checkCountMax=Dx.defaultCheckCountMax,this.mode=Dx.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==k4.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let i=!1;for(let n=0;n<r.length;n++){const s=r[n];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[n]=null,i=!0)}if(i){let n=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[n++]=r[s]);r.length=n}}unload(e){const r=this.renderer.texture,i=e._texture;i&&!i.framebuffer&&r.destroyTexture(i);for(let n=e.children.length-1;n>=0;n--)this.unload(e.children[n])}destroy(){this.renderer=null}};Zm.defaultMode=k4.AUTO,Zm.defaultMaxIdle=60*60,Zm.defaultCheckCountMax=60*10,Zm.extension={type:Be.RendererSystem,name:"textureGC"};let Bc=Zm;ot.add(Bc);let KE=class{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ft.UNSIGNED_BYTE,this.internalFormat=Ce.RGBA,this.samplerType=0}};function jde(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:ke.FLOAT,[t.RGBA]:ke.FLOAT,[t.ALPHA]:ke.FLOAT,[t.LUMINANCE]:ke.FLOAT,[t.LUMINANCE_ALPHA]:ke.FLOAT,[t.R8]:ke.FLOAT,[t.R8_SNORM]:ke.FLOAT,[t.RG8]:ke.FLOAT,[t.RG8_SNORM]:ke.FLOAT,[t.RGB8]:ke.FLOAT,[t.RGB8_SNORM]:ke.FLOAT,[t.RGB565]:ke.FLOAT,[t.RGBA4]:ke.FLOAT,[t.RGB5_A1]:ke.FLOAT,[t.RGBA8]:ke.FLOAT,[t.RGBA8_SNORM]:ke.FLOAT,[t.RGB10_A2]:ke.FLOAT,[t.RGB10_A2UI]:ke.FLOAT,[t.SRGB8]:ke.FLOAT,[t.SRGB8_ALPHA8]:ke.FLOAT,[t.R16F]:ke.FLOAT,[t.RG16F]:ke.FLOAT,[t.RGB16F]:ke.FLOAT,[t.RGBA16F]:ke.FLOAT,[t.R32F]:ke.FLOAT,[t.RG32F]:ke.FLOAT,[t.RGB32F]:ke.FLOAT,[t.RGBA32F]:ke.FLOAT,[t.R11F_G11F_B10F]:ke.FLOAT,[t.RGB9_E5]:ke.FLOAT,[t.R8I]:ke.INT,[t.R8UI]:ke.UINT,[t.R16I]:ke.INT,[t.R16UI]:ke.UINT,[t.R32I]:ke.INT,[t.R32UI]:ke.UINT,[t.RG8I]:ke.INT,[t.RG8UI]:ke.UINT,[t.RG16I]:ke.INT,[t.RG16UI]:ke.UINT,[t.RG32I]:ke.INT,[t.RG32UI]:ke.UINT,[t.RGB8I]:ke.INT,[t.RGB8UI]:ke.UINT,[t.RGB16I]:ke.INT,[t.RGB16UI]:ke.UINT,[t.RGB32I]:ke.INT,[t.RGB32UI]:ke.UINT,[t.RGBA8I]:ke.INT,[t.RGBA8UI]:ke.UINT,[t.RGBA16I]:ke.INT,[t.RGBA16UI]:ke.UINT,[t.RGBA32I]:ke.INT,[t.RGBA32UI]:ke.UINT,[t.DEPTH_COMPONENT16]:ke.FLOAT,[t.DEPTH_COMPONENT24]:ke.FLOAT,[t.DEPTH_COMPONENT32F]:ke.FLOAT,[t.DEPTH_STENCIL]:ke.FLOAT,[t.DEPTH24_STENCIL8]:ke.FLOAT,[t.DEPTH32F_STENCIL8]:ke.FLOAT}:e={[t.RGB]:ke.FLOAT,[t.RGBA]:ke.FLOAT,[t.ALPHA]:ke.FLOAT,[t.LUMINANCE]:ke.FLOAT,[t.LUMINANCE_ALPHA]:ke.FLOAT,[t.DEPTH_STENCIL]:ke.FLOAT},e}function Ude(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[ft.UNSIGNED_BYTE]:{[Ce.RGBA]:t.RGBA8,[Ce.RGB]:t.RGB8,[Ce.RG]:t.RG8,[Ce.RED]:t.R8,[Ce.RGBA_INTEGER]:t.RGBA8UI,[Ce.RGB_INTEGER]:t.RGB8UI,[Ce.RG_INTEGER]:t.RG8UI,[Ce.RED_INTEGER]:t.R8UI,[Ce.ALPHA]:t.ALPHA,[Ce.LUMINANCE]:t.LUMINANCE,[Ce.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ft.BYTE]:{[Ce.RGBA]:t.RGBA8_SNORM,[Ce.RGB]:t.RGB8_SNORM,[Ce.RG]:t.RG8_SNORM,[Ce.RED]:t.R8_SNORM,[Ce.RGBA_INTEGER]:t.RGBA8I,[Ce.RGB_INTEGER]:t.RGB8I,[Ce.RG_INTEGER]:t.RG8I,[Ce.RED_INTEGER]:t.R8I},[ft.UNSIGNED_SHORT]:{[Ce.RGBA_INTEGER]:t.RGBA16UI,[Ce.RGB_INTEGER]:t.RGB16UI,[Ce.RG_INTEGER]:t.RG16UI,[Ce.RED_INTEGER]:t.R16UI,[Ce.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[ft.SHORT]:{[Ce.RGBA_INTEGER]:t.RGBA16I,[Ce.RGB_INTEGER]:t.RGB16I,[Ce.RG_INTEGER]:t.RG16I,[Ce.RED_INTEGER]:t.R16I},[ft.UNSIGNED_INT]:{[Ce.RGBA_INTEGER]:t.RGBA32UI,[Ce.RGB_INTEGER]:t.RGB32UI,[Ce.RG_INTEGER]:t.RG32UI,[Ce.RED_INTEGER]:t.R32UI,[Ce.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[ft.INT]:{[Ce.RGBA_INTEGER]:t.RGBA32I,[Ce.RGB_INTEGER]:t.RGB32I,[Ce.RG_INTEGER]:t.RG32I,[Ce.RED_INTEGER]:t.R32I},[ft.FLOAT]:{[Ce.RGBA]:t.RGBA32F,[Ce.RGB]:t.RGB32F,[Ce.RG]:t.RG32F,[Ce.RED]:t.R32F,[Ce.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[ft.HALF_FLOAT]:{[Ce.RGBA]:t.RGBA16F,[Ce.RGB]:t.RGB16F,[Ce.RG]:t.RG16F,[Ce.RED]:t.R16F},[ft.UNSIGNED_SHORT_5_6_5]:{[Ce.RGB]:t.RGB565},[ft.UNSIGNED_SHORT_4_4_4_4]:{[Ce.RGBA]:t.RGBA4},[ft.UNSIGNED_SHORT_5_5_5_1]:{[Ce.RGBA]:t.RGB5_A1},[ft.UNSIGNED_INT_2_10_10_10_REV]:{[Ce.RGBA]:t.RGB10_A2,[Ce.RGBA_INTEGER]:t.RGB10_A2UI},[ft.UNSIGNED_INT_10F_11F_11F_REV]:{[Ce.RGB]:t.R11F_G11F_B10F},[ft.UNSIGNED_INT_5_9_9_9_REV]:{[Ce.RGB]:t.RGB9_E5},[ft.UNSIGNED_INT_24_8]:{[Ce.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[ft.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[Ce.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[ft.UNSIGNED_BYTE]:{[Ce.RGBA]:t.RGBA,[Ce.RGB]:t.RGB,[Ce.ALPHA]:t.ALPHA,[Ce.LUMINANCE]:t.LUMINANCE,[Ce.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ft.UNSIGNED_SHORT_5_6_5]:{[Ce.RGB]:t.RGB},[ft.UNSIGNED_SHORT_4_4_4_4]:{[Ce.RGBA]:t.RGBA},[ft.UNSIGNED_SHORT_5_5_5_1]:{[Ce.RGBA]:t.RGBA}},e}let R9=class{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Nt,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=Ude(e),this.samplerTypes=jde(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};const i=new KE(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new KE(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let n=0;n<this.boundTextures.length;n++)this.bind(null,n)}bind(e,r=0){const{gl:i}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const n=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),i.bindTexture(e.target,n.texture)),n.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),this.updateTexture(e)):n.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:i}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let n=0;n<i.length;n++)i[n]===this.unknownTexture&&this.bind(null,n)}for(let n=0;n<i.length;n++)i[n]===e&&(this.currentLocation!==n&&(r.activeTexture(r.TEXTURE0+n),this.currentLocation=n),r.bindTexture(e.target,this.emptyTextures[e.target].texture),i[n]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:i,CONTEXT_UID:n}=this;if(i)for(let s=e-1;s>=0;--s){const a=r[s];a&&a._glTextures[n].samplerType!==ke.FLOAT&&this.renderer.texture.unbind(a)}}initTexture(e){const r=new KE(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var i;r.internalFormat=((i=this.internalFormats[e.type])==null?void 0:i[e.format])??e.format,r.samplerType=this.samplerTypes[r.internalFormat]??ke.FLOAT,this.webGLVersion===2&&e.type===ft.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var n;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const i=this.renderer;if(this.initTextureType(e,r),(n=e.resource)==null?void 0:n.upload(i,e,r))r.samplerType!==ke.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,a=e.realHeight,o=i.gl;(r.width!==s||r.height!==a||r.dirtyId<0)&&(r.width=s,r.height=a,o.texImage2D(e.target,0,r.internalFormat,s,a,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:i}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),i.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const n=this.managedTextures.indexOf(e);n!==-1&&Bg(this.managedTextures,n,1)}}updateTextureStyle(e){var i;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Ku.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=al.CLAMP:r.wrapMode=e.wrapMode,(i=e.resource)!=null&&i.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const i=this.gl;if(r.mipmap&&e.mipmap!==Ku.ON_MANUAL&&i.generateMipmap(e.target),i.texParameteri(e.target,i.TEXTURE_WRAP_S,r.wrapMode),i.texParameteri(e.target,i.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===Zo.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);const n=this.renderer.context.extensions.anisotropicFiltering;if(n&&e.anisotropicLevel>0&&e.scaleMode===Zo.LINEAR){const s=Math.min(e.anisotropicLevel,i.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(e.target,n.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===Zo.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(e.target,i.TEXTURE_MAG_FILTER,e.scaleMode===Zo.LINEAR?i.LINEAR:i.NEAREST)}destroy(){this.renderer=null}};R9.extension={type:Be.RendererSystem,name:"texture"};ot.add(R9);let I9=class{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:i}=this,n=e._glTransformFeedbacks[i]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,n)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:i,renderer:n}=this;r&&n.shader.bind(r),i.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:i,CONTEXT_UID:n}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[n]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let a=0;a<e.buffers.length;a++){const o=e.buffers[a];o&&(i.buffer.update(o),o._glBuffers[n].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,a,o._glBuffers[n].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const i=e._glTransformFeedbacks[this.CONTEXT_UID],n=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let a=0;a<e.buffers.length;a++){const o=e.buffers[a];if(!o)continue;const l=o._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(o,r))}i&&(r||n.deleteTransformFeedback(i),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}};I9.extension={type:Be.RendererSystem,name:"transformFeedback"};ot.add(I9);let a_=class{constructor(e){this.renderer=e}init(e){this.screen=new Gt(0,0,e.width,e.height),this.element=e.view||rt.ADAPTER.createCanvas(),this.resolution=e.resolution||rt.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const i=this.element.width/this.resolution,n=this.element.height/this.resolution;this.screen.width=i,this.screen.height=n,this.autoDensity&&(this.element.style.width=`${i}px`,this.element.style.height=`${n}px`),this.renderer.emit("resize",i,n),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}};a_.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},a_.extension={type:[Be.RendererSystem,Be.CanvasRendererSystem],name:"_view"};ot.add(a_);rt.PREFER_ENV=Qh.WEBGL2;rt.STRICT_TEXTURE_CACHE=!1;rt.RENDER_OPTIONS={...n_.defaultOptions,...i_.defaultOptions,...a_.defaultOptions,...s_.defaultOptions};Object.defineProperties(rt,{WRAP_MODE:{get(){return Nt.defaultOptions.wrapMode},set(t){Ft("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Nt.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return Nt.defaultOptions.scaleMode},set(t){Ft("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Nt.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return Nt.defaultOptions.mipmap},set(t){Ft("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Nt.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return Nt.defaultOptions.anisotropicLevel},set(t){Ft("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Nt.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Ft("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),of.defaultResolution},set(t){of.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Ft("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),of.defaultMultisample},set(t){of.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Fc.defaultMaxTextures},set(t){Ft("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Fc.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Fc.defaultBatchSize},set(t){Ft("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Fc.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Fc.canUploadSameBuffer},set(t){Ft("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Fc.canUploadSameBuffer=t}},GC_MODE:{get(){return Bc.defaultMode},set(t){Ft("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Bc.defaultMode=t}},GC_MAX_IDLE:{get(){return Bc.defaultMaxIdle},set(t){Ft("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Bc.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return Bc.defaultCheckCountMax},set(t){Ft("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Bc.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Jo.defaultVertexPrecision},set(t){Ft("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Jo.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Jo.defaultFragmentPrecision},set(t){Ft("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Jo.defaultFragmentPrecision=t}}});var pp=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(pp||{});let QE=class{constructor(e,r=null,i=0,n=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=i,this.once=n}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}};const P9=class Pn{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new QE(null,null,1/0),this.deltaMS=1/Pn.targetFPMS,this.elapsedMS=1/Pn.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,i=pp.NORMAL){return this._addListener(new QE(e,r,i))}addOnce(e,r,i=pp.NORMAL){return this._addListener(new QE(e,r,i,!0))}_addListener(e){let r=this._head.next,i=this._head;if(!r)e.connect(i);else{for(;r;){if(e.priority>r.priority){e.connect(i);break}i=r,r=r.next}e.previous||e.connect(i)}return this._startIfPossible(),this}remove(e,r){let i=this._head.next;for(;i;)i.match(e,r)?i=i.destroy():i=i.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Pn.targetFPMS;const i=this._head;let n=i.next;for(;n;)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),i=Math.min(Math.max(0,r)/1e3,Pn.targetFPMS);this._maxElapsedMS=1/i}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!Pn._shared){const e=Pn._shared=new Pn;e.autoStart=!0,e._protected=!0}return Pn._shared}static get system(){if(!Pn._system){const e=Pn._system=new Pn;e.autoStart=!0,e._protected=!0}return Pn._system}};P9.targetFPMS=.06;let qi=P9;Object.defineProperties(rt,{TARGET_FPMS:{get(){return qi.targetFPMS},set(t){Ft("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),qi.targetFPMS=t}}});let M9=class{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,pp.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?qi.shared:new qi,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}};M9.extension=Be.Application;ot.add(M9);const k9=[];ot.handleByList(Be.Renderer,k9);function $de(t){for(const e of k9)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}let N9=class{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const i=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,i)}else{const i=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,i)}r>=$r.HIGH?this.multisample=$r.HIGH:r>=$r.MEDIUM?this.multisample=$r.MEDIUM:r>=$r.LOW?this.multisample=$r.LOW:this.multisample=$r.NONE}destroy(){}};N9.extension={type:Be.RendererSystem,name:"_multisample"};ot.add(N9);let zde=class{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}},O9=class{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:i}=this,n=e._glBuffers[i]||this.createGLBuffer(e);r.bindBuffer(e.type,n.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:i,CONTEXT_UID:n}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[n]||this.createGLBuffer(e);this.boundBufferBases[r]=e,i.bindBufferBase(i.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,i){const{gl:n,CONTEXT_UID:s}=this;i=i||0;const a=e._glBuffers[s]||this.createGLBuffer(e);n.bindBufferRange(n.UNIFORM_BUFFER,r||0,a.buffer,i*256,256)}update(e){const{gl:r,CONTEXT_UID:i}=this,n=e._glBuffers[i]||this.createGLBuffer(e);if(e._updateID!==n.updateID)if(n.updateID=e._updateID,r.bindBuffer(e.type,n.buffer),n.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;n.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const i=e._glBuffers[this.CONTEXT_UID],n=this.gl;e.disposeRunner.remove(this),i&&(r||n.deleteBuffer(i.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let i=0;i<r.length;i++)this.dispose(this.managedBuffers[r[i]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:i}=this;return e._glBuffers[r]=new zde(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}};O9.extension={type:Be.RendererSystem,name:"buffer"};ot.add(O9);let L9=class{constructor(e){this.renderer=e}render(e,r){const i=this.renderer;let n,s,a,o;if(r&&(n=r.renderTexture,s=r.clear,a=r.transform,o=r.skipUpdateTransform),this.renderingToScreen=!n,i.runners.prerender.emit(),i.emit("prerender"),i.projection.transform=a,!i.context.isLost){if(n||(this.lastObjectRendered=e),!o){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}i.renderTexture.bind(n),i.batch.currentRenderer.start(),(s??i.background.clearBeforeRender)&&i.renderTexture.clear(),e.render(i),i.batch.currentRenderer.flush(),n&&(r.blit&&i.framebuffer.blit(),n.baseTexture.update()),i.runners.postrender.emit(),i.projection.transform=null,i.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}};L9.extension={type:Be.RendererSystem,name:"objectRenderer"};ot.add(L9);const Fx=class v3 extends Bde{constructor(e){super(),this.type=o$.WEBGL,e=Object.assign({},rt.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new _h({projectionMatrix:new ii},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:v3.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(Ft("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=v3.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:yhe()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Ft("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Ft("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Ft("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Ft("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Ft("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Ft("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Ft("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Ft("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};Fx.extension={type:Be.Renderer,priority:1},Fx.__plugins={},Fx.__systems={};let z4=Fx;ot.handleByMap(Be.RendererPlugin,z4.__plugins);ot.handleByMap(Be.RendererSystem,z4.__systems);ot.add(z4);let D9=class extends N0{constructor(e,r){const{width:i,height:n}=r||{};super(i,n),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const a=new Nt;this.items.push(a),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let i=0;i<this.length;i++)e[i]&&(e[i].castToBaseTexture?this.addBaseTextureAt(e[i].castToBaseTexture(),i):e[i]instanceof N0?this.addResourceAt(e[i],i):this.addResourceAt($$(e[i],r),i))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:i}=this.items[0];return this.resize(r,i),this.update(),Promise.resolve(this)}),this._load}},Hde=class extends D9{constructor(e,r){const{width:i,height:n}=r||{};let s,a;Array.isArray(e)?(s=e,a=e.length):a=e,super(a,{width:i,height:n}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=wf.TEXTURE_2D_ARRAY}upload(e,r,i){const{length:n,itemDirtyIds:s,items:a}=this,{gl:o}=e;i.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,n,0,r.format,i.type,null);for(let l=0;l<n;l++){const u=a[l];s[l]<u.dirtyId&&(s[l]=u.dirtyId,u.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,l,u.resource.width,u.resource.height,1,r.format,i.type,u.resource.source))}return!0}},Gde=class extends vl{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}};const F9=class Jm extends D9{constructor(e,r){const{width:i,height:n,autoLoad:s,linkBaseTexture:a}=r||{};if(e&&e.length!==Jm.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:i,height:n});for(let o=0;o<Jm.SIDES;o++)this.items[o].target=wf.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=a!==!1,e&&this.initFromArray(e,r),s!==!1&&this.load()}bind(e){super.bind(e),e.target=wf.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,i){if(i===void 0&&(i=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=wf.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,i){const n=this.itemDirtyIds;for(let s=0;s<Jm.SIDES;s++){const a=this.items[s];(n[s]<a.dirtyId||i.dirtyId<r.dirtyId)&&(a.valid&&a.resource?(a.resource.upload(e,a,i),n[s]=a.dirtyId):n[s]<-1&&(e.gl.texImage2D(a.target,0,i.internalFormat,r.realWidth,r.realHeight,0,r.format,i.type,null),n[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===Jm.SIDES}};F9.SIDES=6;let Vde=F9,Wde=class eg extends vl{constructor(e,r){r=r||{};let i,n,s;typeof e=="string"?(i=eg.EMPTY,n=e,s=!0):(i=e,n=null,s=!1),super(i),this.url=n,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const i=await rt.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const n=await i.blob();if(this.destroyed)return;const s=await createImageBitmap(n,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ss.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(i){if(this.destroyed)return;r(i),this.onError.emit(i)}}),this._load)}upload(e,r,i){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,i)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return eg._EMPTY=eg._EMPTY??rt.ADAPTER.createCanvas(0,0),eg._EMPTY}};const y3=class Bx extends vl{constructor(e,r){r=r||{},super(rt.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},Bx.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;vl.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,i=e.height;if(!r||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=r*this.scale,s=i*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/i*r,s=this._overrideHeight||this._overrideWidth/r*i),n=Math.round(n),s=Math.round(s);const a=this.source;a.width=n,a.height=s,a._pixiId=`canvas_${k0()}`,a.getContext("2d").drawImage(e,0,0,r,i,0,0,n,s),this._resolve(),this._resolve=null}}static getSize(e){const r=Bx.SVG_SIZE.exec(e),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&Bx.SVG_XML.test(e)}};y3.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,y3.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let x3=y3;class Xde extends vl{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const b3=class _3 extends vl{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const i=document.createElement("video");r.autoLoad!==!1&&i.setAttribute("preload","auto"),r.playsinline!==!1&&(i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline","")),r.muted===!0&&(i.setAttribute("muted",""),i.muted=!0),r.loop===!0&&i.setAttribute("loop",""),r.autoPlay!==!1&&i.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const n=e[0].src||e[0];vl.crossOrigin(i,n,r.crossorigin);for(let s=0;s<e.length;++s){const a=document.createElement("source");let{src:o,mime:l}=e[s];if(o=o||e[s],o.startsWith("data:"))l=o.slice(5,o.indexOf(";"));else if(!o.startsWith("blob:")){const u=o.split("?").shift().toLowerCase(),c=u.slice(u.lastIndexOf(".")+1);l=l||_3.MIME_TYPES[c]||`video/${c}`}a.src=o,l&&(a.type=l),i.appendChild(a)}e=i}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=qi.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,i)=>{this.valid?r(this):(this._resolve=r,this._reject=i,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(qi.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(qi.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(qi.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||_3.TYPES.includes(r)}};b3.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],b3.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let B9=b3;s3.push(Wde,u9,Gde,B9,Xde,x3,z$,Vde,Hde);let o_=class{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Gt.EMPTY:(e=e||new Gt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:i,b:n,c:s,d:a,tx:o,ty:l}=e,u=i*r.x+s*r.y+o,c=n*r.x+a*r.y+l;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c)}addQuad(e){let r=this.minX,i=this.minY,n=this.maxX,s=this.maxY,a=e[0],o=e[1];r=a<r?a:r,i=o<i?o:i,n=a>n?a:n,s=o>s?o:s,a=e[2],o=e[3],r=a<r?a:r,i=o<i?o:i,n=a>n?a:n,s=o>s?o:s,a=e[4],o=e[5],r=a<r?a:r,i=o<i?o:i,n=a>n?a:n,s=o>s?o:s,a=e[6],o=e[7],r=a<r?a:r,i=o<i?o:i,n=a>n?a:n,s=o>s?o:s,this.minX=r,this.minY=i,this.maxX=n,this.maxY=s}addFrame(e,r,i,n,s){this.addFrameMatrix(e.worldTransform,r,i,n,s)}addFrameMatrix(e,r,i,n,s){const a=e.a,o=e.b,l=e.c,u=e.d,c=e.tx,d=e.ty;let h=this.minX,p=this.minY,g=this.maxX,y=this.maxY,b=a*r+l*i+c,x=o*r+u*i+d;h=b<h?b:h,p=x<p?x:p,g=b>g?b:g,y=x>y?x:y,b=a*n+l*i+c,x=o*n+u*i+d,h=b<h?b:h,p=x<p?x:p,g=b>g?b:g,y=x>y?x:y,b=a*r+l*s+c,x=o*r+u*s+d,h=b<h?b:h,p=x<p?x:p,g=b>g?b:g,y=x>y?x:y,b=a*n+l*s+c,x=o*n+u*s+d,h=b<h?b:h,p=x<p?x:p,g=b>g?b:g,y=x>y?x:y,this.minX=h,this.minY=p,this.maxX=g,this.maxY=y}addVertexData(e,r,i){let n=this.minX,s=this.minY,a=this.maxX,o=this.maxY;for(let l=r;l<i;l+=2){const u=e[l],c=e[l+1];n=u<n?u:n,s=c<s?c:s,a=u>a?u:a,o=c>o?c:o}this.minX=n,this.minY=s,this.maxX=a,this.maxY=o}addVertices(e,r,i,n){this.addVerticesMatrix(e.worldTransform,r,i,n)}addVerticesMatrix(e,r,i,n,s=0,a=s){const o=e.a,l=e.b,u=e.c,c=e.d,d=e.tx,h=e.ty;let p=this.minX,g=this.minY,y=this.maxX,b=this.maxY;for(let x=i;x<n;x+=2){const w=r[x],_=r[x+1],E=o*w+u*_+d,A=c*_+l*w+h;p=Math.min(p,E-s),y=Math.max(y,E+s),g=Math.min(g,A-a),b=Math.max(b,A+a)}this.minX=p,this.minY=g,this.maxX=y,this.maxY=b}addBounds(e){const r=this.minX,i=this.minY,n=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<i?e.minY:i,this.maxX=e.maxX>n?e.maxX:n,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const i=e.minX>r.minX?e.minX:r.minX,n=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,a=e.maxY<r.maxY?e.maxY:r.maxY;if(i<=s&&n<=a){const o=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=i<o?i:o,this.minY=n<l?n:l,this.maxX=s>u?s:u,this.maxY=a>c?a:c}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const i=e.minX>r.x?e.minX:r.x,n=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,a=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(i<=s&&n<=a){const o=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=i<o?i:o,this.minY=n<l?n:l,this.maxX=s>u?s:u,this.maxY=a>c?a:c}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,i,n,s,a){e-=s,r-=a,i+=s,n+=a,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>n?this.maxY:n}},mp=class j9 extends El{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Iw,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new o_,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let i=0;i<r.length;++i){const n=r[i];Object.defineProperty(j9.prototype,n,Object.getOwnPropertyDescriptor(e,n))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Gt),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Gt),e=this._localBoundsRect),this._localBounds||(this._localBounds=new o_);const r=this.transform,i=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(i==null?void 0:i.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const n=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const a=this.getBounds(!1,e);return this.parent=i,this.transform=r,this._bounds=n,this._bounds.updateID+=this._boundsID-s,a}toGlobal(e,r,i=!1){return i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,i,n){return r&&(e=r.toGlobal(e,i,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,i)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,i=1,n=1,s=0,a=0,o=0,l=0,u=0){return this.position.x=e,this.position.y=r,this.scale.x=i||1,this.scale.y=n||1,this.rotation=s,this.skew.x=a,this.skew.y=o,this.pivot.x=l,this.pivot.y=u,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new Yde),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*zhe}set angle(e){this.transform.rotation=e*Hhe}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}},Yde=class extends mp{constructor(){super(...arguments),this.sortDirty=null}};mp.prototype.displayObjectUpdateTransform=mp.prototype.updateTransform;const qde=new ii;function Kde(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const U9=class w3 extends mp{constructor(){super(),this.children=[],this.sortableChildren=w3.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error(`${e}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const i=this.getChildIndex(e),n=this.getChildIndex(r);this.children[i]=r,this.children[n]=e,this.onChildrenChange(i<n?i:n)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const i=this.getChildIndex(e);Bg(this.children,i,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],i=this.children.indexOf(r);if(i===-1)return null;r.parent=null,r.transform._parentID=-1,Bg(this.children,i,1),this._boundsID++,this.onChildrenChange(i),r.emit("removed",this),this.emit("childRemoved",r,this,i)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,Bg(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const i=e,n=r,s=n-i;let a;if(s>0&&s<=n){a=this.children.splice(i,s);for(let o=0;o<a.length;++o)a[o].parent=null,a[o].transform&&(a[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let o=0;o<a.length;++o)a[o].emit("removed",this),this.emit("childRemoved",a[o],this,o);return a}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,i=this.children.length;r<i;++r){const n=this.children[r];n._lastSortedIndex=r,!e&&n.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(Kde),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const i=this.children[e];i.visible&&i.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const i=r._mask.isMaskData?r._mask.maskObject:r._mask;i?(i.calculateBounds(),this._bounds.addBoundsMask(r._bounds,i._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const i=super.getLocalBounds(e);if(!r)for(let n=0,s=this.children.length;n<s;++n){const a=this.children[n];a.visible&&a.updateTransform()}return i}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let i,n;this.cullArea?(i=this.cullArea,n=this.worldTransform):this._render!==w3.prototype._render&&(i=this.getBounds(!0));const s=e.projection.transform;if(s&&(n?(n=qde.copyFrom(n),n.prepend(s)):n=s),i&&r.intersects(i,n))this._render(e);else if(this.cullArea)return;for(let a=0,o=this.children.length;a<o;++a){const l=this.children[a],u=l.cullable;l.cullable=u||!this.cullArea,l.render(e),l.cullable=u}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let i=0,n=this.children.length;i<n;++i)this.children[i].render(e)}}renderAdvanced(e){var s,a,o;const r=this.filters,i=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let l=0;l<r.length;l++)r[l].enabled&&this._enabledFilters.push(r[l])}const n=r&&((s=this._enabledFilters)==null?void 0:s.length)||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==Yr.NONE));if(n&&e.batch.flush(),r&&((a=this._enabledFilters)!=null&&a.length)&&e.filter.push(this,this._enabledFilters),i&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let l=0,u=this.children.length;l<u;++l)this.children[l].render(e)}n&&e.batch.flush(),i&&e.mask.pop(this),r&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,i=this.removeChildren(0,this.children.length);if(r)for(let n=0;n<i.length;++n)i[n].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};U9.defaultSortableChildren=!1;let Yn=U9;Yn.prototype.containerUpdateTransform=Yn.prototype.updateTransform;Object.defineProperties(rt,{SORTABLE_CHILDREN:{get(){return Yn.defaultSortableChildren},set(t){Ft("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Yn.defaultSortableChildren=t}}});var Mw=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Mw||{});const Cm=new zt,Qde=new Uint16Array([0,1,2,0,2,3]);let C1=class $9 extends Yn{constructor(e){super(),this._anchor=new Eu(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new Mr(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=ut.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||Et.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=Qde,this.pluginName="batch",this.isSprite=!0,this._roundPixels=rt.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=af(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=af(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,i=r.a,n=r.b,s=r.c,a=r.d,o=r.tx,l=r.ty,u=this.vertexData,c=e.trim,d=e.orig,h=this._anchor;let p=0,g=0,y=0,b=0;if(c?(g=c.x-h._x*d.width,p=g+c.width,b=c.y-h._y*d.height,y=b+c.height):(g=-h._x*d.width,p=g+d.width,b=-h._y*d.height,y=b+d.height),u[0]=i*g+s*b+o,u[1]=a*b+n*g+l,u[2]=i*p+s*b+o,u[3]=a*b+n*p+l,u[4]=i*p+s*y+o,u[5]=a*y+n*p+l,u[6]=i*g+s*y+o,u[7]=a*y+n*g+l,this._roundPixels){const x=rt.RESOLUTION;for(let w=0;w<u.length;++w)u[w]=Math.round(u[w]*x)/x}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,i=e.orig,n=this._anchor,s=this.transform.worldTransform,a=s.a,o=s.b,l=s.c,u=s.d,c=s.tx,d=s.ty,h=-n._x*i.width,p=h+i.width,g=-n._y*i.height,y=g+i.height;if(r[0]=a*h+l*g+c,r[1]=u*g+o*h+d,r[2]=a*p+l*g+c,r[3]=u*g+o*p+d,r[4]=a*p+l*y+c,r[5]=u*y+o*p+d,r[6]=a*h+l*y+c,r[7]=u*y+o*h+d,this._roundPixels){const b=rt.RESOLUTION;for(let x=0;x<r.length;++x)r[x]=Math.round(r[x]*b)/b}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new o_),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Gt),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Cm);const r=this._texture.orig.width,i=this._texture.orig.height,n=-r*this.anchor.x;let s=0;return Cm.x>=n&&Cm.x<n+r&&(s=-i*this.anchor.y,Cm.y>=s&&Cm.y<s+i)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const i=e instanceof Et?e:Et.from(e,r);return new $9(i)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=af(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=af(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Et.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}};const Ey={willReadFrequently:!0},Ha=class qe{static get experimentalLetterSpacingSupported(){let e=qe._experimentalLetterSpacingSupported;if(e!==void 0){const r=rt.ADAPTER.getCanvasRenderingContext2D().prototype;e=qe._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,i,n,s,a,o,l,u){this.text=e,this.style=r,this.width=i,this.height=n,this.lines=s,this.lineWidths=a,this.lineHeight=o,this.maxLineWidth=l,this.fontProperties=u}static measureText(e,r,i,n=qe._canvas){i=i??r.wordWrap;const s=r.toFontString(),a=qe.measureFont(s);a.fontSize===0&&(a.fontSize=r.fontSize,a.ascent=r.fontSize);const o=n.getContext("2d",Ey);o.font=s;const l=(i?qe.wordWrap(e,r,n):e).split(/(?:\r\n|\r|\n)/),u=new Array(l.length);let c=0;for(let g=0;g<l.length;g++){const y=qe._measureText(l[g],r.letterSpacing,o);u[g]=y,c=Math.max(c,y)}let d=c+r.strokeThickness;r.dropShadow&&(d+=r.dropShadowDistance);const h=r.lineHeight||a.fontSize+r.strokeThickness;let p=Math.max(h,a.fontSize+r.strokeThickness*2)+r.leading+(l.length-1)*(h+r.leading);return r.dropShadow&&(p+=r.dropShadowDistance),new qe(e,r,d,p,l,u,h+r.leading,c,a)}static _measureText(e,r,i){let n=!1;qe.experimentalLetterSpacingSupported&&(qe.experimentalLetterSpacing?(i.letterSpacing=`${r}px`,i.textLetterSpacing=`${r}px`,n=!0):(i.letterSpacing="0px",i.textLetterSpacing="0px"));let s=i.measureText(e).width;return s>0&&(n?s-=r:s+=(qe.graphemeSegmenter(e).length-1)*r),s}static wordWrap(e,r,i=qe._canvas){const n=i.getContext("2d",Ey);let s=0,a="",o="";const l=Object.create(null),{letterSpacing:u,whiteSpace:c}=r,d=qe.collapseSpaces(c),h=qe.collapseNewlines(c);let p=!d;const g=r.wordWrapWidth+u,y=qe.tokenize(e);for(let b=0;b<y.length;b++){let x=y[b];if(qe.isNewline(x)){if(!h){o+=qe.addLine(a),p=!d,a="",s=0;continue}x=" "}if(d){const _=qe.isBreakingSpace(x),E=qe.isBreakingSpace(a[a.length-1]);if(_&&E)continue}const w=qe.getFromCache(x,u,l,n);if(w>g)if(a!==""&&(o+=qe.addLine(a),a="",s=0),qe.canBreakWords(x,r.breakWords)){const _=qe.wordWrapSplit(x);for(let E=0;E<_.length;E++){let A=_[E],I=A,P=1;for(;_[E+P];){const k=_[E+P];if(!qe.canBreakChars(I,k,x,E,r.breakWords))A+=k;else break;I=k,P++}E+=P-1;const M=qe.getFromCache(A,u,l,n);M+s>g&&(o+=qe.addLine(a),p=!1,a="",s=0),a+=A,s+=M}}else{a.length>0&&(o+=qe.addLine(a),a="",s=0);const _=b===y.length-1;o+=qe.addLine(x,!_),p=!1,a="",s=0}else w+s>g&&(p=!1,o+=qe.addLine(a),a="",s=0),(a.length>0||!qe.isBreakingSpace(x)||p)&&(a+=x,s+=w)}return o+=qe.addLine(a,!1),o}static addLine(e,r=!0){return e=qe.trimRight(e),e=r?`${e}
`:e,e}static getFromCache(e,r,i,n){let s=i[e];return typeof s!="number"&&(s=qe._measureText(e,r,n)+r,i[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const i=e[r];if(!qe.isBreakingSpace(i))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:qe._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:qe._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let i="";if(typeof e!="string")return r;for(let n=0;n<e.length;n++){const s=e[n],a=e[n+1];if(qe.isBreakingSpace(s,a)||qe.isNewline(s)){i!==""&&(r.push(i),i=""),r.push(s);continue}i+=s}return i!==""&&r.push(i),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,i,n,s){return!0}static wordWrapSplit(e){return qe.graphemeSegmenter(e)}static measureFont(e){if(qe._fonts[e])return qe._fonts[e];const r={ascent:0,descent:0,fontSize:0},i=qe._canvas,n=qe._context;n.font=e;const s=qe.METRICS_STRING+qe.BASELINE_SYMBOL,a=Math.ceil(n.measureText(s).width);let o=Math.ceil(n.measureText(qe.BASELINE_SYMBOL).width);const l=Math.ceil(qe.HEIGHT_MULTIPLIER*o);if(o=o*qe.BASELINE_MULTIPLIER|0,a===0||l===0)return qe._fonts[e]=r,r;i.width=a,i.height=l,n.fillStyle="#f00",n.fillRect(0,0,a,l),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(s,0,o);const u=n.getImageData(0,0,a,l).data,c=u.length,d=a*4;let h=0,p=0,g=!1;for(h=0;h<o;++h){for(let y=0;y<d;y+=4)if(u[p+y]!==255){g=!0;break}if(!g)p+=d;else break}for(r.ascent=o-h,p=c-d,g=!1,h=l;h>o;--h){for(let y=0;y<d;y+=4)if(u[p+y]!==255){g=!0;break}if(!g)p-=d;else break}return r.descent=h-o,r.fontSize=r.ascent+r.descent,qe._fonts[e]=r,r}static clearMetrics(e=""){e?delete qe._fonts[e]:qe._fonts={}}static get _canvas(){var e;if(!qe.__canvas){let r;try{const i=new OffscreenCanvas(0,0);if((e=i.getContext("2d",Ey))!=null&&e.measureText)return qe.__canvas=i,i;r=rt.ADAPTER.createCanvas()}catch{r=rt.ADAPTER.createCanvas()}r.width=r.height=10,qe.__canvas=r}return qe.__canvas}static get _context(){return qe.__context||(qe.__context=qe._canvas.getContext("2d",Ey)),qe.__context}};Ha.METRICS_STRING="|ÉqÅ",Ha.BASELINE_SYMBOL="M",Ha.BASELINE_MULTIPLIER=1.4,Ha.HEIGHT_MULTIPLIER=2,Ha.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),Ha.experimentalLetterSpacing=!1,Ha._fonts={},Ha._newlines=[10,13],Ha._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let jc=Ha;const Zde=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],z9=class tg{constructor(e){this.styleID=0,this.reset(),JE(this,e,e)}clone(){const e={};return JE(e,this,tg.defaultStyle),new tg(e)}reset(){JE(this,tg.defaultStyle,tg.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=ZE(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=ZE(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){Jde(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=ZE(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let i=r.length-1;i>=0;i--){let n=r[i].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&!Zde.includes(n)&&(n=`"${n}"`),r[i]=n}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${r.join(",")}`}};z9.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Mw.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let l_=z9;function ZE(t){const e=Mr.shared,r=i=>{const n=e.setValue(i);return n.alpha===1?n.toHex():n.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function Jde(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function JE(t,e,r){for(const i in r)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}const efe={texture:!0,children:!1,baseTexture:!0},H9=class S3 extends C1{constructor(e,r,i){let n=!1;i||(i=rt.ADAPTER.createCanvas(),n=!0),i.width=3,i.height=3;const s=Et.from(i);s.orig=new Gt,s.trim=new Gt,super(s),this._ownCanvas=n,this.canvas=i,this.context=i.getContext("2d",{willReadFrequently:!0}),this._resolution=S3.defaultResolution??rt.RESOLUTION,this._autoResolution=S3.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return jc.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Ft("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),jc.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const i=this.context,n=jc.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=n.width,a=n.height,o=n.lines,l=n.lineHeight,u=n.lineWidths,c=n.maxLineWidth,d=n.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,a)+r.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=r.strokeThickness,i.textBaseline=r.textBaseline,i.lineJoin=r.lineJoin,i.miterLimit=r.miterLimit;let h,p;const g=r.dropShadow?2:1;for(let y=0;y<g;++y){const b=r.dropShadow&&y===0,x=b?Math.ceil(Math.max(1,a)+r.padding*2):0,w=x*this._resolution;if(b){i.fillStyle="black",i.strokeStyle="black";const E=r.dropShadowColor,A=r.dropShadowBlur*this._resolution,I=r.dropShadowDistance*this._resolution;i.shadowColor=Mr.shared.setValue(E).setAlpha(r.dropShadowAlpha).toRgbaString(),i.shadowBlur=A,i.shadowOffsetX=Math.cos(r.dropShadowAngle)*I,i.shadowOffsetY=Math.sin(r.dropShadowAngle)*I+w}else i.fillStyle=this._generateFillStyle(r,o,n),i.strokeStyle=r.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;let _=(l-d.fontSize)/2;l-d.fontSize<0&&(_=0);for(let E=0;E<o.length;E++)h=r.strokeThickness/2,p=r.strokeThickness/2+E*l+d.ascent+_,r.align==="right"?h+=c-u[E]:r.align==="center"&&(h+=(c-u[E])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(o[E],h+r.padding,p+r.padding-x,!0),r.fill&&this.drawLetterSpacing(o[E],h+r.padding,p+r.padding-x)}this.updateTexture()}drawLetterSpacing(e,r,i,n=!1){const s=this._style.letterSpacing;let a=!1;if(jc.experimentalLetterSpacingSupported&&(jc.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,a=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||a){n?this.context.strokeText(e,r,i):this.context.fillText(e,r,i);return}let o=r;const l=jc.graphemeSegmenter(e);let u=this.context.measureText(e).width,c=0;for(let d=0;d<l.length;++d){const h=l[d];n?this.context.strokeText(h,o,i):this.context.fillText(h,o,i);let p="";for(let g=d+1;g<l.length;++g)p+=l[g];c=this.context.measureText(p).width,o+=u-c+s,u=c}}updateTexture(){const e=this.canvas;if(this._style.trim){const a=Phe(e);a.data&&(e.width=a.width,e.height=a.height,this.context.putImageData(a.data,0,0))}const r=this._texture,i=this._style,n=i.trim?0:i.padding,s=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-n,r.trim.y=-n,r.orig.width=r._frame.width-n*2,r.orig.height=r._frame.height-n*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,i){const n=e.fill;if(Array.isArray(n)){if(n.length===1)return n[0]}else return n;let s;const a=e.dropShadow?e.dropShadowDistance:0,o=e.padding||0,l=this.canvas.width/this._resolution-a-o*2,u=this.canvas.height/this._resolution-a-o*2,c=n.slice(),d=e.fillGradientStops.slice();if(!d.length){const h=c.length+1;for(let p=1;p<h;++p)d.push(p/h)}if(c.unshift(n[0]),d.unshift(0),c.push(n[n.length-1]),d.push(1),e.fillGradientType===Mw.LINEAR_VERTICAL){s=this.context.createLinearGradient(l/2,o,l/2,u+o);const h=i.fontProperties.fontSize+e.strokeThickness;for(let p=0;p<r.length;p++){const g=i.lineHeight*(p-1)+h,y=i.lineHeight*p;let b=y;p>0&&g>y&&(b=(y+g)/2);const x=y+h,w=i.lineHeight*(p+1);let _=x;p+1<r.length&&w<x&&(_=(x+w)/2);const E=(_-b)/u;for(let A=0;A<c.length;A++){let I=0;typeof d[A]=="number"?I=d[A]:I=A/c.length;let P=Math.min(1,Math.max(0,b/u+I*E));P=Number(P.toFixed(5)),s.addColorStop(P,c[A])}}}else{s=this.context.createLinearGradient(o,u/2,l+o,u/2);const h=c.length+1;let p=1;for(let g=0;g<c.length;g++){let y;typeof d[g]=="number"?y=d[g]:y=p/h,s.addColorStop(y,c[g]),p++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},efe,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=af(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=af(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof l_?this._style=e:this._style=new l_(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};H9.defaultAutoResolution=!0;let tfe=H9,u_=class{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}},jx=class{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const a=r[s].match(/^[a-z]+/gm)[0],o=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const u in o){const c=o[u].split("="),d=c[0],h=c[1].replace(/"/gm,""),p=parseFloat(h),g=isNaN(p)?h:p;l[d]=g}i[a].push(l)}const n=new u_;return i.info.forEach(s=>n.info.push({face:s.face,size:parseInt(s.size,10)})),i.common.forEach(s=>n.common.push({lineHeight:parseInt(s.lineHeight,10)})),i.page.forEach(s=>n.page.push({id:parseInt(s.id,10),file:s.file})),i.char.forEach(s=>n.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),i.kerning.forEach(s=>n.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),i.distanceField.forEach(s=>n.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),n}},E3=class{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new u_,i=e.getElementsByTagName("info"),n=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),o=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let u=0;u<i.length;u++)r.info.push({face:i[u].getAttribute("face"),size:parseInt(i[u].getAttribute("size"),10)});for(let u=0;u<n.length;u++)r.common.push({lineHeight:parseInt(n[u].getAttribute("lineHeight"),10)});for(let u=0;u<s.length;u++)r.page.push({id:parseInt(s[u].getAttribute("id"),10)||0,file:s[u].getAttribute("file")});for(let u=0;u<a.length;u++){const c=a[u];r.char.push({id:parseInt(c.getAttribute("id"),10),page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xoffset:parseInt(c.getAttribute("xoffset"),10),yoffset:parseInt(c.getAttribute("yoffset"),10),xadvance:parseInt(c.getAttribute("xadvance"),10)})}for(let u=0;u<o.length;u++)r.kerning.push({first:parseInt(o[u].getAttribute("first"),10),second:parseInt(o[u].getAttribute("second"),10),amount:parseInt(o[u].getAttribute("amount"),10)});for(let u=0;u<l.length;u++)r.distanceField.push({fieldType:l[u].getAttribute("fieldType"),distanceRange:parseInt(l[u].getAttribute("distanceRange"),10)});return r}},T3=class{static test(e){return typeof e=="string"&&e.includes("<font>")?E3.test(rt.ADAPTER.parseXML(e)):!1}static parse(e){return E3.parse(rt.ADAPTER.parseXML(e))}};const eT=[jx,E3,T3];function rfe(t){for(let e=0;e<eT.length;e++)if(eT[e].test(t))return eT[e];return null}function ife(t,e,r,i,n,s){const a=r.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;let o;const l=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,c=t.width/i-l-u*2,d=t.height/i-l-u*2,h=a.slice(),p=r.fillGradientStops.slice();if(!p.length){const g=h.length+1;for(let y=1;y<g;++y)p.push(y/g)}if(h.unshift(a[0]),p.unshift(0),h.push(a[a.length-1]),p.push(1),r.fillGradientType===Mw.LINEAR_VERTICAL){o=e.createLinearGradient(c/2,u,c/2,d+u);let g=0;const y=(s.fontProperties.fontSize+r.strokeThickness)/d;for(let b=0;b<n.length;b++){const x=s.lineHeight*b;for(let w=0;w<h.length;w++){let _=0;typeof p[w]=="number"?_=p[w]:_=w/h.length;const E=x/d+_*y;let A=Math.max(g,E);A=Math.min(A,1),o.addColorStop(A,h[w]),g=A}}}else{o=e.createLinearGradient(u,d/2,c+u,d/2);const g=h.length+1;let y=1;for(let b=0;b<h.length;b++){let x;typeof p[b]=="number"?x=p[b]:x=y/g,o.addColorStop(x,h[b]),y++}}return o}function nfe(t,e,r,i,n,s,a){const o=r.text,l=r.fontProperties;e.translate(i,n),e.scale(s,s);const u=a.strokeThickness/2,c=-(a.strokeThickness/2);if(e.font=a.toFontString(),e.lineWidth=a.strokeThickness,e.textBaseline=a.textBaseline,e.lineJoin=a.lineJoin,e.miterLimit=a.miterLimit,e.fillStyle=ife(t,e,a,s,[o],r),e.strokeStyle=a.stroke,a.dropShadow){const d=a.dropShadowColor,h=a.dropShadowBlur*s,p=a.dropShadowDistance*s;e.shadowColor=Mr.shared.setValue(d).setAlpha(a.dropShadowAlpha).toRgbaString(),e.shadowBlur=h,e.shadowOffsetX=Math.cos(a.dropShadowAngle)*p,e.shadowOffsetY=Math.sin(a.dropShadowAngle)*p}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;a.stroke&&a.strokeThickness&&e.strokeText(o,u,c+r.lineHeight-l.descent),a.fill&&e.fillText(o,u,c+r.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Ux(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function G9(t){return Array.from?Array.from(t):t.split("")}function sfe(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,i=t.length;r<i;r++){const n=t[r];if(Array.isArray(n)){if(n.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${n.length}.`);const s=n[0].charCodeAt(0),a=n[1].charCodeAt(0);if(a<s)throw new Error("[BitmapFont]: Invalid character range.");for(let o=s,l=a;o<=l;o++)e.push(String.fromCharCode(o))}else e.push(...G9(n))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Yl=class Ga{constructor(e,r,i){var c;const[n]=e.info,[s]=e.common,[a]=e.page,[o]=e.distanceField,l=fp(a.file),u={};this._ownsTextures=i,this.font=n.face,this.size=n.size,this.lineHeight=s.lineHeight/l,this.chars={},this.pageTextures=u;for(let d=0;d<e.page.length;d++){const{id:h,file:p}=e.page[d];u[h]=r instanceof Array?r[d]:r[p],o!=null&&o.fieldType&&o.fieldType!=="none"&&(u[h].baseTexture.alphaMode=Ss.NO_PREMULTIPLIED_ALPHA,u[h].baseTexture.mipmap=Ku.OFF)}for(let d=0;d<e.char.length;d++){const{id:h,page:p}=e.char[d];let{x:g,y,width:b,height:x,xoffset:w,yoffset:_,xadvance:E}=e.char[d];g/=l,y/=l,b/=l,x/=l,w/=l,_/=l,E/=l;const A=new Gt(g+u[p].frame.x/l,y+u[p].frame.y/l,b,x);this.chars[h]={xOffset:w,yOffset:_,xAdvance:E,kerning:{},texture:new Et(u[p].baseTexture,A),page:p}}for(let d=0;d<e.kerning.length;d++){let{first:h,second:p,amount:g}=e.kerning[d];h/=l,p/=l,g/=l,this.chars[p]&&(this.chars[p].kerning[h]=g)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((c=o==null?void 0:o.fieldType)==null?void 0:c.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,i){let n;if(e instanceof u_)n=e;else{const a=rfe(e);if(!a)throw new Error("Unrecognized data format for font.");n=a.parse(e)}r instanceof Et&&(r=[r]);const s=new Ga(n,r,i);return Ga.available[s.font]=s,s}static uninstall(e){const r=Ga.available[e];if(!r)throw new Error(`No font found named '${e}'`);r.destroy(),delete Ga.available[e]}static from(e,r,i){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:n,padding:s,resolution:a,textureWidth:o,textureHeight:l,...u}=Object.assign({},Ga.defaultOptions,i),c=sfe(n),d=r instanceof l_?r:new l_(r),h=o,p=new u_;p.info[0]={face:d.fontFamily,size:d.fontSize},p.common[0]={lineHeight:d.fontSize};let g=0,y=0,b,x,w,_=0;const E=[];for(let I=0;I<c.length;I++){b||(b=rt.ADAPTER.createCanvas(),b.width=o,b.height=l,x=b.getContext("2d"),w=new Nt(b,{resolution:a,...u}),E.push(new Et(w)),p.page.push({id:E.length-1,file:""}));const P=c[I],M=jc.measureText(P,d,!1,b),k=M.width,U=Math.ceil(M.height),j=Math.ceil((d.fontStyle==="italic"?2:1)*k);if(y>=l-U*a){if(y===0)throw new Error(`[BitmapFont] textureHeight ${l}px is too small (fontFamily: '${d.fontFamily}', fontSize: ${d.fontSize}px, char: '${P}')`);--I,b=null,x=null,w=null,y=0,g=0,_=0;continue}if(_=Math.max(U+M.fontProperties.descent,_),j*a+g>=h){if(g===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${d.fontFamily}', fontSize: ${d.fontSize}px, char: '${P}')`);--I,y+=_*a,y=Math.ceil(y),g=0,_=0;continue}nfe(b,x,M,g,y,a,d);const B=Ux(M.text);p.char.push({id:B,page:E.length-1,x:g/a,y:y/a,width:j,height:U,xoffset:0,yoffset:0,xadvance:k-(d.dropShadow?d.dropShadowDistance:0)-(d.stroke?d.strokeThickness:0)}),g+=(j+2*s)*a,g=Math.ceil(g)}if(!(i!=null&&i.skipKerning))for(let I=0,P=c.length;I<P;I++){const M=c[I];for(let k=0;k<P;k++){const U=c[k],j=x.measureText(M).width,B=x.measureText(U).width,L=x.measureText(M+U).width-(j+B);L&&p.kerning.push({first:Ux(M),second:Ux(U),amount:L})}}const A=new Ga(p,E,!0);return Ga.available[e]!==void 0&&Ga.uninstall(e),Ga.available[e]=A,A}};Yl.ALPHA=[["a","z"],["A","Z"]," "],Yl.NUMERIC=[["0","9"]],Yl.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],Yl.ASCII=[[" ","~"]],Yl.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Yl.ALPHANUMERIC},Yl.available={};let ql=Yl,afe=class{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}};const tT=new zt,UL=new jg,V9=class W9 extends Yn{constructor(e,r,i,n=ha.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=i||cc.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=rt.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===ha.TRIANGLES&&r.length<W9.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;const n=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[n]),e.plugins[n].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,i=e._updateID;if(i===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const n=this.transform.worldTransform,s=n.a,a=n.b,o=n.c,l=n.d,u=n.tx,c=n.ty,d=this.vertexData;for(let h=0;h<d.length/2;h++){const p=r[h*2],g=r[h*2+1];d[h*2]=s*p+o*g+u,d[h*2+1]=a*p+l*g+c}if(this._roundPixels){const h=rt.RESOLUTION;for(let p=0;p<d.length;++p)d[p]=Math.round(d[p]*h)/h}this.vertexDirty=i}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new afe(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,tT);const r=this.geometry.getBuffer("aVertexPosition").data,i=UL.points,n=this.geometry.getIndex().data,s=n.length,a=this.drawMode===4?3:1;for(let o=0;o+2<s;o+=a){const l=n[o]*2,u=n[o+1]*2,c=n[o+2]*2;if(i[0]=r[l],i[1]=r[l+1],i[2]=r[u],i[3]=r[u+1],i[4]=r[c],i[5]=r[c+1],UL.contains(tT.x,tT.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};V9.BATCHABLE_SIZE=100;let O0=V9,kw=class extends A1{constructor(e,r,i){super();const n=new Qr(e),s=new Qr(r,!0),a=new Qr(i,!0,!0);this.addAttribute("aVertexPosition",n,2,!1,ft.FLOAT).addAttribute("aTextureCoord",s,2,!1,ft.FLOAT).addIndex(a),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}};var ofe=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,lfe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;let L0=class extends zu{constructor(e,r){const i={uSampler:e,alpha:1,uTextureMatrix:ii.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(i,r.uniforms),super(r.program||Jo.from(lfe,ofe),i),this._colorDirty=!1,this.uvMatrix=new $4(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new Mr(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;Mr.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}};var ufe=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,cfe=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const $L=[],zL=[],HL=[],X9=class Y9 extends Yn{constructor(e,r={}){super();const{align:i,tint:n,maxWidth:s,letterSpacing:a,fontName:o,fontSize:l}=Object.assign({},Y9.styleDefaults,r);if(!ql.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=i,this._tintColor=new Mr(n),this._font=void 0,this._fontName=o,this._fontSize=l,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=a,this._anchor=new Eu(()=>{this.dirty=!0},this,0,0),this._roundPixels=rt.ROUND_PIXELS,this.dirty=!0,this._resolution=rt.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var j;const e=ql.available[this._fontName],r=this.fontSize,i=r/e.size,n=new zt,s=[],a=[],o=[],l=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",u=G9(l),c=this._maxWidth*e.size/r,d=e.distanceFieldType==="none"?$L:zL;let h=null,p=0,g=0,y=0,b=-1,x=0,w=0,_=0,E=0;for(let B=0;B<u.length;B++){const L=u[B],F=Ux(L);if(/(?:\s)/.test(L)&&(b=B,x=p,E++),L==="\r"||L===`
`){a.push(p),o.push(-1),g=Math.max(g,p),++y,++w,n.x=0,n.y+=e.lineHeight,h=null,E=0;continue}const O=e.chars[F];if(!O)continue;h&&O.kerning[h]&&(n.x+=O.kerning[h]);const $=HL.pop()||{texture:Et.EMPTY,line:0,charCode:0,prevSpaces:0,position:new zt};$.texture=O.texture,$.line=y,$.charCode=F,$.position.x=Math.round(n.x+O.xOffset+this._letterSpacing/2),$.position.y=Math.round(n.y+O.yOffset),$.prevSpaces=E,s.push($),p=$.position.x+Math.max(O.xAdvance-O.xOffset,O.texture.orig.width),n.x+=O.xAdvance+this._letterSpacing,_=Math.max(_,O.yOffset+O.texture.height),h=F,b!==-1&&c>0&&n.x>c&&(++w,Bg(s,1+b-w,1+B-b),B=b,b=-1,a.push(x),o.push(s.length>0?s[s.length-1].prevSpaces:0),g=Math.max(g,x),y++,n.x=0,n.y+=e.lineHeight,h=null,E=0)}const A=u[u.length-1];A!=="\r"&&A!==`
`&&(/(?:\s)/.test(A)&&(p=x),a.push(p),g=Math.max(g,p),o.push(-1));const I=[];for(let B=0;B<=y;B++){let L=0;this._align==="right"?L=g-a[B]:this._align==="center"?L=(g-a[B])/2:this._align==="justify"&&(L=o[B]<0?0:(g-a[B])/o[B]),I.push(L)}const P=s.length,M={},k=[],U=this._activePagesMeshData;d.push(...U);for(let B=0;B<P;B++){const L=s[B].texture,F=L.baseTexture.uid;if(!M[F]){let O=d.pop();if(!O){const z=new kw;let D,G;e.distanceFieldType==="none"?(D=new L0(Et.EMPTY),G=ut.NORMAL):(D=new L0(Et.EMPTY,{program:Jo.from(cfe,ufe),uniforms:{uFWidth:0}}),G=ut.NORMAL_NPM);const H=new O0(z,D);H.blendMode=G,O={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:H,vertices:null,uvs:null,indices:null}}O.index=0,O.indexCount=0,O.vertexCount=0,O.uvsCount=0,O.total=0;const{_textureCache:$}=this;$[F]=$[F]||new Et(L.baseTexture),O.mesh.texture=$[F],O.mesh.tint=this._tintColor.value,k.push(O),M[F]=O}M[F].total++}for(let B=0;B<U.length;B++)k.includes(U[B])||this.removeChild(U[B].mesh);for(let B=0;B<k.length;B++)k[B].mesh.parent!==this&&this.addChild(k[B].mesh);this._activePagesMeshData=k;for(const B in M){const L=M[B],F=L.total;if(!(((j=L.indices)==null?void 0:j.length)>6*F)||L.vertices.length<O0.BATCHABLE_SIZE*2)L.vertices=new Float32Array(4*2*F),L.uvs=new Float32Array(4*2*F),L.indices=new Uint16Array(6*F);else{const O=L.total,$=L.vertices;for(let z=O*4*2;z<$.length;z++)$[z]=0}L.mesh.size=6*F}for(let B=0;B<P;B++){const L=s[B];let F=L.position.x+I[L.line]*(this._align==="justify"?L.prevSpaces:1);this._roundPixels&&(F=Math.round(F));const O=F*i,$=L.position.y*i,z=L.texture,D=M[z.baseTexture.uid],G=z.frame,H=z._uvs,W=D.index++;D.indices[W*6+0]=0+W*4,D.indices[W*6+1]=1+W*4,D.indices[W*6+2]=2+W*4,D.indices[W*6+3]=0+W*4,D.indices[W*6+4]=2+W*4,D.indices[W*6+5]=3+W*4,D.vertices[W*8+0]=O,D.vertices[W*8+1]=$,D.vertices[W*8+2]=O+G.width*i,D.vertices[W*8+3]=$,D.vertices[W*8+4]=O+G.width*i,D.vertices[W*8+5]=$+G.height*i,D.vertices[W*8+6]=O,D.vertices[W*8+7]=$+G.height*i,D.uvs[W*8+0]=H.x0,D.uvs[W*8+1]=H.y0,D.uvs[W*8+2]=H.x1,D.uvs[W*8+3]=H.y1,D.uvs[W*8+4]=H.x2,D.uvs[W*8+5]=H.y2,D.uvs[W*8+6]=H.x3,D.uvs[W*8+7]=H.y3}this._textWidth=g*i,this._textHeight=(n.y+e.lineHeight)*i;for(const B in M){const L=M[B];if(this.anchor.x!==0||this.anchor.y!==0){let z=0;const D=this._textWidth*this.anchor.x,G=this._textHeight*this.anchor.y;for(let H=0;H<L.total;H++)L.vertices[z++]-=D,L.vertices[z++]-=G,L.vertices[z++]-=D,L.vertices[z++]-=G,L.vertices[z++]-=D,L.vertices[z++]-=G,L.vertices[z++]-=D,L.vertices[z++]-=G}this._maxLineHeight=_*i;const F=L.mesh.geometry.getBuffer("aVertexPosition"),O=L.mesh.geometry.getBuffer("aTextureCoord"),$=L.mesh.geometry.getIndex();F.data=L.vertices,O.data=L.uvs,$.data=L.indices,F.update(),O.update(),$.update()}for(let B=0;B<s.length;B++)HL.push(s[B]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:i,size:n}=ql.available[this._fontName];if(i!=="none"){const{a:s,b:a,c:o,d:l}=this.worldTransform,u=Math.sqrt(s*s+a*a),c=Math.sqrt(o*o+l*l),d=(Math.abs(u)+Math.abs(c))/2,h=this.fontSize/n,p=e._view.resolution;for(const g of this._activePagesMeshData)g.mesh.shader.uniforms.uFWidth=d*r*h*p}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=ql.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!ql.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??ql.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,i=ql.available[this._fontName].distanceFieldType==="none"?$L:zL;i.push(...this._activePagesMeshData);for(const n of this._activePagesMeshData)this.removeChild(n.mesh);this._activePagesMeshData=[],i.filter(n=>r[n.mesh.texture.baseTexture.uid]).forEach(n=>{n.mesh.texture=Et.EMPTY});for(const n in r)r[n].destroy(),delete r[n];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};X9.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let hfe=X9;const GL={loader:Be.LoadParser,resolver:Be.ResolveParser,cache:Be.CacheParser,detection:Be.DetectionParser};ot.handle(Be.Asset,t=>{const e=t.ref;Object.entries(GL).filter(([r])=>!!e[r]).forEach(([r,i])=>ot.add(Object.assign(e[r],{extension:e[r].extension??i})))},t=>{const e=t.ref;Object.keys(GL).filter(r=>!!e[r]).forEach(r=>ot.remove(e[r]))});let dfe=class{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let i=0;i<r;i++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}};function kp(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Np(t,e){const r=t.split("?")[0],i=Is.extname(r).toLowerCase();return Array.isArray(e)?e.includes(i):i===e}const la=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(i=>typeof i=="string"||r?e(i):i):t),ffe=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function q9(t,e,r,i,n){const s=e[r];for(let a=0;a<s.length;a++){const o=s[a];r<e.length-1?q9(t.replace(i[r],o),e,r+1,i,n):n.push(t.replace(i[r],o))}}function pfe(t){const e=/\{(.*?)\}/g,r=t.match(e),i=[];if(r){const n=[];r.forEach(s=>{const a=s.substring(1,s.length-1).split(",");n.push(a)}),q9(t,n,0,r,i)}else i.push(t);return i}const c_=t=>!Array.isArray(t);let mfe=class{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const i=la(e);let n;for(let o=0;o<this.parsers.length;o++){const l=this.parsers[o];if(l.test(r)){n=l.getCacheableAssets(i,r);break}}n||(n={},i.forEach(o=>{n[o]=r}));const s=Object.keys(n),a={cacheKeys:s,keys:i};if(i.forEach(o=>{this._cacheMap.set(o,a)}),s.forEach(o=>{this._cache.has(o)&&this._cache.get(o)!==r&&console.warn("[Cache] already has key:",o),this._cache.set(o,n[o])}),r instanceof Et){const o=r;i.forEach(l=>{o.baseTexture!==Et.EMPTY.baseTexture&&Nt.addToCache(o.baseTexture,l),Et.addToCache(o,l)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(i=>{this._cache.delete(i)}),r.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}};const Yc=new mfe;let gfe=class{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,i)=>(this._parsersValidated=!1,e[r]=i,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const i={promise:null,parser:null};return i.promise=(async()=>{var a,o;let n=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];if(u.load&&((a=u.test)!=null&&a.call(u,e,r,this))){s=u;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}n=await s.load(e,r,this),i.parser=s;for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];u.parse&&u.parse&&await((o=u.testParse)==null?void 0:o.call(u,n,r,this))&&(n=await u.parse(n,r,this)||n,i.parser=u)}return n})(),i}async load(e,r){this._parsersValidated||this._validateParsers();let i=0;const n={},s=c_(e),a=la(e,u=>({alias:[u],src:u})),o=a.length,l=a.map(async u=>{const c=Is.toAbsolute(u.src);if(!n[u.src])try{this.promiseCache[c]||(this.promiseCache[c]=this._getLoadPromiseAndParser(c,u)),n[u.src]=await this.promiseCache[c].promise,r&&r(++i/o)}catch(d){throw delete this.promiseCache[c],delete n[u.src],new Error(`[Loader.load] Failed to load ${c}.
${d}`)}});return await Promise.all(l),s?n[a[0].src]:n}async unload(e){const r=la(e,i=>({alias:[i],src:i})).map(async i=>{var a,o;const n=Is.toAbsolute(i.src),s=this.promiseCache[n];if(s){const l=await s.promise;delete this.promiseCache[n],(o=(a=s.parser)==null?void 0:a.unload)==null||o.call(a,l,i,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}};var hc=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(hc||{});const vfe=".json",yfe="application/json",xfe={extension:{type:Be.LoadParser,priority:hc.Low},name:"loadJson",test(t){return kp(t,yfe)||Np(t,vfe)},async load(t){return await(await rt.ADAPTER.fetch(t)).json()}};ot.add(xfe);const bfe=".txt",_fe="text/plain",wfe={name:"loadTxt",extension:{type:Be.LoadParser,priority:hc.Low},test(t){return kp(t,_fe)||Np(t,bfe)},async load(t){return await(await rt.ADAPTER.fetch(t)).text()}};ot.add(wfe);const Sfe=["normal","bold","100","200","300","400","500","600","700","800","900"],Efe=[".ttf",".otf",".woff",".woff2"],Tfe=["font/ttf","font/otf","font/woff","font/woff2"],Afe=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function Cfe(t){const e=Is.extname(t),r=Is.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let i=r.length>0;for(const s of r)if(!s.match(Afe)){i=!1;break}let n=r.join(" ");return i||(n=`"${n.replace(/[\\"]/g,"\\$&")}"`),n}const Rfe=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function Ife(t){return Rfe.test(t)?t:encodeURI(t)}const Pfe={extension:{type:Be.LoadParser,priority:hc.Low},name:"loadWebFont",test(t){return kp(t,Tfe)||Np(t,Efe)},async load(t,e){var i,n,s;const r=rt.ADAPTER.getFontFaceSet();if(r){const a=[],o=((i=e.data)==null?void 0:i.family)??Cfe(t),l=((s=(n=e.data)==null?void 0:n.weights)==null?void 0:s.filter(c=>Sfe.includes(c)))??["normal"],u=e.data??{};for(let c=0;c<l.length;c++){const d=l[c],h=new FontFace(o,`url(${Ife(t)})`,{...u,weight:d});await h.load(),r.add(h),a.push(h)}return a.length===1?a[0]:a}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>rt.ADAPTER.getFontFaceSet().delete(e))}};ot.add(Pfe);const Mfe=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let Af=null,A3=class extends Worker{constructor(){Af||(Af=URL.createObjectURL(new Blob([Mfe],{type:"application/javascript"}))),super(Af)}};A3.revokeObjectURL=function(){Af&&(URL.revokeObjectURL(Af),Af=null)};const kfe=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let Cf=null;class K9 extends Worker{constructor(){Cf||(Cf=URL.createObjectURL(new Blob([kfe],{type:"application/javascript"}))),super(Cf)}}K9.revokeObjectURL=function(){Cf&&(URL.revokeObjectURL(Cf),Cf=null)};let VL=0,rT,Nfe=class{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=new A3;r.addEventListener("message",i=>{r.terminate(),A3.revokeObjectURL(),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){rT===void 0&&(rT=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<rT&&(this._createdWorkers++,e=new K9,e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const i=new Promise((n,s)=>{this.queue.push({id:e,arguments:r,resolve:n,reject:s})});return this.next(),i}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),i=r.id;this.resolveHash[VL]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:VL++,id:i})}};const WL=new Nfe;function H4(t,e,r){t.resource.internal=!0;const i=new Et(t),n=()=>{delete e.promiseCache[r],Yc.has(r)&&Yc.remove(r)};return i.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),n())}),i.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),n())}),i}const Ofe=[".jpeg",".jpg",".png",".webp",".avif"],Lfe=["image/jpeg","image/png","image/webp","image/avif"];async function Dfe(t){const e=await rt.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const Nw={name:"loadTextures",extension:{type:Be.LoadParser,priority:hc.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return kp(t,Lfe)||Np(t,Ofe)},async load(t,e,r){var o;const i=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let n;i?this.config.preferWorkers&&await WL.isImageBitmapSupported()?n=await WL.loadImageBitmap(t):n=await Dfe(t):n=await new Promise((l,u)=>{const c=new Image;c.crossOrigin=this.config.crossOrigin,c.src=t,c.complete?l(c):(c.onload=()=>l(c),c.onerror=d=>u(d))});const s={...e.data};s.resolution??(s.resolution=fp(t)),i&&((o=s.resourceOptions)==null?void 0:o.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const a=new Nt(n,s);return a.resource.src=t,H4(a,r,t)},unload(t){t.destroy(!0)}};ot.add(Nw);const Ffe=".svg",Bfe="image/svg+xml",jfe={extension:{type:Be.LoadParser,priority:hc.High},name:"loadSVG",test(t){return kp(t,Bfe)||Np(t,Ffe)},async testParse(t){return x3.test(t)},async parse(t,e,r){var s;const i=new x3(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await i.load();const n=new Nt(i,{resolution:fp(t),...e==null?void 0:e.data});return n.resource.src=e.src,H4(n,r,e.src)},async load(t,e){return(await rt.ADAPTER.fetch(t)).text()},unload:Nw.unload};ot.add(jfe);const Ufe=[".mp4",".m4v",".webm",".ogv"],$fe=["video/mp4","video/webm","video/ogg"],zfe={name:"loadVideo",extension:{type:Be.LoadParser,priority:hc.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(t){return kp(t,$fe)||Np(t,Ufe)},async load(t,e,r){var a;let i;const n=await(await rt.ADAPTER.fetch(t)).blob(),s=URL.createObjectURL(n);try{const o={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions,autoLoad:!0},l=new B9(s,o);await l.load();const u=new Nt(l,{alphaMode:await vhe(),resolution:fp(t),...e==null?void 0:e.data});u.resource.src=t,i=H4(u,r,t),i.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(o){throw URL.revokeObjectURL(s),o}return i},unload(t){t.destroy(!0)}};ot.add(zfe);let Hfe=class{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(i=>`${encodeURIComponent(i)}=${encodeURIComponent(r[i])}`).join("&")}}getAlias(e){const{alias:r,name:i,src:n,srcs:s}=e;return la(r||i||n||s,a=>typeof a=="string"?a:Array.isArray(a)?a.map(o=>(o==null?void 0:o.src)??(o==null?void 0:o.srcs)??o):a!=null&&a.src||a!=null&&a.srcs?a.src??a.srcs:a,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const i=[];Array.isArray(r)?r.forEach(n=>{const s=n.src??n.srcs,a=n.alias??n.name;let o;if(typeof a=="string"){const l=this._createBundleAssetId(e,a);i.push(l),o=[a,l]}else{const l=a.map(u=>this._createBundleAssetId(e,u));i.push(...l),o=[...a,...l]}this.add({...n,alias:o,src:s})}):Object.keys(r).forEach(n=>{const s=[n,this._createBundleAssetId(e,n)];if(typeof r[n]=="string")this.add({alias:s,src:r[n]});else if(Array.isArray(r[n]))this.add({alias:s,src:r[n]});else{const a=r[n],o=a.src??a.srcs;this.add({...a,alias:s,src:Array.isArray(o)?o:[o]})}i.push(...s)}),this._bundles[e]=i}add(e,r,i,n,s){const a=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(Ft("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),a.push({alias:e,src:r,data:i,format:n,loadParser:s})):Array.isArray(e)?a.push(...e):a.push(e);let o;o=l=>{this.hasKey(l)&&console.warn(`[Resolver] already has key: ${l} overwriting`)},la(a).forEach(l=>{const{src:u,srcs:c}=l;let{data:d,format:h,loadParser:p}=l;const g=la(u||c).map(x=>typeof x=="string"?pfe(x):Array.isArray(x)?x:[x]),y=this.getAlias(l);Array.isArray(y)?y.forEach(o):o(y);const b=[];g.forEach(x=>{x.forEach(w=>{let _={};if(typeof w!="object"){_.src=w;for(let E=0;E<this._parsers.length;E++){const A=this._parsers[E];if(A.test(w)){_=A.parse(w);break}}}else d=w.data??d,h=w.format??h,p=w.loadParser??p,_={..._,...w};if(!y)throw new Error(`[Resolver] alias is undefined for this asset: ${_.src}`);_=this.buildResolvedAsset(_,{aliases:y,data:d,format:h,loadParser:p}),b.push(_)})}),y.forEach(x=>{this._assetMap[x]=b})})}resolveBundle(e){const r=c_(e);e=la(e);const i={};return e.forEach(n=>{const s=this._bundles[n];if(s){const a=this.resolve(s),o={};for(const l in a){const u=a[l];o[this._extractAssetIdFromBundle(n,l)]=u}i[n]=o}}),r?i[e[0]]:i}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const i={};for(const n in r)i[n]=r[n].src;return i}return r.src}resolve(e){const r=c_(e);e=la(e);const i={};return e.forEach(n=>{if(!this._resolverHash[n])if(this._assetMap[n]){let s=this._assetMap[n];const a=s[0],o=this._getPreferredOrder(s);o==null||o.priority.forEach(l=>{o.params[l].forEach(u=>{const c=s.filter(d=>d[l]?d[l]===u:!1);c.length&&(s=c)})}),this._resolverHash[n]=s[0]??a}else this._resolverHash[n]=this.buildResolvedAsset({alias:[n],src:n},{});i[n]=this._resolverHash[n]}),r?i[e[0]]:i}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const i=e[0],n=this._preferredOrder.find(s=>s.params.format.includes(i.format));if(n)return n}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}buildResolvedAsset(e,r){const{aliases:i,data:n,loadParser:s,format:a}=r;return(this._basePath||this._rootPath)&&(e.src=Is.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=i??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...n||{},...e.data},e.loadParser=s??e.loadParser,e.format=a??Is.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}},Gfe=class{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Hfe,this.loader=new gfe,this.cache=Yc,this._backgroundLoader=new dfe(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let o=e.manifest;typeof o=="string"&&(o=await this.load(o)),this.resolver.addManifest(o)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,i=typeof r=="number"?[r]:r,n=await this._detectFormats({preferredFormats:(a=e.texturePreference)==null?void 0:a.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:n,resolution:i}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,i,n,s){this.resolver.add(e,r,i,n,s)}async load(e,r){this._initialized||await this.init();const i=c_(e),n=la(e).map(o=>{if(typeof o!="string"){const l=this.resolver.getAlias(o);return l.some(u=>!this.resolver.hasKey(u))&&this.add(o),Array.isArray(l)?l[0]:l}return this.resolver.hasKey(o)||this.add({alias:o,src:o}),o}),s=this.resolver.resolve(n),a=await this._mapLoadToResolve(s,r);return i?a[n[0]]:a}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let i=!1;typeof e=="string"&&(i=!0,e=[e]);const n=this.resolver.resolveBundle(e),s={},a=Object.keys(n);let o=0,l=0;const u=()=>{r==null||r(++o/l)},c=a.map(d=>{const h=n[d];return l+=Object.keys(h).length,this._mapLoadToResolve(h,u).then(p=>{s[d]=p})});return await Promise.all(c),i?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(i=>{this._backgroundLoader.add(Object.values(i))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Yc.get(e);const r={};for(let i=0;i<e.length;i++)r[i]=Yc.get(e[i]);return r}async _mapLoadToResolve(e,r){const i=Object.values(e),n=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(i,r);this._backgroundLoader.active=!0;const a={};return i.forEach((o,l)=>{const u=s[o.src],c=[o.src];o.alias&&c.push(...o.alias),a[n[l]]=u,Yc.set(c,u)}),a}async unload(e){this._initialized||await this.init();const r=la(e).map(n=>typeof n!="string"?n.src:n),i=this.resolver.resolve(r);await this._unloadFromResolved(i)}async unloadBundle(e){this._initialized||await this.init(),e=la(e);const r=this.resolver.resolveBundle(e),i=Object.keys(r).map(n=>this._unloadFromResolved(r[n]));await Promise.all(i)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(i=>{Yc.remove(i.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const i of e.detections)e.skipDetections||await i.test()?r=await i.add(r):e.skipDetections||(r=await i.remove(r));return r=r.filter((i,n)=>r.indexOf(i)===n),r}get detections(){return this._detections}get preferWorkers(){return Nw.config.preferWorkers}set preferWorkers(e){Ft("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(i=>i in e).forEach(i=>{r.config[i]=e[i]})})}};const Ty=new Gfe;ot.handleByList(Be.LoadParser,Ty.loader.parsers).handleByList(Be.ResolveParser,Ty.resolver.parsers).handleByList(Be.CacheParser,Ty.cache.parsers).handleByList(Be.DetectionParser,Ty.detections);const Vfe={extension:Be.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof Et),getCacheableAssets:(t,e)=>{const r={};return t.forEach(i=>{e.forEach((n,s)=>{r[i+(s===0?"":s+1)]=n})}),r}};ot.add(Vfe);async function Q9(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const Wfe={extension:{type:Be.DetectionParser,priority:1},test:async()=>Q9("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};ot.add(Wfe);const Xfe={extension:{type:Be.DetectionParser,priority:0},test:async()=>Q9("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};ot.add(Xfe);const XL=["png","jpg","jpeg"],Yfe={extension:{type:Be.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...XL],remove:async t=>t.filter(e=>!XL.includes(e))};ot.add(Yfe);const qfe="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function G4(t){return qfe?!1:document.createElement("video").canPlayType(t)!==""}const Kfe={extension:{type:Be.DetectionParser,priority:0},test:async()=>G4("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};ot.add(Kfe);const Qfe={extension:{type:Be.DetectionParser,priority:0},test:async()=>G4("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};ot.add(Qfe);const Zfe={extension:{type:Be.DetectionParser,priority:0},test:async()=>G4("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};ot.add(Zfe);const Jfe={extension:Be.ResolveParser,test:Nw.test,parse:t=>{var e;return{resolution:parseFloat(((e=rt.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:Is.extname(t).slice(1),src:t}}};ot.add(Jfe);const epe=[".xml",".fnt"],tpe={extension:{type:Be.LoadParser,priority:hc.Normal},name:"loadBitmapFont",test(t){return epe.includes(Is.extname(t).toLowerCase())},async testParse(t){return jx.test(t)||T3.test(t)},async parse(t,e,r){const i=jx.test(t)?jx.parse(t):T3.parse(t),{src:n}=e,{page:s}=i,a=[];for(let u=0;u<s.length;++u){const c=s[u].file;let d=Is.join(Is.dirname(n),c);d=ffe(d,n),a.push(d)}const o=await r.load(a),l=a.map(u=>o[u]);return ql.install(i,l,!0)},async load(t,e){return(await rt.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};ot.add(tpe);const h_={build(t){const e=t.points;let r,i,n,s,a,o;if(t.type===Si.CIRC){const g=t.shape;r=g.x,i=g.y,a=o=g.radius,n=s=0}else if(t.type===Si.ELIP){const g=t.shape;r=g.x,i=g.y,a=g.width,o=g.height,n=s=0}else{const g=t.shape,y=g.width/2,b=g.height/2;r=g.x+y,i=g.y+b,a=o=Math.max(0,Math.min(g.radius,Math.min(y,b))),n=y-a,s=b-o}if(!(a>=0&&o>=0&&n>=0&&s>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(a+o)),u=l*8+(n?4:0)+(s?4:0);if(e.length=u,u===0)return;if(l===0){e.length=8,e[0]=e[6]=r+n,e[1]=e[3]=i+s,e[2]=e[4]=r-n,e[5]=e[7]=i-s;return}let c=0,d=l*4+(n?2:0)+2,h=d,p=u;{const g=n+a,y=s,b=r+g,x=r-g,w=i+y;if(e[c++]=b,e[c++]=w,e[--d]=w,e[--d]=x,s){const _=i-y;e[h++]=x,e[h++]=_,e[--p]=_,e[--p]=b}}for(let g=1;g<l;g++){const y=Math.PI/2*(g/l),b=n+Math.cos(y)*a,x=s+Math.sin(y)*o,w=r+b,_=r-b,E=i+x,A=i-x;e[c++]=w,e[c++]=E,e[--d]=E,e[--d]=_,e[h++]=_,e[h++]=A,e[--p]=A,e[--p]=w}{const g=n,y=s+o,b=r+g,x=r-g,w=i+y,_=i-y;e[c++]=b,e[c++]=w,e[--p]=_,e[--p]=b,n&&(e[c++]=x,e[c++]=w,e[--p]=_,e[--p]=x)}},triangulate(t,e){const r=t.points,i=e.points,n=e.indices;if(r.length===0)return;let s=i.length/2;const a=s;let o,l;if(t.type!==Si.RREC){const c=t.shape;o=c.x,l=c.y}else{const c=t.shape;o=c.x+c.width/2,l=c.y+c.height/2}const u=t.matrix;i.push(t.matrix?u.a*o+u.c*l+u.tx:o,t.matrix?u.b*o+u.d*l+u.ty:l),s++,i.push(r[0],r[1]);for(let c=2;c<r.length;c+=2)i.push(r[c],r[c+1]),n.push(s++,a,s);n.push(a+1,a,s)}};function YL(t,e=!1){const r=t.length;if(r<6)return;let i=0;for(let n=0,s=t[r-2],a=t[r-1];n<r;n+=2){const o=t[n],l=t[n+1];i+=(o-s)*(l+a),s=o,a=l}if(!e&&i>0||e&&i<=0){const n=r/2;for(let s=n+n%2;s<r;s+=2){const a=r-s-2,o=r-s-1,l=s,u=s+1;[t[a],t[l]]=[t[l],t[a]],[t[o],t[u]]=[t[u],t[o]]}}}const Z9={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const i=t.holes,n=e.points,s=e.indices;if(r.length>=6){YL(r,!1);const a=[];for(let u=0;u<i.length;u++){const c=i[u];YL(c.points,!0),a.push(r.length/2),r=r.concat(c.points)}const o=d$(r,a,2);if(!o)return;const l=n.length/2;for(let u=0;u<o.length;u+=3)s.push(o[u]+l),s.push(o[u+1]+l),s.push(o[u+2]+l);for(let u=0;u<r.length;u++)n.push(r[u])}}},rpe={build(t){const e=t.shape,r=e.x,i=e.y,n=e.width,s=e.height,a=t.points;a.length=0,n>=0&&s>=0&&a.push(r,i,r+n,i,r+n,i+s,r,i+s)},triangulate(t,e){const r=t.points,i=e.points;if(r.length===0)return;const n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},ipe={build(t){h_.build(t)},triangulate(t,e){h_.triangulate(t,e)}};var fs=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(fs||{}),Tu=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Tu||{});const gp={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};let qL=class{static curveTo(e,r,i,n,s,a){const o=a[a.length-2],l=a[a.length-1]-r,u=o-e,c=n-r,d=i-e,h=Math.abs(l*d-u*c);if(h<1e-8||s===0)return(a[a.length-2]!==e||a[a.length-1]!==r)&&a.push(e,r),null;const p=l*l+u*u,g=c*c+d*d,y=l*c+u*d,b=s*Math.sqrt(p)/h,x=s*Math.sqrt(g)/h,w=b*y/p,_=x*y/g,E=b*d+x*u,A=b*c+x*l,I=u*(x+w),P=l*(x+w),M=d*(b+_),k=c*(b+_),U=Math.atan2(P-A,I-E),j=Math.atan2(k-A,M-E);return{cx:E+e,cy:A+r,radius:s,startAngle:U,endAngle:j,anticlockwise:u*c>d*l}}static arc(e,r,i,n,s,a,o,l,u){const c=o-a,d=gp._segmentsCount(Math.abs(c)*s,Math.ceil(Math.abs(c)/r_)*40),h=c/(d*2),p=h*2,g=Math.cos(h),y=Math.sin(h),b=d-1,x=b%1/b;for(let w=0;w<=b;++w){const _=w+x*w,E=h+a+p*_,A=Math.cos(E),I=-Math.sin(E);u.push((g*A+y*I)*s+i,(g*-I+y*A)*s+n)}}},npe=class{constructor(){this.reset()}begin(e,r,i){this.reset(),this.style=e,this.start=r,this.attribStart=i}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}},spe=class J9{static curveLength(e,r,i,n,s,a,o,l){let u=0,c=0,d=0,h=0,p=0,g=0,y=0,b=0,x=0,w=0,_=0,E=e,A=r;for(let I=1;I<=10;++I)c=I/10,d=c*c,h=d*c,p=1-c,g=p*p,y=g*p,b=y*e+3*g*c*i+3*p*d*s+h*o,x=y*r+3*g*c*n+3*p*d*a+h*l,w=E-b,_=A-x,E=b,A=x,u+=Math.sqrt(w*w+_*_);return u}static curveTo(e,r,i,n,s,a,o){const l=o[o.length-2],u=o[o.length-1];o.length-=2;const c=gp._segmentsCount(J9.curveLength(l,u,e,r,i,n,s,a));let d=0,h=0,p=0,g=0,y=0;o.push(l,u);for(let b=1,x=0;b<=c;++b)x=b/c,d=1-x,h=d*d,p=h*d,g=x*x,y=g*x,o.push(p*l+3*h*x*e+3*d*g*i+y*s,p*u+3*h*x*r+3*d*g*n+y*a)}};function KL(t,e,r,i,n,s,a,o){const l=t-r*n,u=e-i*n,c=t+r*s,d=e+i*s;let h,p;a?(h=i,p=-r):(h=-i,p=r);const g=l+h,y=u+p,b=c+h,x=d+p;return o.push(g,y,b,x),2}function Tc(t,e,r,i,n,s,a,o){const l=r-t,u=i-e;let c=Math.atan2(l,u),d=Math.atan2(n-t,s-e);o&&c<d?c+=Math.PI*2:!o&&c>d&&(d+=Math.PI*2);let h=c;const p=d-c,g=Math.abs(p),y=Math.sqrt(l*l+u*u),b=(15*g*Math.sqrt(y)/Math.PI>>0)+1,x=p/b;if(h+=x,o){a.push(t,e,r,i);for(let w=1,_=h;w<b;w++,_+=x)a.push(t,e,t+Math.sin(_)*y,e+Math.cos(_)*y);a.push(t,e,n,s)}else{a.push(r,i,t,e);for(let w=1,_=h;w<b;w++,_+=x)a.push(t+Math.sin(_)*y,e+Math.cos(_)*y,t,e);a.push(n,s,t,e)}return b*2}function ape(t,e){const r=t.shape;let i=t.points||r.points.slice();const n=e.closePointEps;if(i.length===0)return;const s=t.lineStyle,a=new zt(i[0],i[1]),o=new zt(i[i.length-2],i[i.length-1]),l=r.type!==Si.POLY||r.closeStroke,u=Math.abs(a.x-o.x)<n&&Math.abs(a.y-o.y)<n;if(l){i=i.slice(),u&&(i.pop(),i.pop(),o.set(i[i.length-2],i[i.length-1]));const z=(a.x+o.x)*.5,D=(o.y+a.y)*.5;i.unshift(z,D),i.push(z,D)}const c=e.points,d=i.length/2;let h=i.length;const p=c.length/2,g=s.width/2,y=g*g,b=s.miterLimit*s.miterLimit;let x=i[0],w=i[1],_=i[2],E=i[3],A=0,I=0,P=-(w-E),M=x-_,k=0,U=0,j=Math.sqrt(P*P+M*M);P/=j,M/=j,P*=g,M*=g;const B=s.alignment,L=(1-B)*2,F=B*2;l||(s.cap===Tu.ROUND?h+=Tc(x-P*(L-F)*.5,w-M*(L-F)*.5,x-P*L,w-M*L,x+P*F,w+M*F,c,!0)+2:s.cap===Tu.SQUARE&&(h+=KL(x,w,P,M,L,F,!0,c))),c.push(x-P*L,w-M*L,x+P*F,w+M*F);for(let z=1;z<d-1;++z){x=i[(z-1)*2],w=i[(z-1)*2+1],_=i[z*2],E=i[z*2+1],A=i[(z+1)*2],I=i[(z+1)*2+1],P=-(w-E),M=x-_,j=Math.sqrt(P*P+M*M),P/=j,M/=j,P*=g,M*=g,k=-(E-I),U=_-A,j=Math.sqrt(k*k+U*U),k/=j,U/=j,k*=g,U*=g;const D=_-x,G=w-E,H=_-A,W=I-E,K=D*H+G*W,Q=G*H-W*D,ie=Q<0;if(Math.abs(Q)<.001*Math.abs(K)){c.push(_-P*L,E-M*L,_+P*F,E+M*F),K>=0&&(s.join===fs.ROUND?h+=Tc(_,E,_-P*L,E-M*L,_-k*L,E-U*L,c,!1)+4:h+=2,c.push(_-k*F,E-U*F,_+k*L,E+U*L));continue}const le=(-P+x)*(-M+E)-(-P+_)*(-M+w),fe=(-k+A)*(-U+E)-(-k+_)*(-U+I),we=(D*fe-H*le)/Q,$e=(W*le-G*fe)/Q,Ze=(we-_)*(we-_)+($e-E)*($e-E),Fe=_+(we-_)*L,Se=E+($e-E)*L,We=_-(we-_)*F,ze=E-($e-E)*F,Dt=Math.min(D*D+G*G,H*H+W*W),Rt=ie?L:F,Ar=Dt+Rt*Rt*y,lt=Ze<=Ar;let it=s.join;if(it===fs.MITER&&Ze/y>b&&(it=fs.BEVEL),lt)switch(it){case fs.MITER:{c.push(Fe,Se,We,ze);break}case fs.BEVEL:{ie?c.push(Fe,Se,_+P*F,E+M*F,Fe,Se,_+k*F,E+U*F):c.push(_-P*L,E-M*L,We,ze,_-k*L,E-U*L,We,ze),h+=2;break}case fs.ROUND:{ie?(c.push(Fe,Se,_+P*F,E+M*F),h+=Tc(_,E,_+P*F,E+M*F,_+k*F,E+U*F,c,!0)+4,c.push(Fe,Se,_+k*F,E+U*F)):(c.push(_-P*L,E-M*L,We,ze),h+=Tc(_,E,_-P*L,E-M*L,_-k*L,E-U*L,c,!1)+4,c.push(_-k*L,E-U*L,We,ze));break}}else{switch(c.push(_-P*L,E-M*L,_+P*F,E+M*F),it){case fs.MITER:{ie?c.push(We,ze,We,ze):c.push(Fe,Se,Fe,Se),h+=2;break}case fs.ROUND:{ie?h+=Tc(_,E,_+P*F,E+M*F,_+k*F,E+U*F,c,!0)+2:h+=Tc(_,E,_-P*L,E-M*L,_-k*L,E-U*L,c,!1)+2;break}}c.push(_-k*L,E-U*L,_+k*F,E+U*F),h+=2}}x=i[(d-2)*2],w=i[(d-2)*2+1],_=i[(d-1)*2],E=i[(d-1)*2+1],P=-(w-E),M=x-_,j=Math.sqrt(P*P+M*M),P/=j,M/=j,P*=g,M*=g,c.push(_-P*L,E-M*L,_+P*F,E+M*F),l||(s.cap===Tu.ROUND?h+=Tc(_-P*(L-F)*.5,E-M*(L-F)*.5,_-P*L,E-M*L,_+P*F,E+M*F,c,!1)+2:s.cap===Tu.SQUARE&&(h+=KL(_,E,P,M,L,F,!1,c)));const O=e.indices,$=gp.epsilon*gp.epsilon;for(let z=p;z<h+p-2;++z)x=c[z*2],w=c[z*2+1],_=c[(z+1)*2],E=c[(z+1)*2+1],A=c[(z+2)*2],I=c[(z+2)*2+1],!(Math.abs(x*(E-I)+_*(I-w)+A*(w-E))<$)&&O.push(z,z+1,z+2)}function ope(t,e){let r=0;const i=t.shape,n=t.points||i.points,s=i.type!==Si.POLY||i.closeStroke;if(n.length===0)return;const a=e.points,o=e.indices,l=n.length/2,u=a.length/2;let c=u;for(a.push(n[0],n[1]),r=1;r<l;r++)a.push(n[r*2],n[r*2+1]),o.push(c,c+1),c++;s&&o.push(c,u)}function QL(t,e){t.lineStyle.native?ope(t,e):ape(t,e)}let lpe=class ez{static curveLength(e,r,i,n,s,a){const o=e-2*i+s,l=r-2*n+a,u=2*i-2*e,c=2*n-2*r,d=4*(o*o+l*l),h=4*(o*u+l*c),p=u*u+c*c,g=2*Math.sqrt(d+h+p),y=Math.sqrt(d),b=2*d*y,x=2*Math.sqrt(p),w=h/y;return(b*g+y*h*(g-x)+(4*p*d-h*h)*Math.log((2*y+w+g)/(w+x)))/(4*b)}static curveTo(e,r,i,n,s){const a=s[s.length-2],o=s[s.length-1],l=gp._segmentsCount(ez.curveLength(a,o,e,r,i,n));let u=0,c=0;for(let d=1;d<=l;++d){const h=d/l;u=a+(e-a)*h,c=o+(r-o)*h,s.push(u+(e+(i-e)*h-u)*h,c+(r+(n-r)*h-c)*h)}}};const iT={[Si.POLY]:Z9,[Si.CIRC]:h_,[Si.ELIP]:h_,[Si.RECT]:rpe,[Si.RREC]:ipe},ZL=[],Ay=[];let JL=class tz{constructor(e,r=null,i=null,n=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=i,this.fillStyle=r,this.matrix=n,this.type=e.type}clone(){return new tz(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}};const Cd=new zt,rz=class iz extends V${constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new o_,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Ay.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),ZL.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,i=null,n=null){const s=new JL(e,r,i,n);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const i=new JL(e,null,null,r),n=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=n.lineStyle,n.holes.push(i),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let i=0;i<r.length;++i){const n=r[i];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(e,Cd):Cd.copyFrom(e),n.shape.contains(Cd.x,Cd.y))){let s=!1;if(n.holes){for(let a=0;a<n.holes.length;a++)if(n.holes[a].shape.contains(Cd.x,Cd.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let i=null,n=null;this.batches.length>0&&(i=this.batches[this.batches.length-1],n=i.style);for(let l=this.shapeIndex;l<r.length;l++){this.shapeIndex++;const u=r[l],c=u.fillStyle,d=u.lineStyle;iT[u.type].build(u),u.matrix&&this.transformPoints(u.points,u.matrix),(c.visible||d.visible)&&this.processHoles(u.holes);for(let h=0;h<2;h++){const p=h===0?c:d;if(!p.visible)continue;const g=p.texture.baseTexture,y=this.indices.length,b=this.points.length/2;g.wrapMode=al.REPEAT,h===0?this.processFill(u):this.processLine(u);const x=this.points.length/2-b;x!==0&&(i&&!this._compareStyles(n,p)&&(i.end(y,b),i=null),i||(i=ZL.pop()||new npe,i.begin(p,y,b),this.batches.push(i),n=p),this.addUvs(this.points,e,p.texture,b,x,p.matrix))}}const s=this.indices.length,a=this.points.length/2;if(i&&i.end(s,a),this.batches.length===0){this.batchable=!0;return}const o=a>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const i=this.graphicsData[e],n=i.fillStyle,s=i.lineStyle;if(n&&!n.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,i=e.length;r<i;r++){const n=e[r];for(let s=0;s<n.size;s++){const a=n.start+s;this.indicesUint16[a]=this.indicesUint16[a]-n.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<iz.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++Nt._globalBatch;for(let d=0;d<this.drawCalls.length;d++)this.drawCalls[d].texArray.clear(),Ay.push(this.drawCalls[d]);this.drawCalls.length=0;const r=this.colors,i=this.textureIds;let n=Ay.pop();n||(n=new o3,n.texArray=new f3),n.texArray.count=0,n.start=0,n.size=0,n.type=ha.TRIANGLES;let s=0,a=null,o=0,l=!1,u=ha.TRIANGLES,c=0;this.drawCalls.push(n);for(let d=0;d<this.batches.length;d++){const h=this.batches[d],p=8,g=h.style,y=g.texture.baseTexture;l!==!!g.native&&(l=!!g.native,u=l?ha.LINES:ha.TRIANGLES,a=null,s=p,e++),a!==y&&(a=y,y._batchEnabled!==e&&(s===p&&(e++,s=0,n.size>0&&(n=Ay.pop(),n||(n=new o3,n.texArray=new f3),this.drawCalls.push(n)),n.start=c,n.size=0,n.texArray.count=0,n.type=u),y.touched=1,y._batchEnabled=e,y._batchLocation=s,y.wrapMode=al.REPEAT,n.texArray.elements[n.texArray.count++]=y,s++)),n.size+=h.size,c+=h.size,o=y._batchLocation,this.addColors(r,g.color,g.alpha,h.attribSize,h.attribStart),this.addTextureIds(i,o,h.attribSize,h.attribStart)}Nt._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,i=this.colors,n=this.textureIds,s=new ArrayBuffer(e.length*3*4),a=new Float32Array(s),o=new Uint32Array(s);let l=0;for(let u=0;u<e.length/2;u++)a[l++]=e[u*2],a[l++]=e[u*2+1],a[l++]=r[u*2],a[l++]=r[u*2+1],o[l++]=i[u],a[l++]=n[u];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?Z9.triangulate(e,this):iT[e.type].triangulate(e,this)}processLine(e){QL(e,this);for(let r=0;r<e.holes.length;r++)QL(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const i=e[r];iT[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let i=0;i<e.length/2;i++){const n=e[i*2],s=e[i*2+1];e[i*2]=r.a*n+r.c*s+r.tx,e[i*2+1]=r.b*n+r.d*s+r.ty}}addColors(e,r,i,n,s=0){const a=Mr.shared.setValue(r).toLittleEndianNumber(),o=Mr.shared.setValue(a).toPremultiplied(i);e.length=Math.max(e.length,s+n);for(let l=0;l<n;l++)e[s+l]=o}addTextureIds(e,r,i,n=0){e.length=Math.max(e.length,n+i);for(let s=0;s<i;s++)e[n+s]=r}addUvs(e,r,i,n,s,a=null){let o=0;const l=r.length,u=i.frame;for(;o<s;){let d=e[(n+o)*2],h=e[(n+o)*2+1];if(a){const p=a.a*d+a.c*h+a.tx;h=a.b*d+a.d*h+a.ty,d=p}o++,r.push(d/u.width,h/u.height)}const c=i.baseTexture;(u.width<c.width||u.height<c.height)&&this.adjustUvs(r,i,l,s)}adjustUvs(e,r,i,n){const s=r.baseTexture,a=1e-6,o=i+n*2,l=r.frame,u=l.width/s.width,c=l.height/s.height;let d=l.x/l.width,h=l.y/l.height,p=Math.floor(e[i]+a),g=Math.floor(e[i+1]+a);for(let y=i+2;y<o;y+=2)p=Math.min(p,Math.floor(e[y]+a)),g=Math.min(g,Math.floor(e[y+1]+a));d-=p,h-=g;for(let y=i;y<o;y+=2)e[y]=(e[y]+d)*u,e[y+1]=(e[y+1]+h)*c}};rz.BATCHABLE_SIZE=100;let upe=rz,nz=class sz{constructor(){this.color=16777215,this.alpha=1,this.texture=Et.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new sz;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=Et.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}},cpe=class az extends nz{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Tu.BUTT,this.join=fs.MITER,this.miterLimit=10}clone(){const e=new az;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Tu.BUTT,this.join=fs.MITER,this.miterLimit=10}};const nT={},C3=class $x extends Yn{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new nz,this._lineStyle=new cpe,this._matrix=null,this._holeMode=!1,this.state=cc.for2d(),this._geometry=e||new upe,this._geometry.refCount++,this._transformID=-1,this._tintColor=new Mr(16777215),this.blendMode=ut.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new $x(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,i,n=.5,s=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:i,alignment:n,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:Et.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Tu.BUTT,join:fs.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const i=e.width>0&&e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:i},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new jg,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new jg,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const i=this.currentPath.points,n=i[i.length-2],s=i[i.length-1];return(n!==e||s!==r)&&i.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,i,n){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),lpe.curveTo(e,r,i,n,s),this}bezierCurveTo(e,r,i,n,s,a){return this._initCurve(),spe.curveTo(e,r,i,n,s,a,this.currentPath.points),this}arcTo(e,r,i,n,s){this._initCurve(e,r);const a=this.currentPath.points,o=qL.curveTo(e,r,i,n,s,a);if(o){const{cx:l,cy:u,radius:c,startAngle:d,endAngle:h,anticlockwise:p}=o;this.arc(l,u,c,d,h,p)}return this}arc(e,r,i,n,s,a=!1){if(n===s)return this;if(!a&&s<=n?s+=r_:a&&n<=s&&(n+=r_),s-n===0)return this;const o=e+Math.cos(n)*i,l=r+Math.sin(n)*i,u=this._geometry.closePointEps;let c=this.currentPath?this.currentPath.points:null;if(c){const d=Math.abs(c[c.length-2]-o),h=Math.abs(c[c.length-1]-l);d<u&&h<u||c.push(o,l)}else this.moveTo(o,l),c=this.currentPath.points;return qL.arc(o,l,e,r,i,n,s,a,c),this}beginFill(e=0,r){return this.beginTextureFill({texture:Et.WHITE,color:e,alpha:r})}normalizeColor(e){const r=Mr.shared.setValue(e.color??0);e.color=r.toNumber(),e.alpha??(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:Et.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const i=e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:i},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,i,n){return this.drawShape(new Gt(e,r,i,n))}drawRoundedRect(e,r,i,n,s){return this.drawShape(new Z$(e,r,i,n,s))}drawCircle(e,r,i){return this.drawShape(new X$(e,r,i))}drawEllipse(e,r,i,n){return this.drawShape(new q$(e,r,i,n))}drawPolygon(...e){let r,i=!0;const n=e[0];n.points?(i=n.closeStroke,r=n.points):Array.isArray(e[0])?r=e[0]:r=e;const s=new jg(r);return s.closeStroke=i,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Si.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,i=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(e.points);for(let n=0;n<i;n++){const s=e.batches[n],a=s.style.color,o=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),l=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),u=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),c={vertexData:o,blendMode:r,indices:u,uvs:l,_batchRGB:Mr.shared.setValue(a).toRgbArray(),_tintRGB:a,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[n]=c}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,i=this.batches.length;r<i;r++){const n=this.batches[r];n.worldAlpha=this.worldAlpha*n.alpha,e.plugins[this.pluginName].render(n)}}}_renderDirect(e){const r=this._resolveDirectShader(e),i=this._geometry,n=this.worldAlpha,s=r.uniforms,a=i.drawCalls;s.translationMatrix=this.transform.worldTransform,Mr.shared.setValue(this._tintColor).premultiply(n).toArray(s.tint),e.shader.bind(r),e.geometry.bind(i,r),e.state.set(this.state);for(let o=0,l=a.length;o<l;o++)this._renderDrawCallDirect(e,i.drawCalls[o])}_renderDrawCallDirect(e,r){const{texArray:i,type:n,size:s,start:a}=r,o=i.count;for(let l=0;l<o;l++)e.texture.bind(i.elements[l],l);e.geometry.draw(n,s,a)}_resolveDirectShader(e){let r=this.shader;const i=this.pluginName;if(!r){if(!nT[i]){const{maxTextures:n}=e.plugins[i],s=new Int32Array(n);for(let l=0;l<n;l++)s[l]=l;const a={tint:new Float32Array([1,1,1,1]),translationMatrix:new ii,default:_h.from({uSamplers:s},!0)},o=e.plugins[i]._shader.program;nT[i]=new zu(o,a)}r=nT[i]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:i,maxX:n,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,r,i,n,s)}containsPoint(e){return this.worldTransform.applyInverse(e,$x._TEMP_POINT),this._geometry.containsPoint($x._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=Mr.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,i=r.a,n=r.b,s=r.c,a=r.d,o=r.tx,l=r.ty,u=this._geometry.points,c=this.vertexData;let d=0;for(let h=0;h<u.length;h+=2){const p=u[h],g=u[h+1];c[d++]=i*p+s*g+o,c[d++]=a*g+n*p+l}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};C3.curves=gp,C3._TEMP_POINT=new zt;let sT=C3;class hpe extends kw{constructor(e=100,r=100,i=10,n=10){super(),this.segWidth=i,this.segHeight=n,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],i=[],n=[],s=this.segWidth-1,a=this.segHeight-1,o=this.width/s,l=this.height/a;for(let c=0;c<e;c++){const d=c%this.segWidth,h=c/this.segWidth|0;r.push(d*o,h*l),i.push(d/s,h/a)}const u=s*a;for(let c=0;c<u;c++){const d=c%s,h=c/s|0,p=h*this.segWidth+d,g=h*this.segWidth+d+1,y=(h+1)*this.segWidth+d,b=(h+1)*this.segWidth+d+1;n.push(p,g,y,g,b,y)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(n),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class dpe extends kw{constructor(e=200,r,i=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=i,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),n=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),i.data=new Float32Array(e.length*4),n.data=new Uint16Array((e.length-1)*6));const s=i.data,a=n.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let o=0,l=e[0];const u=this._width*this.textureScale,c=e.length;for(let h=0;h<c;h++){const p=h*4;if(this.textureScale>0){const g=l.x-e[h].x,y=l.y-e[h].y,b=Math.sqrt(g*g+y*y);l=e[h],o+=b/u}else o=h/(c-1);s[p]=o,s[p+1]=0,s[p+2]=o,s[p+3]=1}let d=0;for(let h=0;h<c-1;h++){const p=h*2;a[d++]=p,a[d++]=p+1,a[d++]=p+2,a[d++]=p+2,a[d++]=p+1,a[d++]=p+3}i.update(),n.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],i,n=0,s=0;const a=this.buffers[0].data,o=e.length,l=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let u=0;u<o;u++){const c=e[u],d=u*4;u<e.length-1?i=e[u+1]:i=c,s=-(i.x-r.x),n=i.y-r.y;const h=Math.sqrt(n*n+s*s);h<1e-6?(n=0,s=0):(n/=h,s/=h,n*=l,s*=l),a[d]=c.x+n,a[d+1]=c.y+s,a[d+2]=c.x-n,a[d+3]=c.y-s,r=c}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class fpe extends O0{constructor(e,r,i){const n=new hpe(e.width,e.height,r,i),s=new L0(Et.WHITE);super(n,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:i}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==i)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Cy=10;class ppe extends fpe{constructor(e,r,i,n,s){var a,o,l,u;super(Et.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((a=e.defaultBorders)==null?void 0:a.left)??Cy,this._rightWidth=n??((o=e.defaultBorders)==null?void 0:o.right)??Cy,this._topHeight=i??((l=e.defaultBorders)==null?void 0:l.top)??Cy,this._bottomHeight=s??((u=e.defaultBorders)==null?void 0:u.bottom)??Cy,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,i=this._topHeight+this._bottomHeight,n=this._height>i?1:this._height/i;return Math.min(r,n)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const i=1/this._origWidth,n=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=i*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-i*this._rightWidth,r[9]=r[11]=r[13]=r[15]=n*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-n*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class mpe extends O0{constructor(e=Et.EMPTY,r,i,n,s){const a=new kw(r,i,n);a.getBuffer("aVertexPosition").static=!1;const o=new L0(e);super(a,o,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class gpe extends O0{constructor(e,r,i=0){const n=new dpe(e.height,r,i),s=new L0(e);i>0&&(e.baseTexture.wrapMode=al.REPEAT),super(n,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class vpe extends Yn{constructor(e=1500,r,i=16384,n=!1){super();const s=16384;i>s&&(i=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=i,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=ut.NORMAL,this.autoResize=n,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new Mr(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}let eD=class{constructor(e,r,i){this.geometry=new A1,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(let n=0;n<e.length;++n){let s=e[n];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||ft.FLOAT,offset:s.offset},r[n]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new Qr(Che(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let a=0;a<this.dynamicProperties.length;++a){const o=this.dynamicProperties[a];o.offset=r,r+=o.size,this.dynamicStride+=o.size}const i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new Qr(this.dynamicData,!1,!1);let n=0;this.staticStride=0;for(let a=0;a<this.staticProperties.length;++a){const o=this.staticProperties[a];o.offset=n,n+=o.size,this.staticStride+=o.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Qr(this.staticData,!0,!1);for(let a=0;a<this.dynamicProperties.length;++a){const o=this.dynamicProperties[a];e.addAttribute(o.attributeName,this.dynamicBuffer,0,o.type===ft.UNSIGNED_BYTE,o.type,this.dynamicStride*4,o.offset*4)}for(let a=0;a<this.staticProperties.length;++a){const o=this.staticProperties[a];e.addAttribute(o.attributeName,this.staticBuffer,0,o.type===ft.UNSIGNED_BYTE,o.type,this.staticStride*4,o.offset*4)}}uploadDynamic(e,r,i){for(let n=0;n<this.dynamicProperties.length;n++){const s=this.dynamicProperties[n];s.uploadFunction(e,r,i,s.type===ft.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,i){for(let n=0;n<this.staticProperties.length;n++){const s=this.staticProperties[n];s.uploadFunction(e,r,i,s.type===ft.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}};var ype=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,xpe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;let oz=class extends Pw{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new ii,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ft.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=zu.from(xpe,ype,{}),this.state=cc.for2d()}render(e){const r=e.children,i=e._maxSize,n=e._batchSize,s=this.renderer;let a=r.length;if(a===0)return;a>i&&!e.autoResize&&(a=i);let o=e._buffers;o||(o=e._buffers=this.generateBuffers(e));const l=r[0]._texture.baseTexture,u=l.alphaMode>0;this.state.blendMode=B$(e.blendMode,u),s.state.set(this.state);const c=s.gl,d=e.worldTransform.copyTo(this.tempMatrix);d.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=d.toArray(!0),this.shader.uniforms.uColor=Mr.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,u).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let h=!1;for(let p=0,g=0;p<a;p+=n,g+=1){let y=a-p;y>n&&(y=n),g>=o.length&&o.push(this._generateOneMoreBuffer(e));const b=o[g];b.uploadDynamic(r,p,y);const x=e._bufferUpdateIDs[g]||0;h=h||b._updateID<x,h&&(b._updateID=e._updateID,b.uploadStatic(r,p,y)),s.geometry.bind(b.geometry),c.drawElements(c.TRIANGLES,y*6,c.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],i=e._maxSize,n=e._batchSize,s=e._properties;for(let a=0;a<i;a+=n)r.push(new eD(this.properties,s,n));return r}_generateOneMoreBuffer(e){const r=e._batchSize,i=e._properties;return new eD(this.properties,i,r)}uploadVertices(e,r,i,n,s,a){let o=0,l=0,u=0,c=0;for(let d=0;d<i;++d){const h=e[r+d],p=h._texture,g=h.scale.x,y=h.scale.y,b=p.trim,x=p.orig;b?(l=b.x-h.anchor.x*x.width,o=l+b.width,c=b.y-h.anchor.y*x.height,u=c+b.height):(o=x.width*(1-h.anchor.x),l=x.width*-h.anchor.x,u=x.height*(1-h.anchor.y),c=x.height*-h.anchor.y),n[a]=l*g,n[a+1]=c*y,n[a+s]=o*g,n[a+s+1]=c*y,n[a+s*2]=o*g,n[a+s*2+1]=u*y,n[a+s*3]=l*g,n[a+s*3+1]=u*y,a+=s*4}}uploadPosition(e,r,i,n,s,a){for(let o=0;o<i;o++){const l=e[r+o].position;n[a]=l.x,n[a+1]=l.y,n[a+s]=l.x,n[a+s+1]=l.y,n[a+s*2]=l.x,n[a+s*2+1]=l.y,n[a+s*3]=l.x,n[a+s*3+1]=l.y,a+=s*4}}uploadRotation(e,r,i,n,s,a){for(let o=0;o<i;o++){const l=e[r+o].rotation;n[a]=l,n[a+s]=l,n[a+s*2]=l,n[a+s*3]=l,a+=s*4}}uploadUvs(e,r,i,n,s,a){for(let o=0;o<i;++o){const l=e[r+o]._texture._uvs;l?(n[a]=l.x0,n[a+1]=l.y0,n[a+s]=l.x1,n[a+s+1]=l.y1,n[a+s*2]=l.x2,n[a+s*2+1]=l.y2,n[a+s*3]=l.x3,n[a+s*3+1]=l.y3,a+=s*4):(n[a]=0,n[a+1]=0,n[a+s]=0,n[a+s+1]=0,n[a+s*2]=0,n[a+s*2+1]=0,n[a+s*3]=0,n[a+s*3+1]=0,a+=s*4)}}uploadTint(e,r,i,n,s,a){for(let o=0;o<i;++o){const l=e[r+o],u=Mr.shared.setValue(l._tintRGB).toPremultiplied(l.alpha,l.texture.baseTexture.alphaMode>0);n[a]=u,n[a+s]=u,n[a+s*2]=u,n[a+s*3]=u,a+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}};oz.extension={name:"particle",type:Be.RendererPlugin};ot.add(oz);class D0 extends C1{constructor(e,r=!0){super(e[0]instanceof Et?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(qi.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(qi.shared.add(this.update,this,pp.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,i=this.currentFrame;if(this._durations!==null){let n=this._currentTime%1*this._durations[this.currentFrame];for(n+=r/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i||this.animationSpeed<0&&this.currentFrame>i)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let i=0;i<e.length;++i)r.push(Et.from(e[i]));return new D0(r)}static fromImages(e){const r=[];for(let i=0;i<e.length;++i)r.push(Et.from(e[i]));return new D0(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof Et)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(qi.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(qi.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Rm=new zt;class V4 extends C1{constructor(e,r=100,i=100){super(e),this.tileTransform=new Iw,this._width=r,this._height=i,this.uvMatrix=this.texture.uvMatrix||new $4(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,i,n)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Gt),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Rm);const r=this._width,i=this._height,n=-r*this.anchor._x;if(Rm.x>=n&&Rm.x<n+r){const s=-i*this.anchor._y;if(Rm.y>=s&&Rm.y<s+i)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const i=e instanceof Et?e:Et.from(e,r);return new V4(i,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var bpe=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,_pe=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,wpe=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,tD=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Spe=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Ry=new ii;let lz=class extends Pw{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new f9,this.state=cc.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=zu.from(tD,Spe,r),this.shader=e.context.webGLVersion>1?zu.from(_pe,bpe,r):zu.from(tD,wpe,r)}render(e){const r=this.renderer,i=this.quad;let n=i.vertices;n[0]=n[6]=e._width*-e.anchor.x,n[1]=n[3]=e._height*-e.anchor.y,n[2]=n[4]=e._width*(1-e.anchor.x),n[5]=n[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,a=e.uvRespectAnchor?e.anchor.y:0;n=i.uvs,n[0]=n[6]=-s,n[1]=n[3]=-a,n[2]=n[4]=1-s,n[5]=n[7]=1-a,i.invalidate();const o=e._texture,l=o.baseTexture,u=l.alphaMode>0,c=e.tileTransform.localTransform,d=e.uvMatrix;let h=l.isPowerOfTwo&&o.frame.width===l.width&&o.frame.height===l.height;h&&(l._glTextures[r.CONTEXT_UID]?h=l.wrapMode!==al.CLAMP:l.wrapMode===al.CLAMP&&(l.wrapMode=al.REPEAT));const p=h?this.simpleShader:this.shader,g=o.width,y=o.height,b=e._width,x=e._height;Ry.set(c.a*g/b,c.b*g/x,c.c*y/b,c.d*y/x,c.tx/b,c.ty/x),Ry.invert(),h?Ry.prepend(d.mapCoord):(p.uniforms.uMapCoord=d.mapCoord.toArray(!0),p.uniforms.uClampFrame=d.uClampFrame,p.uniforms.uClampOffset=d.uClampOffset),p.uniforms.uTransform=Ry.toArray(!0),p.uniforms.uColor=Mr.shared.setValue(e.tint).premultiply(e.worldAlpha,u).toArray(p.uniforms.uColor),p.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),p.uniforms.uSampler=o,r.shader.bind(p),r.geometry.bind(i),this.state.blendMode=B$(e.blendMode,u),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}};lz.extension={name:"tilingSprite",type:Be.RendererPlugin};ot.add(lz);const uz=class R3{constructor(e){this.stage=new Yn,e=Object.assign({forceCanvas:!1},e),this.renderer=$de(e),R3._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const i=R3._plugins.slice(0);i.reverse(),i.forEach(n=>{n.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};uz._plugins=[];let Ow=uz;ot.handleByList(Be.Application,Ow._plugins);let cz=class{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,i;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,i=globalThis.innerHeight;else{const{clientWidth:n,clientHeight:s}=this._resizeTo;r=n,i=s}this.renderer.resize(r,i),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}};cz.extension=Be.Application;ot.add(cz);var hz={exports:{}},Epe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Tpe=Epe,Ape=Tpe;function dz(){}function fz(){}fz.resetWarningCache=dz;var Cpe=function(){function t(i,n,s,a,o,l){if(l!==Ape){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:fz,resetWarningCache:dz};return r.PropTypes=r,r};hz.exports=Cpe();var Rpe=hz.exports;const or=qn(Rpe);function Vn(t){return Vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vn(t)}function pz(t){var e=function(r,i){if(Vn(r)!=="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,i||"default");if(Vn(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(r)}(t,"string");return Vn(e)==="symbol"?e:String(e)}function Fr(t,e,r){return(e=pz(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function yl(t){return function(e){if(Array.isArray(e))return aT(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return aT(e,r);var i=Object.prototype.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?aT(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function kr(t,e){for(var r=arguments.length,i=new Array(r>2?r-2:0),n=2;n<r;n++)i[n-2]=arguments[n]}var Ipe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ppe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mpe=function(t){return t==null};function rg(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=yl(t);else{if(t===null||Vn(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!Mpe(r)&&!isNaN(r)}).map(Number)}function rD(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function oT(t){return t instanceof zt||t instanceof Eu}var d_=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function lT(t,e,r){if(oT(t[e])&&oT(r))t[e].copyFrom(r);else if(oT(t[e])){var i=rg(r);kr(i!==void 0&&i.length>0&&i.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",e,JSON.stringify(r),Vn(r)),t[e].set(i.shift(),i.shift())}else t[e]=r}var Rd,mz=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var i={};return r.forEach(function(n){i[n]=!0}),function(n){return i[n]!==void 0}},gz=function(t){return function(){return!t.apply(void 0,arguments)}},I3="children",kpe=(Fr(Rd={},I3,!0),Fr(Rd,"parent",!0),Fr(Rd,"worldAlpha",!0),Fr(Rd,"worldTransform",!0),Fr(Rd,"worldVisible",!0),Rd),P3={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},wo=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=function(o){return requestAnimationFrame(function(){var l,u;o==null||(l=o.__reactpixi)===null||l===void 0||(u=l.root)===null||u===void 0||u.emit("__REACT_PIXI_REQUEST_RENDER__")})},n=function(o,l){if(r.hasOwnProperty(o))return kr(l.typeofs.some(function(u){return Vn(r[o])===u})||l.instanceofs.some(function(u){return r[o]instanceof u}),"".concat(t," ").concat(o," prop is invalid")),r[o]};if(r.texture)return kr(r.texture instanceof Et,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=n("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||n("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||n("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,Et]});kr(!!s,"".concat(t," could not get texture from props"));var a=Et.from(s);return a.__reactpixi={root:e},a.once("update",i),a.once("loaded",i),a.valid&&i(a),a},Npe=gz(mz([].concat(yl(Object.keys(kpe)),yl(d_))));function So(t,e,r){var i=!1;if(kr(mp.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",Vn(t)),!r.ignoreEvents)for(var n=typeof t.removeListener=="function",s=typeof t.on=="function",a=0;a<d_.length;a++){var o=d_[a];e[o]!==r[o]&&(i=!0,typeof e[o]=="function"&&n&&t.removeListener(o,e[o]),typeof r[o]=="function"&&s&&t.on(o,r[o]))}var l=Object.keys(r||{});if(r.overwriteProps){for(var u=0;u<l.length;u++){var c=l[u];e[c]!==r[c]&&(i=!0,lT(t,c,r[c]))}return i}for(var d=l.filter(Npe),h=0;h<d.length;h++){var p=d[h],g=r[p];r[p]!==e[p]&&(i=!0),g!==void 0?lT(t,p,g):p in P3?(console.warn("setting default value: ".concat(p,", from: ").concat(t[p]," to: ").concat(g," for"),t),i=!0,lT(t,p,P3[p])):console.warn("ignoring prop: ".concat(p,", from ").concat(t[p]," to ").concat(g," for"),t)}return i}var Ope=function(t,e){var r=e.text,i=e.style;return new hfe(r,i)},Lpe=function(){return new Yn};function dc(t,e){if(t==null)return{};var r,i,n=function(a,o){if(a==null)return{};var l,u,c={},d=Object.keys(a);for(u=0;u<d.length;u++)l=d[u],o.indexOf(l)>=0||(c[l]=a[l]);return c}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var Dpe=["draw","geometry"],Fpe=function(t,e){var r=e.geometry;kr(!r||r instanceof sT,"Graphics geometry needs to be a `PIXI.Graphics`");var i=r?new sT(r.geometry):new sT;return i.applyProps=function(n,s,a){var o=a.draw;a.geometry;var l=So(n,s,dc(a,Dpe));return s.draw!==o&&typeof o=="function"&&(l=!0,o.call(i,i)),l},i},Bpe=["image","texture"],jpe=function(t,e){var r=e.leftWidth,i=r===void 0?10:r,n=e.topHeight,s=n===void 0?10:n,a=e.rightWidth,o=a===void 0?10:a,l=e.bottomHeight,u=l===void 0?10:l,c=wo("NineSlicePlane",t,e),d=new ppe(c,i,s,o,u);return d.applyProps=function(h,p,g){var y=g.image,b=g.texture,x=So(h,p,dc(g,Bpe));return(y||b)&&(b!==p.texture&&(x=!0),h.texture=wo("NineSlicePlane",t,g)),x},d};function iD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function Iy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(r),!0).forEach(function(i){Fr(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iD(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}var Upe=function(t,e){var r=e.maxSize,i=r===void 0?1500:r,n=e.batchSize,s=n===void 0?16384:n,a=e.autoResize,o=a!==void 0&&a,l=Iy(Iy({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),u=Iy(Iy({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),c=new vpe(i,l,s,o);return c.willUnmount=function(d,h,p){d.destroy(u)},c},$pe=["image","texture"],zpe=function(t,e){var r=new C1(wo("Sprite",t,e));return r.applyProps=function(i,n,s){var a=s.image,o=s.texture,l=So(i,n,dc(s,$pe));return(o&&n.texture!==s.texture||a&&n.image!==s.image)&&(n.texture!==s.texture&&(l=!0),i.texture=wo("Sprite",t,s)),l},r},Hpe=["textures","isPlaying","initialFrame","images"],Gpe=function(t,e){var r=e.textures,i=e.images,n=e.isPlaying,s=n===void 0||n,a=e.initialFrame,o=function(u){return u.map(function(c){return kr(c instanceof Et||(c==null?void 0:c.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time:\n                number }`"),c})},l=i?D0.fromImages(i):new D0(o(r));return l[s?"gotoAndPlay":"gotoAndStop"](a||0),l.applyProps=function(u,c,d){var h=d.textures,p=d.isPlaying,g=d.initialFrame,y=d.images,b=So(u,c,dc(d,Hpe));if(y&&c.images!==y){for(var x=[],w=0;w<y.length;++w)x.push(Et.from(y[w]));u.textures=x,b=!0}if(h&&c.textures!==h&&(u.textures=o(h),b=!0),p!==c.isPlaying||g!==c.initialFrame){var _=typeof g=="number"?g:l.currentFrame||0;l[p?"gotoAndPlay":"gotoAndStop"](_),b=!0}return b},l},Vpe=function(t,e){var r=e.text,i=r===void 0?"":r,n=e.style,s=n===void 0?{}:n,a=e.isSprite,o=new tfe(i,s);return a?(o.updateText(),new C1(o.texture)):o},Wpe=["tileScale","tilePosition","image","texture"],Xpe=function(t,e){var r=e.width,i=r===void 0?100:r,n=e.height,s=n===void 0?100:n,a=wo("TilingSprite",t,e),o=new V4(a,i,s);return o.applyProps=function(l,u,c){var d=c.tileScale,h=c.tilePosition,p=c.image,g=c.texture,y=So(l,u,dc(c,Wpe));if(h){var b,x=rg(h);(b=l.tilePosition).set.apply(b,yl(x)),y=!rD(rg(u.tilePosition),x)||y}if(d){var w,_=rg(d);(w=l.tileScale).set.apply(w,yl(_)),y=!rD(rg(u.tileScale),_)||y}return(p||g)&&(g!==u.texture&&(y=!0),l.texture=wo("Sprite",t,c)),y},o},Ype=["image","texture"],qpe=function(t,e){var r=wo("Mesh",t,e),i=e.vertices,n=e.uvs,s=e.indices,a=e.drawMode,o=a===void 0?ha.TRIANGLES:a,l=new mpe(r,i,n,s,o);return l.applyProps=function(u,c,d){var h=d.image,p=d.texture,g=So(u,c,dc(d,Ype));return(h||p)&&(p!==c.texture&&(g=!0),u.texture=wo("Mesh",t,d)),g},l},Kpe=["image","texture"],Qpe=function(t,e){var r=wo("SimpleRope",t,e),i=e.points,n=new gpe(r,i);return n.applyProps=function(s,a,o){var l=o.image,u=o.texture,c=dc(o,Kpe);kr(Array.isArray(o.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var d=So(s,a,c);return(l||u)&&(u!==a.texture&&(d=!0),s.texture=wo("SimpleRope",t,o)),d},n},Zpe=Object.freeze({__proto__:null,BitmapText:Ope,Container:Lpe,Graphics:Fpe,NineSlicePlane:jpe,ParticleContainer:Upe,Sprite:zpe,Text:Vpe,TilingSprite:Xpe,SimpleMesh:qpe,SimpleRope:Qpe,AnimatedSprite:Gpe});function nD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function sD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nD(Object(r),!0).forEach(function(i){Fr(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nD(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}var Sn={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},Jpe=Object.keys(Sn).reduce(function(t,e){return sD(sD({},t),{},Fr({},e,Zpe[e]))},{}),vz={};function eme(t,e){return kr(!!t,"Expect type to be defined, got `%s`",t),kr(!Sn[t],"Component `%s` could not be created, already exists in default components.",t),vz[t]=e,t}var aD,oD,lD,uD,M3={},k3={},tme={get exports(){return k3},set exports(t){k3=t}},cD={};function rme(){return oD||(oD=1,tme.exports=(aD||(aD=1,function(t){function e(D,G){var H=D.length;D.push(G);e:for(;0<H;){var W=H-1>>>1,K=D[W];if(!(0<n(K,G)))break e;D[W]=G,D[H]=K,H=W}}function r(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var G=D[0],H=D.pop();if(H!==G){D[0]=H;e:for(var W=0,K=D.length,Q=K>>>1;W<Q;){var ie=2*(W+1)-1,le=D[ie],fe=ie+1,we=D[fe];if(0>n(le,H))fe<K&&0>n(we,le)?(D[W]=we,D[fe]=H,W=fe):(D[W]=le,D[ie]=H,W=ie);else{if(!(fe<K&&0>n(we,H)))break e;D[W]=we,D[fe]=H,W=fe}}}return G}function n(D,G){var H=D.sortIndex-G.sortIndex;return H!==0?H:D.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,h=3,p=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function _(D){for(var G=r(u);G!==null;){if(G.callback===null)i(u);else{if(!(G.startTime<=D))break;i(u),G.sortIndex=G.expirationTime,e(l,G)}G=r(u)}}function E(D){if(y=!1,_(D),!g)if(r(l)!==null)g=!0,$(A);else{var G=r(u);G!==null&&z(E,G.startTime-D)}}function A(D,G){g=!1,y&&(y=!1,x(k),k=-1),p=!0;var H=h;try{for(_(G),d=r(l);d!==null&&(!(d.expirationTime>G)||D&&!B());){var W=d.callback;if(typeof W=="function"){d.callback=null,h=d.priorityLevel;var K=W(d.expirationTime<=G);G=t.unstable_now(),typeof K=="function"?d.callback=K:d===r(l)&&i(l),_(G)}else i(l);d=r(l)}if(d!==null)var Q=!0;else{var ie=r(u);ie!==null&&z(E,ie.startTime-G),Q=!1}return Q}finally{d=null,h=H,p=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,P=!1,M=null,k=-1,U=5,j=-1;function B(){return!(t.unstable_now()-j<U)}function L(){if(M!==null){var D=t.unstable_now();j=D;var G=!0;try{G=M(!0,D)}finally{G?I():(P=!1,M=null)}}else P=!1}if(typeof w=="function")I=function(){w(L)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,O=F.port2;F.port1.onmessage=L,I=function(){O.postMessage(null)}}else I=function(){b(L,0)};function $(D){M=D,P||(P=!0,I())}function z(D,G){k=b(function(){D(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,$(A))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var H=h;h=G;try{return D()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,G){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=h;h=D;try{return G()}finally{h=H}},t.unstable_scheduleCallback=function(D,G,H){var W=t.unstable_now();switch(H=typeof H=="object"&&H!==null&&typeof(H=H.delay)=="number"&&0<H?W+H:W,D){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return D={id:c++,callback:G,priorityLevel:D,startTime:H,expirationTime:K=H+K,sortIndex:-1},H>W?(D.sortIndex=H,e(u,D),r(l)===null&&D===r(u)&&(y?(x(k),k=-1):y=!0,z(E,H-W))):(D.sortIndex=K,e(l,D),g||p||(g=!0,$(A))),D},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(D){var G=h;return function(){var H=h;h=G;try{return D.apply(this,arguments)}finally{h=H}}}}(cD)),cD)),k3}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function ime(){return uD||(uD=1,lD=function(t){var e={},r=tt,i=rme(),n=Object.assign;function s(f){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+f,S=1;S<arguments.length;S++)m+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,o=Symbol.for("react.element"),l=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),E=Symbol.iterator;function A(f){return f===null||typeof f!="object"?null:typeof(f=E&&f[E]||f["@@iterator"])=="function"?f:null}function I(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case u:return"Fragment";case l:return"Portal";case d:return"Profiler";case c:return"StrictMode";case y:return"Suspense";case b:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case p:return(f.displayName||"Context")+".Consumer";case h:return(f._context.displayName||"Context")+".Provider";case g:var m=f.render;return(f=f.displayName)||(f=(f=m.displayName||m.name||"")!==""?"ForwardRef("+f+")":"ForwardRef"),f;case x:return(m=f.displayName||null)!==null?m:I(f.type)||"Memo";case w:m=f._payload,f=f._init;try{return I(f(m))}catch{}}return null}function P(f){var m=f.type;switch(f.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=(f=m.render).displayName||f.name||"",m.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I(m);case 8:return m===c?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function M(f){var m=f,S=f;if(f.alternate)for(;m.return;)m=m.return;else{f=m;do 4098&(m=f).flags&&(S=m.return),f=m.return;while(f)}return m.tag===3?S:null}function k(f){if(M(f)!==f)throw Error(s(188))}function U(f){var m=f.alternate;if(!m){if((m=M(f))===null)throw Error(s(188));return m!==f?null:f}for(var S=f,T=m;;){var C=S.return;if(C===null)break;var N=C.alternate;if(N===null){if((T=C.return)!==null){S=T;continue}break}if(C.child===N.child){for(N=C.child;N;){if(N===S)return k(C),f;if(N===T)return k(C),m;N=N.sibling}throw Error(s(188))}if(S.return!==T.return)S=C,T=N;else{for(var V=!1,q=C.child;q;){if(q===S){V=!0,S=C,T=N;break}if(q===T){V=!0,T=C,S=N;break}q=q.sibling}if(!V){for(q=N.child;q;){if(q===S){V=!0,S=N,T=C;break}if(q===T){V=!0,T=N,S=C;break}q=q.sibling}if(!V)throw Error(s(189))}}if(S.alternate!==T)throw Error(s(190))}if(S.tag!==3)throw Error(s(188));return S.stateNode.current===S?f:m}function j(f){return(f=U(f))!==null?B(f):null}function B(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var m=B(f);if(m!==null)return m;f=f.sibling}return null}function L(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){if(f.tag!==4){var m=L(f);if(m!==null)return m}f=f.sibling}return null}var F,O=Array.isArray,$=t.getPublicInstance,z=t.getRootHostContext,D=t.getChildHostContext,G=t.prepareForCommit,H=t.resetAfterCommit,W=t.createInstance,K=t.appendInitialChild,Q=t.finalizeInitialChildren,ie=t.prepareUpdate,le=t.shouldSetTextContent,fe=t.createTextInstance,we=t.scheduleTimeout,$e=t.cancelTimeout,Ze=t.noTimeout,Fe=t.isPrimaryRenderer,Se=t.supportsMutation,We=t.supportsPersistence,ze=t.supportsHydration,Dt=t.getInstanceFromNode,Rt=t.preparePortalMount,Ar=t.getCurrentEventPriority,lt=t.detachDeletedInstance,it=t.supportsMicrotasks,X=t.scheduleMicrotask,ee=t.supportsTestSelectors,ne=t.findFiberRoot,_e=t.getBoundingRect,ve=t.getTextContent,ce=t.isHiddenSubtree,pe=t.matchAccessibilityRole,je=t.setFocusIfFocusable,Me=t.setupIntersectionObserver,mt=t.appendChild,er=t.appendChildToContainer,gi=t.commitTextUpdate,St=t.commitMount,st=t.commitUpdate,Ii=t.insertBefore,Bs=t.insertInContainerBefore,js=t.removeChild,pc=t.removeChildFromContainer,td=t.resetTextContent,r2=t.hideInstance,D1=t.hideTextInstance,i2=t.unhideInstance,F1=t.unhideTextInstance,n2=t.clearContainer,Z=t.cloneInstance,re=t.createContainerChildSet,oe=t.appendChildToContainerChildSet,Ee=t.finalizeContainerChildren,He=t.replaceContainerChildren,_t=t.cloneHiddenInstance,dt=t.cloneHiddenTextInstance,ct=t.canHydrateInstance,nt=t.canHydrateTextInstance,At=t.canHydrateSuspenseInstance,Or=t.isSuspenseInstancePending,gt=t.isSuspenseInstanceFallback,Qt=t.getSuspenseInstanceFallbackErrorDetails,Gr=t.registerSuspenseInstanceRetry,vi=t.getNextHydratableSibling,jr=t.getFirstHydratableChild,Rl=t.getFirstHydratableChildWithinContainer,Bp=t.getFirstHydratableChildWithinSuspenseInstance,Il=t.hydrateInstance,Ca=t.hydrateTextInstance,Co=t.hydrateSuspenseInstance,jp=t.getNextHydratableInstanceAfterSuspenseInstance,Up=t.commitHydratedContainer,$p=t.commitHydratedSuspenseInstance,Pl=t.clearSuspenseBoundary,rd=t.clearSuspenseBoundaryFromContainer,Yt=t.shouldDeleteUnhydratedTailInstances,tr=t.didNotMatchHydratedContainerTextInstance,Jn=t.didNotMatchHydratedTextInstance;function Ra(f){if(F===void 0)try{throw Error()}catch(S){var m=S.stack.trim().match(/\n( *(at )?)/);F=m&&m[1]||""}return`
`+F+f}var zp=!1;function s2(f,m){if(!f||zp)return"";zp=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(ae){var T=ae}Reflect.construct(f,[],m)}else{try{m.call()}catch(ae){T=ae}f.call(m.prototype)}else{try{throw Error()}catch(ae){T=ae}f()}}catch(ae){if(ae&&T&&typeof ae.stack=="string"){for(var C=ae.stack.split(`
`),N=T.stack.split(`
`),V=C.length-1,q=N.length-1;1<=V&&0<=q&&C[V]!==N[q];)q--;for(;1<=V&&0<=q;V--,q--)if(C[V]!==N[q]){if(V!==1||q!==1)do if(V--,0>--q||C[V]!==N[q]){var te=`
`+C[V].replace(" at new "," at ");return f.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",f.displayName)),te}while(1<=V&&0<=q);break}}}finally{zp=!1,Error.prepareStackTrace=S}return(f=f?f.displayName||f.name:"")?Ra(f):""}var tV=Object.prototype.hasOwnProperty,a2=[],id=-1;function Ml(f){return{current:f}}function dr(f){0>id||(f.current=a2[id],a2[id]=null,id--)}function rr(f,m){id++,a2[id]=f.current,f.current=m}var kl={},Pi=Ml(kl),nn=Ml(!1),mc=kl;function nd(f,m){var S=f.type.contextTypes;if(!S)return kl;var T=f.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===m)return T.__reactInternalMemoizedMaskedChildContext;var C,N={};for(C in S)N[C]=m[C];return T&&((f=f.stateNode).__reactInternalMemoizedUnmaskedChildContext=m,f.__reactInternalMemoizedMaskedChildContext=N),N}function An(f){return(f=f.childContextTypes)!=null}function o2(){dr(nn),dr(Pi)}function wP(f,m,S){if(Pi.current!==kl)throw Error(s(168));rr(Pi,m),rr(nn,S)}function SP(f,m,S){var T=f.stateNode;if(m=m.childContextTypes,typeof T.getChildContext!="function")return S;for(var C in T=T.getChildContext())if(!(C in m))throw Error(s(108,P(f)||"Unknown",C));return n({},S,T)}function B1(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||kl,mc=Pi.current,rr(Pi,f),rr(nn,nn.current),!0}function EP(f,m,S){var T=f.stateNode;if(!T)throw Error(s(169));S?(f=SP(f,m,mc),T.__reactInternalMemoizedMergedChildContext=f,dr(nn),dr(Pi),rr(Pi,f)):dr(nn),rr(nn,S)}var Us=Math.clz32?Math.clz32:function(f){return(f>>>=0)===0?32:31-(rV(f)/iV|0)|0},rV=Math.log,iV=Math.LN2,l2=64,u2=4194304;function Hp(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&f;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&f;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function j1(f,m){var S=f.pendingLanes;if(S===0)return 0;var T=0,C=f.suspendedLanes,N=f.pingedLanes,V=268435455&S;if(V!==0){var q=V&~C;q!==0?T=Hp(q):(N&=V)!==0&&(T=Hp(N))}else(V=S&~C)!==0?T=Hp(V):N!==0&&(T=Hp(N));if(T===0)return 0;if(m!==0&&m!==T&&!(m&C)&&((C=T&-T)>=(N=m&-m)||C===16&&4194240&N))return m;if(4&T&&(T|=16&S),(m=f.entangledLanes)!==0)for(f=f.entanglements,m&=T;0<m;)C=1<<(S=31-Us(m)),T|=f[S],m&=~C;return T}function nV(f,m){switch(f){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;default:return-1}}function c2(f){return(f=-1073741825&f.pendingLanes)!==0?f:1073741824&f?1073741824:0}function TP(){var f=l2;return!(4194240&(l2<<=1))&&(l2=64),f}function h2(f){for(var m=[],S=0;31>S;S++)m.push(f);return m}function Gp(f,m,S){f.pendingLanes|=m,m!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),(f=f.eventTimes)[m=31-Us(m)]=S}function d2(f,m){var S=f.entangledLanes|=m;for(f=f.entanglements;S;){var T=31-Us(S),C=1<<T;C&m|f[T]&m&&(f[T]|=m),S&=~C}}var Ut=0;function AP(f){return 1<(f&=-f)?4<f?268435455&f?16:536870912:4:1}var f2=i.unstable_scheduleCallback,CP=i.unstable_cancelCallback,sV=i.unstable_shouldYield,aV=i.unstable_requestPaint,ni=i.unstable_now,p2=i.unstable_ImmediatePriority,oV=i.unstable_UserBlockingPriority,RP=i.unstable_NormalPriority,lV=i.unstable_IdlePriority,U1=null,Ia=null,$s=typeof Object.is=="function"?Object.is:function(f,m){return f===m&&(f!==0||1/f==1/m)||f!=f&&m!=m},Ro=null,$1=!1,m2=!1;function IP(f){Ro===null?Ro=[f]:Ro.push(f)}function Pa(){if(!m2&&Ro!==null){m2=!0;var f=0,m=Ut;try{var S=Ro;for(Ut=1;f<S.length;f++){var T=S[f];do T=T(!0);while(T!==null)}Ro=null,$1=!1}catch(C){throw Ro!==null&&(Ro=Ro.slice(f+1)),f2(p2,Pa),C}finally{Ut=m,m2=!1}}return null}var sd=[],ad=0,z1=null,H1=0,es=[],ts=0,gc=null,Ma=1,Io="";function vc(f,m){sd[ad++]=H1,sd[ad++]=z1,z1=f,H1=m}function PP(f,m,S){es[ts++]=Ma,es[ts++]=Io,es[ts++]=gc,gc=f;var T=Ma;f=Io;var C=32-Us(T)-1;T&=~(1<<C),S+=1;var N=32-Us(m)+C;if(30<N){var V=C-C%5;N=(T&(1<<V)-1).toString(32),T>>=V,C-=V,Ma=1<<32-Us(m)+C|S<<C|T,Io=N+f}else Ma=1<<N|S<<C|T,Io=f}function g2(f){f.return!==null&&(vc(f,1),PP(f,1,0))}function v2(f){for(;f===z1;)z1=sd[--ad],sd[ad]=null,H1=sd[--ad],sd[ad]=null;for(;f===gc;)gc=es[--ts],es[ts]=null,Io=es[--ts],es[ts]=null,Ma=es[--ts],es[ts]=null}var Cn=null,rs=null,fr=!1,Vp=!1,zs=null;function MP(f,m){var S=os(5,null,null,0);S.elementType="DELETED",S.stateNode=m,S.return=f,(m=f.deletions)===null?(f.deletions=[S],f.flags|=16):m.push(S)}function kP(f,m){switch(f.tag){case 5:return(m=ct(m,f.type,f.pendingProps))!==null&&(f.stateNode=m,Cn=f,rs=jr(m),!0);case 6:return(m=nt(m,f.pendingProps))!==null&&(f.stateNode=m,Cn=f,rs=null,!0);case 13:if((m=At(m))!==null){var S=gc!==null?{id:Ma,overflow:Io}:null;return f.memoizedState={dehydrated:m,treeContext:S,retryLane:1073741824},(S=os(18,null,null,0)).stateNode=m,S.return=f,f.child=S,Cn=f,rs=null,!0}return!1;default:return!1}}function y2(f){return(1&f.mode)!=0&&(128&f.flags)==0}function x2(f){if(fr){var m=rs;if(m){var S=m;if(!kP(f,m)){if(y2(f))throw Error(s(418));m=vi(S);var T=Cn;m&&kP(f,m)?MP(T,S):(f.flags=-4097&f.flags|2,fr=!1,Cn=f)}}else{if(y2(f))throw Error(s(418));f.flags=-4097&f.flags|2,fr=!1,Cn=f}}}function NP(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;Cn=f}function G1(f){if(!ze||f!==Cn)return!1;if(!fr)return NP(f),fr=!0,!1;if(f.tag!==3&&(f.tag!==5||Yt(f.type)&&!le(f.type,f.memoizedProps))){var m=rs;if(m){if(y2(f))throw OP(),Error(s(418));for(;m;)MP(f,m),m=vi(m)}}if(NP(f),f.tag===13){if(!ze)throw Error(s(316));if(!(f=(f=f.memoizedState)!==null?f.dehydrated:null))throw Error(s(317));rs=jp(f)}else rs=Cn?vi(f.stateNode):null;return!0}function OP(){for(var f=rs;f;)f=vi(f)}function od(){ze&&(rs=Cn=null,Vp=fr=!1)}function b2(f){zs===null?zs=[f]:zs.push(f)}var uV=a.ReactCurrentBatchConfig;function V1(f,m){if($s(f,m))return!0;if(typeof f!="object"||f===null||typeof m!="object"||m===null)return!1;var S=Object.keys(f),T=Object.keys(m);if(S.length!==T.length)return!1;for(T=0;T<S.length;T++){var C=S[T];if(!tV.call(m,C)||!$s(f[C],m[C]))return!1}return!0}function cV(f){switch(f.tag){case 5:return Ra(f.type);case 16:return Ra("Lazy");case 13:return Ra("Suspense");case 19:return Ra("SuspenseList");case 0:case 2:case 15:return f=s2(f.type,!1);case 11:return f=s2(f.type.render,!1);case 1:return f=s2(f.type,!0);default:return""}}function Hs(f,m){if(f&&f.defaultProps){for(var S in m=n({},m),f=f.defaultProps)m[S]===void 0&&(m[S]=f[S]);return m}return m}var W1=Ml(null),X1=null,ld=null,_2=null;function w2(){_2=ld=X1=null}function LP(f,m,S){Fe?(rr(W1,m._currentValue),m._currentValue=S):(rr(W1,m._currentValue2),m._currentValue2=S)}function S2(f){var m=W1.current;dr(W1),Fe?f._currentValue=m:f._currentValue2=m}function E2(f,m,S){for(;f!==null;){var T=f.alternate;if((f.childLanes&m)!==m?(f.childLanes|=m,T!==null&&(T.childLanes|=m)):T!==null&&(T.childLanes&m)!==m&&(T.childLanes|=m),f===S)break;f=f.return}}function ud(f,m){X1=f,_2=ld=null,(f=f.dependencies)!==null&&f.firstContext!==null&&(f.lanes&m&&(sn=!0),f.firstContext=null)}function is(f){var m=Fe?f._currentValue:f._currentValue2;if(_2!==f)if(f={context:f,memoizedValue:m,next:null},ld===null){if(X1===null)throw Error(s(308));ld=f,X1.dependencies={lanes:0,firstContext:f}}else ld=ld.next=f;return m}var yc=null;function T2(f){yc===null?yc=[f]:yc.push(f)}function DP(f,m,S,T){var C=m.interleaved;return C===null?(S.next=S,T2(m)):(S.next=C.next,C.next=S),m.interleaved=S,ka(f,T)}function ka(f,m){f.lanes|=m;var S=f.alternate;for(S!==null&&(S.lanes|=m),S=f,f=f.return;f!==null;)f.childLanes|=m,(S=f.alternate)!==null&&(S.childLanes|=m),S=f,f=f.return;return S.tag===3?S.stateNode:null}var Nl=!1;function A2(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FP(f,m){f=f.updateQueue,m.updateQueue===f&&(m.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function Po(f,m){return{eventTime:f,lane:m,tag:0,payload:null,callback:null,next:null}}function Ol(f,m,S){var T=f.updateQueue;if(T===null)return null;if(T=T.shared,(2&kt)!=0){var C=T.pending;return C===null?m.next=m:(m.next=C.next,C.next=m),T.pending=m,ka(f,S)}return(C=T.interleaved)===null?(m.next=m,T2(T)):(m.next=C.next,C.next=m),T.interleaved=m,ka(f,S)}function Y1(f,m,S){if((m=m.updateQueue)!==null&&(m=m.shared,(4194240&S)!=0)){var T=m.lanes;S|=T&=f.pendingLanes,m.lanes=S,d2(f,S)}}function BP(f,m){var S=f.updateQueue,T=f.alternate;if(T!==null&&S===(T=T.updateQueue)){var C=null,N=null;if((S=S.firstBaseUpdate)!==null){do{var V={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};N===null?C=N=V:N=N.next=V,S=S.next}while(S!==null);N===null?C=N=m:N=N.next=m}else C=N=m;return S={baseState:T.baseState,firstBaseUpdate:C,lastBaseUpdate:N,shared:T.shared,effects:T.effects},void(f.updateQueue=S)}(f=S.lastBaseUpdate)===null?S.firstBaseUpdate=m:f.next=m,S.lastBaseUpdate=m}function q1(f,m,S,T){var C=f.updateQueue;Nl=!1;var N=C.firstBaseUpdate,V=C.lastBaseUpdate,q=C.shared.pending;if(q!==null){C.shared.pending=null;var te=q,ae=te.next;te.next=null,V===null?N=ae:V.next=ae,V=te;var he=f.alternate;he!==null&&(q=(he=he.updateQueue).lastBaseUpdate)!==V&&(q===null?he.firstBaseUpdate=ae:q.next=ae,he.lastBaseUpdate=te)}if(N!==null){var Te=C.baseState;for(V=0,he=ae=te=null,q=N;;){var ue=q.lane,xe=q.eventTime;if((T&ue)===ue){he!==null&&(he=he.next={eventTime:xe,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Xe=f,wt=q;switch(ue=m,xe=S,wt.tag){case 1:if(typeof(Xe=wt.payload)=="function"){Te=Xe.call(xe,Te,ue);break e}Te=Xe;break e;case 3:Xe.flags=-65537&Xe.flags|128;case 0:if((ue=typeof(Xe=wt.payload)=="function"?Xe.call(xe,Te,ue):Xe)==null)break e;Te=n({},Te,ue);break e;case 2:Nl=!0}}q.callback!==null&&q.lane!==0&&(f.flags|=64,(ue=C.effects)===null?C.effects=[q]:ue.push(q))}else xe={eventTime:xe,lane:ue,tag:q.tag,payload:q.payload,callback:q.callback,next:null},he===null?(ae=he=xe,te=Te):he=he.next=xe,V|=ue;if((q=q.next)===null){if((q=C.shared.pending)===null)break;q=(ue=q).next,ue.next=null,C.lastBaseUpdate=ue,C.shared.pending=null}}if(he===null&&(te=Te),C.baseState=te,C.firstBaseUpdate=ae,C.lastBaseUpdate=he,(m=C.shared.interleaved)!==null){C=m;do V|=C.lane,C=C.next;while(C!==m)}else N===null&&(C.shared.lanes=0);bc|=V,f.lanes=V,f.memoizedState=Te}}function jP(f,m,S){if(f=m.effects,m.effects=null,f!==null)for(m=0;m<f.length;m++){var T=f[m],C=T.callback;if(C!==null){if(T.callback=null,T=S,typeof C!="function")throw Error(s(191,C));C.call(T)}}}var UP=new r.Component().refs;function C2(f,m,S,T){S=(S=S(T,m=f.memoizedState))==null?m:n({},m,S),f.memoizedState=S,f.lanes===0&&(f.updateQueue.baseState=S)}var K1={isMounted:function(f){return!!(f=f._reactInternals)&&M(f)===f},enqueueSetState:function(f,m,S){f=f._reactInternals;var T=Ni(),C=Bl(f),N=Po(T,C);N.payload=m,S!=null&&(N.callback=S),(m=Ol(f,N,C))!==null&&(as(m,f,C,T),Y1(m,f,C))},enqueueReplaceState:function(f,m,S){f=f._reactInternals;var T=Ni(),C=Bl(f),N=Po(T,C);N.tag=1,N.payload=m,S!=null&&(N.callback=S),(m=Ol(f,N,C))!==null&&(as(m,f,C,T),Y1(m,f,C))},enqueueForceUpdate:function(f,m){f=f._reactInternals;var S=Ni(),T=Bl(f),C=Po(S,T);C.tag=2,m!=null&&(C.callback=m),(m=Ol(f,C,T))!==null&&(as(m,f,T,S),Y1(m,f,T))}};function $P(f,m,S,T,C,N,V){return typeof(f=f.stateNode).shouldComponentUpdate=="function"?f.shouldComponentUpdate(T,N,V):!m.prototype||!m.prototype.isPureReactComponent||!V1(S,T)||!V1(C,N)}function zP(f,m,S){var T=!1,C=kl,N=m.contextType;return typeof N=="object"&&N!==null?N=is(N):(C=An(m)?mc:Pi.current,N=(T=(T=m.contextTypes)!=null)?nd(f,C):kl),m=new m(S,N),f.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=K1,f.stateNode=m,m._reactInternals=f,T&&((f=f.stateNode).__reactInternalMemoizedUnmaskedChildContext=C,f.__reactInternalMemoizedMaskedChildContext=N),m}function HP(f,m,S,T){f=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(S,T),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(S,T),m.state!==f&&K1.enqueueReplaceState(m,m.state,null)}function R2(f,m,S,T){var C=f.stateNode;C.props=S,C.state=f.memoizedState,C.refs=UP,A2(f);var N=m.contextType;typeof N=="object"&&N!==null?C.context=is(N):(N=An(m)?mc:Pi.current,C.context=nd(f,N)),C.state=f.memoizedState,typeof(N=m.getDerivedStateFromProps)=="function"&&(C2(f,m,N,S),C.state=f.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(m=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),m!==C.state&&K1.enqueueReplaceState(C,C.state,null),q1(f,S,C,T),C.state=f.memoizedState),typeof C.componentDidMount=="function"&&(f.flags|=4194308)}function Wp(f,m,S){if((f=S.ref)!==null&&typeof f!="function"&&typeof f!="object"){if(S._owner){if(S=S._owner){if(S.tag!==1)throw Error(s(309));var T=S.stateNode}if(!T)throw Error(s(147,f));var C=T,N=""+f;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===N?m.ref:(m=function(V){var q=C.refs;q===UP&&(q=C.refs={}),V===null?delete q[N]:q[N]=V},m._stringRef=N,m)}if(typeof f!="string")throw Error(s(284));if(!S._owner)throw Error(s(290,f))}return f}function Q1(f,m){throw f=Object.prototype.toString.call(m),Error(s(31,f==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":f))}function GP(f){return(0,f._init)(f._payload)}function VP(f){function m(de,J){if(f){var se=de.deletions;se===null?(de.deletions=[J],de.flags|=16):se.push(J)}}function S(de,J){if(!f)return null;for(;J!==null;)m(de,J),J=J.sibling;return null}function T(de,J){for(de=new Map;J!==null;)J.key!==null?de.set(J.key,J):de.set(J.index,J),J=J.sibling;return de}function C(de,J){return(de=Ul(de,J)).index=0,de.sibling=null,de}function N(de,J,se){return de.index=se,f?(se=de.alternate)!==null?(se=se.index)<J?(de.flags|=2,J):se:(de.flags|=2,J):(de.flags|=1048576,J)}function V(de){return f&&de.alternate===null&&(de.flags|=2),de}function q(de,J,se,me){return J===null||J.tag!==6?((J=pS(se,de.mode,me)).return=de,J):((J=C(J,se)).return=de,J)}function te(de,J,se,me){var at=se.type;return at===u?he(de,J,se.props.children,me,se.key):J!==null&&(J.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===w&&GP(at)===J.type)?((me=C(J,se.props)).ref=Wp(de,J,se),me.return=de,me):((me=Sv(se.type,se.key,se.props,null,de.mode,me)).ref=Wp(de,J,se),me.return=de,me)}function ae(de,J,se,me){return J===null||J.tag!==4||J.stateNode.containerInfo!==se.containerInfo||J.stateNode.implementation!==se.implementation?((J=mS(se,de.mode,me)).return=de,J):((J=C(J,se.children||[])).return=de,J)}function he(de,J,se,me,at){return J===null||J.tag!==7?((J=Sc(se,de.mode,me,at)).return=de,J):((J=C(J,se)).return=de,J)}function Te(de,J,se){if(typeof J=="string"&&J!==""||typeof J=="number")return(J=pS(""+J,de.mode,se)).return=de,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case o:return(se=Sv(J.type,J.key,J.props,null,de.mode,se)).ref=Wp(de,null,J),se.return=de,se;case l:return(J=mS(J,de.mode,se)).return=de,J;case w:return Te(de,(0,J._init)(J._payload),se)}if(O(J)||A(J))return(J=Sc(J,de.mode,se,null)).return=de,J;Q1(de,J)}return null}function ue(de,J,se,me){var at=J!==null?J.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return at!==null?null:q(de,J,""+se,me);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case o:return se.key===at?te(de,J,se,me):null;case l:return se.key===at?ae(de,J,se,me):null;case w:return ue(de,J,(at=se._init)(se._payload),me)}if(O(se)||A(se))return at!==null?null:he(de,J,se,me,null);Q1(de,se)}return null}function xe(de,J,se,me,at){if(typeof me=="string"&&me!==""||typeof me=="number")return q(J,de=de.get(se)||null,""+me,at);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case o:return te(J,de=de.get(me.key===null?se:me.key)||null,me,at);case l:return ae(J,de=de.get(me.key===null?se:me.key)||null,me,at);case w:return xe(de,J,se,(0,me._init)(me._payload),at)}if(O(me)||A(me))return he(J,de=de.get(se)||null,me,at,null);Q1(J,me)}return null}function Xe(de,J,se,me){for(var at=null,Vt=null,Ye=J,$t=J=0,xi=null;Ye!==null&&$t<se.length;$t++){Ye.index>$t?(xi=Ye,Ye=null):xi=Ye.sibling;var Wt=ue(de,Ye,se[$t],me);if(Wt===null){Ye===null&&(Ye=xi);break}f&&Ye&&Wt.alternate===null&&m(de,Ye),J=N(Wt,J,$t),Vt===null?at=Wt:Vt.sibling=Wt,Vt=Wt,Ye=xi}if($t===se.length)return S(de,Ye),fr&&vc(de,$t),at;if(Ye===null){for(;$t<se.length;$t++)(Ye=Te(de,se[$t],me))!==null&&(J=N(Ye,J,$t),Vt===null?at=Ye:Vt.sibling=Ye,Vt=Ye);return fr&&vc(de,$t),at}for(Ye=T(de,Ye);$t<se.length;$t++)(xi=xe(Ye,de,$t,se[$t],me))!==null&&(f&&xi.alternate!==null&&Ye.delete(xi.key===null?$t:xi.key),J=N(xi,J,$t),Vt===null?at=xi:Vt.sibling=xi,Vt=xi);return f&&Ye.forEach(function($l){return m(de,$l)}),fr&&vc(de,$t),at}function wt(de,J,se,me){var at=A(se);if(typeof at!="function")throw Error(s(150));if((se=at.call(se))==null)throw Error(s(151));for(var Vt=at=null,Ye=J,$t=J=0,xi=null,Wt=se.next();Ye!==null&&!Wt.done;$t++,Wt=se.next()){Ye.index>$t?(xi=Ye,Ye=null):xi=Ye.sibling;var $l=ue(de,Ye,Wt.value,me);if($l===null){Ye===null&&(Ye=xi);break}f&&Ye&&$l.alternate===null&&m(de,Ye),J=N($l,J,$t),Vt===null?at=$l:Vt.sibling=$l,Vt=$l,Ye=xi}if(Wt.done)return S(de,Ye),fr&&vc(de,$t),at;if(Ye===null){for(;!Wt.done;$t++,Wt=se.next())(Wt=Te(de,Wt.value,me))!==null&&(J=N(Wt,J,$t),Vt===null?at=Wt:Vt.sibling=Wt,Vt=Wt);return fr&&vc(de,$t),at}for(Ye=T(de,Ye);!Wt.done;$t++,Wt=se.next())(Wt=xe(Ye,de,$t,Wt.value,me))!==null&&(f&&Wt.alternate!==null&&Ye.delete(Wt.key===null?$t:Wt.key),J=N(Wt,J,$t),Vt===null?at=Wt:Vt.sibling=Wt,Vt=Wt);return f&&Ye.forEach(function(OV){return m(de,OV)}),fr&&vc(de,$t),at}return function de(J,se,me,at){if(typeof me=="object"&&me!==null&&me.type===u&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case o:e:{for(var Vt=me.key,Ye=se;Ye!==null;){if(Ye.key===Vt){if((Vt=me.type)===u){if(Ye.tag===7){S(J,Ye.sibling),(se=C(Ye,me.props.children)).return=J,J=se;break e}}else if(Ye.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===w&&GP(Vt)===Ye.type){S(J,Ye.sibling),(se=C(Ye,me.props)).ref=Wp(J,Ye,me),se.return=J,J=se;break e}S(J,Ye);break}m(J,Ye),Ye=Ye.sibling}me.type===u?((se=Sc(me.props.children,J.mode,at,me.key)).return=J,J=se):((at=Sv(me.type,me.key,me.props,null,J.mode,at)).ref=Wp(J,se,me),at.return=J,J=at)}return V(J);case l:e:{for(Ye=me.key;se!==null;){if(se.key===Ye){if(se.tag===4&&se.stateNode.containerInfo===me.containerInfo&&se.stateNode.implementation===me.implementation){S(J,se.sibling),(se=C(se,me.children||[])).return=J,J=se;break e}S(J,se);break}m(J,se),se=se.sibling}(se=mS(me,J.mode,at)).return=J,J=se}return V(J);case w:return de(J,se,(Ye=me._init)(me._payload),at)}if(O(me))return Xe(J,se,me,at);if(A(me))return wt(J,se,me,at);Q1(J,me)}return typeof me=="string"&&me!==""||typeof me=="number"?(me=""+me,se!==null&&se.tag===6?(S(J,se.sibling),(se=C(se,me)).return=J,J=se):(S(J,se),(se=pS(me,J.mode,at)).return=J,J=se),V(J)):S(J,se)}}var cd=VP(!0),WP=VP(!1),Xp={},ns=Ml(Xp),Yp=Ml(Xp),hd=Ml(Xp);function Na(f){if(f===Xp)throw Error(s(174));return f}function I2(f,m){rr(hd,m),rr(Yp,f),rr(ns,Xp),f=z(m),dr(ns),rr(ns,f)}function dd(){dr(ns),dr(Yp),dr(hd)}function XP(f){var m=Na(hd.current),S=Na(ns.current);S!==(m=D(S,f.type,m))&&(rr(Yp,f),rr(ns,m))}function P2(f){Yp.current===f&&(dr(ns),dr(Yp))}var Cr=Ml(0);function Z1(f){for(var m=f;m!==null;){if(m.tag===13){var S=m.memoizedState;if(S!==null&&((S=S.dehydrated)===null||Or(S)||gt(S)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if(128&m.flags)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var M2=[];function k2(){for(var f=0;f<M2.length;f++){var m=M2[f];Fe?m._workInProgressVersionPrimary=null:m._workInProgressVersionSecondary=null}M2.length=0}var J1=a.ReactCurrentDispatcher,N2=a.ReactCurrentBatchConfig,xc=0,vr=null,si=null,ai=null,ev=!1,qp=!1,Kp=0,hV=0;function Mi(){throw Error(s(321))}function O2(f,m){if(m===null)return!1;for(var S=0;S<m.length&&S<f.length;S++)if(!$s(f[S],m[S]))return!1;return!0}function L2(f,m,S,T,C,N){if(xc=N,vr=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,J1.current=f===null||f.memoizedState===null?mV:gV,f=S(T,C),qp){N=0;do{if(qp=!1,Kp=0,25<=N)throw Error(s(301));N+=1,ai=si=null,m.updateQueue=null,J1.current=vV,f=S(T,C)}while(qp)}if(J1.current=iv,m=si!==null&&si.next!==null,xc=0,ai=si=vr=null,ev=!1,m)throw Error(s(300));return f}function D2(){var f=Kp!==0;return Kp=0,f}function Oa(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ai===null?vr.memoizedState=ai=f:ai=ai.next=f,ai}function ss(){if(si===null){var f=vr.alternate;f=f!==null?f.memoizedState:null}else f=si.next;var m=ai===null?vr.memoizedState:ai.next;if(m!==null)ai=m,si=f;else{if(f===null)throw Error(s(310));f={memoizedState:(si=f).memoizedState,baseState:si.baseState,baseQueue:si.baseQueue,queue:si.queue,next:null},ai===null?vr.memoizedState=ai=f:ai=ai.next=f}return ai}function Qp(f,m){return typeof m=="function"?m(f):m}function F2(f){var m=ss(),S=m.queue;if(S===null)throw Error(s(311));S.lastRenderedReducer=f;var T=si,C=T.baseQueue,N=S.pending;if(N!==null){if(C!==null){var V=C.next;C.next=N.next,N.next=V}T.baseQueue=C=N,S.pending=null}if(C!==null){N=C.next,T=T.baseState;var q=V=null,te=null,ae=N;do{var he=ae.lane;if((xc&he)===he)te!==null&&(te=te.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),T=ae.hasEagerState?ae.eagerState:f(T,ae.action);else{var Te={lane:he,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};te===null?(q=te=Te,V=T):te=te.next=Te,vr.lanes|=he,bc|=he}ae=ae.next}while(ae!==null&&ae!==N);te===null?V=T:te.next=q,$s(T,m.memoizedState)||(sn=!0),m.memoizedState=T,m.baseState=V,m.baseQueue=te,S.lastRenderedState=T}if((f=S.interleaved)!==null){C=f;do N=C.lane,vr.lanes|=N,bc|=N,C=C.next;while(C!==f)}else C===null&&(S.lanes=0);return[m.memoizedState,S.dispatch]}function B2(f){var m=ss(),S=m.queue;if(S===null)throw Error(s(311));S.lastRenderedReducer=f;var T=S.dispatch,C=S.pending,N=m.memoizedState;if(C!==null){S.pending=null;var V=C=C.next;do N=f(N,V.action),V=V.next;while(V!==C);$s(N,m.memoizedState)||(sn=!0),m.memoizedState=N,m.baseQueue===null&&(m.baseState=N),S.lastRenderedState=N}return[N,T]}function YP(){}function qP(f,m){var S=vr,T=ss(),C=m(),N=!$s(T.memoizedState,C);if(N&&(T.memoizedState=C,sn=!0),T=T.queue,j2(ZP.bind(null,S,T,f),[f]),T.getSnapshot!==m||N||ai!==null&&1&ai.memoizedState.tag){if(S.flags|=2048,Zp(9,QP.bind(null,S,T,C,m),void 0,null),oi===null)throw Error(s(349));30&xc||KP(S,m,C)}return C}function KP(f,m,S){f.flags|=16384,f={getSnapshot:m,value:S},(m=vr.updateQueue)===null?(m={lastEffect:null,stores:null},vr.updateQueue=m,m.stores=[f]):(S=m.stores)===null?m.stores=[f]:S.push(f)}function QP(f,m,S,T){m.value=S,m.getSnapshot=T,JP(m)&&eM(f)}function ZP(f,m,S){return S(function(){JP(m)&&eM(f)})}function JP(f){var m=f.getSnapshot;f=f.value;try{var S=m();return!$s(f,S)}catch{return!0}}function eM(f){var m=ka(f,1);m!==null&&as(m,f,1,-1)}function tM(f){var m=Oa();return typeof f=="function"&&(f=f()),m.memoizedState=m.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qp,lastRenderedState:f},m.queue=f,f=f.dispatch=pV.bind(null,vr,f),[m.memoizedState,f]}function Zp(f,m,S,T){return f={tag:f,create:m,destroy:S,deps:T,next:null},(m=vr.updateQueue)===null?(m={lastEffect:null,stores:null},vr.updateQueue=m,m.lastEffect=f.next=f):(S=m.lastEffect)===null?m.lastEffect=f.next=f:(T=S.next,S.next=f,f.next=T,m.lastEffect=f),f}function rM(){return ss().memoizedState}function tv(f,m,S,T){var C=Oa();vr.flags|=f,C.memoizedState=Zp(1|m,S,void 0,T===void 0?null:T)}function rv(f,m,S,T){var C=ss();T=T===void 0?null:T;var N=void 0;if(si!==null){var V=si.memoizedState;if(N=V.destroy,T!==null&&O2(T,V.deps))return void(C.memoizedState=Zp(m,S,N,T))}vr.flags|=f,C.memoizedState=Zp(1|m,S,N,T)}function iM(f,m){return tv(8390656,8,f,m)}function j2(f,m){return rv(2048,8,f,m)}function nM(f,m){return rv(4,2,f,m)}function sM(f,m){return rv(4,4,f,m)}function aM(f,m){return typeof m=="function"?(f=f(),m(f),function(){m(null)}):m!=null?(f=f(),m.current=f,function(){m.current=null}):void 0}function oM(f,m,S){return S=S!=null?S.concat([f]):null,rv(4,4,aM.bind(null,m,f),S)}function U2(){}function lM(f,m){var S=ss();m=m===void 0?null:m;var T=S.memoizedState;return T!==null&&m!==null&&O2(m,T[1])?T[0]:(S.memoizedState=[f,m],f)}function uM(f,m){var S=ss();m=m===void 0?null:m;var T=S.memoizedState;return T!==null&&m!==null&&O2(m,T[1])?T[0]:(f=f(),S.memoizedState=[f,m],f)}function cM(f,m,S){return 21&xc?($s(S,m)||(S=TP(),vr.lanes|=S,bc|=S,f.baseState=!0),m):(f.baseState&&(f.baseState=!1,sn=!0),f.memoizedState=S)}function dV(f,m){var S=Ut;Ut=S!==0&&4>S?S:4,f(!0);var T=N2.transition;N2.transition={};try{f(!1),m()}finally{Ut=S,N2.transition=T}}function hM(){return ss().memoizedState}function fV(f,m,S){var T=Bl(f);S={lane:T,action:S,hasEagerState:!1,eagerState:null,next:null},dM(f)?fM(m,S):(S=DP(f,m,S,T))!==null&&(as(S,f,T,Ni()),pM(S,m,T))}function pV(f,m,S){var T=Bl(f),C={lane:T,action:S,hasEagerState:!1,eagerState:null,next:null};if(dM(f))fM(m,C);else{var N=f.alternate;if(f.lanes===0&&(N===null||N.lanes===0)&&(N=m.lastRenderedReducer)!==null)try{var V=m.lastRenderedState,q=N(V,S);if(C.hasEagerState=!0,C.eagerState=q,$s(q,V)){var te=m.interleaved;return te===null?(C.next=C,T2(m)):(C.next=te.next,te.next=C),void(m.interleaved=C)}}catch{}(S=DP(f,m,C,T))!==null&&(as(S,f,T,C=Ni()),pM(S,m,T))}}function dM(f){var m=f.alternate;return f===vr||m!==null&&m===vr}function fM(f,m){qp=ev=!0;var S=f.pending;S===null?m.next=m:(m.next=S.next,S.next=m),f.pending=m}function pM(f,m,S){if(4194240&S){var T=m.lanes;S|=T&=f.pendingLanes,m.lanes=S,d2(f,S)}}var iv={readContext:is,useCallback:Mi,useContext:Mi,useEffect:Mi,useImperativeHandle:Mi,useInsertionEffect:Mi,useLayoutEffect:Mi,useMemo:Mi,useReducer:Mi,useRef:Mi,useState:Mi,useDebugValue:Mi,useDeferredValue:Mi,useTransition:Mi,useMutableSource:Mi,useSyncExternalStore:Mi,useId:Mi,unstable_isNewReconciler:!1},mV={readContext:is,useCallback:function(f,m){return Oa().memoizedState=[f,m===void 0?null:m],f},useContext:is,useEffect:iM,useImperativeHandle:function(f,m,S){return S=S!=null?S.concat([f]):null,tv(4194308,4,aM.bind(null,m,f),S)},useLayoutEffect:function(f,m){return tv(4194308,4,f,m)},useInsertionEffect:function(f,m){return tv(4,2,f,m)},useMemo:function(f,m){var S=Oa();return m=m===void 0?null:m,f=f(),S.memoizedState=[f,m],f},useReducer:function(f,m,S){var T=Oa();return m=S!==void 0?S(m):m,T.memoizedState=T.baseState=m,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:m},T.queue=f,f=f.dispatch=fV.bind(null,vr,f),[T.memoizedState,f]},useRef:function(f){return f={current:f},Oa().memoizedState=f},useState:tM,useDebugValue:U2,useDeferredValue:function(f){return Oa().memoizedState=f},useTransition:function(){var f=tM(!1),m=f[0];return f=dV.bind(null,f[1]),Oa().memoizedState=f,[m,f]},useMutableSource:function(){},useSyncExternalStore:function(f,m,S){var T=vr,C=Oa();if(fr){if(S===void 0)throw Error(s(407));S=S()}else{if(S=m(),oi===null)throw Error(s(349));30&xc||KP(T,m,S)}C.memoizedState=S;var N={value:S,getSnapshot:m};return C.queue=N,iM(ZP.bind(null,T,N,f),[f]),T.flags|=2048,Zp(9,QP.bind(null,T,N,S,m),void 0,null),S},useId:function(){var f=Oa(),m=oi.identifierPrefix;if(fr){var S=Io;m=":"+m+"R"+(S=(Ma&~(1<<32-Us(Ma)-1)).toString(32)+S),0<(S=Kp++)&&(m+="H"+S.toString(32)),m+=":"}else m=":"+m+"r"+(S=hV++).toString(32)+":";return f.memoizedState=m},unstable_isNewReconciler:!1},gV={readContext:is,useCallback:lM,useContext:is,useEffect:j2,useImperativeHandle:oM,useInsertionEffect:nM,useLayoutEffect:sM,useMemo:uM,useReducer:F2,useRef:rM,useState:function(){return F2(Qp)},useDebugValue:U2,useDeferredValue:function(f){return cM(ss(),si.memoizedState,f)},useTransition:function(){return[F2(Qp)[0],ss().memoizedState]},useMutableSource:YP,useSyncExternalStore:qP,useId:hM,unstable_isNewReconciler:!1},vV={readContext:is,useCallback:lM,useContext:is,useEffect:j2,useImperativeHandle:oM,useInsertionEffect:nM,useLayoutEffect:sM,useMemo:uM,useReducer:B2,useRef:rM,useState:function(){return B2(Qp)},useDebugValue:U2,useDeferredValue:function(f){var m=ss();return si===null?m.memoizedState=f:cM(m,si.memoizedState,f)},useTransition:function(){return[B2(Qp)[0],ss().memoizedState]},useMutableSource:YP,useSyncExternalStore:qP,useId:hM,unstable_isNewReconciler:!1};function fd(f,m){try{var S="",T=m;do S+=cV(T),T=T.return;while(T);var C=S}catch(N){C=`
Error generating stack: `+N.message+`
`+N.stack}return{value:f,source:m,stack:C,digest:null}}function $2(f,m,S){return{value:f,source:null,stack:S??null,digest:m??null}}function z2(f,m){try{console.error(m.value)}catch(S){setTimeout(function(){throw S})}}var yV=typeof WeakMap=="function"?WeakMap:Map;function mM(f,m,S){(S=Po(-1,S)).tag=3,S.payload={element:null};var T=m.value;return S.callback=function(){vv||(vv=!0,oS=T),z2(0,m)},S}function gM(f,m,S){(S=Po(-1,S)).tag=3;var T=f.type.getDerivedStateFromError;if(typeof T=="function"){var C=m.value;S.payload=function(){return T(C)},S.callback=function(){z2(0,m)}}var N=f.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(S.callback=function(){z2(0,m),typeof T!="function"&&(Dl===null?Dl=new Set([this]):Dl.add(this));var V=m.stack;this.componentDidCatch(m.value,{componentStack:V!==null?V:""})}),S}function vM(f,m,S){var T=f.pingCache;if(T===null){T=f.pingCache=new yV;var C=new Set;T.set(m,C)}else(C=T.get(m))===void 0&&(C=new Set,T.set(m,C));C.has(S)||(C.add(S),f=CV.bind(null,f,m,S),m.then(f,f))}function yM(f){do{var m;if((m=f.tag===13)&&(m=(m=f.memoizedState)===null||m.dehydrated!==null),m)return f;f=f.return}while(f!==null);return null}function xM(f,m,S,T,C){return 1&f.mode?(f.flags|=65536,f.lanes=C,f):(f===m?f.flags|=65536:(f.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:((m=Po(-1,1)).tag=2,Ol(S,m,1))),S.lanes|=1),f)}var xV=a.ReactCurrentOwner,sn=!1;function an(f,m,S,T){m.child=f===null?WP(m,null,S,T):cd(m,f.child,S,T)}function bM(f,m,S,T,C){S=S.render;var N=m.ref;return ud(m,C),T=L2(f,m,S,T,N,C),S=D2(),f===null||sn?(fr&&S&&g2(m),m.flags|=1,an(f,m,T,C),m.child):(m.updateQueue=f.updateQueue,m.flags&=-2053,f.lanes&=~C,Mo(f,m,C))}function _M(f,m,S,T,C){if(f===null){var N=S.type;return typeof N!="function"||fS(N)||N.defaultProps!==void 0||S.compare!==null||S.defaultProps!==void 0?((f=Sv(S.type,null,T,m,m.mode,C)).ref=m.ref,f.return=m,m.child=f):(m.tag=15,m.type=N,wM(f,m,N,T,C))}if(N=f.child,(f.lanes&C)==0){var V=N.memoizedProps;if((S=(S=S.compare)!==null?S:V1)(V,T)&&f.ref===m.ref)return Mo(f,m,C)}return m.flags|=1,(f=Ul(N,T)).ref=m.ref,f.return=m,m.child=f}function wM(f,m,S,T,C){if(f!==null){var N=f.memoizedProps;if(V1(N,T)&&f.ref===m.ref){if(sn=!1,m.pendingProps=T=N,(f.lanes&C)==0)return m.lanes=f.lanes,Mo(f,m,C);131072&f.flags&&(sn=!0)}}return H2(f,m,S,T,C)}function SM(f,m,S){var T=m.pendingProps,C=T.children,N=f!==null?f.memoizedState:null;if(T.mode==="hidden")if(!(1&m.mode))m.memoizedState={baseLanes:0,cachePool:null,transitions:null},rr(md,Rn),Rn|=S;else{if(!(1073741824&S))return f=N!==null?N.baseLanes|S:S,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:f,cachePool:null,transitions:null},m.updateQueue=null,rr(md,Rn),Rn|=f,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=N!==null?N.baseLanes:S,rr(md,Rn),Rn|=T}else N!==null?(T=N.baseLanes|S,m.memoizedState=null):T=S,rr(md,Rn),Rn|=T;return an(f,m,C,S),m.child}function EM(f,m){var S=m.ref;(f===null&&S!==null||f!==null&&f.ref!==S)&&(m.flags|=512,m.flags|=2097152)}function H2(f,m,S,T,C){var N=An(S)?mc:Pi.current;return N=nd(m,N),ud(m,C),S=L2(f,m,S,T,N,C),T=D2(),f===null||sn?(fr&&T&&g2(m),m.flags|=1,an(f,m,S,C),m.child):(m.updateQueue=f.updateQueue,m.flags&=-2053,f.lanes&=~C,Mo(f,m,C))}function TM(f,m,S,T,C){if(An(S)){var N=!0;B1(m)}else N=!1;if(ud(m,C),m.stateNode===null)ov(f,m),zP(m,S,T),R2(m,S,T,C),T=!0;else if(f===null){var V=m.stateNode,q=m.memoizedProps;V.props=q;var te=V.context,ae=S.contextType;typeof ae=="object"&&ae!==null?ae=is(ae):ae=nd(m,ae=An(S)?mc:Pi.current);var he=S.getDerivedStateFromProps,Te=typeof he=="function"||typeof V.getSnapshotBeforeUpdate=="function";Te||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(q!==T||te!==ae)&&HP(m,V,T,ae),Nl=!1;var ue=m.memoizedState;V.state=ue,q1(m,T,V,C),te=m.memoizedState,q!==T||ue!==te||nn.current||Nl?(typeof he=="function"&&(C2(m,S,he,T),te=m.memoizedState),(q=Nl||$P(m,S,q,T,ue,te,ae))?(Te||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(m.flags|=4194308)):(typeof V.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=T,m.memoizedState=te),V.props=T,V.state=te,V.context=ae,T=q):(typeof V.componentDidMount=="function"&&(m.flags|=4194308),T=!1)}else{V=m.stateNode,FP(f,m),q=m.memoizedProps,ae=m.type===m.elementType?q:Hs(m.type,q),V.props=ae,Te=m.pendingProps,ue=V.context,typeof(te=S.contextType)=="object"&&te!==null?te=is(te):te=nd(m,te=An(S)?mc:Pi.current);var xe=S.getDerivedStateFromProps;(he=typeof xe=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(q!==Te||ue!==te)&&HP(m,V,T,te),Nl=!1,ue=m.memoizedState,V.state=ue,q1(m,T,V,C);var Xe=m.memoizedState;q!==Te||ue!==Xe||nn.current||Nl?(typeof xe=="function"&&(C2(m,S,xe,T),Xe=m.memoizedState),(ae=Nl||$P(m,S,ae,T,ue,Xe,te)||!1)?(he||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(T,Xe,te),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(T,Xe,te)),typeof V.componentDidUpdate=="function"&&(m.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof V.componentDidUpdate!="function"||q===f.memoizedProps&&ue===f.memoizedState||(m.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||q===f.memoizedProps&&ue===f.memoizedState||(m.flags|=1024),m.memoizedProps=T,m.memoizedState=Xe),V.props=T,V.state=Xe,V.context=te,T=ae):(typeof V.componentDidUpdate!="function"||q===f.memoizedProps&&ue===f.memoizedState||(m.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||q===f.memoizedProps&&ue===f.memoizedState||(m.flags|=1024),T=!1)}return G2(f,m,S,T,N,C)}function G2(f,m,S,T,C,N){EM(f,m);var V=(128&m.flags)!=0;if(!T&&!V)return C&&EP(m,S,!1),Mo(f,m,N);T=m.stateNode,xV.current=m;var q=V&&typeof S.getDerivedStateFromError!="function"?null:T.render();return m.flags|=1,f!==null&&V?(m.child=cd(m,f.child,null,N),m.child=cd(m,null,q,N)):an(f,m,q,N),m.memoizedState=T.state,C&&EP(m,S,!0),m.child}function AM(f){var m=f.stateNode;m.pendingContext?wP(0,m.pendingContext,m.pendingContext!==m.context):m.context&&wP(0,m.context,!1),I2(f,m.containerInfo)}function CM(f,m,S,T,C){return od(),b2(C),m.flags|=256,an(f,m,S,T),m.child}var Jp,em,nv,sv,V2={dehydrated:null,treeContext:null,retryLane:0};function W2(f){return{baseLanes:f,cachePool:null,transitions:null}}function RM(f,m,S){var T,C=m.pendingProps,N=Cr.current,V=!1,q=(128&m.flags)!=0;if((T=q)||(T=(f===null||f.memoizedState!==null)&&(2&N)!=0),T?(V=!0,m.flags&=-129):f!==null&&f.memoizedState===null||(N|=1),rr(Cr,1&N),f===null)return x2(m),(f=m.memoizedState)!==null&&(f=f.dehydrated)!==null?(1&m.mode?gt(f)?m.lanes=8:m.lanes=1073741824:m.lanes=1,null):(q=C.children,f=C.fallback,V?(C=m.mode,V=m.child,q={mode:"hidden",children:q},!(1&C)&&V!==null?(V.childLanes=0,V.pendingProps=q):V=Ev(q,C,0,null),f=Sc(f,C,S,null),V.return=m,f.return=m,V.sibling=f,m.child=V,m.child.memoizedState=W2(S),m.memoizedState=V2,f):X2(m,q));if((N=f.memoizedState)!==null&&(T=N.dehydrated)!==null)return function(ae,he,Te,ue,xe,Xe,wt){if(Te)return 256&he.flags?(he.flags&=-257,av(ae,he,wt,ue=$2(Error(s(422))))):he.memoizedState!==null?(he.child=ae.child,he.flags|=128,null):(Xe=ue.fallback,xe=he.mode,ue=Ev({mode:"visible",children:ue.children},xe,0,null),(Xe=Sc(Xe,xe,wt,null)).flags|=2,ue.return=he,Xe.return=he,ue.sibling=Xe,he.child=ue,1&he.mode&&cd(he,ae.child,null,wt),he.child.memoizedState=W2(wt),he.memoizedState=V2,Xe);if(!(1&he.mode))return av(ae,he,wt,null);if(gt(xe))return ue=Qt(xe).digest,Xe=Error(s(419)),ue=$2(Xe,ue,void 0),av(ae,he,wt,ue);if(Te=(wt&ae.childLanes)!=0,sn||Te){if((ue=oi)!==null){switch(wt&-wt){case 4:xe=2;break;case 16:xe=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:xe=32;break;case 536870912:xe=268435456;break;default:xe=0}(xe=xe&(ue.suspendedLanes|wt)?0:xe)!==0&&xe!==Xe.retryLane&&(Xe.retryLane=xe,ka(ae,xe),as(ue,ae,xe,-1))}return dS(),av(ae,he,wt,ue=$2(Error(s(421))))}return Or(xe)?(he.flags|=128,he.child=ae.child,he=RV.bind(null,ae),Gr(xe,he),null):(ae=Xe.treeContext,ze&&(rs=Bp(xe),Cn=he,fr=!0,zs=null,Vp=!1,ae!==null&&(es[ts++]=Ma,es[ts++]=Io,es[ts++]=gc,Ma=ae.id,Io=ae.overflow,gc=he)),he=X2(he,ue.children),he.flags|=4096,he)}(f,m,q,C,T,N,S);if(V){V=C.fallback,q=m.mode,T=(N=f.child).sibling;var te={mode:"hidden",children:C.children};return!(1&q)&&m.child!==N?((C=m.child).childLanes=0,C.pendingProps=te,m.deletions=null):(C=Ul(N,te)).subtreeFlags=14680064&N.subtreeFlags,T!==null?V=Ul(T,V):(V=Sc(V,q,S,null)).flags|=2,V.return=m,C.return=m,C.sibling=V,m.child=C,C=V,V=m.child,q=(q=f.child.memoizedState)===null?W2(S):{baseLanes:q.baseLanes|S,cachePool:null,transitions:q.transitions},V.memoizedState=q,V.childLanes=f.childLanes&~S,m.memoizedState=V2,C}return f=(V=f.child).sibling,C=Ul(V,{mode:"visible",children:C.children}),!(1&m.mode)&&(C.lanes=S),C.return=m,C.sibling=null,f!==null&&((S=m.deletions)===null?(m.deletions=[f],m.flags|=16):S.push(f)),m.child=C,m.memoizedState=null,C}function X2(f,m){return(m=Ev({mode:"visible",children:m},f.mode,0,null)).return=f,f.child=m}function av(f,m,S,T){return T!==null&&b2(T),cd(m,f.child,null,S),(f=X2(m,m.pendingProps.children)).flags|=2,m.memoizedState=null,f}function IM(f,m,S){f.lanes|=m;var T=f.alternate;T!==null&&(T.lanes|=m),E2(f.return,m,S)}function Y2(f,m,S,T,C){var N=f.memoizedState;N===null?f.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:T,tail:S,tailMode:C}:(N.isBackwards=m,N.rendering=null,N.renderingStartTime=0,N.last=T,N.tail=S,N.tailMode=C)}function PM(f,m,S){var T=m.pendingProps,C=T.revealOrder,N=T.tail;if(an(f,m,T.children,S),(2&(T=Cr.current))!=0)T=1&T|2,m.flags|=128;else{if(f!==null&&128&f.flags)e:for(f=m.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&IM(f,S,m);else if(f.tag===19)IM(f,S,m);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===m)break e;for(;f.sibling===null;){if(f.return===null||f.return===m)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}T&=1}if(rr(Cr,T),(1&m.mode)==0)m.memoizedState=null;else switch(C){case"forwards":for(S=m.child,C=null;S!==null;)(f=S.alternate)!==null&&Z1(f)===null&&(C=S),S=S.sibling;(S=C)===null?(C=m.child,m.child=null):(C=S.sibling,S.sibling=null),Y2(m,!1,C,S,N);break;case"backwards":for(S=null,C=m.child,m.child=null;C!==null;){if((f=C.alternate)!==null&&Z1(f)===null){m.child=C;break}f=C.sibling,C.sibling=S,S=C,C=f}Y2(m,!0,S,null,N);break;case"together":Y2(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function ov(f,m){!(1&m.mode)&&f!==null&&(f.alternate=null,m.alternate=null,m.flags|=2)}function Mo(f,m,S){if(f!==null&&(m.dependencies=f.dependencies),bc|=m.lanes,(S&m.childLanes)==0)return null;if(f!==null&&m.child!==f.child)throw Error(s(153));if(m.child!==null){for(S=Ul(f=m.child,f.pendingProps),m.child=S,S.return=m;f.sibling!==null;)f=f.sibling,(S=S.sibling=Ul(f,f.pendingProps)).return=m;S.sibling=null}return m.child}function La(f){f.flags|=4}function MM(f,m){if(f!==null&&f.child===m.child)return!0;if(16&m.flags)return!1;for(f=m.child;f!==null;){if(12854&f.flags||12854&f.subtreeFlags)return!1;f=f.sibling}return!0}if(Se)Jp=function(f,m){for(var S=m.child;S!==null;){if(S.tag===5||S.tag===6)K(f,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===m)break;for(;S.sibling===null;){if(S.return===null||S.return===m)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},em=function(){},nv=function(f,m,S,T,C){if((f=f.memoizedProps)!==T){var N=m.stateNode,V=Na(ns.current);S=ie(N,S,f,T,C,V),(m.updateQueue=S)&&La(m)}},sv=function(f,m,S,T){S!==T&&La(m)};else if(We){Jp=function(f,m,S,T){for(var C=m.child;C!==null;){if(C.tag===5){var N=C.stateNode;S&&T&&(N=_t(N,C.type,C.memoizedProps,C)),K(f,N)}else if(C.tag===6)N=C.stateNode,S&&T&&(N=dt(N,C.memoizedProps,C)),K(f,N);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)(N=C.child)!==null&&(N.return=C),Jp(f,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===m)break;for(;C.sibling===null;){if(C.return===null||C.return===m)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};var kM=function(f,m,S,T){for(var C=m.child;C!==null;){if(C.tag===5){var N=C.stateNode;S&&T&&(N=_t(N,C.type,C.memoizedProps,C)),oe(f,N)}else if(C.tag===6)N=C.stateNode,S&&T&&(N=dt(N,C.memoizedProps,C)),oe(f,N);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)(N=C.child)!==null&&(N.return=C),kM(f,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===m)break;for(;C.sibling===null;){if(C.return===null||C.return===m)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};em=function(f,m){var S=m.stateNode;if(!MM(f,m)){f=S.containerInfo;var T=re(f);kM(T,m,!1,!1),S.pendingChildren=T,La(m),Ee(f,T)}},nv=function(f,m,S,T,C){var N=f.stateNode,V=f.memoizedProps;if((f=MM(f,m))&&V===T)m.stateNode=N;else{var q=m.stateNode,te=Na(ns.current),ae=null;V!==T&&(ae=ie(q,S,V,T,C,te)),f&&ae===null?m.stateNode=N:(N=Z(N,ae,S,V,T,m,f,q),Q(N,S,T,C,te)&&La(m),m.stateNode=N,f?La(m):Jp(N,m,!1,!1))}},sv=function(f,m,S,T){S!==T?(f=Na(hd.current),S=Na(ns.current),m.stateNode=fe(T,f,S,m),La(m)):m.stateNode=f.stateNode}}else em=function(){},nv=function(){},sv=function(){};function tm(f,m){if(!fr)switch(f.tailMode){case"hidden":m=f.tail;for(var S=null;m!==null;)m.alternate!==null&&(S=m),m=m.sibling;S===null?f.tail=null:S.sibling=null;break;case"collapsed":S=f.tail;for(var T=null;S!==null;)S.alternate!==null&&(T=S),S=S.sibling;T===null?m||f.tail===null?f.tail=null:f.tail.sibling=null:T.sibling=null}}function zi(f){var m=f.alternate!==null&&f.alternate.child===f.child,S=0,T=0;if(m)for(var C=f.child;C!==null;)S|=C.lanes|C.childLanes,T|=14680064&C.subtreeFlags,T|=14680064&C.flags,C.return=f,C=C.sibling;else for(C=f.child;C!==null;)S|=C.lanes|C.childLanes,T|=C.subtreeFlags,T|=C.flags,C.return=f,C=C.sibling;return f.subtreeFlags|=T,f.childLanes=S,m}function bV(f,m,S){var T=m.pendingProps;switch(v2(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zi(m),null;case 1:case 17:return An(m.type)&&o2(),zi(m),null;case 3:return S=m.stateNode,dd(),dr(nn),dr(Pi),k2(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),f!==null&&f.child!==null||(G1(m)?La(m):f===null||f.memoizedState.isDehydrated&&!(256&m.flags)||(m.flags|=1024,zs!==null&&(cS(zs),zs=null))),em(f,m),zi(m),null;case 5:P2(m),S=Na(hd.current);var C=m.type;if(f!==null&&m.stateNode!=null)nv(f,m,C,T,S),f.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!T){if(m.stateNode===null)throw Error(s(166));return zi(m),null}if(f=Na(ns.current),G1(m)){if(!ze)throw Error(s(175));f=Il(m.stateNode,m.type,m.memoizedProps,S,f,m,!Vp),m.updateQueue=f,f!==null&&La(m)}else{var N=W(C,T,S,f,m);Jp(N,m,!1,!1),m.stateNode=N,Q(N,C,T,S,f)&&La(m)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return zi(m),null;case 6:if(f&&m.stateNode!=null)sv(f,m,f.memoizedProps,T);else{if(typeof T!="string"&&m.stateNode===null)throw Error(s(166));if(f=Na(hd.current),S=Na(ns.current),G1(m)){if(!ze)throw Error(s(176));if(f=m.stateNode,S=m.memoizedProps,(T=Ca(f,S,m,!Vp))&&(C=Cn)!==null)switch(C.tag){case 3:tr(C.stateNode.containerInfo,f,S,(1&C.mode)!=0);break;case 5:Jn(C.type,C.memoizedProps,C.stateNode,f,S,(1&C.mode)!=0)}T&&La(m)}else m.stateNode=fe(T,f,S,m)}return zi(m),null;case 13:if(dr(Cr),T=m.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(fr&&rs!==null&&1&m.mode&&!(128&m.flags))OP(),od(),m.flags|=98560,C=!1;else if(C=G1(m),T!==null&&T.dehydrated!==null){if(f===null){if(!C)throw Error(s(318));if(!ze)throw Error(s(344));if(!(C=(C=m.memoizedState)!==null?C.dehydrated:null))throw Error(s(317));Co(C,m)}else od(),!(128&m.flags)&&(m.memoizedState=null),m.flags|=4;zi(m),C=!1}else zs!==null&&(cS(zs),zs=null),C=!0;if(!C)return 65536&m.flags?m:null}return 128&m.flags?(m.lanes=S,m):((S=T!==null)!=(f!==null&&f.memoizedState!==null)&&S&&(m.child.flags|=8192,1&m.mode&&(f===null||1&Cr.current?Vr===0&&(Vr=3):dS())),m.updateQueue!==null&&(m.flags|=4),zi(m),null);case 4:return dd(),em(f,m),f===null&&Rt(m.stateNode.containerInfo),zi(m),null;case 10:return S2(m.type._context),zi(m),null;case 19:if(dr(Cr),(C=m.memoizedState)===null)return zi(m),null;if(T=(128&m.flags)!=0,(N=C.rendering)===null)if(T)tm(C,!1);else{if(Vr!==0||f!==null&&128&f.flags)for(f=m.child;f!==null;){if((N=Z1(f))!==null){for(m.flags|=128,tm(C,!1),(f=N.updateQueue)!==null&&(m.updateQueue=f,m.flags|=4),m.subtreeFlags=0,f=S,S=m.child;S!==null;)C=f,(T=S).flags&=14680066,(N=T.alternate)===null?(T.childLanes=0,T.lanes=C,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=N.childLanes,T.lanes=N.lanes,T.child=N.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=N.memoizedProps,T.memoizedState=N.memoizedState,T.updateQueue=N.updateQueue,T.type=N.type,C=N.dependencies,T.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext}),S=S.sibling;return rr(Cr,1&Cr.current|2),m.child}f=f.sibling}C.tail!==null&&ni()>aS&&(m.flags|=128,T=!0,tm(C,!1),m.lanes=4194304)}else{if(!T)if((f=Z1(N))!==null){if(m.flags|=128,T=!0,(f=f.updateQueue)!==null&&(m.updateQueue=f,m.flags|=4),tm(C,!0),C.tail===null&&C.tailMode==="hidden"&&!N.alternate&&!fr)return zi(m),null}else 2*ni()-C.renderingStartTime>aS&&S!==1073741824&&(m.flags|=128,T=!0,tm(C,!1),m.lanes=4194304);C.isBackwards?(N.sibling=m.child,m.child=N):((f=C.last)!==null?f.sibling=N:m.child=N,C.last=N)}return C.tail!==null?(m=C.tail,C.rendering=m,C.tail=m.sibling,C.renderingStartTime=ni(),m.sibling=null,f=Cr.current,rr(Cr,T?1&f|2:1&f),m):(zi(m),null);case 22:case 23:return hS(),S=m.memoizedState!==null,f!==null&&f.memoizedState!==null!==S&&(m.flags|=8192),S&&1&m.mode?1073741824&Rn&&(zi(m),Se&&6&m.subtreeFlags&&(m.flags|=8192)):zi(m),null;case 24:case 25:return null}throw Error(s(156,m.tag))}function _V(f,m){switch(v2(m),m.tag){case 1:return An(m.type)&&o2(),65536&(f=m.flags)?(m.flags=-65537&f|128,m):null;case 3:return dd(),dr(nn),dr(Pi),k2(),65536&(f=m.flags)&&!(128&f)?(m.flags=-65537&f|128,m):null;case 5:return P2(m),null;case 13:if(dr(Cr),(f=m.memoizedState)!==null&&f.dehydrated!==null){if(m.alternate===null)throw Error(s(340));od()}return 65536&(f=m.flags)?(m.flags=-65537&f|128,m):null;case 19:return dr(Cr),null;case 4:return dd(),null;case 10:return S2(m.type._context),null;case 22:case 23:return hS(),null;default:return null}}var lv=!1,ki=!1,wV=typeof WeakSet=="function"?WeakSet:Set,Le=null;function pd(f,m){var S=f.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(T){pr(f,m,T)}else S.current=null}function NM(f,m,S){try{S()}catch(T){pr(f,m,T)}}var OM=!1;function rm(f,m,S){var T=m.updateQueue;if((T=T!==null?T.lastEffect:null)!==null){var C=T=T.next;do{if((C.tag&f)===f){var N=C.destroy;C.destroy=void 0,N!==void 0&&NM(m,S,N)}C=C.next}while(C!==T)}}function uv(f,m){if((m=(m=m.updateQueue)!==null?m.lastEffect:null)!==null){var S=m=m.next;do{if((S.tag&f)===f){var T=S.create;S.destroy=T()}S=S.next}while(S!==m)}}function q2(f){var m=f.ref;if(m!==null){var S=f.stateNode;f.tag===5?f=$(S):f=S,typeof m=="function"?m(f):m.current=f}}function LM(f){var m=f.alternate;m!==null&&(f.alternate=null,LM(m)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(m=f.stateNode)!==null&&lt(m),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function DM(f){return f.tag===5||f.tag===3||f.tag===4}function FM(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||DM(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(2&f.flags||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(2&f.flags))return f.stateNode}}function K2(f,m,S){var T=f.tag;if(T===5||T===6)f=f.stateNode,m?Bs(S,f,m):er(S,f);else if(T!==4&&(f=f.child)!==null)for(K2(f,m,S),f=f.sibling;f!==null;)K2(f,m,S),f=f.sibling}function Q2(f,m,S){var T=f.tag;if(T===5||T===6)f=f.stateNode,m?Ii(S,f,m):mt(S,f);else if(T!==4&&(f=f.child)!==null)for(Q2(f,m,S),f=f.sibling;f!==null;)Q2(f,m,S),f=f.sibling}var Hi=null,Da=!1;function Fa(f,m,S){for(S=S.child;S!==null;)Z2(f,m,S),S=S.sibling}function Z2(f,m,S){if(Ia&&typeof Ia.onCommitFiberUnmount=="function")try{Ia.onCommitFiberUnmount(U1,S)}catch{}switch(S.tag){case 5:ki||pd(S,m);case 6:if(Se){var T=Hi,C=Da;Hi=null,Fa(f,m,S),Da=C,(Hi=T)!==null&&(Da?pc(Hi,S.stateNode):js(Hi,S.stateNode))}else Fa(f,m,S);break;case 18:Se&&Hi!==null&&(Da?rd(Hi,S.stateNode):Pl(Hi,S.stateNode));break;case 4:Se?(T=Hi,C=Da,Hi=S.stateNode.containerInfo,Da=!0,Fa(f,m,S),Hi=T,Da=C):(We&&(T=S.stateNode.containerInfo,C=re(T),He(T,C)),Fa(f,m,S));break;case 0:case 11:case 14:case 15:if(!ki&&(T=S.updateQueue)!==null&&(T=T.lastEffect)!==null){C=T=T.next;do{var N=C,V=N.destroy;N=N.tag,V!==void 0&&(2&N||4&N)&&NM(S,m,V),C=C.next}while(C!==T)}Fa(f,m,S);break;case 1:if(!ki&&(pd(S,m),typeof(T=S.stateNode).componentWillUnmount=="function"))try{T.props=S.memoizedProps,T.state=S.memoizedState,T.componentWillUnmount()}catch(q){pr(S,m,q)}Fa(f,m,S);break;case 21:Fa(f,m,S);break;case 22:1&S.mode?(ki=(T=ki)||S.memoizedState!==null,Fa(f,m,S),ki=T):Fa(f,m,S);break;default:Fa(f,m,S)}}function BM(f){var m=f.updateQueue;if(m!==null){f.updateQueue=null;var S=f.stateNode;S===null&&(S=f.stateNode=new wV),m.forEach(function(T){var C=IV.bind(null,f,T);S.has(T)||(S.add(T),T.then(C,C))})}}function Gs(f,m){var S=m.deletions;if(S!==null)for(var T=0;T<S.length;T++){var C=S[T];try{var N=f,V=m;if(Se){var q=V;e:for(;q!==null;){switch(q.tag){case 5:Hi=q.stateNode,Da=!1;break e;case 3:case 4:Hi=q.stateNode.containerInfo,Da=!0;break e}q=q.return}if(Hi===null)throw Error(s(160));Z2(N,V,C),Hi=null,Da=!1}else Z2(N,V,C);var te=C.alternate;te!==null&&(te.return=null),C.return=null}catch(ae){pr(C,m,ae)}}if(12854&m.subtreeFlags)for(m=m.child;m!==null;)jM(m,f),m=m.sibling}function jM(f,m){var S=f.alternate,T=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if(Gs(m,f),Ba(f),4&T){try{rm(3,f,f.return),uv(3,f)}catch(ue){pr(f,f.return,ue)}try{rm(5,f,f.return)}catch(ue){pr(f,f.return,ue)}}break;case 1:Gs(m,f),Ba(f),512&T&&S!==null&&pd(S,S.return);break;case 5:if(Gs(m,f),Ba(f),512&T&&S!==null&&pd(S,S.return),Se){if(32&f.flags){var C=f.stateNode;try{td(C)}catch(ue){pr(f,f.return,ue)}}if(4&T&&(C=f.stateNode)!=null){var N=f.memoizedProps;if(S=S!==null?S.memoizedProps:N,T=f.type,m=f.updateQueue,f.updateQueue=null,m!==null)try{st(C,m,T,S,N,f)}catch(ue){pr(f,f.return,ue)}}}break;case 6:if(Gs(m,f),Ba(f),4&T&&Se){if(f.stateNode===null)throw Error(s(162));C=f.stateNode,N=f.memoizedProps,S=S!==null?S.memoizedProps:N;try{gi(C,S,N)}catch(ue){pr(f,f.return,ue)}}break;case 3:if(Gs(m,f),Ba(f),4&T){if(Se&&ze&&S!==null&&S.memoizedState.isDehydrated)try{Up(m.containerInfo)}catch(ue){pr(f,f.return,ue)}if(We){C=m.containerInfo,N=m.pendingChildren;try{He(C,N)}catch(ue){pr(f,f.return,ue)}}}break;case 4:if(Gs(m,f),Ba(f),4&T&&We){C=(N=f.stateNode).containerInfo,N=N.pendingChildren;try{He(C,N)}catch(ue){pr(f,f.return,ue)}}break;case 13:Gs(m,f),Ba(f),8192&(C=f.child).flags&&(N=C.memoizedState!==null,C.stateNode.isHidden=N,!N||C.alternate!==null&&C.alternate.memoizedState!==null||(sS=ni())),4&T&&BM(f);break;case 22:var V=S!==null&&S.memoizedState!==null;if(1&f.mode?(ki=(S=ki)||V,Gs(m,f),ki=S):Gs(m,f),Ba(f),8192&T){if(S=f.memoizedState!==null,(f.stateNode.isHidden=S)&&!V&&(1&f.mode)!=0)for(Le=f,T=f.child;T!==null;){for(m=Le=T;Le!==null;){var q=(V=Le).child;switch(V.tag){case 0:case 11:case 14:case 15:rm(4,V,V.return);break;case 1:pd(V,V.return);var te=V.stateNode;if(typeof te.componentWillUnmount=="function"){var ae=V,he=V.return;try{var Te=ae;te.props=Te.memoizedProps,te.state=Te.memoizedState,te.componentWillUnmount()}catch(ue){pr(ae,he,ue)}}break;case 5:pd(V,V.return);break;case 22:if(V.memoizedState!==null){zM(m);continue}}q!==null?(q.return=V,Le=q):zM(m)}T=T.sibling}if(Se){e:if(T=null,Se)for(m=f;;){if(m.tag===5){if(T===null){T=m;try{C=m.stateNode,S?r2(C):i2(m.stateNode,m.memoizedProps)}catch(ue){pr(f,f.return,ue)}}}else if(m.tag===6){if(T===null)try{N=m.stateNode,S?D1(N):F1(N,m.memoizedProps)}catch(ue){pr(f,f.return,ue)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===f)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===f)break e;for(;m.sibling===null;){if(m.return===null||m.return===f)break e;T===m&&(T=null),m=m.return}T===m&&(T=null),m.sibling.return=m.return,m=m.sibling}}}break;case 19:Gs(m,f),Ba(f),4&T&&BM(f);break;case 21:break;default:Gs(m,f),Ba(f)}}function Ba(f){var m=f.flags;if(2&m){try{if(Se){e:{for(var S=f.return;S!==null;){if(DM(S)){var T=S;break e}S=S.return}throw Error(s(160))}switch(T.tag){case 5:var C=T.stateNode;32&T.flags&&(td(C),T.flags&=-33),Q2(f,FM(f),C);break;case 3:case 4:var N=T.stateNode.containerInfo;K2(f,FM(f),N);break;default:throw Error(s(161))}}}catch(V){pr(f,f.return,V)}f.flags&=-3}4096&m&&(f.flags&=-4097)}function SV(f,m,S){Le=f,UM(f)}function UM(f,m,S){for(var T=(1&f.mode)!=0;Le!==null;){var C=Le,N=C.child;if(C.tag===22&&T){var V=C.memoizedState!==null||lv;if(!V){var q=C.alternate,te=q!==null&&q.memoizedState!==null||ki;q=lv;var ae=ki;if(lv=V,(ki=te)&&!ae)for(Le=C;Le!==null;)te=(V=Le).child,V.tag===22&&V.memoizedState!==null?HM(C):te!==null?(te.return=V,Le=te):HM(C);for(;N!==null;)Le=N,UM(N),N=N.sibling;Le=C,lv=q,ki=ae}$M(f)}else 8772&C.subtreeFlags&&N!==null?(N.return=C,Le=N):$M(f)}}function $M(f){for(;Le!==null;){var m=Le;if(8772&m.flags){var S=m.alternate;try{if(8772&m.flags)switch(m.tag){case 0:case 11:case 15:ki||uv(5,m);break;case 1:var T=m.stateNode;if(4&m.flags&&!ki)if(S===null)T.componentDidMount();else{var C=m.elementType===m.type?S.memoizedProps:Hs(m.type,S.memoizedProps);T.componentDidUpdate(C,S.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var N=m.updateQueue;N!==null&&jP(m,N,T);break;case 3:var V=m.updateQueue;if(V!==null){if(S=null,m.child!==null)switch(m.child.tag){case 5:S=$(m.child.stateNode);break;case 1:S=m.child.stateNode}jP(m,V,S)}break;case 5:var q=m.stateNode;S===null&&4&m.flags&&St(q,m.type,m.memoizedProps,m);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(ze&&m.memoizedState===null){var te=m.alternate;if(te!==null){var ae=te.memoizedState;if(ae!==null){var he=ae.dehydrated;he!==null&&$p(he)}}}break;default:throw Error(s(163))}ki||512&m.flags&&q2(m)}catch(Te){pr(m,m.return,Te)}}if(m===f){Le=null;break}if((S=m.sibling)!==null){S.return=m.return,Le=S;break}Le=m.return}}function zM(f){for(;Le!==null;){var m=Le;if(m===f){Le=null;break}var S=m.sibling;if(S!==null){S.return=m.return,Le=S;break}Le=m.return}}function HM(f){for(;Le!==null;){var m=Le;try{switch(m.tag){case 0:case 11:case 15:var S=m.return;try{uv(4,m)}catch(te){pr(m,S,te)}break;case 1:var T=m.stateNode;if(typeof T.componentDidMount=="function"){var C=m.return;try{T.componentDidMount()}catch(te){pr(m,C,te)}}var N=m.return;try{q2(m)}catch(te){pr(m,N,te)}break;case 5:var V=m.return;try{q2(m)}catch(te){pr(m,V,te)}}}catch(te){pr(m,m.return,te)}if(m===f){Le=null;break}var q=m.sibling;if(q!==null){q.return=m.return,Le=q;break}Le=m.return}}var cv=0,hv=1,dv=2,fv=3,pv=4;if(typeof Symbol=="function"&&Symbol.for){var im=Symbol.for;cv=im("selector.component"),hv=im("selector.has_pseudo_class"),dv=im("selector.role"),fv=im("selector.test_id"),pv=im("selector.text")}function J2(f){var m=Dt(f);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(s(364));return m}if((f=ne(f))===null)throw Error(s(362));return f.stateNode.current}function eS(f,m){switch(m.$$typeof){case cv:if(f.type===m.value)return!0;break;case hv:e:{m=m.value,f=[f,0];for(var S=0;S<f.length;){var T=f[S++],C=f[S++],N=m[C];if(T.tag!==5||!ce(T)){for(;N!=null&&eS(T,N);)N=m[++C];if(C===m.length){m=!0;break e}for(T=T.child;T!==null;)f.push(T,C),T=T.sibling}}m=!1}return m;case dv:if(f.tag===5&&pe(f.stateNode,m.value))return!0;break;case pv:if((f.tag===5||f.tag===6)&&(f=ve(f))!==null&&0<=f.indexOf(m.value))return!0;break;case fv:if(f.tag===5&&typeof(f=f.memoizedProps["data-testname"])=="string"&&f.toLowerCase()===m.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function tS(f){switch(f.$$typeof){case cv:return"<"+(I(f.value)||"Unknown")+">";case hv:return":has("+(tS(f)||"")+")";case dv:return'[role="'+f.value+'"]';case pv:return'"'+f.value+'"';case fv:return'[data-testname="'+f.value+'"]';default:throw Error(s(365))}}function GM(f,m){var S=[];f=[f,0];for(var T=0;T<f.length;){var C=f[T++],N=f[T++],V=m[N];if(C.tag!==5||!ce(C)){for(;V!=null&&eS(C,V);)V=m[++N];if(N===m.length)S.push(C);else for(C=C.child;C!==null;)f.push(C,N),C=C.sibling}}return S}function rS(f,m){if(!ee)throw Error(s(363));f=GM(f=J2(f),m),m=[],f=Array.from(f);for(var S=0;S<f.length;){var T=f[S++];if(T.tag===5)ce(T)||m.push(T.stateNode);else for(T=T.child;T!==null;)f.push(T),T=T.sibling}return m}var EV=Math.ceil,mv=a.ReactCurrentDispatcher,iS=a.ReactCurrentOwner,Lr=a.ReactCurrentBatchConfig,kt=0,oi=null,Ur=null,yi=0,Rn=0,md=Ml(0),Vr=0,nm=null,bc=0,gv=0,nS=0,sm=null,In=null,sS=0,aS=1/0,Ll=null;function gd(){aS=ni()+500}var VM,vv=!1,oS=null,Dl=null,yv=!1,Fl=null,xv=0,am=0,lS=null,bv=-1,_v=0;function Ni(){return 6&kt?ni():bv!==-1?bv:bv=ni()}function Bl(f){return 1&f.mode?2&kt&&yi!==0?yi&-yi:uV.transition!==null?(_v===0&&(_v=TP()),_v):(f=Ut)!==0?f:Ar():1}function as(f,m,S,T){if(50<am)throw am=0,lS=null,Error(s(185));Gp(f,S,T),2&kt&&f===oi||(f===oi&&(!(2&kt)&&(gv|=S),Vr===4&&jl(f,yi)),on(f,T),S===1&&kt===0&&!(1&m.mode)&&(gd(),$1&&Pa()))}function on(f,m){var S=f.callbackNode;(function(C,N){for(var V=C.suspendedLanes,q=C.pingedLanes,te=C.expirationTimes,ae=C.pendingLanes;0<ae;){var he=31-Us(ae),Te=1<<he,ue=te[he];ue===-1?Te&V&&!(Te&q)||(te[he]=nV(Te,N)):ue<=N&&(C.expiredLanes|=Te),ae&=~Te}})(f,m);var T=j1(f,f===oi?yi:0);if(T===0)S!==null&&CP(S),f.callbackNode=null,f.callbackPriority=0;else if(m=T&-T,f.callbackPriority!==m){if(S!=null&&CP(S),m===1)f.tag===0?function(C){$1=!0,IP(C)}(XM.bind(null,f)):IP(XM.bind(null,f)),it?X(function(){!(6&kt)&&Pa()}):f2(p2,Pa),S=null;else{switch(AP(T)){case 1:S=p2;break;case 4:S=oV;break;case 16:default:S=RP;break;case 536870912:S=lV}S=tk(S,WM.bind(null,f))}f.callbackPriority=m,f.callbackNode=S}}function WM(f,m){if(bv=-1,_v=0,(6&kt)!=0)throw Error(s(327));var S=f.callbackNode;if(wc()&&f.callbackNode!==S)return null;var T=j1(f,f===oi?yi:0);if(T===0)return null;if(30&T||T&f.expiredLanes||m)m=wv(f,T);else{m=T;var C=kt;kt|=2;var N=KM();for(oi===f&&yi===m||(Ll=null,gd(),_c(f,m));;)try{AV();break}catch(q){qM(f,q)}w2(),mv.current=N,kt=C,Ur!==null?m=0:(oi=null,yi=0,m=Vr)}if(m!==0){if(m===2&&(C=c2(f))!==0&&(T=C,m=uS(f,C)),m===1)throw S=nm,_c(f,0),jl(f,T),on(f,ni()),S;if(m===6)jl(f,T);else{if(C=f.current.alternate,(30&T)==0&&!function(q){for(var te=q;;){if(16384&te.flags){var ae=te.updateQueue;if(ae!==null&&(ae=ae.stores)!==null)for(var he=0;he<ae.length;he++){var Te=ae[he],ue=Te.getSnapshot;Te=Te.value;try{if(!$s(ue(),Te))return!1}catch{return!1}}}if(ae=te.child,16384&te.subtreeFlags&&ae!==null)ae.return=te,te=ae;else{if(te===q)break;for(;te.sibling===null;){if(te.return===null||te.return===q)return!0;te=te.return}te.sibling.return=te.return,te=te.sibling}}return!0}(C)&&((m=wv(f,T))===2&&(N=c2(f))!==0&&(T=N,m=uS(f,N)),m===1))throw S=nm,_c(f,0),jl(f,T),on(f,ni()),S;switch(f.finishedWork=C,f.finishedLanes=T,m){case 0:case 1:throw Error(s(345));case 2:case 5:vd(f,In,Ll);break;case 3:if(jl(f,T),(130023424&T)===T&&10<(m=sS+500-ni())){if(j1(f,0)!==0)break;if(((C=f.suspendedLanes)&T)!==T){Ni(),f.pingedLanes|=f.suspendedLanes&C;break}f.timeoutHandle=we(vd.bind(null,f,In,Ll),m);break}vd(f,In,Ll);break;case 4:if(jl(f,T),(4194240&T)===T)break;for(m=f.eventTimes,C=-1;0<T;){var V=31-Us(T);N=1<<V,(V=m[V])>C&&(C=V),T&=~N}if(T=C,10<(T=(120>(T=ni()-T)?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*EV(T/1960))-T)){f.timeoutHandle=we(vd.bind(null,f,In,Ll),T);break}vd(f,In,Ll);break;default:throw Error(s(329))}}}return on(f,ni()),f.callbackNode===S?WM.bind(null,f):null}function uS(f,m){var S=sm;return f.current.memoizedState.isDehydrated&&(_c(f,m).flags|=256),(f=wv(f,m))!==2&&(m=In,In=S,m!==null&&cS(m)),f}function cS(f){In===null?In=f:In.push.apply(In,f)}function jl(f,m){for(m&=~nS,m&=~gv,f.suspendedLanes|=m,f.pingedLanes&=~m,f=f.expirationTimes;0<m;){var S=31-Us(m),T=1<<S;f[S]=-1,m&=~T}}function XM(f){if(6&kt)throw Error(s(327));wc();var m=j1(f,0);if(!(1&m))return on(f,ni()),null;var S=wv(f,m);if(f.tag!==0&&S===2){var T=c2(f);T!==0&&(m=T,S=uS(f,T))}if(S===1)throw S=nm,_c(f,0),jl(f,m),on(f,ni()),S;if(S===6)throw Error(s(345));return f.finishedWork=f.current.alternate,f.finishedLanes=m,vd(f,In,Ll),on(f,ni()),null}function YM(f){Fl!==null&&Fl.tag===0&&!(6&kt)&&wc();var m=kt;kt|=1;var S=Lr.transition,T=Ut;try{if(Lr.transition=null,Ut=1,f)return f()}finally{Ut=T,Lr.transition=S,!(6&(kt=m))&&Pa()}}function hS(){Rn=md.current,dr(md)}function _c(f,m){f.finishedWork=null,f.finishedLanes=0;var S=f.timeoutHandle;if(S!==Ze&&(f.timeoutHandle=Ze,$e(S)),Ur!==null)for(S=Ur.return;S!==null;){var T=S;switch(v2(T),T.tag){case 1:(T=T.type.childContextTypes)!=null&&o2();break;case 3:dd(),dr(nn),dr(Pi),k2();break;case 5:P2(T);break;case 4:dd();break;case 13:case 19:dr(Cr);break;case 10:S2(T.type._context);break;case 22:case 23:hS()}S=S.return}if(oi=f,Ur=f=Ul(f.current,null),yi=Rn=m,Vr=0,nm=null,nS=gv=bc=0,In=sm=null,yc!==null){for(m=0;m<yc.length;m++)if((T=(S=yc[m]).interleaved)!==null){S.interleaved=null;var C=T.next,N=S.pending;if(N!==null){var V=N.next;N.next=C,T.next=V}S.pending=T}yc=null}return f}function qM(f,m){for(;;){var S=Ur;try{if(w2(),J1.current=iv,ev){for(var T=vr.memoizedState;T!==null;){var C=T.queue;C!==null&&(C.pending=null),T=T.next}ev=!1}if(xc=0,ai=si=vr=null,qp=!1,Kp=0,iS.current=null,S===null||S.return===null){Vr=1,nm=m,Ur=null;break}e:{var N=f,V=S.return,q=S,te=m;if(m=yi,q.flags|=32768,te!==null&&typeof te=="object"&&typeof te.then=="function"){var ae=te,he=q,Te=he.tag;if(!(1&he.mode)&&(Te===0||Te===11||Te===15)){var ue=he.alternate;ue?(he.updateQueue=ue.updateQueue,he.memoizedState=ue.memoizedState,he.lanes=ue.lanes):(he.updateQueue=null,he.memoizedState=null)}var xe=yM(V);if(xe!==null){xe.flags&=-257,xM(xe,V,q,0,m),1&xe.mode&&vM(N,ae,m),te=ae;var Xe=(m=xe).updateQueue;if(Xe===null){var wt=new Set;wt.add(te),m.updateQueue=wt}else Xe.add(te);break e}if(!(1&m)){vM(N,ae,m),dS();break e}te=Error(s(426))}else if(fr&&1&q.mode){var de=yM(V);if(de!==null){!(65536&de.flags)&&(de.flags|=256),xM(de,V,q,0,m),b2(fd(te,q));break e}}N=te=fd(te,q),Vr!==4&&(Vr=2),sm===null?sm=[N]:sm.push(N),N=V;do{switch(N.tag){case 3:N.flags|=65536,m&=-m,N.lanes|=m,BP(N,mM(0,te,m));break e;case 1:q=te;var J=N.type,se=N.stateNode;if(!(128&N.flags)&&(typeof J.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(Dl===null||!Dl.has(se)))){N.flags|=65536,m&=-m,N.lanes|=m,BP(N,gM(N,q,m));break e}}N=N.return}while(N!==null)}ZM(S)}catch(me){m=me,Ur===S&&S!==null&&(Ur=S=S.return);continue}break}}function KM(){var f=mv.current;return mv.current=iv,f===null?iv:f}function dS(){Vr!==0&&Vr!==3&&Vr!==2||(Vr=4),oi===null||!(268435455&bc)&&!(268435455&gv)||jl(oi,yi)}function wv(f,m){var S=kt;kt|=2;var T=KM();for(oi===f&&yi===m||(Ll=null,_c(f,m));;)try{TV();break}catch(C){qM(f,C)}if(w2(),kt=S,mv.current=T,Ur!==null)throw Error(s(261));return oi=null,yi=0,Vr}function TV(){for(;Ur!==null;)QM(Ur)}function AV(){for(;Ur!==null&&!sV();)QM(Ur)}function QM(f){var m=VM(f.alternate,f,Rn);f.memoizedProps=f.pendingProps,m===null?ZM(f):Ur=m,iS.current=null}function ZM(f){var m=f;do{var S=m.alternate;if(f=m.return,(32768&m.flags)==0){if((S=bV(S,m,Rn))!==null)return void(Ur=S)}else{if((S=_V(S,m))!==null)return S.flags&=32767,void(Ur=S);if(f===null)return Vr=6,void(Ur=null);f.flags|=32768,f.subtreeFlags=0,f.deletions=null}if((m=m.sibling)!==null)return void(Ur=m);Ur=m=f}while(m!==null);Vr===0&&(Vr=5)}function vd(f,m,S){var T=Ut,C=Lr.transition;try{Lr.transition=null,Ut=1,function(N,V,q,te){do wc();while(Fl!==null);if(6&kt)throw Error(s(327));q=N.finishedWork;var ae=N.finishedLanes;if(q===null)return null;if(N.finishedWork=null,N.finishedLanes=0,q===N.current)throw Error(s(177));N.callbackNode=null,N.callbackPriority=0;var he=q.lanes|q.childLanes;if(function(xe,Xe){var wt=xe.pendingLanes&~Xe;xe.pendingLanes=Xe,xe.suspendedLanes=0,xe.pingedLanes=0,xe.expiredLanes&=Xe,xe.mutableReadLanes&=Xe,xe.entangledLanes&=Xe,Xe=xe.entanglements;var de=xe.eventTimes;for(xe=xe.expirationTimes;0<wt;){var J=31-Us(wt),se=1<<J;Xe[J]=0,de[J]=-1,xe[J]=-1,wt&=~se}}(N,he),N===oi&&(Ur=oi=null,yi=0),!(2064&q.subtreeFlags)&&!(2064&q.flags)||yv||(yv=!0,tk(RP,function(){return wc(),null})),he=(15990&q.flags)!=0,(15990&q.subtreeFlags)!=0||he){he=Lr.transition,Lr.transition=null;var Te=Ut;Ut=1;var ue=kt;kt|=4,iS.current=null,function(xe,Xe){for(G(xe.containerInfo),Le=Xe;Le!==null;)if(Xe=(xe=Le).child,(1028&xe.subtreeFlags)!=0&&Xe!==null)Xe.return=xe,Le=Xe;else for(;Le!==null;){xe=Le;try{var wt=xe.alternate;if(1024&xe.flags)switch(xe.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(wt!==null){var de=wt.memoizedProps,J=wt.memoizedState,se=xe.stateNode,me=se.getSnapshotBeforeUpdate(xe.elementType===xe.type?de:Hs(xe.type,de),J);se.__reactInternalSnapshotBeforeUpdate=me}break;case 3:Se&&n2(xe.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(at){pr(xe,xe.return,at)}if((Xe=xe.sibling)!==null){Xe.return=xe.return,Le=Xe;break}Le=xe.return}wt=OM,OM=!1}(N,q),jM(q,N),H(N.containerInfo),N.current=q,SV(q),aV(),kt=ue,Ut=Te,Lr.transition=he}else N.current=q;if(yv&&(yv=!1,Fl=N,xv=ae),he=N.pendingLanes,he===0&&(Dl=null),function(xe){if(Ia&&typeof Ia.onCommitFiberRoot=="function")try{Ia.onCommitFiberRoot(U1,xe,void 0,(128&xe.current.flags)==128)}catch{}}(q.stateNode),on(N,ni()),V!==null)for(te=N.onRecoverableError,q=0;q<V.length;q++)ae=V[q],te(ae.value,{componentStack:ae.stack,digest:ae.digest});if(vv)throw vv=!1,N=oS,oS=null,N;1&xv&&N.tag!==0&&wc(),he=N.pendingLanes,1&he?N===lS?am++:(am=0,lS=N):am=0,Pa()}(f,m,S,T)}finally{Lr.transition=C,Ut=T}return null}function wc(){if(Fl!==null){var f=AP(xv),m=Lr.transition,S=Ut;try{if(Lr.transition=null,Ut=16>f?16:f,Fl===null)var T=!1;else{if(f=Fl,Fl=null,xv=0,(6&kt)!=0)throw Error(s(331));var C=kt;for(kt|=4,Le=f.current;Le!==null;){var N=Le,V=N.child;if(16&Le.flags){var q=N.deletions;if(q!==null){for(var te=0;te<q.length;te++){var ae=q[te];for(Le=ae;Le!==null;){var he=Le;switch(he.tag){case 0:case 11:case 15:rm(8,he,N)}var Te=he.child;if(Te!==null)Te.return=he,Le=Te;else for(;Le!==null;){var ue=(he=Le).sibling,xe=he.return;if(LM(he),he===ae){Le=null;break}if(ue!==null){ue.return=xe,Le=ue;break}Le=xe}}}var Xe=N.alternate;if(Xe!==null){var wt=Xe.child;if(wt!==null){Xe.child=null;do{var de=wt.sibling;wt.sibling=null,wt=de}while(wt!==null)}}Le=N}}if(2064&N.subtreeFlags&&V!==null)V.return=N,Le=V;else e:for(;Le!==null;){if(2048&(N=Le).flags)switch(N.tag){case 0:case 11:case 15:rm(9,N,N.return)}var J=N.sibling;if(J!==null){J.return=N.return,Le=J;break e}Le=N.return}}var se=f.current;for(Le=se;Le!==null;){var me=(V=Le).child;if(2064&V.subtreeFlags&&me!==null)me.return=V,Le=me;else e:for(V=se;Le!==null;){if(2048&(q=Le).flags)try{switch(q.tag){case 0:case 11:case 15:uv(9,q)}}catch(Vt){pr(q,q.return,Vt)}if(q===V){Le=null;break e}var at=q.sibling;if(at!==null){at.return=q.return,Le=at;break e}Le=q.return}}if(kt=C,Pa(),Ia&&typeof Ia.onPostCommitFiberRoot=="function")try{Ia.onPostCommitFiberRoot(U1,f)}catch{}T=!0}return T}finally{Ut=S,Lr.transition=m}}return!1}function JM(f,m,S){f=Ol(f,m=mM(0,m=fd(S,m),1),1),m=Ni(),f!==null&&(Gp(f,1,m),on(f,m))}function pr(f,m,S){if(f.tag===3)JM(f,f,S);else for(;m!==null;){if(m.tag===3){JM(m,f,S);break}if(m.tag===1){var T=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Dl===null||!Dl.has(T))){m=Ol(m,f=gM(m,f=fd(S,f),1),1),f=Ni(),m!==null&&(Gp(m,1,f),on(m,f));break}}m=m.return}}function CV(f,m,S){var T=f.pingCache;T!==null&&T.delete(m),m=Ni(),f.pingedLanes|=f.suspendedLanes&S,oi===f&&(yi&S)===S&&(Vr===4||Vr===3&&(130023424&yi)===yi&&500>ni()-sS?_c(f,0):nS|=S),on(f,m)}function ek(f,m){m===0&&(1&f.mode?(m=u2,!(130023424&(u2<<=1))&&(u2=4194304)):m=1);var S=Ni();(f=ka(f,m))!==null&&(Gp(f,m,S),on(f,S))}function RV(f){var m=f.memoizedState,S=0;m!==null&&(S=m.retryLane),ek(f,S)}function IV(f,m){var S=0;switch(f.tag){case 13:var T=f.stateNode,C=f.memoizedState;C!==null&&(S=C.retryLane);break;case 19:T=f.stateNode;break;default:throw Error(s(314))}T!==null&&T.delete(m),ek(f,S)}function tk(f,m){return f2(f,m)}function PV(f,m,S,T){this.tag=f,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function os(f,m,S,T){return new PV(f,m,S,T)}function fS(f){return!(!(f=f.prototype)||!f.isReactComponent)}function Ul(f,m){var S=f.alternate;return S===null?((S=os(f.tag,m,f.key,f.mode)).elementType=f.elementType,S.type=f.type,S.stateNode=f.stateNode,S.alternate=f,f.alternate=S):(S.pendingProps=m,S.type=f.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=14680064&f.flags,S.childLanes=f.childLanes,S.lanes=f.lanes,S.child=f.child,S.memoizedProps=f.memoizedProps,S.memoizedState=f.memoizedState,S.updateQueue=f.updateQueue,m=f.dependencies,S.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},S.sibling=f.sibling,S.index=f.index,S.ref=f.ref,S}function Sv(f,m,S,T,C,N){var V=2;if(T=f,typeof f=="function")fS(f)&&(V=1);else if(typeof f=="string")V=5;else e:switch(f){case u:return Sc(S.children,C,N,m);case c:V=8,C|=8;break;case d:return(f=os(12,S,m,2|C)).elementType=d,f.lanes=N,f;case y:return(f=os(13,S,m,C)).elementType=y,f.lanes=N,f;case b:return(f=os(19,S,m,C)).elementType=b,f.lanes=N,f;case _:return Ev(S,C,N,m);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case h:V=10;break e;case p:V=9;break e;case g:V=11;break e;case x:V=14;break e;case w:V=16,T=null;break e}throw Error(s(130,f==null?f:typeof f,""))}return(m=os(V,S,m,C)).elementType=f,m.type=T,m.lanes=N,m}function Sc(f,m,S,T){return(f=os(7,f,T,m)).lanes=S,f}function Ev(f,m,S,T){return(f=os(22,f,T,m)).elementType=_,f.lanes=S,f.stateNode={isHidden:!1},f}function pS(f,m,S){return(f=os(6,f,null,m)).lanes=S,f}function mS(f,m,S){return(m=os(4,f.children!==null?f.children:[],f.key,m)).lanes=S,m.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},m}function MV(f,m,S,T,C){this.tag=m,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ze,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=h2(0),this.expirationTimes=h2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=h2(0),this.identifierPrefix=T,this.onRecoverableError=C,ze&&(this.mutableSourceEagerHydrationData=null)}function rk(f,m,S,T,C,N,V,q,te){return f=new MV(f,m,S,q,te),m===1?(m=1,N===!0&&(m|=8)):m=0,N=os(3,null,null,m),f.current=N,N.stateNode=f,N.memoizedState={element:T,isDehydrated:S,cache:null,transitions:null,pendingSuspenseBoundaries:null},A2(N),f}function ik(f){if(!f)return kl;e:{if(M(f=f._reactInternals)!==f||f.tag!==1)throw Error(s(170));var m=f;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(An(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(s(171))}if(f.tag===1){var S=f.type;if(An(S))return SP(f,S,m)}return m}function nk(f){var m=f._reactInternals;if(m===void 0)throw typeof f.render=="function"?Error(s(188)):(f=Object.keys(f).join(","),Error(s(268,f)));return(f=j(m))===null?null:f.stateNode}function sk(f,m){if((f=f.memoizedState)!==null&&f.dehydrated!==null){var S=f.retryLane;f.retryLane=S!==0&&S<m?S:m}}function Tv(f,m){sk(f,m),(f=f.alternate)&&sk(f,m)}function kV(f){return(f=j(f))===null?null:f.stateNode}function NV(){return null}return VM=function(f,m,S){if(f!==null)if(f.memoizedProps!==m.pendingProps||nn.current)sn=!0;else{if(!(f.lanes&S)&&!(128&m.flags))return sn=!1,function(Te,ue,xe){switch(ue.tag){case 3:AM(ue),od();break;case 5:XP(ue);break;case 1:An(ue.type)&&B1(ue);break;case 4:I2(ue,ue.stateNode.containerInfo);break;case 10:LP(0,ue.type._context,ue.memoizedProps.value);break;case 13:var Xe=ue.memoizedState;if(Xe!==null)return Xe.dehydrated!==null?(rr(Cr,1&Cr.current),ue.flags|=128,null):xe&ue.child.childLanes?RM(Te,ue,xe):(rr(Cr,1&Cr.current),(Te=Mo(Te,ue,xe))!==null?Te.sibling:null);rr(Cr,1&Cr.current);break;case 19:if(Xe=(xe&ue.childLanes)!=0,(128&Te.flags)!=0){if(Xe)return PM(Te,ue,xe);ue.flags|=128}var wt=ue.memoizedState;if(wt!==null&&(wt.rendering=null,wt.tail=null,wt.lastEffect=null),rr(Cr,Cr.current),Xe)break;return null;case 22:case 23:return ue.lanes=0,SM(Te,ue,xe)}return Mo(Te,ue,xe)}(f,m,S);sn=(131072&f.flags)!=0}else sn=!1,fr&&1048576&m.flags&&PP(m,H1,m.index);switch(m.lanes=0,m.tag){case 2:var T=m.type;ov(f,m),f=m.pendingProps;var C=nd(m,Pi.current);ud(m,S),C=L2(null,m,T,f,C,S);var N=D2();return m.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,An(T)?(N=!0,B1(m)):N=!1,m.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,A2(m),C.updater=K1,m.stateNode=C,C._reactInternals=m,R2(m,T,f,S),m=G2(null,m,T,!0,N,S)):(m.tag=0,fr&&N&&g2(m),an(null,m,C,S),m=m.child),m;case 16:T=m.elementType;e:{switch(ov(f,m),f=m.pendingProps,T=(C=T._init)(T._payload),m.type=T,C=m.tag=function(Te){if(typeof Te=="function")return fS(Te)?1:0;if(Te!=null){if((Te=Te.$$typeof)===g)return 11;if(Te===x)return 14}return 2}(T),f=Hs(T,f),C){case 0:m=H2(null,m,T,f,S);break e;case 1:m=TM(null,m,T,f,S);break e;case 11:m=bM(null,m,T,f,S);break e;case 14:m=_M(null,m,T,Hs(T.type,f),S);break e}throw Error(s(306,T,""))}return m;case 0:return T=m.type,C=m.pendingProps,H2(f,m,T,C=m.elementType===T?C:Hs(T,C),S);case 1:return T=m.type,C=m.pendingProps,TM(f,m,T,C=m.elementType===T?C:Hs(T,C),S);case 3:e:{if(AM(m),f===null)throw Error(s(387));T=m.pendingProps,C=(N=m.memoizedState).element,FP(f,m),q1(m,T,null,S);var V=m.memoizedState;if(T=V.element,ze&&N.isDehydrated){if(N={element:T,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},m.updateQueue.baseState=N,m.memoizedState=N,256&m.flags){m=CM(f,m,T,S,C=fd(Error(s(423)),m));break e}if(T!==C){m=CM(f,m,T,S,C=fd(Error(s(424)),m));break e}for(ze&&(rs=Rl(m.stateNode.containerInfo),Cn=m,fr=!0,zs=null,Vp=!1),S=WP(m,null,T,S),m.child=S;S;)S.flags=-3&S.flags|4096,S=S.sibling}else{if(od(),T===C){m=Mo(f,m,S);break e}an(f,m,T,S)}m=m.child}return m;case 5:return XP(m),f===null&&x2(m),T=m.type,C=m.pendingProps,N=f!==null?f.memoizedProps:null,V=C.children,le(T,C)?V=null:N!==null&&le(T,N)&&(m.flags|=32),EM(f,m),an(f,m,V,S),m.child;case 6:return f===null&&x2(m),null;case 13:return RM(f,m,S);case 4:return I2(m,m.stateNode.containerInfo),T=m.pendingProps,f===null?m.child=cd(m,null,T,S):an(f,m,T,S),m.child;case 11:return T=m.type,C=m.pendingProps,bM(f,m,T,C=m.elementType===T?C:Hs(T,C),S);case 7:return an(f,m,m.pendingProps,S),m.child;case 8:case 12:return an(f,m,m.pendingProps.children,S),m.child;case 10:e:{if(T=m.type._context,C=m.pendingProps,N=m.memoizedProps,LP(0,T,V=C.value),N!==null)if($s(N.value,V)){if(N.children===C.children&&!nn.current){m=Mo(f,m,S);break e}}else for((N=m.child)!==null&&(N.return=m);N!==null;){var q=N.dependencies;if(q!==null){V=N.child;for(var te=q.firstContext;te!==null;){if(te.context===T){if(N.tag===1){(te=Po(-1,S&-S)).tag=2;var ae=N.updateQueue;if(ae!==null){var he=(ae=ae.shared).pending;he===null?te.next=te:(te.next=he.next,he.next=te),ae.pending=te}}N.lanes|=S,(te=N.alternate)!==null&&(te.lanes|=S),E2(N.return,S,m),q.lanes|=S;break}te=te.next}}else if(N.tag===10)V=N.type===m.type?null:N.child;else if(N.tag===18){if((V=N.return)===null)throw Error(s(341));V.lanes|=S,(q=V.alternate)!==null&&(q.lanes|=S),E2(V,S,m),V=N.sibling}else V=N.child;if(V!==null)V.return=N;else for(V=N;V!==null;){if(V===m){V=null;break}if((N=V.sibling)!==null){N.return=V.return,V=N;break}V=V.return}N=V}an(f,m,C.children,S),m=m.child}return m;case 9:return C=m.type,T=m.pendingProps.children,ud(m,S),T=T(C=is(C)),m.flags|=1,an(f,m,T,S),m.child;case 14:return C=Hs(T=m.type,m.pendingProps),_M(f,m,T,C=Hs(T.type,C),S);case 15:return wM(f,m,m.type,m.pendingProps,S);case 17:return T=m.type,C=m.pendingProps,C=m.elementType===T?C:Hs(T,C),ov(f,m),m.tag=1,An(T)?(f=!0,B1(m)):f=!1,ud(m,S),zP(m,T,C),R2(m,T,C,S),G2(null,m,T,!0,f,S);case 19:return PM(f,m,S);case 22:return SM(f,m,S)}throw Error(s(156,m.tag))},e.attemptContinuousHydration=function(f){if(f.tag===13){var m=ka(f,134217728);m!==null&&as(m,f,134217728,Ni()),Tv(f,134217728)}},e.attemptDiscreteHydration=function(f){if(f.tag===13){var m=ka(f,1);m!==null&&as(m,f,1,Ni()),Tv(f,1)}},e.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var m=Bl(f),S=ka(f,m);S!==null&&as(S,f,m,Ni()),Tv(f,m)}},e.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var m=f.stateNode;if(m.current.memoizedState.isDehydrated){var S=Hp(m.pendingLanes);S!==0&&(d2(m,1|S),on(m,ni()),!(6&kt)&&(gd(),Pa()))}break;case 13:YM(function(){var T=ka(f,1);if(T!==null){var C=Ni();as(T,f,1,C)}}),Tv(f,1)}},e.batchedUpdates=function(f,m){var S=kt;kt|=1;try{return f(m)}finally{(kt=S)===0&&(gd(),$1&&Pa())}},e.createComponentSelector=function(f){return{$$typeof:cv,value:f}},e.createContainer=function(f,m,S,T,C,N,V){return rk(f,m,!1,null,0,T,0,N,V)},e.createHasPseudoClassSelector=function(f){return{$$typeof:hv,value:f}},e.createHydrationContainer=function(f,m,S,T,C,N,V,q,te){return(f=rk(S,T,!0,f,0,N,0,q,te)).context=ik(null),S=f.current,(N=Po(T=Ni(),C=Bl(S))).callback=m??null,Ol(S,N,C),f.current.lanes=C,Gp(f,C,T),on(f,T),f},e.createPortal=function(f,m,S){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:T==null?null:""+T,children:f,containerInfo:m,implementation:S}},e.createRoleSelector=function(f){return{$$typeof:dv,value:f}},e.createTestNameSelector=function(f){return{$$typeof:fv,value:f}},e.createTextSelector=function(f){return{$$typeof:pv,value:f}},e.deferredUpdates=function(f){var m=Ut,S=Lr.transition;try{return Lr.transition=null,Ut=16,f()}finally{Ut=m,Lr.transition=S}},e.discreteUpdates=function(f,m,S,T,C){var N=Ut,V=Lr.transition;try{return Lr.transition=null,Ut=1,f(m,S,T,C)}finally{Ut=N,Lr.transition=V,kt===0&&gd()}},e.findAllNodes=rS,e.findBoundingRects=function(f,m){if(!ee)throw Error(s(363));m=rS(f,m),f=[];for(var S=0;S<m.length;S++)f.push(_e(m[S]));for(m=f.length-1;0<m;m--)for(var T=(S=f[m]).x,C=T+S.width,N=S.y,V=N+S.height,q=m-1;0<=q;q--)if(m!==q){var te=f[q],ae=te.x,he=ae+te.width,Te=te.y,ue=Te+te.height;if(T>=ae&&N>=Te&&C<=he&&V<=ue){f.splice(m,1);break}if(!(T!==ae||S.width!==te.width||ue<N||Te>V)){Te>N&&(te.height+=Te-N,te.y=N),ue<V&&(te.height=V-Te),f.splice(m,1);break}if(!(N!==Te||S.height!==te.height||he<T||ae>C)){ae>T&&(te.width+=ae-T,te.x=T),he<C&&(te.width=C-ae),f.splice(m,1);break}}return f},e.findHostInstance=nk,e.findHostInstanceWithNoPortals=function(f){return(f=(f=U(f))!==null?L(f):null)===null?null:f.stateNode},e.findHostInstanceWithWarning=function(f){return nk(f)},e.flushControlled=function(f){var m=kt;kt|=1;var S=Lr.transition,T=Ut;try{Lr.transition=null,Ut=1,f()}finally{Ut=T,Lr.transition=S,(kt=m)===0&&(gd(),Pa())}},e.flushPassiveEffects=wc,e.flushSync=YM,e.focusWithin=function(f,m){if(!ee)throw Error(s(363));for(m=GM(f=J2(f),m),m=Array.from(m),f=0;f<m.length;){var S=m[f++];if(!ce(S)){if(S.tag===5&&je(S.stateNode))return!0;for(S=S.child;S!==null;)m.push(S),S=S.sibling}}return!1},e.getCurrentUpdatePriority=function(){return Ut},e.getFindAllNodesFailureDescription=function(f,m){if(!ee)throw Error(s(363));var S=0,T=[];f=[J2(f),0];for(var C=0;C<f.length;){var N=f[C++],V=f[C++],q=m[V];if((N.tag!==5||!ce(N))&&(eS(N,q)&&(T.push(tS(q)),++V>S&&(S=V)),V<m.length))for(N=N.child;N!==null;)f.push(N,V),N=N.sibling}if(S<m.length){for(f=[];S<m.length;S++)f.push(tS(m[S]));return`findAllNodes was able to match part of the selector:
  `+T.join(" > ")+`

No matching component was found for:
  `+f.join(" > ")}return null},e.getPublicRootInstance=function(f){return(f=f.current).child?f.child.tag===5?$(f.child.stateNode):f.child.stateNode:null},e.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:kV,findFiberByHostInstance:f.findFiberByHostInstance||NV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)f=!0;else{try{U1=m.inject(f),Ia=m}catch{}f=!!m.checkDCE}}return f},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(f,m,S,T){if(!ee)throw Error(s(363));f=rS(f,m);var C=Me(f,S,T).disconnect;return{disconnect:function(){C()}}},e.registerMutableSourceForHydration=function(f,m){var S=m._getVersion;S=S(m._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[m,S]:f.mutableSourceEagerHydrationData.push(m,S)},e.runWithPriority=function(f,m){var S=Ut;try{return Ut=f,m()}finally{Ut=S}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(f,m,S,T){var C=m.current,N=Ni(),V=Bl(C);return S=ik(S),m.context===null?m.context=S:m.pendingContext=S,(m=Po(N,V)).payload={element:f},(T=T===void 0?null:T)!==null&&(m.callback=T),(f=Ol(C,m,V))!==null&&(as(f,C,V,N),Y1(f,C,V)),V},e}),lD}({get exports(){return M3},set exports(t){M3=t}}).exports=ime();var nme=Ppe(M3),yz={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},N3={},Py={get exports(){return N3},set exports(t){N3=t}};(function(){var t,e,r,i,n,s;typeof performance<"u"&&performance!==null&&performance.now?Py.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Py.exports=function(){return(t()-n)/1e6},e=process.hrtime,i=(t=function(){var a;return 1e9*(a=e())[0]+a[1]})(),s=1e9*process.uptime(),n=i-s):Date.now?(Py.exports=function(){return Date.now()-r},r=Date.now()):(Py.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(Ipe);var hD,lf={},Ac={};({get exports(){return lf},set exports(t){lf=t}}).exports=(hD||(hD=1,Ac.ConcurrentRoot=1,Ac.ContinuousEventPriority=4,Ac.DefaultEventPriority=16,Ac.DiscreteEventPriority=1,Ac.IdleEventPriority=536870912,Ac.LegacyRoot=0),Ac);var sme={};function uT(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function xz(t,e){var r,i,n;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((i=t.config)===null||i===void 0?void 0:i.destroyChildren)!==!1&&(n=t.children)!==null&&n!==void 0&&n.length&&yl(t.children).forEach(function(s){xz(s,t)})}function dD(t,e){var r;xz(e,t),t.removeChild(e);var i=(r=e.config)!==null&&r!==void 0?r:{},n=i.destroy,s=n===void 0||n,a=i.destroyChildren,o=a===void 0||a,l=i.destroyTexture,u=l!==void 0&&l,c=i.destroyBaseTexture,d=c!==void 0&&c;s&&e.destroy({children:o,texture:u,baseTexture:d})}function fD(t,e,r){kr(e!==r,"pixi-react: PixiFiber cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var i=t.getChildIndex(r);t.addChildAt(e,i)}var pD=null,da=nme({getRootHostContext:function(){return sme},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return lf.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return lf.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return lf.ContinuousEventPriority;default:return lf.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=Jpe[t];if(typeof s=="function"&&(e=s(n,i)),!e){var a=vz[t];a&&((e=a.create(i,{root:n})).didMount=a.didMount?a.didMount.bind(e):void 0,e.willUnmount=a.willUnmount?a.willUnmount.bind(e):void 0,e.applyProps=a.applyProps?a.applyProps.bind(e):void 0,e.config=a.config)}return e&&(e.__reactpixi={root:n},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:So)(e,{},i)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,i,n,s){return pD=function(a,o,l,u){var c=null;for(var d in l)!u.hasOwnProperty(d)&&l.hasOwnProperty(d)&&l[d]!==null&&(d===I3||(c||(c=[]),c.push(d,null)));for(var h in u){var p=u[h],g=l!==null?l[h]:void 0;!u.hasOwnProperty(h)||p===g||p===null&&g===null||h===I3||(c||(c=[]),c.push(h,p))}return c}(0,0,r,i)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,i=e.renderable===void 0||e.renderable===!0,n=e.visible===void 0||e.visible===!0;return!(r&&i&&n)},createTextInstance:function(t,e,r){kr(!1,'pixi-react: Error trying to add text node "'.concat(t,'"'),"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:N3,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];var s=uT.apply(null,i);return(t=i[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];var s=uT.apply(null,i);return(t=i[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];var s=uT.apply(null,i);return(t=i[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];var s=dD.apply(null,i);return(t=i[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];var s=dD.apply(null,i);return(t=i[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:fD,insertInContainerBefore:function(){for(var t,e,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];var s=fD.apply(null,i);return(t=i[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,i,n){var s,a,o=t&&t.applyProps;typeof o!="function"&&(o=So),(o(t,i,n)||pD)&&((s=t.__reactpixi)===null||s===void 0||(a=s.root)===null||a===void 0||a.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,i,n){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),ame=yz.dependencies["react-dom"].replace(/[^0-9.]/g,""),ome=yz.name;da.injectIntoDevTools({bundleType:0,version:ame,rendererPackageName:ome,findHostInstanceByFiber:da.findHostInstance});var Hu=new Map;function bz(t){if(kr(Yn.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`."),Hu.has(t)){var e=Hu.get(t).pixiFiberContainer;da.updateContainer(null,e,void 0,function(){Hu.delete(t)})}}function _z(t){kr(Yn.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`.");var e=Hu.get(t);if(kr(!e,"Pixi React: createRoot should only be called once"),!e){var r=da.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(i){return da.updateContainer(i,r,void 0),da.getPublicRootInstance(r)},unmount:function(){bz(t),Hu.delete(t)}}},Hu.set(t,e)}return e.reactRoot}function lme(t,e,r){var i;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),Hu.has(e)?i=Hu.get(e).reactRoot:i=_z(e),i.render(t)}function ume(t){bz(t)}function F0(){return F0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},F0.apply(this,arguments)}function cme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hme(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,pz(i.key),i)}}function Uo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f_(t,e){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},f_(t,e)}function dme(t,e){if(e&&(Vn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uo(t)}function p_(t){return p_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p_(t)}var Lw=tt.createContext(null),wz=Lw.Provider,Sz=Lw.Consumer,fme=function(t){var e=tt.forwardRef(function(r,i){return tt.createElement(Sz,null,function(n){return tt.createElement(t,F0({},r,{ref:i,app:n}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function pme(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=p_(t);if(e){var n=p_(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return dme(this,r)}}function mD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function My(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(r),!0).forEach(function(i){Fr(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mD(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}var gD=function(){},Ez={width:or.number,height:or.number,onMount:or.func,onUnmount:or.func,raf:or.bool,renderOnComponentChange:or.bool,children:or.node,options:or.shape({autoStart:or.bool,width:or.number,height:or.number,useContextAlpha:or.bool,backgroundAlpha:or.number,autoDensity:or.bool,antialias:or.bool,preserveDrawingBuffer:or.bool,resolution:or.number,forceCanvas:or.bool,backgroundColor:or.number,clearBeforeRender:or.bool,powerPreference:or.string,sharedTicker:or.bool,sharedLoader:or.bool,resizeTo:function(t,e){var r=t[e];r&&kr(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Vn(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var i=t[e];i&&kr(i instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Vn(i),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},mme={width:800,height:600,onMount:gD,onUnmount:gD,raf:!0,renderOnComponentChange:!0},O3=function(t){(function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&f_(s,a)})(n,tt.Component);var e,r,i=pme(n);function n(){var s;cme(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return Fr(Uo(s=i.call.apply(i,[this].concat(o))),"_canvas",null),Fr(Uo(s),"_mediaQuery",null),Fr(Uo(s),"_ticker",null),Fr(Uo(s),"_needsUpdate",!0),Fr(Uo(s),"app",null),Fr(Uo(s),"updateSize",function(){var u=s.props,c=u.width,d=u.height,h=u.options;h!=null&&h.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(c,d)}),Fr(Uo(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),Fr(Uo(s),"renderStage",function(){var u=s.props,c=u.renderOnComponentChange;!u.raf&&c&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=n,(r=[{key:"componentDidMount",value:function(){var s=this.props,a=s.onMount,o=s.width,l=s.height,u=s.options,c=s.raf,d=s.renderOnComponentChange;this.app=new Ow(My(My({width:o,height:l,view:this._canvas},u),{},{autoDensity:(u==null?void 0:u.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[c?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=da.createContainer(this.app.stage),da.updateContainer(this.getChildren(),this.mountNode,this),a(this.app),u!=null&&u.autoDensity&&window.matchMedia&&(u==null?void 0:u.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),d&&!c&&(this._ticker=new qi,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,a,o){var l,u=this.props,c=u.width,d=u.height,h=u.raf,p=u.renderOnComponentChange,g=u.options;(g==null?void 0:g.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(g==null?void 0:g.resolution)&&(this.app.renderer.resolution=g.resolution,this.resetInteractionManager()),s.height===d&&s.width===c&&((l=s.options)===null||l===void 0?void 0:l.resolution)===(g==null?void 0:g.resolution)||this.updateSize(),s.raf!==h&&this.app.ticker[h?"start":"stop"](),da.updateContainer(this.getChildren(),this.mountNode,this),s.width===c&&s.height===d&&s.raf===h&&s.renderOnComponentChange===p&&s.options===g||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return tt.createElement(wz,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,a){console.error("Error occurred in `Stage`."),console.error(s),console.error(a)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),da.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,a,o=this,l=this.props.options;return l&&l.view?(kr(l.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):tt.createElement("canvas",F0({},(s=this.props,a=[].concat(yl(Object.keys(Ez)),yl(Object.keys(P3))),Object.keys(s).filter(function(u){return!a.includes(u)}).reduce(function(u,c){return My(My({},u),{},Fr({},c,s[c]))},{})),{ref:function(u){return o._canvas=u}}))}}])&&hme(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),n}();O3.propTypes=Ez,O3.defaultProps=mme;var gme=O3;function Tz(){var t=R.useContext(Lw);return kr(t instanceof Ow,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),t}function vme(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=Tz();kr(typeof t=="function","`useTick` needs a callback function."),kr(r instanceof Ow,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var i=R.useRef(null);R.useEffect(function(){i.current=t},[t]),R.useEffect(function(){if(e){var n=function(s){return i.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(n),function(){r.ticker&&r.ticker.remove(n)}}},[e])}function yme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function L3(t,e,r){return L3=yme()?Reflect.construct.bind():function(i,n,s){var a=[null];a.push.apply(a,n);var o=new(Function.bind.apply(i,a));return s&&f_(o,s.prototype),o},L3.apply(null,arguments)}var xme=["children","apply"];function vD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function ky(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(r),!0).forEach(function(i){Fr(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vD(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}var bme=function(t,e){kr(Vn(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),i=function(n){var s=n.children,a=n.apply,o=dc(n,xme),l=R.useRef(R.useMemo(function(){return r.map(function(d){var h,p=(o==null||(h=o[d])===null||h===void 0?void 0:h.construct)||[];return L3(e[d],yl(p))})},[r])),u=R.useMemo(function(){return r.reduce(function(d,h,p){return ky(ky({},d),{},Fr({},h,l.current[p]))},{})},[r]),c=R.useMemo(function(){return Object.keys(o).filter(gz(mz(r))).reduce(function(d,h){return ky(ky({},d),{},Fr({},h,o[h]))},{})},[o,r]);return r.forEach(function(d,h){return Object.assign(l.current[h],o[d])}),a&&function(){for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return h.every(function(g){return typeof g=="function"})}(a)&&a.call(t,u),tt.createElement(t,F0({},c,{filters:l.current}),s)};return i.displayName="FilterWrapper",i.propTypes={children:or.node,apply:or.func},i},_me=Sn.BitmapText,wme=Sn.Container,Sme=Sn.Graphics,Eme=Sn.NineSlicePlane,Tme=Sn.ParticleContainer,Ame=Sn.Sprite,Cme=Sn.AnimatedSprite,Rme=Sn.Text,Ime=Sn.TilingSprite,Pme=Sn.SimpleMesh,Mme=Sn.SimpleRope;const kme=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:Cme,AppConsumer:Sz,AppContext:Lw,AppProvider:wz,BitmapText:_me,Container:wme,Graphics:Sme,NineSlicePlane:Eme,ParticleContainer:Tme,PixiComponent:eme,PixiFiber:da,SimpleMesh:Pme,SimpleRope:Mme,Sprite:Ame,Stage:gme,TYPES:Sn,Text:Rme,TilingSprite:Ime,applyDefaultProps:So,createRoot:_z,eventHandlers:d_,render:lme,unmountComponentAtNode:ume,useApp:Tz,useTick:vme,withFilters:bme,withPixiApp:fme},Symbol.toStringTag,{value:"Module"})),Nme=SF(kme);a$.exports=Nme;var Ome=a$.exports,Jh=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(Jh||{}),Az=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(Az||{}),D3=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(D3||{}),ht=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(ht||{}),oo=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(oo||{}),be=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(be||{}),Rf=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(Rf||{}),et=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(et||{}),Ne=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Ne||{}),el=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(el||{}),Gu=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(Gu||{}),Eo=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Eo||{}),mn=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(mn||{}),to=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(to||{}),W4=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(W4||{}),As=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(As||{}),qr=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(qr||{}),zr=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(zr||{}),go=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(go||{});const Lme={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},Oe={ADAPTER:Lme,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Dme=qb.default??qb,tl=Dme(globalThis.navigator);Oe.RETINA_PREFIX=/@([0-9\.]+)x/;Oe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;const yD={};function Pt(t,e,r=3){if(yD[e])return;let i=new Error().stack;typeof i>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(i=i.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(i))),yD[e]=!0}function Xs(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Im(t){return t.split("?")[0].split("#")[0]}function Fme(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Bme(t,e,r){return t.replace(new RegExp(Fme(e),"g"),r)}function jme(t,e){let r="",i=0,n=-1,s=0,a=-1;for(let o=0;o<=t.length;++o){if(o<t.length)a=t.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(n===o-1||s===1))if(n!==o-1&&s===2){if(r.length<2||i!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const l=r.lastIndexOf("/");if(l!==r.length-1){l===-1?(r="",i=0):(r=r.slice(0,l),i=r.length-1-r.lastIndexOf("/")),n=o,s=0;continue}}else if(r.length===2||r.length===1){r="",i=0,n=o,s=0;continue}}e&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+=`/${t.slice(n+1,o)}`:r=t.slice(n+1,o),i=o-n-1;n=o,s=0}else a===46&&s!==-1?++s:s=-1}return r}const ti={toPosix(t){return Bme(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){Xs(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(Xs(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const i=Im(this.toPosix(e??Oe.ADAPTER.getBaseUrl())),n=Im(this.toPosix(r??this.rootname(i)));return t=this.toPosix(t),t.startsWith("/")?ti.join(n,t.slice(1)):this.isAbsolute(t)?t:this.join(i,t)},normalize(t){if(Xs(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const i=t.endsWith("/");return t=jme(t,!1),t.length>0&&i&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return Xs(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const i=t[r];if(Xs(i),i.length>0)if(e===void 0)e=i;else{const n=t[r-1]??"";this.extname(n)?e+=`/../${i}`:e+=`/${i}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Xs(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let i=-1,n=!0;const s=this.getProtocol(t),a=t;t=t.slice(s.length);for(let o=t.length-1;o>=1;--o)if(e=t.charCodeAt(o),e===47){if(!n){i=o;break}}else n=!1;return i===-1?r?"/":this.isUrl(a)?s+t:s:r&&i===1?"//":s+t.slice(0,i)},rootname(t){Xs(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Xs(t),e&&Xs(e),t=Im(this.toPosix(t));let r=0,i=-1,n=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let a=e.length-1,o=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!n){r=s+1;break}}else o===-1&&(n=!1,o=s+1),a>=0&&(l===e.charCodeAt(a)?--a===-1&&(i=s):(a=-1,i=o))}return r===i?i=o:i===-1&&(i=t.length),t.slice(r,i)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!n){r=s+1;break}}else i===-1&&(n=!1,i=s+1);return i===-1?"":t.slice(r,i)},extname(t){Xs(t),t=Im(this.toPosix(t));let e=-1,r=0,i=-1,n=!0,s=0;for(let a=t.length-1;a>=0;--a){const o=t.charCodeAt(a);if(o===47){if(!n){r=a+1;break}continue}i===-1&&(n=!1,i=a+1),o===46?e===-1?e=a:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||i===-1||s===0||s===1&&e===i-1&&e===r+1?"":t.slice(e,i)},parse(t){Xs(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Im(this.toPosix(t));let r=t.charCodeAt(0);const i=this.isAbsolute(t);let n;e.root=this.rootname(t),i||this.hasProtocol(t)?n=1:n=0;let s=-1,a=0,o=-1,l=!0,u=t.length-1,c=0;for(;u>=n;--u){if(r=t.charCodeAt(u),r===47){if(!l){a=u+1;break}continue}o===-1&&(l=!1,o=u+1),r===46?s===-1?s=u:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||o===-1||c===0||c===1&&s===o-1&&s===a+1?o!==-1&&(a===0&&i?e.base=e.name=t.slice(1,o):e.base=e.name=t.slice(a,o)):(a===0&&i?(e.name=t.slice(1,s),e.base=t.slice(1,o)):(e.name=t.slice(a,s),e.base=t.slice(a,o)),e.ext=t.slice(s,o)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"};let cT;async function Ume(){return cT??(cT=(async()=>{var s;const t=document.createElement("canvas").getContext("webgl");if(!t)return mn.UNPACK;const e=await new Promise(a=>{const o=document.createElement("video");o.onloadeddata=()=>a(o),o.onerror=()=>a(null),o.autoplay=!1,o.crossOrigin="anonymous",o.preload="auto",o.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",o.load()});if(!e)return mn.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const i=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,i),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const n=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,n),t.deleteFramebuffer(i),t.deleteTexture(r),(s=t.getExtension("WEBGL_lose_context"))==null||s.loseContext(),n[0]<=n[3]?mn.PMA:mn.UNPACK})()),cT}let hT;function $me(){return typeof hT>"u"&&(hT=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:Oe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Oe.ADAPTER.getWebGLRenderingContext())return!1;const r=Oe.ADAPTER.createCanvas();let i=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const n=!!((e=i==null?void 0:i.getContextAttributes())!=null&&e.stencil);if(i){const s=i.getExtension("WEBGL_lose_context");s&&s.loseContext()}return i=null,n}catch{return!1}}()),hT}L$([D$]);const Fd=class zx{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof zx)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const i=typeof e;if(i!==typeof r)return!1;if(i==="number"||i==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((n,s)=>n===r[s]);if(e!==null&&r!==null){const n=Object.keys(e),s=Object.keys(r);return n.length!==s.length?!1:n.every(a=>e[a]===r[a])}return e===r}toRgba(){const[e,r,i,n]=this._components;return{r:e,g:r,b:i,a:n}}toRgb(){const[e,r,i]=this._components;return{r:e,g:r,b:i}}toRgbaString(){const[e,r,i]=this.toUint8RgbArray();return`rgba(${e},${r},${i},${this.alpha})`}toUint8RgbArray(e){const[r,i,n]=this._components;return e=e??[],e[0]=Math.round(r*255),e[1]=Math.round(i*255),e[2]=Math.round(n*255),e}toRgbArray(e){e=e??[];const[r,i,n]=this._components;return e[0]=r,e[1]=i,e[2]=n,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,i,n,s]=zx.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=i,this._components[2]*=n,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let i=this._int>>16&255,n=this._int>>8&255,s=this._int&255;return r&&(i=i*e+.5|0,n=n*e+.5|0,s=s*e+.5|0),(e*255<<24)+(i<<16)+(n<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,i,n]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(i*e)/e,this._components[2]=Math.round(n*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[r,i,n,s]=this._components;return e[0]=r,e[1]=i,e[2]=n,e[3]=s,e}normalize(e){let r,i,n,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const a=e;r=(a>>16&255)/255,i=(a>>8&255)/255,n=(a&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,i,n,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,i,n,s=255]=e,r/=255,i/=255,n/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const o=zx.HEX_PATTERN.exec(e);o&&(e=`#${o[2]}`)}const a=Js(e);a.isValid()&&({r,g:i,b:n,a:s}=a.rgba,r/=255,i/=255,n/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=i,this._components[2]=n,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,r,i]=this._components;this._int=(e*255<<16)+(r*255<<8)+(i*255|0)}_clamp(e,r=0,i=1){return typeof e=="number"?Math.min(Math.max(e,r),i):(e.forEach((n,s)=>{e[s]=Math.min(Math.max(n,r),i)}),e)}};Fd.shared=new Fd,Fd.temp=new Fd,Fd.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let ur=Fd;function zme(t){return Pt("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),ur.shared.setValue(t).toHex()}function Hme(t){return Pt("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),ur.shared.setValue(t).toNumber()}function Gme(){const t=[],e=[];for(let i=0;i<32;i++)t[i]=i,e[i]=i;t[ht.NORMAL_NPM]=ht.NORMAL,t[ht.ADD_NPM]=ht.ADD,t[ht.SCREEN_NPM]=ht.SCREEN,e[ht.NORMAL]=ht.NORMAL_NPM,e[ht.ADD]=ht.ADD_NPM,e[ht.SCREEN]=ht.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const Cz=Gme();function Rz(t,e){return Cz[e?1:0][t]}function Vme(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let i=0,n=0;i<r;i+=6,n+=4)e[i+0]=n+0,e[i+1]=n+1,e[i+2]=n+2,e[i+3]=n+0,e[i+4]=n+2,e[i+5]=n+3;return e}function Iz(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function m_(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function xD(t){return!(t&t-1)&&!!t}function bD(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function If(t,e,r){const i=t.length;let n;if(e>=i||r===0)return;r=e+r>i?i-e:r;const s=i-r;for(n=e;n<s;++n)t[n]=t[n+r];t.length=s}function Au(t){return t===0?0:t<0?-1:1}let Wme=0;function $h(){return++Wme}const F3=class{constructor(t,e,r,i){this.left=t,this.top=e,this.right=r,this.bottom=i}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};F3.EMPTY=new F3(0,0,0,0);let _D=F3;const wD={},Va=Object.create(null),Vl=Object.create(null);class Xme{constructor(e,r,i){this._canvas=Oe.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=i||Oe.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function SD(t,e,r){for(let i=0,n=4*r*e;i<e;++i,n+=4)if(t[n+3]!==0)return!1;return!0}function ED(t,e,r,i,n){const s=4*e;for(let a=i,o=i*s+4*r;a<=n;++a,o+=s)if(t[o+3]!==0)return!1;return!0}function Yme(t){const{width:e,height:r}=t,i=t.getContext("2d",{willReadFrequently:!0});if(i===null)throw new TypeError("Failed to get canvas 2D context");const n=i.getImageData(0,0,e,r).data;let s=0,a=0,o=e-1,l=r-1;for(;a<r&&SD(n,e,a);)++a;if(a===r)return _D.EMPTY;for(;SD(n,e,l);)--l;for(;ED(n,e,s,a,l);)++s;for(;ED(n,e,o,a,l);)--o;return++o,++l,new _D(s,a,o,l)}function qme(t){const e=Yme(t),{width:r,height:i}=e;let n=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");n=s.getImageData(e.left,e.top,r,i)}return{width:r,height:i,data:n}}function Kme(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function xl(t,e=1){var i;const r=(i=Oe.RETINA_PREFIX)==null?void 0:i.exec(t);return r?parseFloat(r[1]):e}var Ie=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(Ie||{});const B3=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},TD=(t,e)=>B3(t).priority??e,Qe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(B3).forEach(e=>{e.type.forEach(r=>{var i,n;return(n=(i=this._removeHandlers)[r])==null?void 0:n.call(i,e)})}),this},add(...t){return t.map(B3).forEach(e=>{e.type.forEach(r=>{const i=this._addHandlers,n=this._queue;i[r]?i[r](e):(n[r]=n[r]||[],n[r].push(e))})}),this},handle(t,e,r){const i=this._addHandlers,n=this._removeHandlers;if(i[t]||n[t])throw new Error(`Extension type ${t} already has a handler`);i[t]=e,n[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(a=>e(a)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,i=>{e.includes(i.ref)||(e.push(i.ref),e.sort((n,s)=>TD(s,r)-TD(n,r)))},i=>{const n=e.indexOf(i.ref);n!==-1&&e.splice(n,1)})}};class j3{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const Qme=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Zme(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function Jme(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const i=Qme.replace(/%forloop%/gi,Zme(t));if(e.shaderSource(r,i),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const dT=0,fT=1,pT=2,mT=3,gT=4,vT=5;class Ao{constructor(){this.data=0,this.blendMode=ht.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<dT)}set blend(e){!!(this.data&1<<dT)!==e&&(this.data^=1<<dT)}get offsets(){return!!(this.data&1<<fT)}set offsets(e){!!(this.data&1<<fT)!==e&&(this.data^=1<<fT)}get culling(){return!!(this.data&1<<pT)}set culling(e){!!(this.data&1<<pT)!==e&&(this.data^=1<<pT)}get depthTest(){return!!(this.data&1<<mT)}set depthTest(e){!!(this.data&1<<mT)!==e&&(this.data^=1<<mT)}get depthMask(){return!!(this.data&1<<vT)}set depthMask(e){!!(this.data&1<<vT)!==e&&(this.data^=1<<vT)}get clockwiseFrontFace(){return!!(this.data&1<<gT)}set clockwiseFrontFace(e){!!(this.data&1<<gT)!==e&&(this.data^=1<<gT)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==ht.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Ao;return e.depthTest=!1,e.blend=!0,e}}Ao.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const U3=[];function Pz(t,e){if(!t)return null;let r="";if(typeof t=="string"){const i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);i&&(r=i[1].toLowerCase())}for(let i=U3.length-1;i>=0;--i){const n=U3[i];if(n.test&&n.test(t,r))return new n(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class va{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,i,n,s,a,o,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:u,items:c}=this;this._aliasCount++;for(let d=0,h=c.length;d<h;d++)c[d][u](e,r,i,n,s,a,o,l);return c===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(va.prototype,{dispatch:{value:va.prototype.emit},run:{value:va.prototype.emit}});class B0{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new va("setRealSize"),this.onUpdate=new va("update"),this.onError=new va("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,i){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Dw extends B0{constructor(e,r){const{width:i,height:n}=r||{};if(!i||!n)throw new Error("BufferResource width or height invalid");super(i,n),this.data=e,this.unpackAlignment=r.unpackAlignment??4}upload(e,r,i){const n=e.gl;n.pixelStorei(n.UNPACK_ALIGNMENT,this.unpackAlignment),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===mn.UNPACK);const s=r.realWidth,a=r.realHeight;return i.width===s&&i.height===a?n.texSubImage2D(r.target,0,0,0,s,a,r.format,i.type,this.data):(i.width=s,i.height=a,n.texImage2D(r.target,0,i.internalFormat,s,a,0,r.format,i.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const ege={scaleMode:el.NEAREST,alphaMode:mn.NPM},$3=class Bd extends El{constructor(e=null,r=null){super(),r=Object.assign({},Bd.defaultOptions,r);const{alphaMode:i,mipmap:n,anisotropicLevel:s,scaleMode:a,width:o,height:l,wrapMode:u,format:c,type:d,target:h,resolution:p,resourceOptions:g}=r;e&&!(e instanceof B0)&&(e=Pz(e,g),e.internal=!0),this.resolution=p||Oe.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((l||0)*this.resolution)/this.resolution,this._mipmap=n,this.anisotropicLevel=s,this._wrapMode=u,this._scaleMode=a,this.format=c,this.type=d,this.target=h,this.alphaMode=i,this.uid=$h(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&l>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let i;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,i=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,i=!0),i&&this.dirtyStyleId++,this}setSize(e,r,i){return i=i||this.resolution,this.setRealSize(e*i,r*i,i)}setRealSize(e,r,i){return this.resolution=i||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=xD(this.realWidth)&&xD(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Vl[this.cacheId],delete Va[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Bd.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,i=Oe.STRICT_TEXTURE_CACHE){const n=typeof e=="string";let s=null;if(n)s=e;else{if(!e._pixiId){const o=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${o}_${$h()}`}s=e._pixiId}let a=Vl[s];if(n&&i&&!a)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return a||(a=new Bd(e,r),a.cacheId=s,Bd.addToCache(a,s)),a}static fromBuffer(e,r,i,n){e=e||new Float32Array(r*i*4);const s=new Dw(e,{width:r,height:i,...n==null?void 0:n.resourceOptions});let a,o;return e instanceof Float32Array?(a=be.RGBA,o=et.FLOAT):e instanceof Int32Array?(a=be.RGBA_INTEGER,o=et.INT):e instanceof Uint32Array?(a=be.RGBA_INTEGER,o=et.UNSIGNED_INT):e instanceof Int16Array?(a=be.RGBA_INTEGER,o=et.SHORT):e instanceof Uint16Array?(a=be.RGBA_INTEGER,o=et.UNSIGNED_SHORT):e instanceof Int8Array?(a=be.RGBA,o=et.BYTE):(a=be.RGBA,o=et.UNSIGNED_BYTE),s.internal=!0,new Bd(s,Object.assign({},ege,{type:o,format:a},n))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Vl[r]&&Vl[r]!==e&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),Vl[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Vl[e];if(r){const i=r.textureCacheIds.indexOf(e);return i>-1&&r.textureCacheIds.splice(i,1),delete Vl[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete Vl[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};$3.defaultOptions={mipmap:Eo.POW2,anisotropicLevel:0,scaleMode:el.LINEAR,wrapMode:Gu.CLAMP,alphaMode:mn.UNPACK,target:Rf.TEXTURE_2D,format:be.RGBA,type:et.UNSIGNED_BYTE},$3._globalBatch=0;let yt=$3;class z3{constructor(){this.texArray=null,this.blend=0,this.type=oo.TRIANGLES,this.start=0,this.size=0,this.data=null}}let tge=0,Zr=class Mz{constructor(e,r=!0,i=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=r,this.id=tge++,this.disposeRunner=new va("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?go.ELEMENT_ARRAY_BUFFER:go.ARRAY_BUFFER}get index(){return this.type===go.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new Mz(e)}};class g_{constructor(e,r=0,i=!1,n=et.FLOAT,s,a,o,l=1){this.buffer=e,this.size=r,this.normalized=i,this.type=n,this.stride=s,this.start=a,this.instance=o,this.divisor=l}destroy(){this.buffer=null}static from(e,r,i,n,s){return new g_(e,r,i,n,s)}}const rge={Float32Array,Uint32Array,Int32Array,Uint8Array};function ige(t,e){let r=0,i=0;const n={};for(let l=0;l<t.length;l++)i+=e[l],r+=t[l].length;const s=new ArrayBuffer(r*4);let a=null,o=0;for(let l=0;l<t.length;l++){const u=e[l],c=t[l],d=Iz(c);n[d]||(n[d]=new rge[d](s)),a=n[d];for(let h=0;h<c.length;h++){const p=(h/u|0)*i+o,g=h%u;a[p+g]=c[h]}o+=u}return new Float32Array(s)}const AD={5126:4,5123:2,5121:1};let nge=0;const sge={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Qu{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=nge++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new va("disposeGeometry"),this.refCount=0}addAttribute(e,r,i=0,n=!1,s,a,o,l=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Zr||(r instanceof Array&&(r=new Float32Array(r)),r=new Zr(r));const u=e.split("|");if(u.length>1){for(let d=0;d<u.length;d++)this.addAttribute(u[d],r,i,n,s);return this}let c=this.buffers.indexOf(r);return c===-1&&(this.buffers.push(r),c=this.buffers.length-1),this.attributes[e]=new g_(c,i,n,s,a,o,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Zr||(e instanceof Array&&(e=new Uint16Array(e)),e=new Zr(e)),e.type=go.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],i=new Zr;let n;for(n in this.attributes){const s=this.attributes[n],a=this.buffers[s.buffer];e.push(a.data),r.push(s.size*AD[s.type]/4),s.buffer=0}for(i.data=ige(e,r),n=0;n<this.buffers.length;n++)this.buffers[n]!==this.indexBuffer&&this.buffers[n].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Qu;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new Zr(this.buffers[r].data.slice(0));for(const r in this.attributes){const i=this.attributes[r];e.attributes[r]=new g_(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=go.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new Qu,i=[],n=[],s=[];let a;for(let o=0;o<e.length;o++){a=e[o];for(let l=0;l<a.buffers.length;l++)n[l]=n[l]||0,n[l]+=a.buffers[l].data.length,s[l]=0}for(let o=0;o<a.buffers.length;o++)i[o]=new sge[Iz(a.buffers[o].data)](n[o]),r.buffers[o]=new Zr(i[o]);for(let o=0;o<e.length;o++){a=e[o];for(let l=0;l<a.buffers.length;l++)i[l].set(a.buffers[l].data,s[l]),s[l]+=a.buffers[l].data.length}if(r.attributes=a.attributes,a.indexBuffer){r.indexBuffer=r.buffers[a.buffers.indexOf(a.indexBuffer)],r.indexBuffer.type=go.ELEMENT_ARRAY_BUFFER;let o=0,l=0,u=0,c=0;for(let d=0;d<a.buffers.length;d++)if(a.buffers[d]!==a.indexBuffer){c=d;break}for(const d in a.attributes){const h=a.attributes[d];(h.buffer|0)===c&&(l+=h.size*AD[h.type]/4)}for(let d=0;d<e.length;d++){const h=e[d].indexBuffer.data;for(let p=0;p<h.length;p++)r.indexBuffer.data[p+u]+=o;o+=e[d].buffers[c].data.length/l,u+=h.length}}return r}}class kz extends Qu{constructor(e=!1){super(),this._buffer=new Zr(null,e,!1),this._indexBuffer=new Zr(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,et.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,et.FLOAT).addAttribute("aColor",this._buffer,4,!0,et.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,et.FLOAT).addIndex(this._indexBuffer)}}const v_=Math.PI*2,age=180/Math.PI,oge=Math.PI/180;var Ei=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Ei||{});class Tt{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Tt(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}}Tt.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const Ny=[new Tt,new Tt,new Tt,new Tt];class bt{constructor(e=0,r=0,i=0,n=0){this.x=Number(e),this.y=Number(r),this.width=Number(i),this.height=Number(n),this.type=Ei.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new bt(0,0,0,0)}clone(){return new bt(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const M=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=M)return!1;const k=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>k}const i=this.left,n=this.right,s=this.top,a=this.bottom;if(n<=i||a<=s)return!1;const o=Ny[0].set(e.left,e.top),l=Ny[1].set(e.left,e.bottom),u=Ny[2].set(e.right,e.top),c=Ny[3].set(e.right,e.bottom);if(u.x<=o.x||l.y<=o.y)return!1;const d=Math.sign(r.a*r.d-r.b*r.c);if(d===0||(r.apply(o,o),r.apply(l,l),r.apply(u,u),r.apply(c,c),Math.max(o.x,l.x,u.x,c.x)<=i||Math.min(o.x,l.x,u.x,c.x)>=n||Math.max(o.y,l.y,u.y,c.y)<=s||Math.min(o.y,l.y,u.y,c.y)>=a))return!1;const h=d*(l.y-o.y),p=d*(o.x-l.x),g=h*i+p*s,y=h*n+p*s,b=h*i+p*a,x=h*n+p*a;if(Math.max(g,y,b,x)<=h*o.x+p*o.y||Math.min(g,y,b,x)>=h*c.x+p*c.y)return!1;const w=d*(o.y-u.y),_=d*(u.x-o.x),E=w*i+_*s,A=w*n+_*s,I=w*i+_*a,P=w*n+_*a;return!(Math.max(E,A,I,P)<=w*o.x+_*o.y||Math.min(E,A,I,P)>=w*c.x+_*c.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),i=Math.min(this.x+this.width,e.x+e.width),n=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(i-r,0),this.y=n,this.height=Math.max(s-n,0),this}ceil(e=1,r=.001){const i=Math.ceil((this.x+this.width-r)*e)/e,n=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=i-this.x,this.height=n-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),i=Math.max(this.x+this.width,e.x+e.width),n=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=i-r,this.y=n,this.height=s-n,this}}bt.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Fw{constructor(e=0,r=0,i=0){this.x=e,this.y=r,this.radius=i,this.type=Ei.CIRC}clone(){return new Fw(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const i=this.radius*this.radius;let n=this.x-e,s=this.y-r;return n*=n,s*=s,n+s<=i}getBounds(){return new bt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Fw.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Bw{constructor(e=0,r=0,i=0,n=0){this.x=e,this.y=r,this.width=i,this.height=n,this.type=Ei.ELIP}clone(){return new Bw(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let i=(e-this.x)/this.width,n=(r-this.y)/this.height;return i*=i,n*=n,i+n<=1}getBounds(){return new bt(this.x-this.width,this.y-this.height,this.width,this.height)}}Bw.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class wh{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const i=[];for(let n=0,s=r.length;n<s;n++)i.push(r[n].x,r[n].y);r=i}this.points=r,this.type=Ei.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new wh(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let i=!1;const n=this.points.length/2;for(let s=0,a=n-1;s<n;a=s++){const o=this.points[s*2],l=this.points[s*2+1],u=this.points[a*2],c=this.points[a*2+1];l>r!=c>r&&e<(u-o)*((r-l)/(c-l))+o&&(i=!i)}return i}}wh.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`};class jw{constructor(e=0,r=0,i=0,n=0,s=20){this.x=e,this.y=r,this.width=i,this.height=n,this.radius=s,this.type=Ei.RREC}clone(){return new jw(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+i&&r<=this.y+this.height-i||e>=this.x+i&&e<=this.x+this.width-i)return!0;let n=e-(this.x+i),s=r-(this.y+i);const a=i*i;if(n*n+s*s<=a||(n=e-(this.x+this.width-i),n*n+s*s<=a)||(s=r-(this.y+this.height-i),n*n+s*s<=a)||(n=e-(this.x+i),n*n+s*s<=a))return!0}return!1}}jw.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class hr{constructor(e=1,r=0,i=0,n=1,s=0,a=0){this.array=null,this.a=e,this.b=r,this.c=i,this.d=n,this.tx=s,this.ty=a}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,i,n,s,a){return this.a=e,this.b=r,this.c=i,this.d=n,this.tx=s,this.ty=a,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const i=r||this.array;return e?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i}apply(e,r){r=r||new Tt;const i=e.x,n=e.y;return r.x=this.a*i+this.c*n+this.tx,r.y=this.b*i+this.d*n+this.ty,r}applyInverse(e,r){r=r||new Tt;const i=1/(this.a*this.d+this.c*-this.b),n=e.x,s=e.y;return r.x=this.d*i*n+-this.c*i*s+(this.ty*this.c-this.tx*this.d)*i,r.y=this.a*i*s+-this.b*i*n+(-this.ty*this.a+this.tx*this.b)*i,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),i=Math.sin(e),n=this.a,s=this.c,a=this.tx;return this.a=n*r-this.b*i,this.b=n*i+this.b*r,this.c=s*r-this.d*i,this.d=s*i+this.d*r,this.tx=a*r-this.ty*i,this.ty=a*i+this.ty*r,this}append(e){const r=this.a,i=this.b,n=this.c,s=this.d;return this.a=e.a*r+e.b*n,this.b=e.a*i+e.b*s,this.c=e.c*r+e.d*n,this.d=e.c*i+e.d*s,this.tx=e.tx*r+e.ty*n+this.tx,this.ty=e.tx*i+e.ty*s+this.ty,this}setTransform(e,r,i,n,s,a,o,l,u){return this.a=Math.cos(o+u)*s,this.b=Math.sin(o+u)*s,this.c=-Math.sin(o-l)*a,this.d=Math.cos(o-l)*a,this.tx=e-(i*this.a+n*this.c),this.ty=r-(i*this.b+n*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const i=this.a,n=this.c;this.a=i*e.a+this.b*e.c,this.b=i*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,i=this.b,n=this.c,s=this.d,a=e.pivot,o=-Math.atan2(-n,s),l=Math.atan2(i,r),u=Math.abs(o+l);return u<1e-5||Math.abs(v_-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=o,e.skew.y=l),e.scale.x=Math.sqrt(r*r+i*i),e.scale.y=Math.sqrt(n*n+s*s),e.position.x=this.tx+(a.x*r+a.y*n),e.position.y=this.ty+(a.x*i+a.y*s),e}invert(){const e=this.a,r=this.b,i=this.c,n=this.d,s=this.tx,a=e*n-r*i;return this.a=n/a,this.b=-r/a,this.c=-i/a,this.d=e/a,this.tx=(i*this.ty-n*s)/a,this.ty=-(e*this.ty-r*s)/a,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new hr;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new hr}static get TEMP_MATRIX(){return new hr}}hr.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Uc=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],$c=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],zc=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Hc=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],H3=[],Nz=[],Oy=Math.sign;function lge(){for(let t=0;t<16;t++){const e=[];H3.push(e);for(let r=0;r<16;r++){const i=Oy(Uc[t]*Uc[r]+zc[t]*$c[r]),n=Oy($c[t]*Uc[r]+Hc[t]*$c[r]),s=Oy(Uc[t]*zc[r]+zc[t]*Hc[r]),a=Oy($c[t]*zc[r]+Hc[t]*Hc[r]);for(let o=0;o<16;o++)if(Uc[o]===i&&$c[o]===n&&zc[o]===s&&Hc[o]===a){e.push(o);break}}}for(let t=0;t<16;t++){const e=new hr;e.set(Uc[t],$c[t],zc[t],Hc[t],0,0),Nz.push(e)}}lge();const xr={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Uc[t],uY:t=>$c[t],vX:t=>zc[t],vY:t=>Hc[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>H3[t][e],sub:(t,e)=>H3[t][xr.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?xr.S:xr.N:Math.abs(e)*2<=Math.abs(t)?t>0?xr.E:xr.W:e>0?t>0?xr.SE:xr.SW:t>0?xr.NE:xr.NW,matrixAppendRotationInv:(t,e,r=0,i=0)=>{const n=Nz[xr.inv(e)];n.tx=r,n.ty=i,t.append(n)}};class rl{constructor(e,r,i=0,n=0){this._x=i,this._y=n,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new rl(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}rl.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const G3=class{constructor(){this.worldTransform=new hr,this.localTransform=new hr,this.position=new rl(this.onChange,this,0,0),this.scale=new rl(this.onChange,this,1,1),this.pivot=new rl(this.onChange,this,0,0),this.skew=new rl(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};G3.IDENTITY=new G3;let X4=G3;X4.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var uge=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,cge=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function CD(t,e,r){const i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),i}function yT(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function Oz(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return yT(2*e);case"bvec3":return yT(3*e);case"bvec4":return yT(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Pf=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],hge={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},dge={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function fge(t,e){var i;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const n in t.uniforms){const s=e[n];if(!s){((i=t.uniforms[n])==null?void 0:i.group)===!0&&(t.uniforms[n].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${n}, '${n}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${n}, syncData);
                    `));continue}const a=t.uniforms[n];let o=!1;for(let l=0;l<Pf.length;l++)if(Pf[l].test(s,a)){r.push(Pf[l].code(n,a)),o=!0;break}if(!o){const l=(s.size===1&&!s.isArray?hge:dge)[s.type].replace("location",`ud["${n}"].location`);r.push(`
            cu = ud["${n}"];
            cv = cu.value;
            v = uv["${n}"];
            ${l};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const Lz={};let Id=Lz;function pge(){if(Id===Lz||Id!=null&&Id.isContextLost()){const t=Oe.ADAPTER.createCanvas();let e;Oe.PREFER_ENV>=Jh.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Id=e}return Id}let Ly;function mge(){if(!Ly){Ly=As.MEDIUM;const t=pge();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(Ly=e.precision?As.HIGH:As.MEDIUM)}}return Ly}function RD(t,e){const r=t.getShaderSource(e).split(`
`).map((u,c)=>`${c}: ${u}`),i=t.getShaderInfoLog(e),n=i.split(`
`),s={},a=n.map(u=>parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(u=>u&&!s[u]?(s[u]=!0,!0):!1),o=[""];a.forEach(u=>{r[u-1]=`%c${r[u-1]}%c`,o.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=r.join(`
`);o[0]=l,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn(...o),console.groupEnd()}function gge(t,e,r,i){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||RD(t,r),t.getShaderParameter(i,t.COMPILE_STATUS)||RD(t,i),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const vge={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Dz(t){return vge[t]}let Dy=null;const ID={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Fz(t,e){if(!Dy){const r=Object.keys(ID);Dy={};for(let i=0;i<r.length;++i){const n=r[i];Dy[t[n]]=ID[n]}}return Dy[e]}function PD(t,e,r){if(t.substring(0,9)!=="precision"){let i=e;return e===As.HIGH&&r!==As.HIGH&&(i=As.MEDIUM),`precision ${i} float;
${t}`}else if(r!==As.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Pm;function yge(){if(typeof Pm=="boolean")return Pm;try{Pm=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Pm=!1}return Pm}let xge=0;const Fy={},V3=class jd{constructor(e,r,i="pixi-shader",n={}){this.extra={},this.id=xge++,this.vertexSrc=e||jd.defaultVertexSrc,this.fragmentSrc=r||jd.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,this.vertexSrc.substring(0,8)!=="#version"&&(i=i.replace(/\s+/g,"-"),Fy[i]?(Fy[i]++,i+=`-${Fy[i]}`):Fy[i]=1,this.vertexSrc=`#define SHADER_NAME ${i}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${i}
${this.fragmentSrc}`,this.vertexSrc=PD(this.vertexSrc,jd.defaultVertexPrecision,As.HIGH),this.fragmentSrc=PD(this.fragmentSrc,jd.defaultFragmentPrecision,mge())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return cge}static get defaultFragmentSrc(){return uge}static from(e,r,i){const n=e+r;let s=wD[n];return s||(wD[n]=s=new jd(e,r,i)),s}};V3.defaultVertexPrecision=As.HIGH,V3.defaultFragmentPrecision=tl.apple.device?As.HIGH:As.MEDIUM;let il=V3,bge=0;class ya{constructor(e,r,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=bge++,this.static=!!r,this.ubo=!!i,e instanceof Zr?(this.buffer=e,this.buffer.type=go.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Zr(new Float32Array(1)),this.buffer.type=go.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,i){if(!this.ubo)this.uniforms[e]=new ya(r,i);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,i){return new ya(e,r,i)}static uboFrom(e,r){return new ya(e,r??!0,!0)}}class vo{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof ya?this.uniformGroup=r:this.uniformGroup=new ya(r):this.uniformGroup=new ya({}),this.disposeRunner=new va("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const i in r.uniforms){const n=r.uniforms[i];if(n.group===!0&&this.checkUniformExists(e,n))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,i){const n=il.from(e,r);return new vo(n,i)}}class _ge{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const i=new Int32Array(e);for(let s=0;s<e;s++)i[s]=s;this.defaultGroupCache[e]=ya.from({uSamplers:i},!0);let n=this.fragTemplate;n=n.replace(/%count%/gi,`${e}`),n=n.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new il(this.vertexSrc,n)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new hr,default:this.defaultGroupCache[e]};return new vo(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let i=0;i<e;i++)i>0&&(r+=`
else `),i<e-1&&(r+=`if(vTextureId < ${i}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${i}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class W3{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function wge(){return!tl.apple.device}function Sge(t){let e=!0;const r=Oe.ADAPTER.getNavigator();if(tl.tablet||tl.phone){if(tl.apple.device){const i=r.userAgent.match(/OS (\d+)_(\d+)?/);i&&parseInt(i[1],10)<11&&(e=!1)}if(tl.android.device){const i=r.userAgent.match(/Android\s([0-9.]*)/);i&&parseInt(i[1],10)<7&&(e=!1)}}return e?t:4}class Uw{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var Ege=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,Tge=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const ig=class Ks extends Uw{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=kz,this.vertexSize=6,this.state=Ao.for2d(),this.size=Ks.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??Sge(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??wge(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Pt("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return Tge}static get defaultFragmentTemplate(){return Ege}setShaderGenerator({vertex:e=Ks.defaultVertexSrc,fragment:r=Ks.defaultFragmentTemplate}={}){this.shaderGenerator=new _ge(e,r)}contextChange(){const e=this.renderer.gl;Oe.PREFER_ENV===Jh.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Ks.defaultMaxTextures),this.maxTextures=Jme(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=Ks,i=this.size/4,n=Math.floor(i/this.maxTextures)+1;for(;e.length<i;)e.push(new z3);for(;r.length<n;)r.push(new W3);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,i=Ks._textureArrayPool,n=this.renderer.batch,s=this._tempBoundTextures,a=this.renderer.textureGC.count;let o=++yt._globalBatch,l=0,u=i[0],c=0;n.copyBoundTextures(s,r);for(let d=0;d<this._bufferSize;++d){const h=e[d];e[d]=null,h._batchEnabled!==o&&(u.count>=r&&(n.boundArray(u,s,o,r),this.buildDrawCalls(u,c,d),c=d,u=i[++l],++o),h._batchEnabled=o,h.touched=a,u.elements[u.count++]=h)}u.count>0&&(n.boundArray(u,s,o,r),this.buildDrawCalls(u,c,this._bufferSize),++l,++o);for(let d=0;d<s.length;d++)s[d]=null;yt._globalBatch=o}buildDrawCalls(e,r,i){const{_bufferedElements:n,_attributeBuffer:s,_indexBuffer:a,vertexSize:o}=this,l=Ks._drawCallPool;let u=this._dcIndex,c=this._aIndex,d=this._iIndex,h=l[u];h.start=this._iIndex,h.texArray=e;for(let p=r;p<i;++p){const g=n[p],y=g._texture.baseTexture,b=Cz[y.alphaMode?1:0][g.blendMode];n[p]=null,r<p&&h.blend!==b&&(h.size=d-h.start,r=p,h=l[++u],h.texArray=e,h.start=d),this.packInterleavedGeometry(g,s,a,c,d),c+=g.vertexData.length/2*o,d+=g.indices.length,h.blend=b}r<i&&(h.size=d-h.start,++u),this._dcIndex=u,this._aIndex=c,this._iIndex=d}bindAndClearTexArray(e){const r=this.renderer.texture;for(let i=0;i<e.count;i++)r.bind(e.elements[i],e.ids[i]),e.elements[i]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:i}=this;Ks.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:i}=this.renderer,n=Ks._drawCallPool;let s=null;for(let a=0;a<e;a++){const{texArray:o,type:l,size:u,start:c,blend:d}=n[a];s!==o&&(s=o,this.bindAndClearTexArray(o)),this.state.blendMode=d,i.set(this.state),r.drawElements(l,u,r.UNSIGNED_SHORT,c*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Ks.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=m_(Math.ceil(e/8)),i=bD(r),n=r*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);let s=this._aBuffers[n];return s||(this._aBuffers[n]=s=new j3(n*this.vertexSize*4)),s}getIndexBuffer(e){const r=m_(Math.ceil(e/12)),i=bD(r),n=r*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);let s=this._iBuffers[i];return s||(this._iBuffers[i]=s=new Uint16Array(n)),s}packInterleavedGeometry(e,r,i,n,s){const{uint32View:a,float32View:o}=r,l=n/this.vertexSize,u=e.uvs,c=e.indices,d=e.vertexData,h=e._texture.baseTexture._batchLocation,p=Math.min(e.worldAlpha,1),g=ur.shared.setValue(e._tintRGB).toPremultiplied(p,e._texture.baseTexture.alphaMode>0);for(let y=0;y<d.length;y+=2)o[n++]=d[y],o[n++]=d[y+1],o[n++]=u[y],o[n++]=u[y+1],a[n++]=g,o[n++]=h;for(let y=0;y<c.length;y++)i[s++]=l+c[y]}};ig.defaultBatchSize=4096,ig.extension={name:"batch",type:Ie.RendererPlugin},ig._drawCallPool=[],ig._textureArrayPool=[];let Gc=ig;Qe.add(Gc);var Age=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Cge=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const X3=class ng extends vo{constructor(e,r,i){const n=il.from(e||ng.defaultVertexSrc,r||ng.defaultFragmentSrc);super(n,i),this.padding=0,this.resolution=ng.defaultResolution,this.multisample=ng.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Ao}apply(e,r,i,n,s){e.applyFilter(this,r,i,n)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return Cge}static get defaultFragmentSrc(){return Age}};X3.defaultResolution=1,X3.defaultMultisample=zr.NONE;let Ki=X3;class y_{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new ur(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:i,backgroundAlpha:n}=e,s=i??r;s!==void 0&&(this.color=s),this.alpha=n}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}y_.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},y_.extension={type:[Ie.RendererSystem,Ie.CanvasRendererSystem],name:"background"};Qe.add(y_);class Bz{constructor(e){this.renderer=e,this.emptyRenderer=new Uw(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:i}=this.renderer.texture;for(let n=r-1;n>=0;--n)e[n]=i[n]||null,e[n]&&(e[n]._batchLocation=n)}boundArray(e,r,i,n){const{elements:s,ids:a,count:o}=e;let l=0;for(let u=0;u<o;u++){const c=s[u],d=c._batchLocation;if(d>=0&&d<n&&r[d]===c){a[u]=d;continue}for(;l<n;){const h=r[l];if(h&&h._batchEnabled===i&&h._batchLocation===l){l++;continue}a[u]=l,c._batchLocation=l,r[l]=c;break}}}destroy(){this.renderer=null}}Bz.extension={type:Ie.RendererSystem,name:"batch"};Qe.add(Bz);let MD=0;class x_{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=MD++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,i=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:i,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=MD++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let i;if(Oe.PREFER_ENV>=Jh.WEBGL2&&(i=e.getContext("webgl2",r)),i)this.webGLVersion=2;else if(this.webGLVersion=1,i=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!i)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),i="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;i&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const n=i||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=n,n||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}x_.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},x_.extension={type:Ie.RendererSystem,name:"context"};Qe.add(x_);class Y3{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new va("disposeFramebuffer"),this.multisample=zr.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new yt(null,{scaleMode:el.NEAREST,resolution:1,mipmap:Eo.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new yt(null,{scaleMode:el.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Eo.OFF,format:be.DEPTH_COMPONENT,type:et.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let i=0;i<this.colorTextures.length;i++){const n=this.colorTextures[i],s=n.resolution;n.setSize(e/s,r/s)}if(this.depthTexture){const i=this.depthTexture.resolution;this.depthTexture.setSize(e/i,r/i)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class jz extends yt{constructor(e={}){if(typeof e=="number"){const r=arguments[0],i=arguments[1],n=arguments[2],s=arguments[3];e={width:r,height:i,scaleMode:n,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=zr.NONE),super(null,e),this.mipmap=Eo.OFF,this.valid=!0,this._clear=new ur([0,0,0,0]),this.framebuffer=new Y3(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Zu extends B0{constructor(e){const r=e,i=r.naturalWidth||r.videoWidth||r.width,n=r.naturalHeight||r.videoHeight||r.height;super(i,n),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,i){i===void 0&&!r.startsWith("data:")?e.crossOrigin=Kme(r):i!==!1&&(e.crossOrigin=typeof i=="string"?i:"anonymous")}upload(e,r,i,n){const s=e.gl,a=r.realWidth,o=r.realHeight;if(n=n||this.source,typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement){if(!n.complete||n.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement&&n.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===mn.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&i.width===a&&i.height===o?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,i.type,n):(i.width=a,i.height=o,s.texImage2D(r.target,0,i.internalFormat,r.format,i.type,n)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;this.resize(r,i),super.update()}dispose(){this.source=null}}class Uz extends Zu{constructor(e,r){if(r=r||{},typeof e=="string"){const i=new Image;Zu.crossOrigin(i,e,r.crossorigin),i.src=e,e=i}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??Oe.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,i)=>{const n=this.source;this.url=n.src;const s=()=>{this.destroyed||(n.onload=null,n.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};n.complete&&n.src?s():(n.onload=s,n.onerror=a=>{i(a),this.onError.emit(a)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,i=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:i?"cors":"no-cors"}).then(n=>n.blob()).then(n=>r(n,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===mn.UNPACK?"premultiply":"none"})).then(n=>this.destroyed?Promise.reject():(this.bitmap=n,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,i){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,i,this.bitmap),!this.preserveBitmap){let n=!0;const s=r._glTextures;for(const a in s){const o=s[a];if(o!==i&&o.dirtyId!==r.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class Y4{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,i){const n=r.width,s=r.height;if(i){const a=e.width/2/n,o=e.height/2/s,l=e.x/n+a,u=e.y/s+o;i=xr.add(i,xr.NW),this.x0=l+a*xr.uX(i),this.y0=u+o*xr.uY(i),i=xr.add(i,2),this.x1=l+a*xr.uX(i),this.y1=u+o*xr.uY(i),i=xr.add(i,2),this.x2=l+a*xr.uX(i),this.y2=u+o*xr.uY(i),i=xr.add(i,2),this.x3=l+a*xr.uX(i),this.y3=u+o*xr.uY(i)}else this.x0=e.x/n,this.y0=e.y/s,this.x1=(e.x+e.width)/n,this.y1=e.y/s,this.x2=(e.x+e.width)/n,this.y2=(e.y+e.height)/s,this.x3=e.x/n,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}Y4.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const kD=new Y4;function By(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class Ge extends El{constructor(e,r,i,n,s,a,o){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new bt(0,0,1,1)),e instanceof Ge&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=n,this.valid=!1,this.destroyed=!1,this._uvs=kD,this.uvMatrix=null,this.orig=i||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=a?new Tt(a.x,a.y):new Tt(0,0),this.defaultBorders=o,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&Va[r.url]&&Ge.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,Ge.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var n;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),i=new Ge(this.baseTexture,!this.noFrame&&e,r,(n=this.trim)==null?void 0:n.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(i._frame=e),i}updateUvs(){this._uvs===kD&&(this._uvs=new Y4),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},i=Oe.STRICT_TEXTURE_CACHE){const n=typeof e=="string";let s=null;if(n)s=e;else if(e instanceof yt){if(!e.cacheId){const o=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${o}-${$h()}`,yt.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const o=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${o}_${$h()}`}s=e._pixiId}let a=Va[s];if(n&&i&&!a)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!a&&!(e instanceof yt)?(r.resolution||(r.resolution=xl(e)),a=new Ge(new yt(e,r)),a.baseTexture.cacheId=s,yt.addToCache(a.baseTexture,s),Ge.addToCache(a,s)):!a&&e instanceof yt&&(a=new Ge(e),Ge.addToCache(a,s)),a}static fromURL(e,r){const i=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),n=Ge.from(e,Object.assign({resourceOptions:i},r),!1),s=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):s.load().then(()=>Promise.resolve(n))}static fromBuffer(e,r,i,n){return new Ge(yt.fromBuffer(e,r,i,n))}static fromLoader(e,r,i,n){const s=new yt(e,Object.assign({scaleMode:yt.defaultOptions.scaleMode,resolution:xl(r)},n)),{resource:a}=s;a instanceof Uz&&(a.url=r);const o=new Ge(s);return i||(i=r),yt.addToCache(o.baseTexture,i),Ge.addToCache(o,i),i!==r&&(yt.addToCache(o.baseTexture,r),Ge.addToCache(o,r)),o.baseTexture.valid?Promise.resolve(o):new Promise(l=>{o.baseTexture.once("loaded",()=>l(o))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Va[r]&&Va[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),Va[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Va[e];if(r){const i=r.textureCacheIds.indexOf(e);return i>-1&&r.textureCacheIds.splice(i,1),delete Va[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)Va[e.textureCacheIds[r]]===e&&delete Va[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:i,width:n,height:s}=e,a=r+n>this.baseTexture.width,o=i+s>this.baseTexture.height;if(a||o){const l=a&&o?"and":"or",u=`X: ${r} + ${n} = ${r+n} > ${this.baseTexture.width}`,c=`Y: ${i} + ${s} = ${i+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${u} ${l} ${c}`)}this.valid=n&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return Ge._EMPTY||(Ge._EMPTY=new Ge(new yt),By(Ge._EMPTY),By(Ge._EMPTY.baseTexture)),Ge._EMPTY}static get WHITE(){if(!Ge._WHITE){const e=Oe.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),Ge._WHITE=new Ge(yt.from(e)),By(Ge._WHITE),By(Ge._WHITE.baseTexture)}return Ge._WHITE}}class ed extends Ge{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,i=!0){const n=this.baseTexture.resolution,s=Math.round(e*n)/n,a=Math.round(r*n)/n;this.valid=s>0&&a>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=a,i&&this.baseTexture.resize(s,a),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new ed(new jz(e))}}class $z{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,i=zr.NONE){const n=new jz(Object.assign({width:e,height:r,resolution:1,multisample:i},this.textureOptions));return new ed(n)}getOptimalTexture(e,r,i=1,n=zr.NONE){let s;e=Math.max(Math.ceil(e*i-1e-6),1),r=Math.max(Math.ceil(r*i-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=m_(e),r=m_(r),s=((e&65535)<<16|r&65535)>>>0,n>1&&(s+=n*4294967296)):s=n>1?-n:-1,this.texturePool[s]||(this.texturePool[s]=[]);let a=this.texturePool[s].pop();return a||(a=this.createTexture(e,r,n)),a.filterPoolKey=s,a.setResolution(i),a}getFilterTexture(e,r,i){const n=this.getOptimalTexture(e.width,e.height,r||e.resolution,i||zr.NONE);return n.filterFrame=e.filterFrame,n}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const i=this.texturePool[r];if(i)for(let n=0;n<i.length;n++)i[n].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const i=this.texturePool[r];if(i)for(let n=0;n<i.length;n++)i[n].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}$z.SCREEN_KEY=-1;class Rge extends Qu{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class zz extends Qu{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Zr(this.vertices),this.uvBuffer=new Zr(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let i=0,n=0;return this.uvs[0]=i,this.uvs[1]=n,this.uvs[2]=i+r.width/e.width,this.uvs[3]=n,this.uvs[4]=i+r.width/e.width,this.uvs[5]=n+r.height/e.height,this.uvs[6]=i,this.uvs[7]=n+r.height/e.height,i=r.x,n=r.y,this.vertices[0]=i,this.vertices[1]=n,this.vertices[2]=i+r.width,this.vertices[3]=n,this.vertices[4]=i+r.width,this.vertices[5]=n+r.height,this.vertices[6]=i,this.vertices[7]=n+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class Ige{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=zr.NONE,this.sourceFrame=new bt,this.destinationFrame=new bt,this.bindingSourceFrame=new bt,this.bindingDestinationFrame=new bt,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const jy=[new Tt,new Tt,new Tt,new Tt],xT=new hr;class Hz{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new $z,this.statePool=[],this.quad=new Rge,this.quadUv=new zz,this.tempRect=new bt,this.activeState={},this.globalUniforms=new ya({outputFrame:new bt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const i=this.renderer,n=this.defaultFilterStack,s=this.statePool.pop()||new Ige,a=i.renderTexture;let o,l;if(a.current){const b=a.current;o=b.resolution,l=b.multisample}else o=i.resolution,l=i.multisample;let u=r[0].resolution||o,c=r[0].multisample??l,d=r[0].padding,h=r[0].autoFit,p=r[0].legacy??!0;for(let b=1;b<r.length;b++){const x=r[b];u=Math.min(u,x.resolution||o),c=Math.min(c,x.multisample??l),d=this.useMaxPadding?Math.max(d,x.padding):d+x.padding,h=h&&x.autoFit,p=p||(x.legacy??!0)}n.length===1&&(this.defaultFilterStack[0].renderTexture=a.current),n.push(s),s.resolution=u,s.multisample=c,s.legacy=p,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(d);const g=this.tempRect.copyFrom(a.sourceFrame);i.projection.transform&&this.transformAABB(xT.copyFrom(i.projection.transform).invert(),g),h?(s.sourceFrame.fit(g),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(g)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,a.current?a.current.resolution:i.resolution,a.sourceFrame,a.destinationFrame,i.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,u,c),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const y=this.tempRect;y.x=0,y.y=0,y.width=s.sourceFrame.width,y.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(a.sourceFrame),s.bindingDestinationFrame.copyFrom(a.destinationFrame),s.transform=i.projection.transform,i.projection.transform=null,a.bind(s.renderTexture,s.sourceFrame,y),i.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),i=r.filters;this.activeState=r;const n=this.globalUniforms.uniforms;n.outputFrame=r.sourceFrame,n.resolution=r.resolution;const s=n.inputSize,a=n.inputPixel,o=n.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],a[0]=Math.round(s[0]*r.resolution),a[1]=Math.round(s[1]*r.resolution),a[2]=1/a[0],a[3]=1/a[1],o[0]=.5*a[2],o[1]=.5*a[3],o[2]=r.sourceFrame.width*s[2]-.5*a[2],o[3]=r.sourceFrame.height*s[3]-.5*a[3],r.legacy){const u=n.filterArea;u[0]=r.destinationFrame.width,u[1]=r.destinationFrame.height,u[2]=r.sourceFrame.x,u[3]=r.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),i.length===1)i[0].apply(this,r.renderTexture,l.renderTexture,to.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let u=r.renderTexture,c=this.getOptimalFilterTexture(u.width,u.height,r.resolution);c.filterFrame=u.filterFrame;let d=0;for(d=0;d<i.length-1;++d){d===1&&r.multisample>1&&(c=this.getOptimalFilterTexture(u.width,u.height,r.resolution),c.filterFrame=u.filterFrame),i[d].apply(this,u,c,to.CLEAR,r);const h=u;u=c,c=h}i[d].apply(this,u,l.renderTexture,to.BLEND,r),d>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(c)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=to.CLEAR){const{renderTexture:i,state:n}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const a=this.tempRect;a.x=0,a.y=0,a.width=e.filterFrame.width,a.height=e.filterFrame.height,i.bind(e,e.filterFrame,a)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=n.stateId&1||this.forceClear;(r===to.CLEAR||r===to.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,i,n){const s=this.renderer;s.state.set(e.state),this.bindAndClear(i,n),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(oo.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(oo.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:i,destinationFrame:n}=this.activeState,{orig:s}=r._texture,a=e.set(n.width,0,0,n.height,i.x,i.y),o=r.worldTransform.copyTo(hr.TEMP_MATRIX);return o.invert(),a.prepend(o),a.scale(1/s.width,1/s.height),a.translate(r.anchor.x,r.anchor.y),a}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,i=1,n=zr.NONE){return this.texturePool.getOptimalTexture(e,r,i,n)}getFilterTexture(e,r,i){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const n=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,i||zr.NONE);return n.filterFrame=e.filterFrame,n}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const i=jy[0],n=jy[1],s=jy[2],a=jy[3];i.set(r.left,r.top),n.set(r.left,r.bottom),s.set(r.right,r.top),a.set(r.right,r.bottom),e.apply(i,i),e.apply(n,n),e.apply(s,s),e.apply(a,a);const o=Math.min(i.x,n.x,s.x,a.x),l=Math.min(i.y,n.y,s.y,a.y),u=Math.max(i.x,n.x,s.x,a.x),c=Math.max(i.y,n.y,s.y,a.y);r.x=o,r.y=l,r.width=u-o,r.height=c-l}roundFrame(e,r,i,n,s){if(!(e.width<=0||e.height<=0||i.width<=0||i.height<=0)){if(s){const{a,b:o,c:l,d:u}=s;if((Math.abs(o)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(a)>1e-4||Math.abs(u)>1e-4))return}s=s?xT.copyFrom(s):xT.identity(),s.translate(-i.x,-i.y).scale(n.width/i.width,n.height/i.height).translate(n.x,n.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}Hz.extension={type:Ie.RendererSystem,name:"filter"};Qe.add(Hz);class Pge{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=zr.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const Mge=new bt;class Gz{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Y3(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new bt,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;Oe.PREFER_ENV===Jh.WEBGL_LEGACY&&(r=null,i=null),r?e.drawBuffers=n=>r.drawBuffersWEBGL(n):(this.hasMRT=!1,e.drawBuffers=()=>{}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,i=0){const{gl:n}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,n.bindFramebuffer(n.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==i&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=i),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,i)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let a=0;a<e.colorTextures.length;a++){const o=e.colorTextures[a];this.renderer.texture.unbind(o.parentTextureArray||o)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const a=r.width>>i,o=r.height>>i,l=a/r.width;this.setViewport(r.x*l,r.y*l,a,o)}else{const a=e.width>>i,o=e.height>>i;this.setViewport(0,0,a,o)}}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,i,n){const s=this.viewport;e=Math.round(e),r=Math.round(r),i=Math.round(i),n=Math.round(n),(s.width!==i||s.height!==n||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=i,s.height=n,this.gl.viewport(e,r,i,n))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,i,n,s=D3.COLOR|D3.DEPTH){const{gl:a}=this;a.clearColor(e,r,i,n),a.clear(s)}initFramebuffer(e){const{gl:r}=this,i=new Pge(r.createFramebuffer());return i.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(e),e.disposeRunner.add(this),i}resizeFramebuffer(e){const{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID];if(i.stencil){r.bindRenderbuffer(r.RENDERBUFFER,i.stencil);let a;this.renderer.context.webGLVersion===1?a=r.DEPTH_STENCIL:e.depth&&e.stencil?a=r.DEPTH24_STENCIL8:e.depth?a=r.DEPTH_COMPONENT24:a=r.STENCIL_INDEX8,i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,a,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,a,e.width,e.height)}const n=e.colorTextures;let s=n.length;r.drawBuffers||(s=Math.min(s,1));for(let a=0;a<s;a++){const o=n[a],l=o.parentTextureArray||o;this.renderer.texture.bind(l,0),a===0&&i.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:i}=this,n=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let a=s.length;i.drawBuffers||(a=Math.min(a,1)),n.multisample>1&&this.canMultisampleFramebuffer(e)?n.msaaBuffer=n.msaaBuffer||i.createRenderbuffer():n.msaaBuffer&&(i.deleteRenderbuffer(n.msaaBuffer),n.msaaBuffer=null,n.blitFramebuffer&&(n.blitFramebuffer.dispose(),n.blitFramebuffer=null));const o=[];for(let l=0;l<a;l++){const u=s[l],c=u.parentTextureArray||u;this.renderer.texture.bind(c,0),l===0&&n.msaaBuffer?(i.bindRenderbuffer(i.RENDERBUFFER,n.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,n.msaaBuffer)):(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+l,u.target,c._glTextures[this.CONTEXT_UID].texture,r),o.push(i.COLOR_ATTACHMENT0+l))}if(o.length>1&&i.drawBuffers(o),e.depthTexture&&this.writeDepthTexture){const l=e.depthTexture;this.renderer.texture.bind(l,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,l._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){n.stencil=n.stencil||i.createRenderbuffer();let l,u;this.renderer.context.webGLVersion===1?(l=i.DEPTH_STENCIL_ATTACHMENT,u=i.DEPTH_STENCIL):e.depth&&e.stencil?(l=i.DEPTH_STENCIL_ATTACHMENT,u=i.DEPTH24_STENCIL8):e.depth?(l=i.DEPTH_ATTACHMENT,u=i.DEPTH_COMPONENT24):(l=i.STENCIL_ATTACHMENT,u=i.STENCIL_INDEX8),i.bindRenderbuffer(i.RENDERBUFFER,n.stencil),n.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,u,e.width,e.height):i.renderbufferStorage(i.RENDERBUFFER,u,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,l,i.RENDERBUFFER,n.stencil)}else n.stencil&&(i.deleteRenderbuffer(n.stencil),n.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let i=zr.NONE;if(e<=1||r===null)return i;for(let n=0;n<r.length;n++)if(r[n]<=e){i=r[n];break}return i===1&&(i=zr.NONE),i}blit(e,r,i){const{current:n,renderer:s,gl:a,CONTEXT_UID:o}=this;if(s.context.webGLVersion!==2||!n)return;const l=n.glFramebuffers[o];if(!l)return;if(!e){if(!l.msaaBuffer)return;const c=n.colorTextures[0];if(!c)return;l.blitFramebuffer||(l.blitFramebuffer=new Y3(n.width,n.height),l.blitFramebuffer.addColorTexture(0,c)),e=l.blitFramebuffer,e.colorTextures[0]!==c&&(e.colorTextures[0]=c,e.dirtyId++,e.dirtyFormat++),(e.width!==n.width||e.height!==n.height)&&(e.width=n.width,e.height=n.height,e.dirtyId++,e.dirtySize++)}r||(r=Mge,r.width=n.width,r.height=n.height),i||(i=r);const u=r.width===i.width&&r.height===i.height;this.bind(e),a.bindFramebuffer(a.READ_FRAMEBUFFER,l.framebuffer),a.blitFramebuffer(r.left,r.top,r.right,r.bottom,i.left,i.top,i.right,i.bottom,a.COLOR_BUFFER_BIT,u?a.NEAREST:a.LINEAR),a.bindFramebuffer(a.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const i=e.glFramebuffers[this.CONTEXT_UID],n=this.gl;if(!i)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(n.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&n.deleteRenderbuffer(i.msaaBuffer),i.stencil&&n.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&this.disposeFramebuffer(i.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let i=0;i<r.length;i++)this.disposeFramebuffer(r[i],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const i=e.width,n=e.height,s=this.gl,a=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,a);let o,l;this.renderer.context.webGLVersion===1?(o=s.DEPTH_STENCIL_ATTACHMENT,l=s.DEPTH_STENCIL):e.depth?(o=s.DEPTH_STENCIL_ATTACHMENT,l=s.DEPTH24_STENCIL8):(o=s.STENCIL_ATTACHMENT,l=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,l,i,n):s.renderbufferStorage(s.RENDERBUFFER,l,i,n),s.framebufferRenderbuffer(s.FRAMEBUFFER,o,s.RENDERBUFFER,a)}reset(){this.current=this.unknownFramebuffer,this.viewport=new bt}destroy(){this.renderer=null}}Gz.extension={type:Ie.RendererSystem,name:"framebuffer"};Qe.add(Gz);const bT={5126:4,5123:2,5121:1};class Vz{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let i=this.renderer.context.extensions.vertexArrayObject;Oe.PREFER_ENV===Jh.WEBGL_LEGACY&&(i=null),i?(e.createVertexArray=()=>i.createVertexArrayOES(),e.bindVertexArray=n=>i.bindVertexArrayOES(n),e.deleteVertexArray=n=>i.deleteVertexArrayOES(n)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=(n,s)=>i.vertexAttribDivisorANGLE(n,s),e.drawElementsInstanced=(n,s,a,o,l)=>i.drawElementsInstancedANGLE(n,s,a,o,l),e.drawArraysInstanced=(n,s,a,o)=>i.drawArraysInstancedANGLE(n,s,a,o)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:i}=this;let n=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;n||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=n={},s=!0);const a=n[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==a&&(this._activeVao=a,this.hasVao?i.bindVertexArray(a):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let i=0;i<e.buffers.length;i++){const n=e.buffers[i];r.update(n)}}checkCompatibility(e,r){const i=e.attributes,n=r.attributeData;for(const s in n)if(!i[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const i=e.attributes,n=r.attributeData,s=["g",e.id];for(const a in i)n[a]&&s.push(a,n[a].location);return s.join("-")}initGeometryVao(e,r,i=!0){const n=this.gl,s=this.CONTEXT_UID,a=this.renderer.buffer,o=r.program;o.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,o);const l=this.getSignature(e,o),u=e.glVertexArrayObjects[this.CONTEXT_UID];let c=u[l];if(c)return u[o.id]=c,c;const d=e.buffers,h=e.attributes,p={},g={};for(const y in d)p[y]=0,g[y]=0;for(const y in h)!h[y].size&&o.attributeData[y]?h[y].size=o.attributeData[y].size:h[y].size||console.warn(`PIXI Geometry attribute '${y}' size cannot be determined (likely the bound shader does not have the attribute)`),p[h[y].buffer]+=h[y].size*bT[h[y].type];for(const y in h){const b=h[y],x=b.size;b.stride===void 0&&(p[b.buffer]===x*bT[b.type]?b.stride=0:b.stride=p[b.buffer]),b.start===void 0&&(b.start=g[b.buffer],g[b.buffer]+=x*bT[b.type])}c=n.createVertexArray(),n.bindVertexArray(c);for(let y=0;y<d.length;y++){const b=d[y];a.bind(b),i&&b._glBuffers[s].refCount++}return this.activateVao(e,o),u[o.id]=c,u[l]=c,n.bindVertexArray(null),a.unbind(go.ARRAY_BUFFER),c}disposeGeometry(e,r){var o;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const i=e.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,s=e.buffers,a=(o=this.renderer)==null?void 0:o.buffer;if(e.disposeRunner.remove(this),!!i){if(a)for(let l=0;l<s.length;l++){const u=s[l]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!r&&a.dispose(s[l],r))}if(!r){for(const l in i)if(l[0]==="g"){const u=i[l];this._activeVao===u&&this.unbind(),n.deleteVertexArray(u)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let i=0;i<r.length;i++)this.disposeGeometry(this.managedGeometries[r[i]],e)}activateVao(e,r){const i=this.gl,n=this.CONTEXT_UID,s=this.renderer.buffer,a=e.buffers,o=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const u in o){const c=o[u],d=a[c.buffer],h=d._glBuffers[n];if(r.attributeData[u]){l!==h&&(s.bind(d),l=h);const p=r.attributeData[u].location;if(i.enableVertexAttribArray(p),i.vertexAttribPointer(p,c.size,c.type||i.FLOAT,c.normalized,c.stride,c.start),c.instance)if(this.hasInstance)i.vertexAttribDivisor(p,c.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,i,n){const{gl:s}=this,a=this._activeGeometry;if(a.indexBuffer){const o=a.indexBuffer.data.BYTES_PER_ELEMENT,l=o===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;o===2||o===4&&this.canUseUInt32ElementIndex?a.instanced?s.drawElementsInstanced(e,r||a.indexBuffer.data.length,l,(i||0)*o,n||1):s.drawElements(e,r||a.indexBuffer.data.length,l,(i||0)*o):console.warn("unsupported index buffer type: uint32")}else a.instanced?s.drawArraysInstanced(e,i,r||a.getSize(),n||1):s.drawArrays(e,i,r||a.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}Vz.extension={type:Ie.RendererSystem,name:"geometry"};Qe.add(Vz);const ND=new hr;class Wz{constructor(e,r){this._texture=e,this.mapCoord=new hr,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const i=this.mapCoord;for(let n=0;n<e.length;n+=2){const s=e[n],a=e[n+1];r[n]=s*i.a+a*i.c+i.tx,r[n+1]=s*i.b+a*i.d+i.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const i=r._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);const n=r.orig,s=r.trim;s&&(ND.set(n.width/s.width,0,0,n.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(ND));const a=r.baseTexture,o=this.uClampFrame,l=this.clampMargin/a.resolution,u=this.clampOffset;return o[0]=(r._frame.x+l+u)/a.width,o[1]=(r._frame.y+l+u)/a.height,o[2]=(r._frame.x+r._frame.width-l+u)/a.width,o[3]=(r._frame.y+r._frame.height-l+u)/a.height,this.uClampOffset[0]=u/a.realWidth,this.uClampOffset[1]=u/a.realHeight,this.isSimple=r._frame.width===a.width&&r._frame.height===a.height&&r.rotate===0,!0}}var kge=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,Nge=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class Oge extends Ki{constructor(e,r,i){let n=null;typeof e!="string"&&r===void 0&&i===void 0&&(n=e,e=void 0,r=void 0,i=void 0),super(e||Nge,r||kge,i),this.maskSprite=n,this.maskMatrix=new hr}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,i,n){const s=this._maskSprite,a=s._texture;a.valid&&(a.uvMatrix||(a.uvMatrix=new Wz(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,r,i,n))}}class Lge{constructor(e=null){this.type=qr.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Ki.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=qr.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class Xz{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let i=r;if(!i.isMaskData){const s=this.maskDataPool.pop()||new Lge;s.pooled=!0,s.maskObject=r,i=s}const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(i.copyCountersOrReset(n),i._colorMask=n?n._colorMask:15,i.autoDetect&&this.detect(i),i._target=e,i.type!==qr.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case qr.SCISSOR:this.renderer.scissor.push(i);break;case qr.STENCIL:this.renderer.stencil.push(i);break;case qr.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i);break;case qr.COLOR:this.pushColorMask(i);break}i.type===qr.SPRITE&&this.maskStack.push(i)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case qr.SCISSOR:this.renderer.scissor.pop(r);break;case qr.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case qr.SPRITE:this.popSpriteMask(r);break;case qr.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const i=this.maskStack[this.maskStack.length-1];i.type===qr.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=qr.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=qr.SCISSOR:e.type=qr.STENCIL:e.type=qr.COLOR}pushSpriteMask(e){const{maskObject:r}=e,i=e._target;let n=e._filters;n||(n=this.alphaMaskPool[this.alphaMaskIndex],n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new Oge])),n[0].resolution=e.resolution,n[0].multisample=e.multisample,n[0].maskSprite=r;const s=i.filterArea;i.filterArea=r.getBounds(!0),this.renderer.filter.push(i,n),i.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,i=e._colorMask=r&e.colorMask;i!==r&&this.renderer.gl.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)}popColorMask(e){const r=e._colorMask,i=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;i!==r&&this.renderer.gl.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)}destroy(){this.renderer=null}}Xz.extension={type:Ie.RendererSystem,name:"mask"};Qe.add(Xz);class Yz{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,i=this.getStackLength();this.maskStack=e;const n=this.getStackLength();n!==i&&(n===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const OD=new hr,LD=[],qz=class Hx extends Yz{constructor(e){super(e),this.glConst=Oe.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:i}=e,{renderer:n}=this,s=n.renderTexture,a=i.getBounds(!0,LD.pop()??new bt);this.roundFrameToPixels(a,s.current?s.current.resolution:n.resolution,s.sourceFrame,s.destinationFrame,n.projection.transform),r&&a.fit(r),e._scissorRectLocal=a}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:i,c:n,d:s}=e;return(Math.abs(i)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||Hx.isMatrixRotated(r.worldTransform)||Hx.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const i=e._scissorRectLocal;return i.width>0&&i.height>0}roundFrameToPixels(e,r,i,n,s){Hx.isMatrixRotated(s)||(s=s?OD.copyFrom(s):OD.identity(),s.translate(-i.x,-i.y).scale(n.width/i.width,n.height/i.height).translate(n.x,n.y),this.renderer.filter.transformAABB(s,e),e.fit(n),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&LD.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};qz.extension={type:Ie.RendererSystem,name:"scissor"};let Dge=qz;Qe.add(Dge);class Kz extends Yz{constructor(e){super(e),this.glConst=Oe.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:i}=this.renderer,n=e._stencilCounter;n===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,n,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,i.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,n=i?i._colorMask:15;n!==0&&(i._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,n!==0&&(i._colorMask=n,r.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}Kz.extension={type:Ie.RendererSystem,name:"stencil"};Qe.add(Kz);class Qz{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Pt("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Pt("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Pt("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}Qz.extension={type:[Ie.RendererSystem,Ie.CanvasRendererSystem],name:"_plugin"};Qe.add(Qz);class Zz{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new hr,this.transform=null}update(e,r,i,n){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,n),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,i,n){const s=this.projectionMatrix,a=n?-1:1;s.identity(),s.a=1/r.width*2,s.d=a*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-a-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}Zz.extension={type:Ie.RendererSystem,name:"projection"};Qe.add(Zz);const Fge=new X4,DD=new bt;class Jz{constructor(e){this.renderer=e,this._tempMatrix=new hr}generateTexture(e,r){const{region:i,...n}=r||{},s=(i==null?void 0:i.copyTo(DD))||e.getLocalBounds(DD,!0),a=n.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/a),s.height=Math.max(s.height,1/a),n.width=s.width,n.height=s.height,n.resolution=a,n.multisample??(n.multisample=this.renderer.multisample);const o=ed.create(n);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const l=e.transform;return e.transform=Fge,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=l,o}destroy(){}}Jz.extension={type:[Ie.RendererSystem,Ie.CanvasRendererSystem],name:"textureGenerator"};Qe.add(Jz);const Cc=new bt,Mm=new bt;class eH{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new bt,this.destinationFrame=new bt,this.viewportFrame=new bt}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,i){const n=this.renderer;this.current=e;let s,a,o;e?(s=e.baseTexture,o=s.resolution,r||(Cc.width=e.frame.width,Cc.height=e.frame.height,r=Cc),i||(Mm.x=e.frame.x,Mm.y=e.frame.y,Mm.width=r.width,Mm.height=r.height,i=Mm),a=s.framebuffer):(o=n.resolution,r||(Cc.width=n._view.screen.width,Cc.height=n._view.screen.height,r=Cc),i||(i=Cc,i.width=r.width,i.height=r.height));const l=this.viewportFrame;l.x=i.x*o,l.y=i.y*o,l.width=i.width*o,l.height=i.height*o,e||(l.y=n.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(a,l),this.renderer.projection.update(i,r,o,!a),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(i)}clear(e,r){const i=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,n=ur.shared.setValue(e||i);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&n.premultiply(n.alpha);const s=this.destinationFrame,a=this.current?this.current.baseTexture:this.renderer._view.screen,o=s.width!==a.width||s.height!==a.height;if(o){let{x:l,y:u,width:c,height:d}=this.viewportFrame;l=Math.round(l),u=Math.round(u),c=Math.round(c),d=Math.round(d),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(l,u,c,d)}this.renderer.framebuffer.clear(n.red,n.green,n.blue,n.alpha,r),o&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}eH.extension={type:Ie.RendererSystem,name:"renderTexture"};Qe.add(eH);class Bge{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function jge(t,e){const r={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let n=0;n<i;n++){const s=e.getActiveAttrib(t,n);if(s.name.startsWith("gl_"))continue;const a=Fz(e,s.type),o={type:a,name:s.name,size:Dz(a),location:e.getAttribLocation(t,s.name)};r[s.name]=o}return r}function Uge(t,e){const r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let n=0;n<i;n++){const s=e.getActiveUniform(t,n),a=s.name.replace(/\[.*?\]$/,""),o=!!s.name.match(/\[.*?\]$/),l=Fz(e,s.type);r[a]={name:a,index:n,type:l,size:s.size,isArray:o,value:Oz(l,s.size)}}return r}function $ge(t,e){var o;const r=CD(t,t.VERTEX_SHADER,e.vertexSrc),i=CD(t,t.FRAGMENT_SHADER,e.fragmentSrc),n=t.createProgram();t.attachShader(n,r),t.attachShader(n,i);const s=(o=e.extra)==null?void 0:o.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(n,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS)||gge(t,n,r,i),e.attributeData=jge(n,t),e.uniformData=Uge(n,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const l=Object.keys(e.attributeData);l.sort((u,c)=>u>c?1:-1);for(let u=0;u<l.length;u++)e.attributeData[l[u]].location=u,t.bindAttribLocation(n,u,l[u]);t.linkProgram(n)}t.deleteShader(r),t.deleteShader(i);const a={};for(const l in e.uniformData){const u=e.uniformData[l];a[l]={location:t.getUniformLocation(n,l),value:Oz(u.type,u.size)}}return new Bge(n,a)}function zge(t,e,r,i,n){r.buffer.update(n)}const Hge={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},tH={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function Gge(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,i=0,n=0;for(let s=0;s<e.length;s++){const a=e[s];if(r=tH[a.data.type],a.data.size>1&&(r=Math.max(r,16)*a.data.size),a.dataLen=r,i%r!==0&&i<16){const o=i%r%16;i+=o,n+=o}i+r>16?(n=Math.ceil(n/16)*16,a.offset=n,n+=r,i=r):(a.offset=n,i+=r,n+=r)}return n=Math.ceil(n/16)*16,{uboElements:e,size:n}}function Vge(t,e){const r=[];for(const i in t)e[i]&&r.push(e[i]);return r.sort((i,n)=>i.index-n.index),r}function Wge(t,e){if(!t.autoManage)return{size:0,syncFunc:zge};const r=Vge(t.uniforms,e),{uboElements:i,size:n}=Gge(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let a=0;a<i.length;a++){const o=i[a],l=t.uniforms[o.data.name],u=o.data.name;let c=!1;for(let d=0;d<Pf.length;d++){const h=Pf[d];if(h.codeUbo&&h.test(o.data,l)){s.push(`offset = ${o.offset/4};`,Pf[d].codeUbo(o.data.name,l)),c=!0;break}}if(!c)if(o.data.size>1){const d=Dz(o.data.type),h=Math.max(tH[o.data.type]/16,1),p=d/h,g=(4-p%4)%4;s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${o.offset/4};

                t = 0;

                for(var i=0; i < ${o.data.size*h}; i++)
                {
                    for(var j = 0; j < ${p}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${g};
                }

                `)}else{const d=Hge[o.data.type];s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${o.offset/4};
                ${d};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:n,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let Xge=0;const Uy={textureCount:0,uboCount:0};class rH{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Xge++}systemCheck(){if(!yge())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const i=e.program,n=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==i&&(this.program=i,this.gl.useProgram(n.program)),r||(Uy.textureCount=0,Uy.uboCount=0,this.syncUniformGroup(e.uniformGroup,Uy)),n}setUniforms(e){const r=this.shader.program,i=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(i.uniformData,e,this.renderer)}syncUniformGroup(e,r){const i=this.getGlProgram();(!e.static||e.dirtyId!==i.uniformDirtyGroups[e.id])&&(i.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,i,r))}syncUniforms(e,r,i){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,i)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=fge(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const i=this.getGlProgram();if(!e.static||e.dirtyId!==0||!i.uniformGroups[e.id]){e.dirtyId=0;const n=i.uniformGroups[e.id]||this.createSyncBufferGroup(e,i,r);e.buffer.update(),n(i.uniformData,e.uniforms,this.renderer,Uy,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,i.uniformBufferBindings[r])}createSyncBufferGroup(e,r,i){const{gl:n}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,i);r.uniformBufferBindings[i]=this.shader.uniformBindCount,n.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const a=this.getSignature(e,this.shader.program.uniformData,"ubo");let o=this._uboCache[a];if(o||(o=this._uboCache[a]=Wge(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(o.size/4);e.buffer.update(l)}return r.uniformGroups[e.id]=o.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,i){const n=e.uniforms,s=[`${i}-`];for(const a in n)s.push(a),r[a]&&s.push(r[a].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,i=e.program,n=$ge(r,i);return i.glPrograms[this.renderer.CONTEXT_UID]=n,n}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}rH.extension={type:Ie.RendererSystem,name:"shader"};Qe.add(rH);class b_{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.3.2 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}b_.defaultOptions={hello:!1},b_.extension={type:[Ie.RendererSystem,Ie.CanvasRendererSystem],name:"startup"};Qe.add(b_);function Yge(t,e=[]){return e[ht.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ht.ADD]=[t.ONE,t.ONE],e[ht.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ht.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ht.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ht.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ht.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ht.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ht.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ht.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ht.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ht.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ht.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ht.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ht.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ht.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ht.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ht.NONE]=[0,0],e[ht.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ht.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ht.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ht.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ht.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ht.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ht.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ht.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ht.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ht.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ht.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ht.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const qge=0,Kge=1,Qge=2,Zge=3,Jge=4,e0e=5,iH=class q3{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ht.NONE,this._blendEq=!1,this.map=[],this.map[qge]=this.setBlend,this.map[Kge]=this.setOffset,this.map[Qge]=this.setCullFace,this.map[Zge]=this.setDepthTest,this.map[Jge]=this.setFrontFace,this.map[e0e]=this.setDepthMask,this.checks=[],this.defaultState=new Ao,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=Yge(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,i=0;for(;r;)r&1&&this.map[i].call(this,!!(e.data&1<<i)),r=r>>1,i++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(q3.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(q3.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],i=this.gl;r.length===2?i.blendFunc(r[0],r[1]):i.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,i.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const i=this.checks.indexOf(e);r&&i===-1?this.checks.push(e):!r&&i!==-1&&this.checks.splice(i,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};iH.extension={type:Ie.RendererSystem,name:"state"};let t0e=iH;Qe.add(t0e);class r0e extends El{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(n=>e.systems[n]),i=[...r,...Object.keys(e.systems).filter(n=>!r.includes(n))];for(const n of i)this.addSystem(e.systems[n],n)}addRunners(...e){e.forEach(r=>{this.runners[r]=new va(r)})}addSystem(e,r){const i=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=i,this._systemsHash[r]=i;for(const n in this.runners)this.runners[n].add(i);return this}emitWithCustomOptions(e,r){const i=Object.keys(this._systemsHash);e.items.forEach(n=>{const s=i.find(a=>this._systemsHash[a]===n);n[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const sg=class Gx{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Gx.defaultMaxIdle,this.checkCountMax=Gx.defaultCheckCountMax,this.mode=Gx.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==W4.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let i=!1;for(let n=0;n<r.length;n++){const s=r[n];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[n]=null,i=!0)}if(i){let n=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[n++]=r[s]);r.length=n}}unload(e){const r=this.renderer.texture,i=e._texture;i&&!i.framebuffer&&r.destroyTexture(i);for(let n=e.children.length-1;n>=0;n--)this.unload(e.children[n])}destroy(){this.renderer=null}};sg.defaultMode=W4.AUTO,sg.defaultMaxIdle=60*60,sg.defaultCheckCountMax=60*10,sg.extension={type:Ie.RendererSystem,name:"textureGC"};let Vc=sg;Qe.add(Vc);class _T{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=et.UNSIGNED_BYTE,this.internalFormat=be.RGBA,this.samplerType=0}}function i0e(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:Ne.FLOAT,[t.RGBA]:Ne.FLOAT,[t.ALPHA]:Ne.FLOAT,[t.LUMINANCE]:Ne.FLOAT,[t.LUMINANCE_ALPHA]:Ne.FLOAT,[t.R8]:Ne.FLOAT,[t.R8_SNORM]:Ne.FLOAT,[t.RG8]:Ne.FLOAT,[t.RG8_SNORM]:Ne.FLOAT,[t.RGB8]:Ne.FLOAT,[t.RGB8_SNORM]:Ne.FLOAT,[t.RGB565]:Ne.FLOAT,[t.RGBA4]:Ne.FLOAT,[t.RGB5_A1]:Ne.FLOAT,[t.RGBA8]:Ne.FLOAT,[t.RGBA8_SNORM]:Ne.FLOAT,[t.RGB10_A2]:Ne.FLOAT,[t.RGB10_A2UI]:Ne.FLOAT,[t.SRGB8]:Ne.FLOAT,[t.SRGB8_ALPHA8]:Ne.FLOAT,[t.R16F]:Ne.FLOAT,[t.RG16F]:Ne.FLOAT,[t.RGB16F]:Ne.FLOAT,[t.RGBA16F]:Ne.FLOAT,[t.R32F]:Ne.FLOAT,[t.RG32F]:Ne.FLOAT,[t.RGB32F]:Ne.FLOAT,[t.RGBA32F]:Ne.FLOAT,[t.R11F_G11F_B10F]:Ne.FLOAT,[t.RGB9_E5]:Ne.FLOAT,[t.R8I]:Ne.INT,[t.R8UI]:Ne.UINT,[t.R16I]:Ne.INT,[t.R16UI]:Ne.UINT,[t.R32I]:Ne.INT,[t.R32UI]:Ne.UINT,[t.RG8I]:Ne.INT,[t.RG8UI]:Ne.UINT,[t.RG16I]:Ne.INT,[t.RG16UI]:Ne.UINT,[t.RG32I]:Ne.INT,[t.RG32UI]:Ne.UINT,[t.RGB8I]:Ne.INT,[t.RGB8UI]:Ne.UINT,[t.RGB16I]:Ne.INT,[t.RGB16UI]:Ne.UINT,[t.RGB32I]:Ne.INT,[t.RGB32UI]:Ne.UINT,[t.RGBA8I]:Ne.INT,[t.RGBA8UI]:Ne.UINT,[t.RGBA16I]:Ne.INT,[t.RGBA16UI]:Ne.UINT,[t.RGBA32I]:Ne.INT,[t.RGBA32UI]:Ne.UINT,[t.DEPTH_COMPONENT16]:Ne.FLOAT,[t.DEPTH_COMPONENT24]:Ne.FLOAT,[t.DEPTH_COMPONENT32F]:Ne.FLOAT,[t.DEPTH_STENCIL]:Ne.FLOAT,[t.DEPTH24_STENCIL8]:Ne.FLOAT,[t.DEPTH32F_STENCIL8]:Ne.FLOAT}:e={[t.RGB]:Ne.FLOAT,[t.RGBA]:Ne.FLOAT,[t.ALPHA]:Ne.FLOAT,[t.LUMINANCE]:Ne.FLOAT,[t.LUMINANCE_ALPHA]:Ne.FLOAT,[t.DEPTH_STENCIL]:Ne.FLOAT},e}function n0e(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[et.UNSIGNED_BYTE]:{[be.RGBA]:t.RGBA8,[be.RGB]:t.RGB8,[be.RG]:t.RG8,[be.RED]:t.R8,[be.RGBA_INTEGER]:t.RGBA8UI,[be.RGB_INTEGER]:t.RGB8UI,[be.RG_INTEGER]:t.RG8UI,[be.RED_INTEGER]:t.R8UI,[be.ALPHA]:t.ALPHA,[be.LUMINANCE]:t.LUMINANCE,[be.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[et.BYTE]:{[be.RGBA]:t.RGBA8_SNORM,[be.RGB]:t.RGB8_SNORM,[be.RG]:t.RG8_SNORM,[be.RED]:t.R8_SNORM,[be.RGBA_INTEGER]:t.RGBA8I,[be.RGB_INTEGER]:t.RGB8I,[be.RG_INTEGER]:t.RG8I,[be.RED_INTEGER]:t.R8I},[et.UNSIGNED_SHORT]:{[be.RGBA_INTEGER]:t.RGBA16UI,[be.RGB_INTEGER]:t.RGB16UI,[be.RG_INTEGER]:t.RG16UI,[be.RED_INTEGER]:t.R16UI,[be.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[et.SHORT]:{[be.RGBA_INTEGER]:t.RGBA16I,[be.RGB_INTEGER]:t.RGB16I,[be.RG_INTEGER]:t.RG16I,[be.RED_INTEGER]:t.R16I},[et.UNSIGNED_INT]:{[be.RGBA_INTEGER]:t.RGBA32UI,[be.RGB_INTEGER]:t.RGB32UI,[be.RG_INTEGER]:t.RG32UI,[be.RED_INTEGER]:t.R32UI,[be.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[et.INT]:{[be.RGBA_INTEGER]:t.RGBA32I,[be.RGB_INTEGER]:t.RGB32I,[be.RG_INTEGER]:t.RG32I,[be.RED_INTEGER]:t.R32I},[et.FLOAT]:{[be.RGBA]:t.RGBA32F,[be.RGB]:t.RGB32F,[be.RG]:t.RG32F,[be.RED]:t.R32F,[be.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[et.HALF_FLOAT]:{[be.RGBA]:t.RGBA16F,[be.RGB]:t.RGB16F,[be.RG]:t.RG16F,[be.RED]:t.R16F},[et.UNSIGNED_SHORT_5_6_5]:{[be.RGB]:t.RGB565},[et.UNSIGNED_SHORT_4_4_4_4]:{[be.RGBA]:t.RGBA4},[et.UNSIGNED_SHORT_5_5_5_1]:{[be.RGBA]:t.RGB5_A1},[et.UNSIGNED_INT_2_10_10_10_REV]:{[be.RGBA]:t.RGB10_A2,[be.RGBA_INTEGER]:t.RGB10_A2UI},[et.UNSIGNED_INT_10F_11F_11F_REV]:{[be.RGB]:t.R11F_G11F_B10F},[et.UNSIGNED_INT_5_9_9_9_REV]:{[be.RGB]:t.RGB9_E5},[et.UNSIGNED_INT_24_8]:{[be.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[et.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[be.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[et.UNSIGNED_BYTE]:{[be.RGBA]:t.RGBA,[be.RGB]:t.RGB,[be.ALPHA]:t.ALPHA,[be.LUMINANCE]:t.LUMINANCE,[be.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[et.UNSIGNED_SHORT_5_6_5]:{[be.RGB]:t.RGB},[et.UNSIGNED_SHORT_4_4_4_4]:{[be.RGBA]:t.RGBA},[et.UNSIGNED_SHORT_5_5_5_1]:{[be.RGBA]:t.RGBA}},e}class nH{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new yt,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=n0e(e),this.samplerTypes=i0e(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};const i=new _T(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new _T(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let n=0;n<this.boundTextures.length;n++)this.bind(null,n)}bind(e,r=0){const{gl:i}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const n=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),i.bindTexture(e.target,n.texture)),n.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),this.updateTexture(e)):n.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:i}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let n=0;n<i.length;n++)i[n]===this.unknownTexture&&this.bind(null,n)}for(let n=0;n<i.length;n++)i[n]===e&&(this.currentLocation!==n&&(r.activeTexture(r.TEXTURE0+n),this.currentLocation=n),r.bindTexture(e.target,this.emptyTextures[e.target].texture),i[n]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:i,CONTEXT_UID:n}=this;if(i)for(let s=e-1;s>=0;--s){const a=r[s];a&&a._glTextures[n].samplerType!==Ne.FLOAT&&this.renderer.texture.unbind(a)}}initTexture(e){const r=new _T(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var i;r.internalFormat=((i=this.internalFormats[e.type])==null?void 0:i[e.format])??e.format,r.samplerType=this.samplerTypes[r.internalFormat]??Ne.FLOAT,this.webGLVersion===2&&e.type===et.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var n;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const i=this.renderer;if(this.initTextureType(e,r),(n=e.resource)==null?void 0:n.upload(i,e,r))r.samplerType!==Ne.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,a=e.realHeight,o=i.gl;(r.width!==s||r.height!==a||r.dirtyId<0)&&(r.width=s,r.height=a,o.texImage2D(e.target,0,r.internalFormat,s,a,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:i}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),i.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const n=this.managedTextures.indexOf(e);n!==-1&&If(this.managedTextures,n,1)}}updateTextureStyle(e){var i;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Eo.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=Gu.CLAMP:r.wrapMode=e.wrapMode,(i=e.resource)!=null&&i.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const i=this.gl;if(r.mipmap&&e.mipmap!==Eo.ON_MANUAL&&i.generateMipmap(e.target),i.texParameteri(e.target,i.TEXTURE_WRAP_S,r.wrapMode),i.texParameteri(e.target,i.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===el.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);const n=this.renderer.context.extensions.anisotropicFiltering;if(n&&e.anisotropicLevel>0&&e.scaleMode===el.LINEAR){const s=Math.min(e.anisotropicLevel,i.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(e.target,n.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===el.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(e.target,i.TEXTURE_MAG_FILTER,e.scaleMode===el.LINEAR?i.LINEAR:i.NEAREST)}destroy(){this.renderer=null}}nH.extension={type:Ie.RendererSystem,name:"texture"};Qe.add(nH);class sH{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:i}=this,n=e._glTransformFeedbacks[i]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,n)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:i,renderer:n}=this;r&&n.shader.bind(r),i.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:i,CONTEXT_UID:n}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[n]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let a=0;a<e.buffers.length;a++){const o=e.buffers[a];o&&(i.buffer.update(o),o._glBuffers[n].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,a,o._glBuffers[n].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const i=e._glTransformFeedbacks[this.CONTEXT_UID],n=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let a=0;a<e.buffers.length;a++){const o=e.buffers[a];if(!o)continue;const l=o._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(o,r))}i&&(r||n.deleteTransformFeedback(i),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}sH.extension={type:Ie.RendererSystem,name:"transformFeedback"};Qe.add(sH);class __{constructor(e){this.renderer=e}init(e){this.screen=new bt(0,0,e.width,e.height),this.element=e.view||Oe.ADAPTER.createCanvas(),this.resolution=e.resolution||Oe.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const i=this.element.width/this.resolution,n=this.element.height/this.resolution;this.screen.width=i,this.screen.height=n,this.autoDensity&&(this.element.style.width=`${i}px`,this.element.style.height=`${n}px`),this.renderer.emit("resize",i,n),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}__.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},__.extension={type:[Ie.RendererSystem,Ie.CanvasRendererSystem],name:"_view"};Qe.add(__);Oe.PREFER_ENV=Jh.WEBGL2;Oe.STRICT_TEXTURE_CACHE=!1;Oe.RENDER_OPTIONS={...x_.defaultOptions,...y_.defaultOptions,...__.defaultOptions,...b_.defaultOptions};Object.defineProperties(Oe,{WRAP_MODE:{get(){return yt.defaultOptions.wrapMode},set(t){Pt("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),yt.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return yt.defaultOptions.scaleMode},set(t){Pt("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),yt.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return yt.defaultOptions.mipmap},set(t){Pt("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),yt.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return yt.defaultOptions.anisotropicLevel},set(t){Pt("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),yt.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Pt("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Ki.defaultResolution},set(t){Ki.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Pt("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Ki.defaultMultisample},set(t){Ki.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Gc.defaultMaxTextures},set(t){Pt("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Gc.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Gc.defaultBatchSize},set(t){Pt("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Gc.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Gc.canUploadSameBuffer},set(t){Pt("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Gc.canUploadSameBuffer=t}},GC_MODE:{get(){return Vc.defaultMode},set(t){Pt("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Vc.defaultMode=t}},GC_MAX_IDLE:{get(){return Vc.defaultMaxIdle},set(t){Pt("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Vc.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return Vc.defaultCheckCountMax},set(t){Pt("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Vc.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return il.defaultVertexPrecision},set(t){Pt("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),il.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return il.defaultFragmentPrecision},set(t){Pt("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),il.defaultFragmentPrecision=t}}});var vp=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(vp||{});class wT{constructor(e,r=null,i=0,n=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=i,this.once=n}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const aH=class Mn{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new wT(null,null,1/0),this.deltaMS=1/Mn.targetFPMS,this.elapsedMS=1/Mn.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,i=vp.NORMAL){return this._addListener(new wT(e,r,i))}addOnce(e,r,i=vp.NORMAL){return this._addListener(new wT(e,r,i,!0))}_addListener(e){let r=this._head.next,i=this._head;if(!r)e.connect(i);else{for(;r;){if(e.priority>r.priority){e.connect(i);break}i=r,r=r.next}e.previous||e.connect(i)}return this._startIfPossible(),this}remove(e,r){let i=this._head.next;for(;i;)i.match(e,r)?i=i.destroy():i=i.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Mn.targetFPMS;const i=this._head;let n=i.next;for(;n;)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),i=Math.min(Math.max(0,r)/1e3,Mn.targetFPMS);this._maxElapsedMS=1/i}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!Mn._shared){const e=Mn._shared=new Mn;e.autoStart=!0,e._protected=!0}return Mn._shared}static get system(){if(!Mn._system){const e=Mn._system=new Mn;e.autoStart=!0,e._protected=!0}return Mn._system}};aH.targetFPMS=.06;let fa=aH;Object.defineProperties(Oe,{TARGET_FPMS:{get(){return fa.targetFPMS},set(t){Pt("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),fa.targetFPMS=t}}});class oH{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,vp.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?fa.shared:new fa,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}oH.extension=Ie.Application;Qe.add(oH);const lH=[];Qe.handleByList(Ie.Renderer,lH);function s0e(t){for(const e of lH)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var a0e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,o0e=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const l0e=a0e,uH=o0e;class cH{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const i=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,i)}else{const i=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,i)}r>=zr.HIGH?this.multisample=zr.HIGH:r>=zr.MEDIUM?this.multisample=zr.MEDIUM:r>=zr.LOW?this.multisample=zr.LOW:this.multisample=zr.NONE}destroy(){}}cH.extension={type:Ie.RendererSystem,name:"_multisample"};Qe.add(cH);class u0e{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class hH{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:i}=this,n=e._glBuffers[i]||this.createGLBuffer(e);r.bindBuffer(e.type,n.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:i,CONTEXT_UID:n}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[n]||this.createGLBuffer(e);this.boundBufferBases[r]=e,i.bindBufferBase(i.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,i){const{gl:n,CONTEXT_UID:s}=this;i=i||0;const a=e._glBuffers[s]||this.createGLBuffer(e);n.bindBufferRange(n.UNIFORM_BUFFER,r||0,a.buffer,i*256,256)}update(e){const{gl:r,CONTEXT_UID:i}=this,n=e._glBuffers[i]||this.createGLBuffer(e);if(e._updateID!==n.updateID)if(n.updateID=e._updateID,r.bindBuffer(e.type,n.buffer),n.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;n.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const i=e._glBuffers[this.CONTEXT_UID],n=this.gl;e.disposeRunner.remove(this),i&&(r||n.deleteBuffer(i.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let i=0;i<r.length;i++)this.dispose(this.managedBuffers[r[i]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:i}=this;return e._glBuffers[r]=new u0e(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}hH.extension={type:Ie.RendererSystem,name:"buffer"};Qe.add(hH);class dH{constructor(e){this.renderer=e}render(e,r){const i=this.renderer;let n,s,a,o;if(r&&(n=r.renderTexture,s=r.clear,a=r.transform,o=r.skipUpdateTransform),this.renderingToScreen=!n,i.runners.prerender.emit(),i.emit("prerender"),i.projection.transform=a,!i.context.isLost){if(n||(this.lastObjectRendered=e),!o){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}i.renderTexture.bind(n),i.batch.currentRenderer.start(),(s??i.background.clearBeforeRender)&&i.renderTexture.clear(),e.render(i),i.batch.currentRenderer.flush(),n&&(r.blit&&i.framebuffer.blit(),n.baseTexture.update()),i.runners.postrender.emit(),i.projection.transform=null,i.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}dH.extension={type:Ie.RendererSystem,name:"objectRenderer"};Qe.add(dH);const Vx=class K3 extends r0e{constructor(e){super(),this.type=Az.WEBGL,e=Object.assign({},Oe.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new ya({projectionMatrix:new hr},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:K3.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(Pt("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=K3.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:$me()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Pt("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Pt("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Pt("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Pt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Pt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Pt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Pt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Pt("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};Vx.extension={type:Ie.Renderer,priority:1},Vx.__plugins={},Vx.__systems={};let q4=Vx;Qe.handleByMap(Ie.RendererPlugin,q4.__plugins);Qe.handleByMap(Ie.RendererSystem,q4.__systems);Qe.add(q4);class fH extends B0{constructor(e,r){const{width:i,height:n}=r||{};super(i,n),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const a=new yt;this.items.push(a),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let i=0;i<this.length;i++)e[i]&&(e[i].castToBaseTexture?this.addBaseTextureAt(e[i].castToBaseTexture(),i):e[i]instanceof B0?this.addResourceAt(e[i],i):this.addResourceAt(Pz(e[i],r),i))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:i}=this.items[0];return this.resize(r,i),this.update(),Promise.resolve(this)}),this._load}}class c0e extends fH{constructor(e,r){const{width:i,height:n}=r||{};let s,a;Array.isArray(e)?(s=e,a=e.length):a=e,super(a,{width:i,height:n}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Rf.TEXTURE_2D_ARRAY}upload(e,r,i){const{length:n,itemDirtyIds:s,items:a}=this,{gl:o}=e;i.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,n,0,r.format,i.type,null);for(let l=0;l<n;l++){const u=a[l];s[l]<u.dirtyId&&(s[l]=u.dirtyId,u.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,l,u.resource.width,u.resource.height,1,r.format,i.type,u.resource.source))}return!0}}class h0e extends Zu{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const pH=class ag extends fH{constructor(e,r){const{width:i,height:n,autoLoad:s,linkBaseTexture:a}=r||{};if(e&&e.length!==ag.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:i,height:n});for(let o=0;o<ag.SIDES;o++)this.items[o].target=Rf.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=a!==!1,e&&this.initFromArray(e,r),s!==!1&&this.load()}bind(e){super.bind(e),e.target=Rf.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,i){if(i===void 0&&(i=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=Rf.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,i){const n=this.itemDirtyIds;for(let s=0;s<ag.SIDES;s++){const a=this.items[s];(n[s]<a.dirtyId||i.dirtyId<r.dirtyId)&&(a.valid&&a.resource?(a.resource.upload(e,a,i),n[s]=a.dirtyId):n[s]<-1&&(e.gl.texImage2D(a.target,0,i.internalFormat,r.realWidth,r.realHeight,0,r.format,i.type,null),n[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===ag.SIDES}};pH.SIDES=6;let d0e=pH;class uf extends Zu{constructor(e,r){r=r||{};let i,n,s;typeof e=="string"?(i=uf.EMPTY,n=e,s=!0):(i=e,n=null,s=!1),super(i),this.url=n,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const i=await Oe.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const n=await i.blob();if(this.destroyed)return;const s=await createImageBitmap(n,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===mn.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(i){if(this.destroyed)return;r(i),this.onError.emit(i)}}),this._load)}upload(e,r,i){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,i)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return uf._EMPTY=uf._EMPTY??Oe.ADAPTER.createCanvas(0,0),uf._EMPTY}}const Q3=class Wx extends Zu{constructor(e,r){r=r||{},super(Oe.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},Wx.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;Zu.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,i=e.height;if(!r||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=r*this.scale,s=i*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/i*r,s=this._overrideHeight||this._overrideWidth/r*i),n=Math.round(n),s=Math.round(s);const a=this.source;a.width=n,a.height=s,a._pixiId=`canvas_${$h()}`,a.getContext("2d").drawImage(e,0,0,r,i,0,0,n,s),this._resolve(),this._resolve=null}}static getSize(e){const r=Wx.SVG_SIZE.exec(e),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&Wx.SVG_XML.test(e)}};Q3.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,Q3.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let Z3=Q3;const J3=class eR extends Zu{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const i=document.createElement("video");r.autoLoad!==!1&&i.setAttribute("preload","auto"),r.playsinline!==!1&&(i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline","")),r.muted===!0&&(i.setAttribute("muted",""),i.muted=!0),r.loop===!0&&i.setAttribute("loop",""),r.autoPlay!==!1&&i.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const n=e[0].src||e[0];Zu.crossOrigin(i,n,r.crossorigin);for(let s=0;s<e.length;++s){const a=document.createElement("source");let{src:o,mime:l}=e[s];if(o=o||e[s],o.startsWith("data:"))l=o.slice(5,o.indexOf(";"));else if(!o.startsWith("blob:")){const u=o.split("?").shift().toLowerCase(),c=u.slice(u.lastIndexOf(".")+1);l=l||eR.MIME_TYPES[c]||`video/${c}`}a.src=o,l&&(a.type=l),i.appendChild(a)}e=i}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=fa.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,i)=>{this.valid?r(this):(this._resolve=r,this._reject=i,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(fa.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(fa.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(fa.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||eR.TYPES.includes(r)}};J3.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],J3.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let mH=J3;U3.push(uf,Uz,h0e,mH,Z3,Dw,d0e,c0e);class w_{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?bt.EMPTY:(e=e||new bt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:i,b:n,c:s,d:a,tx:o,ty:l}=e,u=i*r.x+s*r.y+o,c=n*r.x+a*r.y+l;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c)}addQuad(e){let r=this.minX,i=this.minY,n=this.maxX,s=this.maxY,a=e[0],o=e[1];r=a<r?a:r,i=o<i?o:i,n=a>n?a:n,s=o>s?o:s,a=e[2],o=e[3],r=a<r?a:r,i=o<i?o:i,n=a>n?a:n,s=o>s?o:s,a=e[4],o=e[5],r=a<r?a:r,i=o<i?o:i,n=a>n?a:n,s=o>s?o:s,a=e[6],o=e[7],r=a<r?a:r,i=o<i?o:i,n=a>n?a:n,s=o>s?o:s,this.minX=r,this.minY=i,this.maxX=n,this.maxY=s}addFrame(e,r,i,n,s){this.addFrameMatrix(e.worldTransform,r,i,n,s)}addFrameMatrix(e,r,i,n,s){const a=e.a,o=e.b,l=e.c,u=e.d,c=e.tx,d=e.ty;let h=this.minX,p=this.minY,g=this.maxX,y=this.maxY,b=a*r+l*i+c,x=o*r+u*i+d;h=b<h?b:h,p=x<p?x:p,g=b>g?b:g,y=x>y?x:y,b=a*n+l*i+c,x=o*n+u*i+d,h=b<h?b:h,p=x<p?x:p,g=b>g?b:g,y=x>y?x:y,b=a*r+l*s+c,x=o*r+u*s+d,h=b<h?b:h,p=x<p?x:p,g=b>g?b:g,y=x>y?x:y,b=a*n+l*s+c,x=o*n+u*s+d,h=b<h?b:h,p=x<p?x:p,g=b>g?b:g,y=x>y?x:y,this.minX=h,this.minY=p,this.maxX=g,this.maxY=y}addVertexData(e,r,i){let n=this.minX,s=this.minY,a=this.maxX,o=this.maxY;for(let l=r;l<i;l+=2){const u=e[l],c=e[l+1];n=u<n?u:n,s=c<s?c:s,a=u>a?u:a,o=c>o?c:o}this.minX=n,this.minY=s,this.maxX=a,this.maxY=o}addVertices(e,r,i,n){this.addVerticesMatrix(e.worldTransform,r,i,n)}addVerticesMatrix(e,r,i,n,s=0,a=s){const o=e.a,l=e.b,u=e.c,c=e.d,d=e.tx,h=e.ty;let p=this.minX,g=this.minY,y=this.maxX,b=this.maxY;for(let x=i;x<n;x+=2){const w=r[x],_=r[x+1],E=o*w+u*_+d,A=c*_+l*w+h;p=Math.min(p,E-s),y=Math.max(y,E+s),g=Math.min(g,A-a),b=Math.max(b,A+a)}this.minX=p,this.minY=g,this.maxX=y,this.maxY=b}addBounds(e){const r=this.minX,i=this.minY,n=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<i?e.minY:i,this.maxX=e.maxX>n?e.maxX:n,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const i=e.minX>r.minX?e.minX:r.minX,n=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,a=e.maxY<r.maxY?e.maxY:r.maxY;if(i<=s&&n<=a){const o=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=i<o?i:o,this.minY=n<l?n:l,this.maxX=s>u?s:u,this.maxY=a>c?a:c}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const i=e.minX>r.x?e.minX:r.x,n=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,a=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(i<=s&&n<=a){const o=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=i<o?i:o,this.minY=n<l?n:l,this.maxX=s>u?s:u,this.maxY=a>c?a:c}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,i,n,s,a){e-=s,r-=a,i+=s,n+=a,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>n?this.maxY:n}}class Nr extends El{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new X4,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new w_,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let i=0;i<r.length;++i){const n=r[i];Object.defineProperty(Nr.prototype,n,Object.getOwnPropertyDescriptor(e,n))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new bt),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new bt),e=this._localBoundsRect),this._localBounds||(this._localBounds=new w_);const r=this.transform,i=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(i==null?void 0:i.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const n=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const a=this.getBounds(!1,e);return this.parent=i,this.transform=r,this._bounds=n,this._bounds.updateID+=this._boundsID-s,a}toGlobal(e,r,i=!1){return i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,i,n){return r&&(e=r.toGlobal(e,i,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,i)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,i=1,n=1,s=0,a=0,o=0,l=0,u=0){return this.position.x=e,this.position.y=r,this.scale.x=i||1,this.scale.y=n||1,this.rotation=s,this.skew.x=a,this.skew.y=o,this.pivot.x=l,this.pivot.y=u,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new f0e),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*age}set angle(e){this.transform.rotation=e*oge}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class f0e extends Nr{constructor(){super(...arguments),this.sortDirty=null}}Nr.prototype.displayObjectUpdateTransform=Nr.prototype.updateTransform;const p0e=new hr;function m0e(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const gH=class tR extends Nr{constructor(){super(),this.children=[],this.sortableChildren=tR.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error(`${e}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const i=this.getChildIndex(e),n=this.getChildIndex(r);this.children[i]=r,this.children[n]=e,this.onChildrenChange(i<n?i:n)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const i=this.getChildIndex(e);If(this.children,i,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],i=this.children.indexOf(r);if(i===-1)return null;r.parent=null,r.transform._parentID=-1,If(this.children,i,1),this._boundsID++,this.onChildrenChange(i),r.emit("removed",this),this.emit("childRemoved",r,this,i)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,If(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const i=e,n=r,s=n-i;let a;if(s>0&&s<=n){a=this.children.splice(i,s);for(let o=0;o<a.length;++o)a[o].parent=null,a[o].transform&&(a[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let o=0;o<a.length;++o)a[o].emit("removed",this),this.emit("childRemoved",a[o],this,o);return a}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,i=this.children.length;r<i;++r){const n=this.children[r];n._lastSortedIndex=r,!e&&n.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(m0e),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const i=this.children[e];i.visible&&i.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const i=r._mask.isMaskData?r._mask.maskObject:r._mask;i?(i.calculateBounds(),this._bounds.addBoundsMask(r._bounds,i._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const i=super.getLocalBounds(e);if(!r)for(let n=0,s=this.children.length;n<s;++n){const a=this.children[n];a.visible&&a.updateTransform()}return i}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let i,n;this.cullArea?(i=this.cullArea,n=this.worldTransform):this._render!==tR.prototype._render&&(i=this.getBounds(!0));const s=e.projection.transform;if(s&&(n?(n=p0e.copyFrom(n),n.prepend(s)):n=s),i&&r.intersects(i,n))this._render(e);else if(this.cullArea)return;for(let a=0,o=this.children.length;a<o;++a){const l=this.children[a],u=l.cullable;l.cullable=u||!this.cullArea,l.render(e),l.cullable=u}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let i=0,n=this.children.length;i<n;++i)this.children[i].render(e)}}renderAdvanced(e){var s,a,o;const r=this.filters,i=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let l=0;l<r.length;l++)r[l].enabled&&this._enabledFilters.push(r[l])}const n=r&&((s=this._enabledFilters)==null?void 0:s.length)||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==qr.NONE));if(n&&e.batch.flush(),r&&((a=this._enabledFilters)!=null&&a.length)&&e.filter.push(this,this._enabledFilters),i&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let l=0,u=this.children.length;l<u;++l)this.children[l].render(e)}n&&e.batch.flush(),i&&e.mask.pop(this),r&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,i=this.removeChildren(0,this.children.length);if(r)for(let n=0;n<i.length;++n)i[n].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};gH.defaultSortableChildren=!1;let Sa=gH;Sa.prototype.containerUpdateTransform=Sa.prototype.updateTransform;Object.defineProperties(Oe,{SORTABLE_CHILDREN:{get(){return Sa.defaultSortableChildren},set(t){Pt("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Sa.defaultSortableChildren=t}}});const km=new Tt,g0e=new Uint16Array([0,1,2,0,2,3]);class Zi extends Sa{constructor(e){super(),this._anchor=new rl(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new ur(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=ht.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||Ge.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=g0e,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Oe.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Au(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Au(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,i=r.a,n=r.b,s=r.c,a=r.d,o=r.tx,l=r.ty,u=this.vertexData,c=e.trim,d=e.orig,h=this._anchor;let p=0,g=0,y=0,b=0;if(c?(g=c.x-h._x*d.width,p=g+c.width,b=c.y-h._y*d.height,y=b+c.height):(g=-h._x*d.width,p=g+d.width,b=-h._y*d.height,y=b+d.height),u[0]=i*g+s*b+o,u[1]=a*b+n*g+l,u[2]=i*p+s*b+o,u[3]=a*b+n*p+l,u[4]=i*p+s*y+o,u[5]=a*y+n*p+l,u[6]=i*g+s*y+o,u[7]=a*y+n*g+l,this._roundPixels){const x=Oe.RESOLUTION;for(let w=0;w<u.length;++w)u[w]=Math.round(u[w]*x)/x}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,i=e.orig,n=this._anchor,s=this.transform.worldTransform,a=s.a,o=s.b,l=s.c,u=s.d,c=s.tx,d=s.ty,h=-n._x*i.width,p=h+i.width,g=-n._y*i.height,y=g+i.height;if(r[0]=a*h+l*g+c,r[1]=u*g+o*h+d,r[2]=a*p+l*g+c,r[3]=u*g+o*p+d,r[4]=a*p+l*y+c,r[5]=u*y+o*p+d,r[6]=a*h+l*y+c,r[7]=u*y+o*h+d,this._roundPixels){const b=Oe.RESOLUTION;for(let x=0;x<r.length;++x)r[x]=Math.round(r[x]*b)/b}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new w_),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new bt),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,km);const r=this._texture.orig.width,i=this._texture.orig.height,n=-r*this.anchor.x;let s=0;return km.x>=n&&km.x<n+r&&(s=-i*this.anchor.y,km.y>=s&&km.y<s+i)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const i=e instanceof Ge?e:Ge.from(e,r);return new Zi(i)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=Au(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=Au(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Ge.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const vH=new hr;Nr.prototype._cacheAsBitmap=!1;Nr.prototype._cacheData=null;Nr.prototype._cacheAsBitmapResolution=null;Nr.prototype._cacheAsBitmapMultisample=null;class v0e{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Nr.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new v0e),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Nr.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};Nr.prototype._initCachedDisplayObject=function(t){var h,p;if((h=this._cacheData)!=null&&h.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(new bt,!0);if((p=this.filters)!=null&&p.length){const g=this.filters[0].padding;r.pad(g)}const i=this.cacheAsBitmapResolution||t.resolution;r.ceil(i),r.width=Math.max(r.width,1/i),r.height=Math.max(r.height,1/i);const n=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),a=t.renderTexture.destinationFrame.clone(),o=t.projection.transform,l=ed.create({width:r.width,height:r.height,resolution:i,multisample:this.cacheAsBitmapMultisample??t.multisample}),u=`cacheAsBitmap_${$h()}`;this._cacheData.textureCacheId=u,yt.addToCache(l.baseTexture,u),Ge.addToCache(l,u);const c=this.transform.localTransform.copyTo(vH).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:l,clear:!0,transform:c,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=o,t.renderTexture.bind(n,s,a),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const d=new Zi(l);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(r.x/r.width),d.anchor.y=-(r.y/r.height),d.alpha=e,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=d.containsPoint.bind(d)};Nr.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};Nr.prototype._initCachedDisplayObjectCanvas=function(t){var c;if((c=this._cacheData)!=null&&c.sprite)return;const e=this.getLocalBounds(new bt,!0),r=this.alpha;this.alpha=1;const i=t.canvasContext.activeContext,n=t._projTransform,s=this.cacheAsBitmapResolution||t.resolution;e.ceil(s),e.width=Math.max(e.width,1/s),e.height=Math.max(e.height,1/s);const a=ed.create({width:e.width,height:e.height,resolution:s}),o=`cacheAsBitmap_${$h()}`;this._cacheData.textureCacheId=o,yt.addToCache(a.baseTexture,o),Ge.addToCache(a,o);const l=vH;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=e.x,l.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:a,clear:!0,transform:l,skipUpdateTransform:!1}),t.canvasContext.activeContext=i,t._projTransform=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const u=new Zi(a);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(e.x/e.width),u.anchor.y=-(e.y/e.height),u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)};Nr.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Nr.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Nr.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,yt.removeFromCache(this._cacheData.textureCacheId),Ge.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Nr.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};Nr.prototype.name=null;Sa.prototype.getChildByName=function(t,e){for(let r=0,i=this.children.length;r<i;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,i=this.children.length;r<i;r++){const n=this.children[r];if(!n.getChildByName)continue;const s=n.getChildByName(t,!0);if(s)return s}return null};Nr.prototype.getGlobalPosition=function(t=new Tt,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var y0e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class x0e extends Ki{constructor(e=1){super(l0e,y0e,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const b0e={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},_0e=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function w0e(t){const e=b0e[t],r=e.length;let i=_0e,n="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let a;for(let o=0;o<t;o++){let l=s.replace("%index%",o.toString());a=o,o>=r&&(a=t-o-1),l=l.replace("%value%",e[a].toString()),n+=l,n+=`
`}return i=i.replace("%blur%",n),i=i.replace("%size%",t.toString()),i}const S0e=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function E0e(t,e){const r=Math.ceil(t/2);let i=S0e,n="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let a=0;a<t;a++){let o=s.replace("%index%",a.toString());o=o.replace("%sampleIndex%",`${a-(r-1)}.0`),n+=o,n+=`
`}return i=i.replace("%blur%",n),i=i.replace("%size%",t.toString()),i}class rR extends Ki{constructor(e,r=8,i=4,n=Ki.defaultResolution,s=5){const a=E0e(s,e),o=w0e(s);super(a,o),this.horizontal=e,this.resolution=n,this._quality=0,this.quality=i,this.blur=r}apply(e,r,i,n){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/r.width):this.uniforms.strength=1/i.height*(i.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,i,n);else{const s=e.getFilterTexture(),a=e.renderer;let o=r,l=s;this.state.blend=!1,e.applyFilter(this,o,l,to.CLEAR);for(let u=1;u<this.passes-1;u++){e.bindAndClear(o,to.BLIT),this.uniforms.uSampler=l;const c=l;l=o,o=c,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,i,n),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class T0e extends Ki{constructor(e=8,r=4,i=Ki.defaultResolution,n=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new rR(!0,e,r,i,n),this.blurYFilter=new rR(!1,e,r,i,n),this.resolution=i,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,i,n){const s=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(s&&a){const o=e.getFilterTexture();this.blurXFilter.apply(e,r,o,to.CLEAR),this.blurYFilter.apply(e,o,i,n),e.returnFilterTexture(o)}else a?this.blurYFilter.apply(e,r,i,n):this.blurXFilter.apply(e,r,i,n)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var A0e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class iR extends Ki{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(uH,A0e,e),this.alpha=1}_loadMatrix(e,r=!1){let i=e;r&&(this._multiply(i,this.uniforms.m,e),i=this._colorMatrix(i)),this.uniforms.m=i}_multiply(e,r,i){return e[0]=r[0]*i[0]+r[1]*i[5]+r[2]*i[10]+r[3]*i[15],e[1]=r[0]*i[1]+r[1]*i[6]+r[2]*i[11]+r[3]*i[16],e[2]=r[0]*i[2]+r[1]*i[7]+r[2]*i[12]+r[3]*i[17],e[3]=r[0]*i[3]+r[1]*i[8]+r[2]*i[13]+r[3]*i[18],e[4]=r[0]*i[4]+r[1]*i[9]+r[2]*i[14]+r[3]*i[19]+r[4],e[5]=r[5]*i[0]+r[6]*i[5]+r[7]*i[10]+r[8]*i[15],e[6]=r[5]*i[1]+r[6]*i[6]+r[7]*i[11]+r[8]*i[16],e[7]=r[5]*i[2]+r[6]*i[7]+r[7]*i[12]+r[8]*i[17],e[8]=r[5]*i[3]+r[6]*i[8]+r[7]*i[13]+r[8]*i[18],e[9]=r[5]*i[4]+r[6]*i[9]+r[7]*i[14]+r[8]*i[19]+r[9],e[10]=r[10]*i[0]+r[11]*i[5]+r[12]*i[10]+r[13]*i[15],e[11]=r[10]*i[1]+r[11]*i[6]+r[12]*i[11]+r[13]*i[16],e[12]=r[10]*i[2]+r[11]*i[7]+r[12]*i[12]+r[13]*i[17],e[13]=r[10]*i[3]+r[11]*i[8]+r[12]*i[13]+r[13]*i[18],e[14]=r[10]*i[4]+r[11]*i[9]+r[12]*i[14]+r[13]*i[19]+r[14],e[15]=r[15]*i[0]+r[16]*i[5]+r[17]*i[10]+r[18]*i[15],e[16]=r[15]*i[1]+r[16]*i[6]+r[17]*i[11]+r[18]*i[16],e[17]=r[15]*i[2]+r[16]*i[7]+r[17]*i[12]+r[18]*i[17],e[18]=r[15]*i[3]+r[16]*i[8]+r[17]*i[13]+r[18]*i[18],e[19]=r[15]*i[4]+r[16]*i[9]+r[17]*i[14]+r[18]*i[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const i=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(i,r)}tint(e,r){const[i,n,s]=ur.shared.setValue(e).toArray(),a=[i,0,0,0,0,0,n,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(a,r)}greyscale(e,r){const i=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(i,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const i=Math.cos(e),n=Math.sin(e),s=Math.sqrt,a=1/3,o=s(a),l=i+(1-i)*a,u=a*(1-i)-o*n,c=a*(1-i)+o*n,d=a*(1-i)+o*n,h=i+a*(1-i),p=a*(1-i)-o*n,g=a*(1-i)-o*n,y=a*(1-i)+o*n,b=i+a*(1-i),x=[l,u,c,0,0,d,h,p,0,0,g,y,b,0,0,0,0,0,1,0];this._loadMatrix(x,r)}contrast(e,r){const i=(e||0)+1,n=-.5*(i-1),s=[i,0,0,0,n,0,i,0,0,n,0,0,i,0,n,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const i=e*2/3+1,n=(i-1)*-.5,s=[i,n,n,0,0,n,i,n,0,0,n,n,i,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,i,n,s){e=e||.2,r=r||.15,i=i||16770432,n=n||3375104;const a=ur.shared,[o,l,u]=a.setValue(i).toArray(),[c,d,h]=a.setValue(n).toArray(),p=[.3,.59,.11,0,0,o,l,u,e,0,c,d,h,r,0,o-c,l-d,u-h,0,0];this._loadMatrix(p,s)}night(e,r){e=e||.1;const i=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(i,r)}predator(e,r){const i=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(i,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}iR.prototype.grayscale=iR.prototype.greyscale;var C0e=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,R0e=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class I0e extends Ki{constructor(e,r){const i=new hr;e.renderable=!1,super(R0e,C0e,{mapSampler:e._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=i,r==null&&(r=20),this.scale=new Tt(r,r)}apply(e,r,i,n){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,a=Math.sqrt(s.a*s.a+s.b*s.b),o=Math.sqrt(s.c*s.c+s.d*s.d);a!==0&&o!==0&&(this.uniforms.rotation[0]=s.a/a,this.uniforms.rotation[1]=s.b/a,this.uniforms.rotation[2]=s.c/o,this.uniforms.rotation[3]=s.d/o),e.applyFilter(this,r,i,n)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var P0e=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,M0e=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class k0e extends Ki{constructor(){super(M0e,P0e)}}var N0e=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class O0e extends Ki{constructor(e=.5,r=Math.random()){super(uH,N0e,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const nR={AlphaFilter:x0e,BlurFilter:T0e,BlurFilterPass:rR,ColorMatrixFilter:iR,DisplacementFilter:I0e,FXAAFilter:k0e,NoiseFilter:O0e};Object.entries(nR).forEach(([t,e])=>{Object.defineProperty(nR,t,{get(){return Pt("7.1.0",`filters.${t} has moved to ${t}`),e}})});class L0e{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(qi.system.add(this.tickerUpdate,this,pp.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(qi.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const ou=new L0e;class R1{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=R1.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new zt,this.page=new zt,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,i){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,i,n,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class S_ extends R1{constructor(){super(...arguments),this.client=new zt,this.movement=new zt,this.offset=new zt,this.global=new zt,this.screen=new zt}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,i){return e.worldTransform.applyInverse(i||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,i,n,s,a,o,l,u,c,d,h,p,g,y){throw new Error("Method not implemented.")}}class Qs extends S_{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Mf extends S_{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Mf.DOM_DELTA_PIXEL=0,Mf.DOM_DELTA_LINE=1,Mf.DOM_DELTA_PAGE=2;const D0e=2048,F0e=new zt,ST=new zt;class B0e{constructor(e){this.dispatch=new El,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((i,n)=>i.priority-n.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let i=0,n=r.length;i<n;i++)r[i].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){ou.pauseUpdate=!0;const i=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",n=this[i](this.rootTarget,this.rootTarget.eventMode,F0e.set(e,r),this.hitTestFn,this.hitPruneFn);return n&&n[0]}propagate(e,r){if(!e.target)return;const i=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let n=0,s=i.length-1;n<s;n++)if(e.currentTarget=i[n],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let n=i.length-2;n>=0;n--)if(e.currentTarget=i[n],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,i=this._allInteractiveElements){if(i.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const n=Array.isArray(r)?r:[r];for(let s=i.length-1;s>=0;s--)n.forEach(a=>{e.currentTarget=i[s],this.notifyTarget(e,a)})}propagationPath(e){const r=[e];for(let i=0;i<D0e&&e!==this.rootTarget;i++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,i,n,s,a=!1){let o=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(ou.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let d=c.length-1;d>=0;d--){const h=c[d],p=this.hitTestMoveRecursive(h,this._isInteractive(r)?r:h.eventMode,i,n,s,a||s(e,i));if(p){if(p.length>0&&!p[p.length-1].parent)continue;const g=e.isInteractive();(p.length>0||g)&&(g&&this._allInteractiveElements.push(e),p.push(e)),this._hitElements.length===0&&(this._hitElements=p),o=!0}}}const l=this._isInteractive(r),u=e.isInteractive();return l&&u&&this._allInteractiveElements.push(e),a||this._hitElements.length>0?null:o?this._hitElements:l&&!s(e,i)&&n(e,i)?u?[e]:[]:null}hitTestRecursive(e,r,i,n,s){if(this._interactivePrune(e)||s(e,i))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(ou.pauseUpdate=!1),e.interactiveChildren&&e.children){const l=e.children;for(let u=l.length-1;u>=0;u--){const c=l[u],d=this.hitTestRecursive(c,this._isInteractive(r)?r:c.eventMode,i,n,s);if(d){if(d.length>0&&!d[d.length-1].parent)continue;const h=e.isInteractive();return(d.length>0||h)&&d.push(e),d}}}const a=this._isInteractive(r),o=e.isInteractive();return a&&n(e,i)?o?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var i;if(e.hitArea&&(e.worldTransform.applyInverse(r,ST),!e.hitArea.contains(ST.x,ST.y)))return!0;if(e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;if(n&&!((i=n.containsPoint)!=null&&i.call(n,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,a;r=r??e.type;const i=`on${r}`;(a=(s=e.currentTarget)[i])==null||a.call(s,e);const n=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,n),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof Qs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const n=r.button===2;this.dispatchEvent(r,n?"rightdown":"mousedown")}const i=this.trackingData(e.pointerId);i.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var l,u;if(!(e instanceof Qs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const i=r.pointerType==="mouse"||r.pointerType==="pen",n=this.trackingData(e.pointerId),s=this.findMountedTarget(n.overTargets);if(((l=n.overTargets)==null?void 0:l.length)>0&&s!==r.target){const c=e.type==="mousemove"?"mouseout":"pointerout",d=this.createPointerEvent(e,c,s);if(this.dispatchEvent(d,"pointerout"),i&&this.dispatchEvent(d,"mouseout"),!r.composedPath().includes(s)){const h=this.createPointerEvent(e,"pointerleave",s);for(h.eventPhase=h.AT_TARGET;h.target&&!r.composedPath().includes(h.target);)h.currentTarget=h.target,this.notifyTarget(h),i&&this.notifyTarget(h,"mouseleave"),h.target=h.target.parent;this.freeEvent(h)}this.freeEvent(d)}if(s!==r.target){const c=e.type==="mousemove"?"mouseover":"pointerover",d=this.clonePointerEvent(r,c);this.dispatchEvent(d,"pointerover"),i&&this.dispatchEvent(d,"mouseover");let h=s==null?void 0:s.parent;for(;h&&h!==this.rootTarget.parent&&h!==r.target;)h=h.parent;if(!h||h===this.rootTarget.parent){const p=this.clonePointerEvent(r,"pointerenter");for(p.eventPhase=p.AT_TARGET;p.target&&p.target!==s&&p.target!==this.rootTarget.parent;)p.currentTarget=p.target,this.notifyTarget(p),i&&this.notifyTarget(p,"mouseenter"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(d)}const a=[],o=this.enableGlobalMoveEvents??!0;this.moveOnAll?a.push("pointermove"):this.dispatchEvent(r,"pointermove"),o&&a.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?a.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),o&&a.push("globaltouchmove")),i&&(this.moveOnAll?a.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),o&&a.push("globalmousemove"),this.cursor=(u=r.target)==null?void 0:u.cursor),a.length>0&&this.all(r,a),this._allInteractiveElements.length=0,this._hitElements.length=0,n.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var a;if(!(e instanceof Qs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),i=this.createPointerEvent(e),n=i.pointerType==="mouse"||i.pointerType==="pen";this.dispatchEvent(i,"pointerover"),n&&this.dispatchEvent(i,"mouseover"),i.pointerType==="mouse"&&(this.cursor=(a=i.target)==null?void 0:a.cursor);const s=this.clonePointerEvent(i,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),n&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=i.composedPath(),this.freeEvent(i),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof Qs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const i=e.pointerType==="mouse"||e.pointerType==="pen",n=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",n);this.dispatchEvent(s),i&&this.dispatchEvent(s,"mouseout");const a=this.createPointerEvent(e,"pointerleave",n);for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),i&&this.notifyTarget(a,"mouseleave"),a.target=a.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(a)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Qs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),i=this.createPointerEvent(e);if(this.dispatchEvent(i,"pointerup"),i.pointerType==="touch")this.dispatchEvent(i,"touchend");else if(i.pointerType==="mouse"||i.pointerType==="pen"){const o=i.button===2;this.dispatchEvent(i,o?"rightup":"mouseup")}const n=this.trackingData(e.pointerId),s=this.findMountedTarget(n.pressTargetsByButton[e.button]);let a=s;if(s&&!i.composedPath().includes(s)){let o=s;for(;o&&!i.composedPath().includes(o);){if(i.currentTarget=o,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch")this.notifyTarget(i,"touchendoutside");else if(i.pointerType==="mouse"||i.pointerType==="pen"){const l=i.button===2;this.notifyTarget(i,l?"rightupoutside":"mouseupoutside")}o=o.parent}delete n.pressTargetsByButton[e.button],a=o}if(a){const o=this.clonePointerEvent(i,"click");o.target=a,o.path=null,n.clicksByButton[e.button]||(n.clicksByButton[e.button]={clickCount:0,target:o.target,timeStamp:r});const l=n.clicksByButton[e.button];if(l.target===o.target&&r-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=o.target,l.timeStamp=r,o.detail=l.clickCount,o.pointerType==="mouse"){const u=o.button===2;this.dispatchEvent(o,u?"rightclick":"click")}else o.pointerType==="touch"&&this.dispatchEvent(o,"tap");this.dispatchEvent(o,"pointertap"),this.freeEvent(o)}this.freeEvent(i)}mapPointerUpOutside(e){if(!(e instanceof Qs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),i=this.findMountedTarget(r.pressTargetsByButton[e.button]),n=this.createPointerEvent(e);if(i){let s=i;for(;s;)n.currentTarget=s,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch"?this.notifyTarget(n,"touchendoutside"):(n.pointerType==="mouse"||n.pointerType==="pen")&&this.notifyTarget(n,n.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(n)}mapWheel(e){if(!(e instanceof Mf)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let i=1;i<e.length&&e[i].parent===r;i++)r=e[i];return r}createPointerEvent(e,r,i){const n=this.allocateEvent(Qs);return this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=i??this.hitTest(n.global.x,n.global.y)??this._hitElements[0],typeof r=="string"&&(n.type=r),n}createWheelEvent(e){const r=this.allocateEvent(Mf);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const i=this.allocateEvent(Qs);return i.nativeEvent=e.nativeEvent,i.originalEvent=e.originalEvent,this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.target=e.target,i.path=e.composedPath().slice(),i.type=r??i.type,i}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof Qs&&r instanceof Qs&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof S_&&r instanceof S_&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const i=e.currentTarget._events[r];if(i&&e.currentTarget.isInteractive())if("fn"in i)i.once&&e.currentTarget.removeListener(r,i.fn,void 0,!0),i.fn.call(i.context,e);else for(let n=0,s=i.length;n<s&&!e.propagationImmediatelyStopped;n++)i[n].once&&e.currentTarget.removeListener(r,i[n].fn,void 0,!0),i[n].fn.call(i[n].context,e)}}const j0e=1,U0e={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},sR=class aR{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new B0e(null),ou.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Qs(null),this.rootWheelEvent=new Mf(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...aR.defaultEventFeatures},{set:(r,i,n)=>(i==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=n),r[i]=n,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:r,resolution:i}=this.renderer;this.setTargetElement(r),this.resolution=i,aR._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const i=this.cursorStyles[e];if(i)switch(typeof i){case"string":r&&(this.domElement.style.cursor=i);break;case"function":i(e);break;case"object":r&&Object.assign(this.domElement.style,i);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let i=0,n=r.length;i<n;i++){const s=r[i],a=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,ou.pointerMoved();const r=this.normalizeToPointerData(e);for(let i=0,n=r.length;i<n;i++){const s=this.bootstrapEvent(this.rootPointerEvent,r[i]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const i=r!==this.domElement?"outside":"",n=this.normalizeToPointerData(e);for(let s=0,a=n.length;s<a;s++){const o=this.bootstrapEvent(this.rootPointerEvent,n[s]);o.type+=i,this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let i=0,n=r.length;i<n;i++){const s=this.bootstrapEvent(this.rootPointerEvent,r[i]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,ou.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;ou.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;ou.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,i){const n=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(r-n.left)*(this.domElement.width/n.width)*s,e.y=(i-n.top)*(this.domElement.height/n.height)*s}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let i=0,n=e.changedTouches.length;i<n;i++){const s=e.changedTouches[i];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const i=e;typeof i.isPrimary>"u"&&(i.isPrimary=!0),typeof i.width>"u"&&(i.width=1),typeof i.height>"u"&&(i.height=1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="mouse"),typeof i.pointerId>"u"&&(i.pointerId=j0e),typeof i.pressure>"u"&&(i.pressure=.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),i.isNormalized=!0,r.push(i)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=U0e[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};sR.extension={name:"events",type:[Be.RendererSystem,Be.CanvasRendererSystem]},sR.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let oR=sR;ot.add(oR);function FD(t){return t==="dynamic"||t==="static"}const $0e={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??FD(oR.defaultEventMode)},set interactive(t){Ft("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??oR.defaultEventMode},set eventMode(t){this._internalInteractive=FD(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const i=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,n=typeof e=="function"?void 0:e;t=i?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,n)},removeEventListener(t,e,r){const i=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,n=typeof e=="function"?void 0:e;t=i?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,n)},dispatchEvent(t){if(!(t instanceof R1))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};mp.mixin($0e);const z0e={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Nr.mixin(z0e);const H0e=9,$y=100,G0e=0,V0e=0,BD=2,jD=1,W0e=-1e3,X0e=-1e3,Y0e=2;class yH{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(tl.tablet||tl.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${$y}px`,r.style.height=`${$y}px`,r.style.position="absolute",r.style.top=`${G0e}px`,r.style.left=`${V0e}px`,r.style.zIndex=BD.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${jD}px`,e.style.height=`${jD}px`,e.style.position="absolute",e.style.top=`${W0e}px`,e.style.left=`${X0e}px`,e.style.zIndex=Y0e.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let i=0;i<r.length;i++)this.updateAccessibleObjects(r[i])}update(){const e=performance.now();if(tl.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:i,width:n,height:s}=this.renderer.view.getBoundingClientRect(),{width:a,height:o,resolution:l}=this.renderer,u=n/a*l,c=s/o*l;let d=this.div;d.style.left=`${r}px`,d.style.top=`${i}px`,d.style.width=`${a}px`,d.style.height=`${o}px`;for(let h=0;h<this.children.length;h++){const p=this.children[h];if(p.renderId!==this.renderId)p._accessibleActive=!1,If(this.children,h,1),this.div.removeChild(p._accessibleDiv),this.pool.push(p._accessibleDiv),p._accessibleDiv=null,h--;else{d=p._accessibleDiv;let g=p.hitArea;const y=p.worldTransform;p.hitArea?(d.style.left=`${(y.tx+g.x*y.a)*u}px`,d.style.top=`${(y.ty+g.y*y.d)*c}px`,d.style.width=`${g.width*y.a*u}px`,d.style.height=`${g.height*y.d*c}px`):(g=p.getBounds(),this.capHitArea(g),d.style.left=`${g.x*u}px`,d.style.top=`${g.y*c}px`,d.style.width=`${g.width*u}px`,d.style.height=`${g.height*c}px`,d.title!==p.accessibleTitle&&p.accessibleTitle!==null&&(d.title=p.accessibleTitle),d.getAttribute("aria-label")!==p.accessibleHint&&p.accessibleHint!==null&&d.setAttribute("aria-label",p.accessibleHint)),(p.accessibleTitle!==d.title||p.tabIndex!==d.tabIndex)&&(d.title=p.accessibleTitle,d.tabIndex=p.tabIndex,this.debug&&this.updateDebugHTML(d))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:i}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>i&&(e.height=i-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${$y}px`,r.style.height=`${$y}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=BD.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:i}=e.target,n=this.renderer.events.rootBoundary,s=Object.assign(new R1(n),{target:i});n.rootTarget=this.renderer.lastObjectRendered,r.forEach(a=>n.dispatchEvent(s,a))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===H0e&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}yH.extension={name:"accessibility",type:[Ie.RendererPlugin,Ie.CanvasRendererPlugin]};Qe.add(yH);const xH=class lR{constructor(e){this.stage=new Sa,e=Object.assign({forceCanvas:!1},e),this.renderer=s0e(e),lR._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const i=lR._plugins.slice(0);i.reverse(),i.forEach(n=>{n.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};xH._plugins=[];let q0e=xH;Qe.handleByList(Ie.Application,q0e._plugins);class bH{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,i;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,i=globalThis.innerHeight;else{const{clientWidth:n,clientHeight:s}=this._resizeTo;r=n,i=s}this.renderer.resize(r,i),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}bH.extension=Ie.Application;Qe.add(bH);const UD={loader:Ie.LoadParser,resolver:Ie.ResolveParser,cache:Ie.CacheParser,detection:Ie.DetectionParser};Qe.handle(Ie.Asset,t=>{const e=t.ref;Object.entries(UD).filter(([r])=>!!e[r]).forEach(([r,i])=>Qe.add(Object.assign(e[r],{extension:e[r].extension??i})))},t=>{const e=t.ref;Object.keys(UD).filter(r=>!!e[r]).forEach(r=>Qe.remove(e[r]))});class K0e{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let i=0;i<r;i++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Op(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function fc(t,e){const r=t.split("?")[0],i=ti.extname(r).toLowerCase();return Array.isArray(e)?e.includes(i):i===e}const ua=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(i=>typeof i=="string"||r?e(i):i):t),uR=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function _H(t,e,r,i,n){const s=e[r];for(let a=0;a<s.length;a++){const o=s[a];r<e.length-1?_H(t.replace(i[r],o),e,r+1,i,n):n.push(t.replace(i[r],o))}}function Q0e(t){const e=/\{(.*?)\}/g,r=t.match(e),i=[];if(r){const n=[];r.forEach(s=>{const a=s.substring(1,s.length-1).split(",");n.push(a)}),_H(t,n,0,r,i)}else i.push(t);return i}const E_=t=>!Array.isArray(t);class Z0e{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const i=ua(e);let n;for(let o=0;o<this.parsers.length;o++){const l=this.parsers[o];if(l.test(r)){n=l.getCacheableAssets(i,r);break}}n||(n={},i.forEach(o=>{n[o]=r}));const s=Object.keys(n),a={cacheKeys:s,keys:i};if(i.forEach(o=>{this._cacheMap.set(o,a)}),s.forEach(o=>{this._cache.has(o)&&this._cache.get(o)!==r&&console.warn("[Cache] already has key:",o),this._cache.set(o,n[o])}),r instanceof Ge){const o=r;i.forEach(l=>{o.baseTexture!==Ge.EMPTY.baseTexture&&yt.addToCache(o.baseTexture,l),Ge.addToCache(o,l)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(i=>{this._cache.delete(i)}),r.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const qc=new Z0e;class J0e{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,i)=>(this._parsersValidated=!1,e[r]=i,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const i={promise:null,parser:null};return i.promise=(async()=>{var a,o;let n=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];if(u.load&&((a=u.test)!=null&&a.call(u,e,r,this))){s=u;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}n=await s.load(e,r,this),i.parser=s;for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];u.parse&&u.parse&&await((o=u.testParse)==null?void 0:o.call(u,n,r,this))&&(n=await u.parse(n,r,this)||n,i.parser=u)}return n})(),i}async load(e,r){this._parsersValidated||this._validateParsers();let i=0;const n={},s=E_(e),a=ua(e,u=>({alias:[u],src:u})),o=a.length,l=a.map(async u=>{const c=ti.toAbsolute(u.src);if(!n[u.src])try{this.promiseCache[c]||(this.promiseCache[c]=this._getLoadPromiseAndParser(c,u)),n[u.src]=await this.promiseCache[c].promise,r&&r(++i/o)}catch(d){throw delete this.promiseCache[c],delete n[u.src],new Error(`[Loader.load] Failed to load ${c}.
${d}`)}});return await Promise.all(l),s?n[a[0].src]:n}async unload(e){const r=ua(e,i=>({alias:[i],src:i})).map(async i=>{var a,o;const n=ti.toAbsolute(i.src),s=this.promiseCache[n];if(s){const l=await s.promise;delete this.promiseCache[n],(o=(a=s.parser)==null?void 0:a.unload)==null||o.call(a,l,i,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var Aa=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(Aa||{});const e1e=".json",t1e="application/json",r1e={extension:{type:Ie.LoadParser,priority:Aa.Low},name:"loadJson",test(t){return Op(t,t1e)||fc(t,e1e)},async load(t){return await(await Oe.ADAPTER.fetch(t)).json()}};Qe.add(r1e);const i1e=".txt",n1e="text/plain",s1e={name:"loadTxt",extension:{type:Ie.LoadParser,priority:Aa.Low},test(t){return Op(t,n1e)||fc(t,i1e)},async load(t){return await(await Oe.ADAPTER.fetch(t)).text()}};Qe.add(s1e);const a1e=["normal","bold","100","200","300","400","500","600","700","800","900"],o1e=[".ttf",".otf",".woff",".woff2"],l1e=["font/ttf","font/otf","font/woff","font/woff2"],u1e=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function c1e(t){const e=ti.extname(t),r=ti.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let i=r.length>0;for(const s of r)if(!s.match(u1e)){i=!1;break}let n=r.join(" ");return i||(n=`"${n.replace(/[\\"]/g,"\\$&")}"`),n}const h1e=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function d1e(t){return h1e.test(t)?t:encodeURI(t)}const f1e={extension:{type:Ie.LoadParser,priority:Aa.Low},name:"loadWebFont",test(t){return Op(t,l1e)||fc(t,o1e)},async load(t,e){var i,n,s;const r=Oe.ADAPTER.getFontFaceSet();if(r){const a=[],o=((i=e.data)==null?void 0:i.family)??c1e(t),l=((s=(n=e.data)==null?void 0:n.weights)==null?void 0:s.filter(c=>a1e.includes(c)))??["normal"],u=e.data??{};for(let c=0;c<l.length;c++){const d=l[c],h=new FontFace(o,`url(${d1e(t)})`,{...u,weight:d});await h.load(),r.add(h),a.push(h)}return a.length===1?a[0]:a}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>Oe.ADAPTER.getFontFaceSet().delete(e))}};Qe.add(f1e);let $D=0,ET;const p1e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",m1e={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${p1e}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},g1e={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let TT;class v1e{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([m1e.code],{type:"application/javascript"})),i=new Worker(r);i.addEventListener("message",n=>{i.terminate(),URL.revokeObjectURL(r),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){ET===void 0&&(ET=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<ET&&(TT||(TT=URL.createObjectURL(new Blob([g1e.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(TT),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const i=new Promise((n,s)=>{this.queue.push({id:e,arguments:r,resolve:n,reject:s})});return this.next(),i}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),i=r.id;this.resolveHash[$D]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:$D++,id:i})}}const zD=new v1e;function I1(t,e,r){t.resource.internal=!0;const i=new Ge(t),n=()=>{delete e.promiseCache[r],qc.has(r)&&qc.remove(r)};return i.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),n())}),i.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),n())}),i}const y1e=[".jpeg",".jpg",".png",".webp",".avif"],x1e=["image/jpeg","image/png","image/webp","image/avif"];async function b1e(t){const e=await Oe.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const $w={name:"loadTextures",extension:{type:Ie.LoadParser,priority:Aa.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return Op(t,x1e)||fc(t,y1e)},async load(t,e,r){var o;const i=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let n;i?this.config.preferWorkers&&await zD.isImageBitmapSupported()?n=await zD.loadImageBitmap(t):n=await b1e(t):n=await new Promise((l,u)=>{const c=new Image;c.crossOrigin=this.config.crossOrigin,c.src=t,c.complete?l(c):(c.onload=()=>l(c),c.onerror=d=>u(d))});const s={...e.data};s.resolution??(s.resolution=xl(t)),i&&((o=s.resourceOptions)==null?void 0:o.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const a=new yt(n,s);return a.resource.src=t,I1(a,r,t)},unload(t){t.destroy(!0)}};Qe.add($w);const _1e=".svg",w1e="image/svg+xml",S1e={extension:{type:Ie.LoadParser,priority:Aa.High},name:"loadSVG",test(t){return Op(t,w1e)||fc(t,_1e)},async testParse(t){return Z3.test(t)},async parse(t,e,r){var s;const i=new Z3(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await i.load();const n=new yt(i,{resolution:xl(t),...e==null?void 0:e.data});return n.resource.src=e.src,I1(n,r,e.src)},async load(t,e){return(await Oe.ADAPTER.fetch(t)).text()},unload:$w.unload};Qe.add(S1e);const E1e=[".mp4",".m4v",".webm",".ogv"],T1e=["video/mp4","video/webm","video/ogg"],A1e={name:"loadVideo",extension:{type:Ie.LoadParser,priority:Aa.High},config:{defaultAutoPlay:!0},test(t){return Op(t,T1e)||fc(t,E1e)},async load(t,e,r){var a;let i;const n=await(await Oe.ADAPTER.fetch(t)).blob(),s=URL.createObjectURL(n);try{const o={autoPlay:this.config.defaultAutoPlay,...(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions},l=new mH(s,o);await l.load();const u=new yt(l,{alphaMode:await Ume(),resolution:xl(t),...e==null?void 0:e.data});u.resource.src=t,i=I1(u,r,t),i.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(o){throw URL.revokeObjectURL(s),o}return i},unload(t){t.destroy(!0)}};Qe.add(A1e);class C1e{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(i=>`${encodeURIComponent(i)}=${encodeURIComponent(r[i])}`).join("&")}}getAlias(e){const{alias:r,name:i,src:n,srcs:s}=e;return ua(r||i||n||s,a=>typeof a=="string"?a:Array.isArray(a)?a.map(o=>(o==null?void 0:o.src)??(o==null?void 0:o.srcs)??o):a!=null&&a.src||a!=null&&a.srcs?a.src??a.srcs:a,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const i=[];Array.isArray(r)?r.forEach(n=>{const s=n.src??n.srcs,a=n.alias??n.name;let o;if(typeof a=="string"){const l=this._createBundleAssetId(e,a);i.push(l),o=[a,l]}else{const l=a.map(u=>this._createBundleAssetId(e,u));i.push(...l),o=[...a,...l]}this.add({...n,alias:o,src:s})}):Object.keys(r).forEach(n=>{const s=[n,this._createBundleAssetId(e,n)];if(typeof r[n]=="string")this.add({alias:s,src:r[n]});else if(Array.isArray(r[n]))this.add({alias:s,src:r[n]});else{const a=r[n],o=a.src??a.srcs;this.add({...a,alias:s,src:Array.isArray(o)?o:[o]})}i.push(...s)}),this._bundles[e]=i}add(e,r,i,n,s){const a=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(Pt("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),a.push({alias:e,src:r,data:i,format:n,loadParser:s})):Array.isArray(e)?a.push(...e):a.push(e);let o;o=l=>{this.hasKey(l)&&console.warn(`[Resolver] already has key: ${l} overwriting`)},ua(a).forEach(l=>{const{src:u,srcs:c}=l;let{data:d,format:h,loadParser:p}=l;const g=ua(u||c).map(x=>typeof x=="string"?Q0e(x):Array.isArray(x)?x:[x]),y=this.getAlias(l);Array.isArray(y)?y.forEach(o):o(y);const b=[];g.forEach(x=>{x.forEach(w=>{let _={};if(typeof w!="object"){_.src=w;for(let E=0;E<this._parsers.length;E++){const A=this._parsers[E];if(A.test(w)){_=A.parse(w);break}}}else d=w.data??d,h=w.format??h,p=w.loadParser??p,_={..._,...w};if(!y)throw new Error(`[Resolver] alias is undefined for this asset: ${_.src}`);_=this.buildResolvedAsset(_,{aliases:y,data:d,format:h,loadParser:p}),b.push(_)})}),y.forEach(x=>{this._assetMap[x]=b})})}resolveBundle(e){const r=E_(e);e=ua(e);const i={};return e.forEach(n=>{const s=this._bundles[n];if(s){const a=this.resolve(s),o={};for(const l in a){const u=a[l];o[this._extractAssetIdFromBundle(n,l)]=u}i[n]=o}}),r?i[e[0]]:i}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const i={};for(const n in r)i[n]=r[n].src;return i}return r.src}resolve(e){const r=E_(e);e=ua(e);const i={};return e.forEach(n=>{if(!this._resolverHash[n])if(this._assetMap[n]){let s=this._assetMap[n];const a=s[0],o=this._getPreferredOrder(s);o==null||o.priority.forEach(l=>{o.params[l].forEach(u=>{const c=s.filter(d=>d[l]?d[l]===u:!1);c.length&&(s=c)})}),this._resolverHash[n]=s[0]??a}else this._resolverHash[n]=this.buildResolvedAsset({alias:[n],src:n},{});i[n]=this._resolverHash[n]}),r?i[e[0]]:i}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const i=e[0],n=this._preferredOrder.find(s=>s.params.format.includes(i.format));if(n)return n}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}buildResolvedAsset(e,r){const{aliases:i,data:n,loadParser:s,format:a}=r;return(this._basePath||this._rootPath)&&(e.src=ti.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=i??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...n||{},...e.data},e.loadParser=s??e.loadParser,e.format=a??ti.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class R1e{constructor(){this._detections=[],this._initialized=!1,this.resolver=new C1e,this.loader=new J0e,this.cache=qc,this._backgroundLoader=new K0e(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let o=e.manifest;typeof o=="string"&&(o=await this.load(o)),this.resolver.addManifest(o)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,i=typeof r=="number"?[r]:r,n=await this._detectFormats({preferredFormats:(a=e.texturePreference)==null?void 0:a.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:n,resolution:i}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,i,n,s){this.resolver.add(e,r,i,n,s)}async load(e,r){this._initialized||await this.init();const i=E_(e),n=ua(e).map(o=>{if(typeof o!="string"){const l=this.resolver.getAlias(o);return l.some(u=>!this.resolver.hasKey(u))&&this.add(o),Array.isArray(l)?l[0]:l}return this.resolver.hasKey(o)||this.add({alias:o,src:o}),o}),s=this.resolver.resolve(n),a=await this._mapLoadToResolve(s,r);return i?a[n[0]]:a}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let i=!1;typeof e=="string"&&(i=!0,e=[e]);const n=this.resolver.resolveBundle(e),s={},a=Object.keys(n);let o=0,l=0;const u=()=>{r==null||r(++o/l)},c=a.map(d=>{const h=n[d];return l+=Object.keys(h).length,this._mapLoadToResolve(h,u).then(p=>{s[d]=p})});return await Promise.all(c),i?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(i=>{this._backgroundLoader.add(Object.values(i))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return qc.get(e);const r={};for(let i=0;i<e.length;i++)r[i]=qc.get(e[i]);return r}async _mapLoadToResolve(e,r){const i=Object.values(e),n=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(i,r);this._backgroundLoader.active=!0;const a={};return i.forEach((o,l)=>{const u=s[o.src],c=[o.src];o.alias&&c.push(...o.alias),a[n[l]]=u,qc.set(c,u)}),a}async unload(e){this._initialized||await this.init();const r=ua(e).map(n=>typeof n!="string"?n.src:n),i=this.resolver.resolve(r);await this._unloadFromResolved(i)}async unloadBundle(e){this._initialized||await this.init(),e=ua(e);const r=this.resolver.resolveBundle(e),i=Object.keys(r).map(n=>this._unloadFromResolved(r[n]));await Promise.all(i)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(i=>{qc.remove(i.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const i of e.detections)e.skipDetections||await i.test()?r=await i.add(r):e.skipDetections||(r=await i.remove(r));return r=r.filter((i,n)=>r.indexOf(i)===n),r}get detections(){return this._detections}get preferWorkers(){return $w.config.preferWorkers}set preferWorkers(e){Pt("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(i=>i in e).forEach(i=>{r.config[i]=e[i]})})}}const zy=new R1e;Qe.handleByList(Ie.LoadParser,zy.loader.parsers).handleByList(Ie.ResolveParser,zy.resolver.parsers).handleByList(Ie.CacheParser,zy.cache.parsers).handleByList(Ie.DetectionParser,zy.detections);const I1e={extension:Ie.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof Ge),getCacheableAssets:(t,e)=>{const r={};return t.forEach(i=>{e.forEach((n,s)=>{r[i+(s===0?"":s+1)]=n})}),r}};Qe.add(I1e);async function wH(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const P1e={extension:{type:Ie.DetectionParser,priority:1},test:async()=>wH("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};Qe.add(P1e);const M1e={extension:{type:Ie.DetectionParser,priority:0},test:async()=>wH("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};Qe.add(M1e);const HD=["png","jpg","jpeg"],k1e={extension:{type:Ie.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...HD],remove:async t=>t.filter(e=>!HD.includes(e))};Qe.add(k1e);const N1e="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function K4(t){return N1e?!1:document.createElement("video").canPlayType(t)!==""}const O1e={extension:{type:Ie.DetectionParser,priority:0},test:async()=>K4("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};Qe.add(O1e);const L1e={extension:{type:Ie.DetectionParser,priority:0},test:async()=>K4("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};Qe.add(L1e);const D1e={extension:{type:Ie.DetectionParser,priority:0},test:async()=>K4("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};Qe.add(D1e);const F1e={extension:Ie.ResolveParser,test:$w.test,parse:t=>{var e;return{resolution:parseFloat(((e=Oe.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:ti.extname(t).slice(1),src:t}}};Qe.add(F1e);var Ln=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(Ln||{});const T_={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let $o,Ud;function GD(){Ud={s3tc:$o.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:$o.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:$o.getExtension("WEBGL_compressed_texture_etc"),etc1:$o.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:$o.getExtension("WEBGL_compressed_texture_pvrtc")||$o.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:$o.getExtension("WEBGL_compressed_texture_atc"),astc:$o.getExtension("WEBGL_compressed_texture_astc")}}const B1e={extension:{type:Ie.DetectionParser,priority:2},test:async()=>{const t=Oe.ADAPTER.createCanvas().getContext("webgl");return t?($o=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{Ud||GD();const e=[];for(const r in Ud)Ud[r]&&e.push(r);return[...e,...t]},remove:async t=>(Ud||GD(),t.filter(e=>!(e in Ud)))};Qe.add(B1e);class j1e extends Dw{constructor(e,r={width:1,height:1,autoLoad:!0}){let i,n;typeof e=="string"?(i=e,n=new Uint8Array):(i=null,n=e),super(n,r),this.origin=i,this.buffer=n?new j3(n):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new j3(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class Sh extends j1e{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=Sh._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||Sh._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,i){const n=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;n.pixelStorei(n.UNPACK_ALIGNMENT,4);for(let s=0,a=this.levels;s<a;s++){const{levelID:o,levelWidth:l,levelHeight:u,levelBuffer:c}=this._levelBuffers[s];n.compressedTexImage2D(n.TEXTURE_2D,o,this.format,l,u,0,c)}return!0}onBlobLoaded(){this._levelBuffers=Sh._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,i,n,s,a,o){const l=new Array(i);let u=e.byteOffset,c=a,d=o,h=c+n-1&~(n-1),p=d+s-1&~(s-1),g=h*p*T_[r];for(let y=0;y<i;y++)l[y]={levelID:y,levelWidth:i>1?c:h,levelHeight:i>1?d:p,levelBuffer:new Uint8Array(e.buffer,u,g)},u+=g,c=c>>1||1,d=d>>1||1,h=c+n-1&~(n-1),p=d+s-1&~(s-1),g=h*p*T_[r];return l}}const AT=4,Hy=124,U1e=32,VD=20,$1e=542327876,Gy={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},z1e={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Vy={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},H1e=1,G1e=2,V1e=4,W1e=64,X1e=512,Y1e=131072,q1e=827611204,K1e=861165636,Q1e=894720068,Z1e=808540228,J1e=4,eve={[q1e]:Ln.COMPRESSED_RGBA_S3TC_DXT1_EXT,[K1e]:Ln.COMPRESSED_RGBA_S3TC_DXT3_EXT,[Q1e]:Ln.COMPRESSED_RGBA_S3TC_DXT5_EXT},tve={70:Ln.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Ln.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Ln.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Ln.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Ln.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Ln.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Ln.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Ln.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Ln.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function rve(t){const e=new Uint32Array(t);if(e[0]!==$1e)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,Hy/Uint32Array.BYTES_PER_ELEMENT),i=r[Gy.HEIGHT],n=r[Gy.WIDTH],s=r[Gy.MIPMAP_COUNT],a=new Uint32Array(t,Gy.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,U1e/Uint32Array.BYTES_PER_ELEMENT),o=a[H1e];if(o&V1e){const l=a[z1e.FOURCC];if(l!==Z1e){const w=eve[l],_=AT+Hy,E=new Uint8Array(t,_);return[new Sh(E,{format:w,width:n,height:i,levels:s})]}const u=AT+Hy,c=new Uint32Array(e.buffer,u,VD/Uint32Array.BYTES_PER_ELEMENT),d=c[Vy.DXGI_FORMAT],h=c[Vy.RESOURCE_DIMENSION],p=c[Vy.MISC_FLAG],g=c[Vy.ARRAY_SIZE],y=tve[d];if(y===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${d}`);if(p===J1e)throw new Error("DDSParser does not support cubemap textures");if(h===6)throw new Error("DDSParser does not supported 3D texture data");const b=new Array,x=AT+Hy+VD;if(g===1)b.push(new Uint8Array(t,x));else{const w=T_[y];let _=0,E=n,A=i;for(let P=0;P<s;P++){const M=Math.max(1,E+3&-4),k=Math.max(1,A+3&-4),U=M*k*w;_+=U,E=E>>>1,A=A>>>1}let I=x;for(let P=0;P<g;P++)b.push(new Uint8Array(t,I,_)),I+=_}return b.map(w=>new Sh(w,{format:y,width:n,height:i,levels:s}))}throw o&W1e?new Error("DDSParser does not support uncompressed texture data."):o&X1e?new Error("DDSParser does not supported YUV uncompressed texture data."):o&Y1e?new Error("DDSParser does not support single-channel (lumninance) texture data!"):o&G1e?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const WD=[171,75,84,88,32,49,49,187,13,10,26,10],ive=67305985,Ys={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},cR=64,XD={[et.UNSIGNED_BYTE]:1,[et.UNSIGNED_SHORT]:2,[et.INT]:4,[et.UNSIGNED_INT]:4,[et.FLOAT]:4,[et.HALF_FLOAT]:8},nve={[be.RGBA]:4,[be.RGB]:3,[be.RG]:2,[be.RED]:1,[be.LUMINANCE]:1,[be.LUMINANCE_ALPHA]:2,[be.ALPHA]:1},sve={[et.UNSIGNED_SHORT_4_4_4_4]:2,[et.UNSIGNED_SHORT_5_5_5_1]:2,[et.UNSIGNED_SHORT_5_6_5]:2};function ave(t,e,r=!1){const i=new DataView(e);if(!ove(t,i))return null;const n=i.getUint32(Ys.ENDIANNESS,!0)===ive,s=i.getUint32(Ys.GL_TYPE,n),a=i.getUint32(Ys.GL_FORMAT,n),o=i.getUint32(Ys.GL_INTERNAL_FORMAT,n),l=i.getUint32(Ys.PIXEL_WIDTH,n),u=i.getUint32(Ys.PIXEL_HEIGHT,n)||1,c=i.getUint32(Ys.PIXEL_DEPTH,n)||1,d=i.getUint32(Ys.NUMBER_OF_ARRAY_ELEMENTS,n)||1,h=i.getUint32(Ys.NUMBER_OF_FACES,n),p=i.getUint32(Ys.NUMBER_OF_MIPMAP_LEVELS,n),g=i.getUint32(Ys.BYTES_OF_KEY_VALUE_DATA,n);if(u===0||c!==1)throw new Error("Only 2D textures are supported");if(h!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(d!==1)throw new Error("WebGL does not support array textures");const y=4,b=4,x=l+3&-4,w=u+3&-4,_=new Array(d);let E=l*u;s===0&&(E=x*w);let A;if(s!==0?XD[s]?A=XD[s]*nve[a]:A=sve[s]:A=T_[o],A===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const I=r?uve(i,g,n):null;let P=E*A,M=l,k=u,U=x,j=w,B=cR+g;for(let L=0;L<p;L++){const F=i.getUint32(B,n);let O=B+4;for(let $=0;$<d;$++){let z=_[$];z||(z=_[$]=new Array(p)),z[L]={levelID:L,levelWidth:p>1||s!==0?M:U,levelHeight:p>1||s!==0?k:j,levelBuffer:new Uint8Array(e,O,P)},O+=P}B+=F+4,B=B%4!==0?B+4-B%4:B,M=M>>1||1,k=k>>1||1,U=M+y-1&~(y-1),j=k+b-1&~(b-1),P=U*j*A}return s!==0?{uncompressed:_.map(L=>{let F=L[0].levelBuffer,O=!1;return s===et.FLOAT?F=new Float32Array(L[0].levelBuffer.buffer,L[0].levelBuffer.byteOffset,L[0].levelBuffer.byteLength/4):s===et.UNSIGNED_INT?(O=!0,F=new Uint32Array(L[0].levelBuffer.buffer,L[0].levelBuffer.byteOffset,L[0].levelBuffer.byteLength/4)):s===et.INT&&(O=!0,F=new Int32Array(L[0].levelBuffer.buffer,L[0].levelBuffer.byteOffset,L[0].levelBuffer.byteLength/4)),{resource:new Dw(F,{width:L[0].levelWidth,height:L[0].levelHeight}),type:s,format:O?lve(a):a}}),kvData:I}:{compressed:_.map(L=>new Sh(null,{format:o,width:l,height:u,levels:p,levelBuffers:L})),kvData:I}}function ove(t,e){for(let r=0;r<WD.length;r++)if(e.getUint8(r)!==WD[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function lve(t){switch(t){case be.RGBA:return be.RGBA_INTEGER;case be.RGB:return be.RGB_INTEGER;case be.RG:return be.RG_INTEGER;case be.RED:return be.RED_INTEGER;default:return t}}function uve(t,e,r){const i=new Map;let n=0;for(;n<e;){const s=t.getUint32(cR+n,r),a=cR+n+4,o=3-(s+3)%4;if(s===0||s>e-n){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&t.getUint8(a+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const u=new TextDecoder().decode(new Uint8Array(t.buffer,a,l)),c=new DataView(t.buffer,a+l+1,s-l-1);i.set(u,c),n+=4+s+o}return i}const cve={extension:{type:Ie.LoadParser,priority:Aa.High},name:"loadDDS",test(t){return fc(t,".dds")},async load(t,e,r){const i=await(await Oe.ADAPTER.fetch(t)).arrayBuffer(),n=rve(i).map(s=>{const a=new yt(s,{mipmap:Eo.OFF,alphaMode:mn.NO_PREMULTIPLIED_ALPHA,resolution:xl(t),...e.data});return I1(a,r,t)});return n.length===1?n[0]:n},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Qe.add(cve);const hve={extension:{type:Ie.LoadParser,priority:Aa.High},name:"loadKTX",test(t){return fc(t,".ktx")},async load(t,e,r){const i=await(await Oe.ADAPTER.fetch(t)).arrayBuffer(),{compressed:n,uncompressed:s,kvData:a}=ave(t,i),o=n??s,l={mipmap:Eo.OFF,alphaMode:mn.NO_PREMULTIPLIED_ALPHA,resolution:xl(t),...e.data},u=o.map(c=>{o===s&&Object.assign(l,{type:c.type,format:c.format});const d=c.resource??c,h=new yt(d,l);return h.ktxKeyValueData=a,I1(h,r,t)});return u.length===1?u[0]:u},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Qe.add(hve);const dve={extension:Ie.ResolveParser,test:t=>{const e=ti.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:t=>{var r,i;const e=ti.extname(t).slice(1);if(e==="ktx"){const n=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(n.some(s=>t.endsWith(s)))return{resolution:parseFloat(((r=Oe.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:n.find(s=>t.endsWith(s)),src:t}}return{resolution:parseFloat(((i=Oe.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:e,src:t}}};Qe.add(dve);const Wy=new bt,fve=4,SH=class og{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,r,i,n){const s=new Image;return s.src=await this.base64(e,r,i,n),s}async base64(e,r,i,n){const s=this.canvas(e,n);if(s.toBlob!==void 0)return new Promise((a,o)=>{s.toBlob(l=>{if(!l){o(new Error("ICanvas.toBlob failed!"));return}const u=new FileReader;u.onload=()=>a(u.result),u.onerror=o,u.readAsDataURL(l)},r,i)});if(s.toDataURL!==void 0)return s.toDataURL(r,i);if(s.convertToBlob!==void 0){const a=await s.convertToBlob({type:r,quality:i});return new Promise((o,l)=>{const u=new FileReader;u.onload=()=>o(u.result),u.onerror=l,u.readAsDataURL(a)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,r){const{pixels:i,width:n,height:s,flipY:a,premultipliedAlpha:o}=this._rawPixels(e,r);a&&og._flipY(i,n,s),o&&og._unpremultiplyAlpha(i);const l=new Xme(n,s,1),u=new ImageData(new Uint8ClampedArray(i.buffer),n,s);return l.context.putImageData(u,0,0),l.canvas}pixels(e,r){const{pixels:i,width:n,height:s,flipY:a,premultipliedAlpha:o}=this._rawPixels(e,r);return a&&og._flipY(i,n,s),o&&og._unpremultiplyAlpha(i),i}_rawPixels(e,r){const i=this.renderer;if(!i)throw new Error("The Extract has already been destroyed");let n,s=!1,a=!1,o,l=!1;e&&(e instanceof ed?o=e:(o=i.generateTexture(e,{region:r,resolution:i.resolution,multisample:i.multisample}),l=!0,r&&(Wy.width=r.width,Wy.height=r.height,r=Wy)));const u=i.gl;if(o){if(n=o.baseTexture.resolution,r=r??o.frame,s=!1,a=o.baseTexture.alphaMode>0&&o.baseTexture.format===be.RGBA,!l){i.renderTexture.bind(o);const p=o.framebuffer.glFramebuffers[i.CONTEXT_UID];p.blitFramebuffer&&i.framebuffer.bind(p.blitFramebuffer)}}else n=i.resolution,r||(r=Wy,r.width=i.width/n,r.height=i.height/n),s=!0,a=this._rendererPremultipliedAlpha,i.renderTexture.bind();const c=Math.max(Math.round(r.width*n),1),d=Math.max(Math.round(r.height*n),1),h=new Uint8Array(fve*c*d);return u.readPixels(Math.round(r.x*n),Math.round(r.y*n),c,d,u.RGBA,u.UNSIGNED_BYTE,h),l&&(o==null||o.destroy(!0)),{pixels:h,width:c,height:d,flipY:s,premultipliedAlpha:a}}destroy(){this.renderer=null}static _flipY(e,r,i){const n=r<<2,s=i>>1,a=new Uint8Array(n);for(let o=0;o<s;o++){const l=o*n,u=(i-o-1)*n;a.set(e.subarray(l,l+n)),e.copyWithin(l,u,u+n),e.set(a,u)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const r=e.length;for(let i=0;i<r;i+=4){const n=e[i+3];if(n!==0){const s=255.001/n;e[i]=e[i]*s+.5,e[i+1]=e[i+1]*s+.5,e[i+2]=e[i+2]*s+.5}}}};SH.extension={name:"extract",type:Ie.RendererSystem};let pve=SH;Qe.add(pve);const A_={build(t){const e=t.points;let r,i,n,s,a,o;if(t.type===Ei.CIRC){const g=t.shape;r=g.x,i=g.y,a=o=g.radius,n=s=0}else if(t.type===Ei.ELIP){const g=t.shape;r=g.x,i=g.y,a=g.width,o=g.height,n=s=0}else{const g=t.shape,y=g.width/2,b=g.height/2;r=g.x+y,i=g.y+b,a=o=Math.max(0,Math.min(g.radius,Math.min(y,b))),n=y-a,s=b-o}if(!(a>=0&&o>=0&&n>=0&&s>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(a+o)),u=l*8+(n?4:0)+(s?4:0);if(e.length=u,u===0)return;if(l===0){e.length=8,e[0]=e[6]=r+n,e[1]=e[3]=i+s,e[2]=e[4]=r-n,e[5]=e[7]=i-s;return}let c=0,d=l*4+(n?2:0)+2,h=d,p=u;{const g=n+a,y=s,b=r+g,x=r-g,w=i+y;if(e[c++]=b,e[c++]=w,e[--d]=w,e[--d]=x,s){const _=i-y;e[h++]=x,e[h++]=_,e[--p]=_,e[--p]=b}}for(let g=1;g<l;g++){const y=Math.PI/2*(g/l),b=n+Math.cos(y)*a,x=s+Math.sin(y)*o,w=r+b,_=r-b,E=i+x,A=i-x;e[c++]=w,e[c++]=E,e[--d]=E,e[--d]=_,e[h++]=_,e[h++]=A,e[--p]=A,e[--p]=w}{const g=n,y=s+o,b=r+g,x=r-g,w=i+y,_=i-y;e[c++]=b,e[c++]=w,e[--p]=_,e[--p]=b,n&&(e[c++]=x,e[c++]=w,e[--p]=_,e[--p]=x)}},triangulate(t,e){const r=t.points,i=e.points,n=e.indices;if(r.length===0)return;let s=i.length/2;const a=s;let o,l;if(t.type!==Ei.RREC){const c=t.shape;o=c.x,l=c.y}else{const c=t.shape;o=c.x+c.width/2,l=c.y+c.height/2}const u=t.matrix;i.push(t.matrix?u.a*o+u.c*l+u.tx:o,t.matrix?u.b*o+u.d*l+u.ty:l),s++,i.push(r[0],r[1]);for(let c=2;c<r.length;c+=2)i.push(r[c],r[c+1]),n.push(s++,a,s);n.push(a+1,a,s)}};function YD(t,e=!1){const r=t.length;if(r<6)return;let i=0;for(let n=0,s=t[r-2],a=t[r-1];n<r;n+=2){const o=t[n],l=t[n+1];i+=(o-s)*(l+a),s=o,a=l}if(!e&&i>0||e&&i<=0){const n=r/2;for(let s=n+n%2;s<r;s+=2){const a=r-s-2,o=r-s-1,l=s,u=s+1;[t[a],t[l]]=[t[l],t[a]],[t[o],t[u]]=[t[u],t[o]]}}}const EH={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const i=t.holes,n=e.points,s=e.indices;if(r.length>=6){YD(r,!1);const a=[];for(let u=0;u<i.length;u++){const c=i[u];YD(c.points,!0),a.push(r.length/2),r=r.concat(c.points)}const o=d$(r,a,2);if(!o)return;const l=n.length/2;for(let u=0;u<o.length;u+=3)s.push(o[u]+l),s.push(o[u+1]+l),s.push(o[u+2]+l);for(let u=0;u<r.length;u++)n.push(r[u])}}},mve={build(t){const e=t.shape,r=e.x,i=e.y,n=e.width,s=e.height,a=t.points;a.length=0,n>=0&&s>=0&&a.push(r,i,r+n,i,r+n,i+s,r,i+s)},triangulate(t,e){const r=t.points,i=e.points;if(r.length===0)return;const n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},gve={build(t){A_.build(t)},triangulate(t,e){A_.triangulate(t,e)}};var ps=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(ps||{}),Cu=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Cu||{});const yp={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class qD{static curveTo(e,r,i,n,s,a){const o=a[a.length-2],l=a[a.length-1]-r,u=o-e,c=n-r,d=i-e,h=Math.abs(l*d-u*c);if(h<1e-8||s===0)return(a[a.length-2]!==e||a[a.length-1]!==r)&&a.push(e,r),null;const p=l*l+u*u,g=c*c+d*d,y=l*c+u*d,b=s*Math.sqrt(p)/h,x=s*Math.sqrt(g)/h,w=b*y/p,_=x*y/g,E=b*d+x*u,A=b*c+x*l,I=u*(x+w),P=l*(x+w),M=d*(b+_),k=c*(b+_),U=Math.atan2(P-A,I-E),j=Math.atan2(k-A,M-E);return{cx:E+e,cy:A+r,radius:s,startAngle:U,endAngle:j,anticlockwise:u*c>d*l}}static arc(e,r,i,n,s,a,o,l,u){const c=o-a,d=yp._segmentsCount(Math.abs(c)*s,Math.ceil(Math.abs(c)/v_)*40),h=c/(d*2),p=h*2,g=Math.cos(h),y=Math.sin(h),b=d-1,x=b%1/b;for(let w=0;w<=b;++w){const _=w+x*w,E=h+a+p*_,A=Math.cos(E),I=-Math.sin(E);u.push((g*A+y*I)*s+i,(g*-I+y*A)*s+n)}}}class vve{constructor(){this.reset()}begin(e,r,i){this.reset(),this.style=e,this.start=r,this.attribStart=i}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Q4{static curveLength(e,r,i,n,s,a,o,l){let u=0,c=0,d=0,h=0,p=0,g=0,y=0,b=0,x=0,w=0,_=0,E=e,A=r;for(let I=1;I<=10;++I)c=I/10,d=c*c,h=d*c,p=1-c,g=p*p,y=g*p,b=y*e+3*g*c*i+3*p*d*s+h*o,x=y*r+3*g*c*n+3*p*d*a+h*l,w=E-b,_=A-x,E=b,A=x,u+=Math.sqrt(w*w+_*_);return u}static curveTo(e,r,i,n,s,a,o){const l=o[o.length-2],u=o[o.length-1];o.length-=2;const c=yp._segmentsCount(Q4.curveLength(l,u,e,r,i,n,s,a));let d=0,h=0,p=0,g=0,y=0;o.push(l,u);for(let b=1,x=0;b<=c;++b)x=b/c,d=1-x,h=d*d,p=h*d,g=x*x,y=g*x,o.push(p*l+3*h*x*e+3*d*g*i+y*s,p*u+3*h*x*r+3*d*g*n+y*a)}}function KD(t,e,r,i,n,s,a,o){const l=t-r*n,u=e-i*n,c=t+r*s,d=e+i*s;let h,p;a?(h=i,p=-r):(h=-i,p=r);const g=l+h,y=u+p,b=c+h,x=d+p;return o.push(g,y,b,x),2}function Rc(t,e,r,i,n,s,a,o){const l=r-t,u=i-e;let c=Math.atan2(l,u),d=Math.atan2(n-t,s-e);o&&c<d?c+=Math.PI*2:!o&&c>d&&(d+=Math.PI*2);let h=c;const p=d-c,g=Math.abs(p),y=Math.sqrt(l*l+u*u),b=(15*g*Math.sqrt(y)/Math.PI>>0)+1,x=p/b;if(h+=x,o){a.push(t,e,r,i);for(let w=1,_=h;w<b;w++,_+=x)a.push(t,e,t+Math.sin(_)*y,e+Math.cos(_)*y);a.push(t,e,n,s)}else{a.push(r,i,t,e);for(let w=1,_=h;w<b;w++,_+=x)a.push(t+Math.sin(_)*y,e+Math.cos(_)*y,t,e);a.push(n,s,t,e)}return b*2}function yve(t,e){const r=t.shape;let i=t.points||r.points.slice();const n=e.closePointEps;if(i.length===0)return;const s=t.lineStyle,a=new Tt(i[0],i[1]),o=new Tt(i[i.length-2],i[i.length-1]),l=r.type!==Ei.POLY||r.closeStroke,u=Math.abs(a.x-o.x)<n&&Math.abs(a.y-o.y)<n;if(l){i=i.slice(),u&&(i.pop(),i.pop(),o.set(i[i.length-2],i[i.length-1]));const z=(a.x+o.x)*.5,D=(o.y+a.y)*.5;i.unshift(z,D),i.push(z,D)}const c=e.points,d=i.length/2;let h=i.length;const p=c.length/2,g=s.width/2,y=g*g,b=s.miterLimit*s.miterLimit;let x=i[0],w=i[1],_=i[2],E=i[3],A=0,I=0,P=-(w-E),M=x-_,k=0,U=0,j=Math.sqrt(P*P+M*M);P/=j,M/=j,P*=g,M*=g;const B=s.alignment,L=(1-B)*2,F=B*2;l||(s.cap===Cu.ROUND?h+=Rc(x-P*(L-F)*.5,w-M*(L-F)*.5,x-P*L,w-M*L,x+P*F,w+M*F,c,!0)+2:s.cap===Cu.SQUARE&&(h+=KD(x,w,P,M,L,F,!0,c))),c.push(x-P*L,w-M*L,x+P*F,w+M*F);for(let z=1;z<d-1;++z){x=i[(z-1)*2],w=i[(z-1)*2+1],_=i[z*2],E=i[z*2+1],A=i[(z+1)*2],I=i[(z+1)*2+1],P=-(w-E),M=x-_,j=Math.sqrt(P*P+M*M),P/=j,M/=j,P*=g,M*=g,k=-(E-I),U=_-A,j=Math.sqrt(k*k+U*U),k/=j,U/=j,k*=g,U*=g;const D=_-x,G=w-E,H=_-A,W=I-E,K=D*H+G*W,Q=G*H-W*D,ie=Q<0;if(Math.abs(Q)<.001*Math.abs(K)){c.push(_-P*L,E-M*L,_+P*F,E+M*F),K>=0&&(s.join===ps.ROUND?h+=Rc(_,E,_-P*L,E-M*L,_-k*L,E-U*L,c,!1)+4:h+=2,c.push(_-k*F,E-U*F,_+k*L,E+U*L));continue}const le=(-P+x)*(-M+E)-(-P+_)*(-M+w),fe=(-k+A)*(-U+E)-(-k+_)*(-U+I),we=(D*fe-H*le)/Q,$e=(W*le-G*fe)/Q,Ze=(we-_)*(we-_)+($e-E)*($e-E),Fe=_+(we-_)*L,Se=E+($e-E)*L,We=_-(we-_)*F,ze=E-($e-E)*F,Dt=Math.min(D*D+G*G,H*H+W*W),Rt=ie?L:F,Ar=Dt+Rt*Rt*y,lt=Ze<=Ar;let it=s.join;if(it===ps.MITER&&Ze/y>b&&(it=ps.BEVEL),lt)switch(it){case ps.MITER:{c.push(Fe,Se,We,ze);break}case ps.BEVEL:{ie?c.push(Fe,Se,_+P*F,E+M*F,Fe,Se,_+k*F,E+U*F):c.push(_-P*L,E-M*L,We,ze,_-k*L,E-U*L,We,ze),h+=2;break}case ps.ROUND:{ie?(c.push(Fe,Se,_+P*F,E+M*F),h+=Rc(_,E,_+P*F,E+M*F,_+k*F,E+U*F,c,!0)+4,c.push(Fe,Se,_+k*F,E+U*F)):(c.push(_-P*L,E-M*L,We,ze),h+=Rc(_,E,_-P*L,E-M*L,_-k*L,E-U*L,c,!1)+4,c.push(_-k*L,E-U*L,We,ze));break}}else{switch(c.push(_-P*L,E-M*L,_+P*F,E+M*F),it){case ps.MITER:{ie?c.push(We,ze,We,ze):c.push(Fe,Se,Fe,Se),h+=2;break}case ps.ROUND:{ie?h+=Rc(_,E,_+P*F,E+M*F,_+k*F,E+U*F,c,!0)+2:h+=Rc(_,E,_-P*L,E-M*L,_-k*L,E-U*L,c,!1)+2;break}}c.push(_-k*L,E-U*L,_+k*F,E+U*F),h+=2}}x=i[(d-2)*2],w=i[(d-2)*2+1],_=i[(d-1)*2],E=i[(d-1)*2+1],P=-(w-E),M=x-_,j=Math.sqrt(P*P+M*M),P/=j,M/=j,P*=g,M*=g,c.push(_-P*L,E-M*L,_+P*F,E+M*F),l||(s.cap===Cu.ROUND?h+=Rc(_-P*(L-F)*.5,E-M*(L-F)*.5,_-P*L,E-M*L,_+P*F,E+M*F,c,!1)+2:s.cap===Cu.SQUARE&&(h+=KD(_,E,P,M,L,F,!1,c)));const O=e.indices,$=yp.epsilon*yp.epsilon;for(let z=p;z<h+p-2;++z)x=c[z*2],w=c[z*2+1],_=c[(z+1)*2],E=c[(z+1)*2+1],A=c[(z+2)*2],I=c[(z+2)*2+1],!(Math.abs(x*(E-I)+_*(I-w)+A*(w-E))<$)&&O.push(z,z+1,z+2)}function xve(t,e){let r=0;const i=t.shape,n=t.points||i.points,s=i.type!==Ei.POLY||i.closeStroke;if(n.length===0)return;const a=e.points,o=e.indices,l=n.length/2,u=a.length/2;let c=u;for(a.push(n[0],n[1]),r=1;r<l;r++)a.push(n[r*2],n[r*2+1]),o.push(c,c+1),c++;s&&o.push(c,u)}function QD(t,e){t.lineStyle.native?xve(t,e):yve(t,e)}class Z4{static curveLength(e,r,i,n,s,a){const o=e-2*i+s,l=r-2*n+a,u=2*i-2*e,c=2*n-2*r,d=4*(o*o+l*l),h=4*(o*u+l*c),p=u*u+c*c,g=2*Math.sqrt(d+h+p),y=Math.sqrt(d),b=2*d*y,x=2*Math.sqrt(p),w=h/y;return(b*g+y*h*(g-x)+(4*p*d-h*h)*Math.log((2*y+w+g)/(w+x)))/(4*b)}static curveTo(e,r,i,n,s){const a=s[s.length-2],o=s[s.length-1],l=yp._segmentsCount(Z4.curveLength(a,o,e,r,i,n));let u=0,c=0;for(let d=1;d<=l;++d){const h=d/l;u=a+(e-a)*h,c=o+(r-o)*h,s.push(u+(e+(i-e)*h-u)*h,c+(r+(n-r)*h-c)*h)}}}const CT={[Ei.POLY]:EH,[Ei.CIRC]:A_,[Ei.ELIP]:A_,[Ei.RECT]:mve,[Ei.RREC]:gve},ZD=[],Xy=[];class C_{constructor(e,r=null,i=null,n=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=i,this.fillStyle=r,this.matrix=n,this.type=e.type}clone(){return new C_(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Pd=new Tt,TH=class AH extends kz{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new w_,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Xy.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),ZD.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,i=null,n=null){const s=new C_(e,r,i,n);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const i=new C_(e,null,null,r),n=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=n.lineStyle,n.holes.push(i),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let i=0;i<r.length;++i){const n=r[i];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(e,Pd):Pd.copyFrom(e),n.shape.contains(Pd.x,Pd.y))){let s=!1;if(n.holes){for(let a=0;a<n.holes.length;a++)if(n.holes[a].shape.contains(Pd.x,Pd.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let i=null,n=null;this.batches.length>0&&(i=this.batches[this.batches.length-1],n=i.style);for(let l=this.shapeIndex;l<r.length;l++){this.shapeIndex++;const u=r[l],c=u.fillStyle,d=u.lineStyle;CT[u.type].build(u),u.matrix&&this.transformPoints(u.points,u.matrix),(c.visible||d.visible)&&this.processHoles(u.holes);for(let h=0;h<2;h++){const p=h===0?c:d;if(!p.visible)continue;const g=p.texture.baseTexture,y=this.indices.length,b=this.points.length/2;g.wrapMode=Gu.REPEAT,h===0?this.processFill(u):this.processLine(u);const x=this.points.length/2-b;x!==0&&(i&&!this._compareStyles(n,p)&&(i.end(y,b),i=null),i||(i=ZD.pop()||new vve,i.begin(p,y,b),this.batches.push(i),n=p),this.addUvs(this.points,e,p.texture,b,x,p.matrix))}}const s=this.indices.length,a=this.points.length/2;if(i&&i.end(s,a),this.batches.length===0){this.batchable=!0;return}const o=a>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const i=this.graphicsData[e],n=i.fillStyle,s=i.lineStyle;if(n&&!n.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,i=e.length;r<i;r++){const n=e[r];for(let s=0;s<n.size;s++){const a=n.start+s;this.indicesUint16[a]=this.indicesUint16[a]-n.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<AH.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++yt._globalBatch;for(let d=0;d<this.drawCalls.length;d++)this.drawCalls[d].texArray.clear(),Xy.push(this.drawCalls[d]);this.drawCalls.length=0;const r=this.colors,i=this.textureIds;let n=Xy.pop();n||(n=new z3,n.texArray=new W3),n.texArray.count=0,n.start=0,n.size=0,n.type=oo.TRIANGLES;let s=0,a=null,o=0,l=!1,u=oo.TRIANGLES,c=0;this.drawCalls.push(n);for(let d=0;d<this.batches.length;d++){const h=this.batches[d],p=8,g=h.style,y=g.texture.baseTexture;l!==!!g.native&&(l=!!g.native,u=l?oo.LINES:oo.TRIANGLES,a=null,s=p,e++),a!==y&&(a=y,y._batchEnabled!==e&&(s===p&&(e++,s=0,n.size>0&&(n=Xy.pop(),n||(n=new z3,n.texArray=new W3),this.drawCalls.push(n)),n.start=c,n.size=0,n.texArray.count=0,n.type=u),y.touched=1,y._batchEnabled=e,y._batchLocation=s,y.wrapMode=Gu.REPEAT,n.texArray.elements[n.texArray.count++]=y,s++)),n.size+=h.size,c+=h.size,o=y._batchLocation,this.addColors(r,g.color,g.alpha,h.attribSize,h.attribStart),this.addTextureIds(i,o,h.attribSize,h.attribStart)}yt._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,i=this.colors,n=this.textureIds,s=new ArrayBuffer(e.length*3*4),a=new Float32Array(s),o=new Uint32Array(s);let l=0;for(let u=0;u<e.length/2;u++)a[l++]=e[u*2],a[l++]=e[u*2+1],a[l++]=r[u*2],a[l++]=r[u*2+1],o[l++]=i[u],a[l++]=n[u];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?EH.triangulate(e,this):CT[e.type].triangulate(e,this)}processLine(e){QD(e,this);for(let r=0;r<e.holes.length;r++)QD(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const i=e[r];CT[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let i=0;i<e.length/2;i++){const n=e[i*2],s=e[i*2+1];e[i*2]=r.a*n+r.c*s+r.tx,e[i*2+1]=r.b*n+r.d*s+r.ty}}addColors(e,r,i,n,s=0){const a=ur.shared.setValue(r).toLittleEndianNumber(),o=ur.shared.setValue(a).toPremultiplied(i);e.length=Math.max(e.length,s+n);for(let l=0;l<n;l++)e[s+l]=o}addTextureIds(e,r,i,n=0){e.length=Math.max(e.length,n+i);for(let s=0;s<i;s++)e[n+s]=r}addUvs(e,r,i,n,s,a=null){let o=0;const l=r.length,u=i.frame;for(;o<s;){let d=e[(n+o)*2],h=e[(n+o)*2+1];if(a){const p=a.a*d+a.c*h+a.tx;h=a.b*d+a.d*h+a.ty,d=p}o++,r.push(d/u.width,h/u.height)}const c=i.baseTexture;(u.width<c.width||u.height<c.height)&&this.adjustUvs(r,i,l,s)}adjustUvs(e,r,i,n){const s=r.baseTexture,a=1e-6,o=i+n*2,l=r.frame,u=l.width/s.width,c=l.height/s.height;let d=l.x/l.width,h=l.y/l.height,p=Math.floor(e[i]+a),g=Math.floor(e[i+1]+a);for(let y=i+2;y<o;y+=2)p=Math.min(p,Math.floor(e[y]+a)),g=Math.min(g,Math.floor(e[y+1]+a));d-=p,h-=g;for(let y=i;y<o;y+=2)e[y]=(e[y]+d)*u,e[y+1]=(e[y+1]+h)*c}};TH.BATCHABLE_SIZE=100;let bve=TH;class zw{constructor(){this.color=16777215,this.alpha=1,this.texture=Ge.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new zw;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=Ge.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class J4 extends zw{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Cu.BUTT,this.join=ps.MITER,this.miterLimit=10}clone(){const e=new J4;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Cu.BUTT,this.join=ps.MITER,this.miterLimit=10}}const RT={},hR=class Xx extends Sa{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new zw,this._lineStyle=new J4,this._matrix=null,this._holeMode=!1,this.state=Ao.for2d(),this._geometry=e||new bve,this._geometry.refCount++,this._transformID=-1,this._tintColor=new ur(16777215),this.blendMode=ht.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Xx(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,i,n=.5,s=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:i,alignment:n,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:Ge.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Cu.BUTT,join:ps.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const i=e.width>0&&e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:i},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new wh,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new wh,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const i=this.currentPath.points,n=i[i.length-2],s=i[i.length-1];return(n!==e||s!==r)&&i.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,i,n){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),Z4.curveTo(e,r,i,n,s),this}bezierCurveTo(e,r,i,n,s,a){return this._initCurve(),Q4.curveTo(e,r,i,n,s,a,this.currentPath.points),this}arcTo(e,r,i,n,s){this._initCurve(e,r);const a=this.currentPath.points,o=qD.curveTo(e,r,i,n,s,a);if(o){const{cx:l,cy:u,radius:c,startAngle:d,endAngle:h,anticlockwise:p}=o;this.arc(l,u,c,d,h,p)}return this}arc(e,r,i,n,s,a=!1){if(n===s)return this;if(!a&&s<=n?s+=v_:a&&n<=s&&(n+=v_),s-n===0)return this;const o=e+Math.cos(n)*i,l=r+Math.sin(n)*i,u=this._geometry.closePointEps;let c=this.currentPath?this.currentPath.points:null;if(c){const d=Math.abs(c[c.length-2]-o),h=Math.abs(c[c.length-1]-l);d<u&&h<u||c.push(o,l)}else this.moveTo(o,l),c=this.currentPath.points;return qD.arc(o,l,e,r,i,n,s,a,c),this}beginFill(e=0,r){return this.beginTextureFill({texture:Ge.WHITE,color:e,alpha:r})}normalizeColor(e){const r=ur.shared.setValue(e.color??0);e.color=r.toNumber(),e.alpha??(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:Ge.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const i=e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:i},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,i,n){return this.drawShape(new bt(e,r,i,n))}drawRoundedRect(e,r,i,n,s){return this.drawShape(new jw(e,r,i,n,s))}drawCircle(e,r,i){return this.drawShape(new Fw(e,r,i))}drawEllipse(e,r,i,n){return this.drawShape(new Bw(e,r,i,n))}drawPolygon(...e){let r,i=!0;const n=e[0];n.points?(i=n.closeStroke,r=n.points):Array.isArray(e[0])?r=e[0]:r=e;const s=new wh(r);return s.closeStroke=i,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Ei.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,i=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(e.points);for(let n=0;n<i;n++){const s=e.batches[n],a=s.style.color,o=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),l=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),u=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),c={vertexData:o,blendMode:r,indices:u,uvs:l,_batchRGB:ur.shared.setValue(a).toRgbArray(),_tintRGB:a,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[n]=c}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,i=this.batches.length;r<i;r++){const n=this.batches[r];n.worldAlpha=this.worldAlpha*n.alpha,e.plugins[this.pluginName].render(n)}}}_renderDirect(e){const r=this._resolveDirectShader(e),i=this._geometry,n=this.worldAlpha,s=r.uniforms,a=i.drawCalls;s.translationMatrix=this.transform.worldTransform,ur.shared.setValue(this._tintColor).premultiply(n).toArray(s.tint),e.shader.bind(r),e.geometry.bind(i,r),e.state.set(this.state);for(let o=0,l=a.length;o<l;o++)this._renderDrawCallDirect(e,i.drawCalls[o])}_renderDrawCallDirect(e,r){const{texArray:i,type:n,size:s,start:a}=r,o=i.count;for(let l=0;l<o;l++)e.texture.bind(i.elements[l],l);e.geometry.draw(n,s,a)}_resolveDirectShader(e){let r=this.shader;const i=this.pluginName;if(!r){if(!RT[i]){const{maxTextures:n}=e.plugins[i],s=new Int32Array(n);for(let l=0;l<n;l++)s[l]=l;const a={tint:new Float32Array([1,1,1,1]),translationMatrix:new hr,default:ya.from({uSamplers:s},!0)},o=e.plugins[i]._shader.program;RT[i]=new vo(o,a)}r=RT[i]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:i,maxX:n,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,r,i,n,s)}containsPoint(e){return this.worldTransform.applyInverse(e,Xx._TEMP_POINT),this._geometry.containsPoint(Xx._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=ur.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,i=r.a,n=r.b,s=r.c,a=r.d,o=r.tx,l=r.ty,u=this._geometry.points,c=this.vertexData;let d=0;for(let h=0;h<u.length;h+=2){const p=u[h],g=u[h+1];c[d++]=i*p+s*g+o,c[d++]=a*g+n*p+l}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};hR.curves=yp,hR._TEMP_POINT=new Tt;let bl=hR;class _ve{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const IT=new Tt,JD=new wh,CH=class RH extends Sa{constructor(e,r,i,n=oo.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=i||Ao.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=Oe.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===oo.TRIANGLES&&r.length<RH.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;const n=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[n]),e.plugins[n].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,i=e._updateID;if(i===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const n=this.transform.worldTransform,s=n.a,a=n.b,o=n.c,l=n.d,u=n.tx,c=n.ty,d=this.vertexData;for(let h=0;h<d.length/2;h++){const p=r[h*2],g=r[h*2+1];d[h*2]=s*p+o*g+u,d[h*2+1]=a*p+l*g+c}if(this._roundPixels){const h=Oe.RESOLUTION;for(let p=0;p<d.length;++p)d[p]=Math.round(d[p]*h)/h}this.vertexDirty=i}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new _ve(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,IT);const r=this.geometry.getBuffer("aVertexPosition").data,i=JD.points,n=this.geometry.getIndex().data,s=n.length,a=this.drawMode===4?3:1;for(let o=0;o+2<s;o+=a){const l=n[o]*2,u=n[o+1]*2,c=n[o+2]*2;if(i[0]=r[l],i[1]=r[l+1],i[2]=r[u],i[3]=r[u+1],i[4]=r[c],i[5]=r[c+1],JD.contains(IT.x,IT.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};CH.BATCHABLE_SIZE=100;let e6=CH;class wve extends Qu{constructor(e,r,i){super();const n=new Zr(e),s=new Zr(r,!0),a=new Zr(i,!0,!0);this.addAttribute("aVertexPosition",n,2,!1,et.FLOAT).addAttribute("aTextureCoord",s,2,!1,et.FLOAT).addIndex(a),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var Sve=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Eve=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class t6 extends vo{constructor(e,r){const i={uSampler:e,alpha:1,uTextureMatrix:hr.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(i,r.uniforms),super(r.program||il.from(Eve,Sve),i),this._colorDirty=!1,this.uvMatrix=new Wz(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new ur(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;ur.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class r6{constructor(e,r,i){this.geometry=new Qu,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(let n=0;n<e.length;++n){let s=e[n];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||et.FLOAT,offset:s.offset},r[n]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new Zr(Vme(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let a=0;a<this.dynamicProperties.length;++a){const o=this.dynamicProperties[a];o.offset=r,r+=o.size,this.dynamicStride+=o.size}const i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new Zr(this.dynamicData,!1,!1);let n=0;this.staticStride=0;for(let a=0;a<this.staticProperties.length;++a){const o=this.staticProperties[a];o.offset=n,n+=o.size,this.staticStride+=o.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Zr(this.staticData,!0,!1);for(let a=0;a<this.dynamicProperties.length;++a){const o=this.dynamicProperties[a];e.addAttribute(o.attributeName,this.dynamicBuffer,0,o.type===et.UNSIGNED_BYTE,o.type,this.dynamicStride*4,o.offset*4)}for(let a=0;a<this.staticProperties.length;++a){const o=this.staticProperties[a];e.addAttribute(o.attributeName,this.staticBuffer,0,o.type===et.UNSIGNED_BYTE,o.type,this.staticStride*4,o.offset*4)}}uploadDynamic(e,r,i){for(let n=0;n<this.dynamicProperties.length;n++){const s=this.dynamicProperties[n];s.uploadFunction(e,r,i,s.type===et.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,i){for(let n=0;n<this.staticProperties.length;n++){const s=this.staticProperties[n];s.uploadFunction(e,r,i,s.type===et.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var Tve=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,Ave=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class IH extends Uw{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new hr,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:et.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=vo.from(Ave,Tve,{}),this.state=Ao.for2d()}render(e){const r=e.children,i=e._maxSize,n=e._batchSize,s=this.renderer;let a=r.length;if(a===0)return;a>i&&!e.autoResize&&(a=i);let o=e._buffers;o||(o=e._buffers=this.generateBuffers(e));const l=r[0]._texture.baseTexture,u=l.alphaMode>0;this.state.blendMode=Rz(e.blendMode,u),s.state.set(this.state);const c=s.gl,d=e.worldTransform.copyTo(this.tempMatrix);d.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=d.toArray(!0),this.shader.uniforms.uColor=ur.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,u).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let h=!1;for(let p=0,g=0;p<a;p+=n,g+=1){let y=a-p;y>n&&(y=n),g>=o.length&&o.push(this._generateOneMoreBuffer(e));const b=o[g];b.uploadDynamic(r,p,y);const x=e._bufferUpdateIDs[g]||0;h=h||b._updateID<x,h&&(b._updateID=e._updateID,b.uploadStatic(r,p,y)),s.geometry.bind(b.geometry),c.drawElements(c.TRIANGLES,y*6,c.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],i=e._maxSize,n=e._batchSize,s=e._properties;for(let a=0;a<i;a+=n)r.push(new r6(this.properties,s,n));return r}_generateOneMoreBuffer(e){const r=e._batchSize,i=e._properties;return new r6(this.properties,i,r)}uploadVertices(e,r,i,n,s,a){let o=0,l=0,u=0,c=0;for(let d=0;d<i;++d){const h=e[r+d],p=h._texture,g=h.scale.x,y=h.scale.y,b=p.trim,x=p.orig;b?(l=b.x-h.anchor.x*x.width,o=l+b.width,c=b.y-h.anchor.y*x.height,u=c+b.height):(o=x.width*(1-h.anchor.x),l=x.width*-h.anchor.x,u=x.height*(1-h.anchor.y),c=x.height*-h.anchor.y),n[a]=l*g,n[a+1]=c*y,n[a+s]=o*g,n[a+s+1]=c*y,n[a+s*2]=o*g,n[a+s*2+1]=u*y,n[a+s*3]=l*g,n[a+s*3+1]=u*y,a+=s*4}}uploadPosition(e,r,i,n,s,a){for(let o=0;o<i;o++){const l=e[r+o].position;n[a]=l.x,n[a+1]=l.y,n[a+s]=l.x,n[a+s+1]=l.y,n[a+s*2]=l.x,n[a+s*2+1]=l.y,n[a+s*3]=l.x,n[a+s*3+1]=l.y,a+=s*4}}uploadRotation(e,r,i,n,s,a){for(let o=0;o<i;o++){const l=e[r+o].rotation;n[a]=l,n[a+s]=l,n[a+s*2]=l,n[a+s*3]=l,a+=s*4}}uploadUvs(e,r,i,n,s,a){for(let o=0;o<i;++o){const l=e[r+o]._texture._uvs;l?(n[a]=l.x0,n[a+1]=l.y0,n[a+s]=l.x1,n[a+s+1]=l.y1,n[a+s*2]=l.x2,n[a+s*2+1]=l.y2,n[a+s*3]=l.x3,n[a+s*3+1]=l.y3,a+=s*4):(n[a]=0,n[a+1]=0,n[a+s]=0,n[a+s+1]=0,n[a+s*2]=0,n[a+s*2+1]=0,n[a+s*3]=0,n[a+s*3+1]=0,a+=s*4)}}uploadTint(e,r,i,n,s,a){for(let o=0;o<i;++o){const l=e[r+o],u=ur.shared.setValue(l._tintRGB).toPremultiplied(l.alpha,l.texture.baseTexture.alphaMode>0);n[a]=u,n[a+s]=u,n[a+s*2]=u,n[a+s*3]=u,a+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}IH.extension={name:"particle",type:Ie.RendererPlugin};Qe.add(IH);var Hw=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Hw||{});const Yy={willReadFrequently:!0},Wa=class Ke{static get experimentalLetterSpacingSupported(){let e=Ke._experimentalLetterSpacingSupported;if(e!==void 0){const r=Oe.ADAPTER.getCanvasRenderingContext2D().prototype;e=Ke._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,i,n,s,a,o,l,u){this.text=e,this.style=r,this.width=i,this.height=n,this.lines=s,this.lineWidths=a,this.lineHeight=o,this.maxLineWidth=l,this.fontProperties=u}static measureText(e,r,i,n=Ke._canvas){i=i??r.wordWrap;const s=r.toFontString(),a=Ke.measureFont(s);a.fontSize===0&&(a.fontSize=r.fontSize,a.ascent=r.fontSize);const o=n.getContext("2d",Yy);o.font=s;const l=(i?Ke.wordWrap(e,r,n):e).split(/(?:\r\n|\r|\n)/),u=new Array(l.length);let c=0;for(let g=0;g<l.length;g++){const y=Ke._measureText(l[g],r.letterSpacing,o);u[g]=y,c=Math.max(c,y)}let d=c+r.strokeThickness;r.dropShadow&&(d+=r.dropShadowDistance);const h=r.lineHeight||a.fontSize+r.strokeThickness;let p=Math.max(h,a.fontSize+r.strokeThickness*2)+r.leading+(l.length-1)*(h+r.leading);return r.dropShadow&&(p+=r.dropShadowDistance),new Ke(e,r,d,p,l,u,h+r.leading,c,a)}static _measureText(e,r,i){let n=!1;Ke.experimentalLetterSpacingSupported&&(Ke.experimentalLetterSpacing?(i.letterSpacing=`${r}px`,i.textLetterSpacing=`${r}px`,n=!0):(i.letterSpacing="0px",i.textLetterSpacing="0px"));let s=i.measureText(e).width;return s>0&&(n?s-=r:s+=(Ke.graphemeSegmenter(e).length-1)*r),s}static wordWrap(e,r,i=Ke._canvas){const n=i.getContext("2d",Yy);let s=0,a="",o="";const l=Object.create(null),{letterSpacing:u,whiteSpace:c}=r,d=Ke.collapseSpaces(c),h=Ke.collapseNewlines(c);let p=!d;const g=r.wordWrapWidth+u,y=Ke.tokenize(e);for(let b=0;b<y.length;b++){let x=y[b];if(Ke.isNewline(x)){if(!h){o+=Ke.addLine(a),p=!d,a="",s=0;continue}x=" "}if(d){const _=Ke.isBreakingSpace(x),E=Ke.isBreakingSpace(a[a.length-1]);if(_&&E)continue}const w=Ke.getFromCache(x,u,l,n);if(w>g)if(a!==""&&(o+=Ke.addLine(a),a="",s=0),Ke.canBreakWords(x,r.breakWords)){const _=Ke.wordWrapSplit(x);for(let E=0;E<_.length;E++){let A=_[E],I=A,P=1;for(;_[E+P];){const k=_[E+P];if(!Ke.canBreakChars(I,k,x,E,r.breakWords))A+=k;else break;I=k,P++}E+=P-1;const M=Ke.getFromCache(A,u,l,n);M+s>g&&(o+=Ke.addLine(a),p=!1,a="",s=0),a+=A,s+=M}}else{a.length>0&&(o+=Ke.addLine(a),a="",s=0);const _=b===y.length-1;o+=Ke.addLine(x,!_),p=!1,a="",s=0}else w+s>g&&(p=!1,o+=Ke.addLine(a),a="",s=0),(a.length>0||!Ke.isBreakingSpace(x)||p)&&(a+=x,s+=w)}return o+=Ke.addLine(a,!1),o}static addLine(e,r=!0){return e=Ke.trimRight(e),e=r?`${e}
`:e,e}static getFromCache(e,r,i,n){let s=i[e];return typeof s!="number"&&(s=Ke._measureText(e,r,n)+r,i[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const i=e[r];if(!Ke.isBreakingSpace(i))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:Ke._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:Ke._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let i="";if(typeof e!="string")return r;for(let n=0;n<e.length;n++){const s=e[n],a=e[n+1];if(Ke.isBreakingSpace(s,a)||Ke.isNewline(s)){i!==""&&(r.push(i),i=""),r.push(s);continue}i+=s}return i!==""&&r.push(i),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,i,n,s){return!0}static wordWrapSplit(e){return Ke.graphemeSegmenter(e)}static measureFont(e){if(Ke._fonts[e])return Ke._fonts[e];const r={ascent:0,descent:0,fontSize:0},i=Ke._canvas,n=Ke._context;n.font=e;const s=Ke.METRICS_STRING+Ke.BASELINE_SYMBOL,a=Math.ceil(n.measureText(s).width);let o=Math.ceil(n.measureText(Ke.BASELINE_SYMBOL).width);const l=Math.ceil(Ke.HEIGHT_MULTIPLIER*o);if(o=o*Ke.BASELINE_MULTIPLIER|0,a===0||l===0)return Ke._fonts[e]=r,r;i.width=a,i.height=l,n.fillStyle="#f00",n.fillRect(0,0,a,l),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(s,0,o);const u=n.getImageData(0,0,a,l).data,c=u.length,d=a*4;let h=0,p=0,g=!1;for(h=0;h<o;++h){for(let y=0;y<d;y+=4)if(u[p+y]!==255){g=!0;break}if(!g)p+=d;else break}for(r.ascent=o-h,p=c-d,g=!1,h=l;h>o;--h){for(let y=0;y<d;y+=4)if(u[p+y]!==255){g=!0;break}if(!g)p-=d;else break}return r.descent=h-o,r.fontSize=r.ascent+r.descent,Ke._fonts[e]=r,r}static clearMetrics(e=""){e?delete Ke._fonts[e]:Ke._fonts={}}static get _canvas(){var e;if(!Ke.__canvas){let r;try{const i=new OffscreenCanvas(0,0);if((e=i.getContext("2d",Yy))!=null&&e.measureText)return Ke.__canvas=i,i;r=Oe.ADAPTER.createCanvas()}catch{r=Oe.ADAPTER.createCanvas()}r.width=r.height=10,Ke.__canvas=r}return Ke.__canvas}static get _context(){return Ke.__context||(Ke.__context=Ke._canvas.getContext("2d",Yy)),Ke.__context}};Wa.METRICS_STRING="|ÉqÅ",Wa.BASELINE_SYMBOL="M",Wa.BASELINE_MULTIPLIER=1.4,Wa.HEIGHT_MULTIPLIER=2,Wa.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),Wa.experimentalLetterSpacing=!1,Wa._fonts={},Wa._newlines=[10,13],Wa._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let ru=Wa;const Cve=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],PH=class lg{constructor(e){this.styleID=0,this.reset(),MT(this,e,e)}clone(){const e={};return MT(e,this,lg.defaultStyle),new lg(e)}reset(){MT(this,lg.defaultStyle,lg.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=PT(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=PT(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){Rve(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=PT(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let i=r.length-1;i>=0;i--){let n=r[i].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&!Cve.includes(n)&&(n=`"${n}"`),r[i]=n}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${r.join(",")}`}};PH.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Hw.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Ju=PH;function PT(t){const e=ur.shared,r=i=>{const n=e.setValue(i);return n.alpha===1?n.toHex():n.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function Rve(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function MT(t,e,r){for(const i in r)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}const Ive={texture:!0,children:!1,baseTexture:!0},MH=class dR extends Zi{constructor(e,r,i){let n=!1;i||(i=Oe.ADAPTER.createCanvas(),n=!0),i.width=3,i.height=3;const s=Ge.from(i);s.orig=new bt,s.trim=new bt,super(s),this._ownCanvas=n,this.canvas=i,this.context=i.getContext("2d",{willReadFrequently:!0}),this._resolution=dR.defaultResolution??Oe.RESOLUTION,this._autoResolution=dR.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return ru.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Pt("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),ru.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const i=this.context,n=ru.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=n.width,a=n.height,o=n.lines,l=n.lineHeight,u=n.lineWidths,c=n.maxLineWidth,d=n.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,a)+r.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=r.strokeThickness,i.textBaseline=r.textBaseline,i.lineJoin=r.lineJoin,i.miterLimit=r.miterLimit;let h,p;const g=r.dropShadow?2:1;for(let y=0;y<g;++y){const b=r.dropShadow&&y===0,x=b?Math.ceil(Math.max(1,a)+r.padding*2):0,w=x*this._resolution;if(b){i.fillStyle="black",i.strokeStyle="black";const E=r.dropShadowColor,A=r.dropShadowBlur*this._resolution,I=r.dropShadowDistance*this._resolution;i.shadowColor=ur.shared.setValue(E).setAlpha(r.dropShadowAlpha).toRgbaString(),i.shadowBlur=A,i.shadowOffsetX=Math.cos(r.dropShadowAngle)*I,i.shadowOffsetY=Math.sin(r.dropShadowAngle)*I+w}else i.fillStyle=this._generateFillStyle(r,o,n),i.strokeStyle=r.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;let _=(l-d.fontSize)/2;l-d.fontSize<0&&(_=0);for(let E=0;E<o.length;E++)h=r.strokeThickness/2,p=r.strokeThickness/2+E*l+d.ascent+_,r.align==="right"?h+=c-u[E]:r.align==="center"&&(h+=(c-u[E])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(o[E],h+r.padding,p+r.padding-x,!0),r.fill&&this.drawLetterSpacing(o[E],h+r.padding,p+r.padding-x)}this.updateTexture()}drawLetterSpacing(e,r,i,n=!1){const s=this._style.letterSpacing;let a=!1;if(ru.experimentalLetterSpacingSupported&&(ru.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,a=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||a){n?this.context.strokeText(e,r,i):this.context.fillText(e,r,i);return}let o=r;const l=ru.graphemeSegmenter(e);let u=this.context.measureText(e).width,c=0;for(let d=0;d<l.length;++d){const h=l[d];n?this.context.strokeText(h,o,i):this.context.fillText(h,o,i);let p="";for(let g=d+1;g<l.length;++g)p+=l[g];c=this.context.measureText(p).width,o+=u-c+s,u=c}}updateTexture(){const e=this.canvas;if(this._style.trim){const a=qme(e);a.data&&(e.width=a.width,e.height=a.height,this.context.putImageData(a.data,0,0))}const r=this._texture,i=this._style,n=i.trim?0:i.padding,s=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-n,r.trim.y=-n,r.orig.width=r._frame.width-n*2,r.orig.height=r._frame.height-n*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,i){const n=e.fill;if(Array.isArray(n)){if(n.length===1)return n[0]}else return n;let s;const a=e.dropShadow?e.dropShadowDistance:0,o=e.padding||0,l=this.canvas.width/this._resolution-a-o*2,u=this.canvas.height/this._resolution-a-o*2,c=n.slice(),d=e.fillGradientStops.slice();if(!d.length){const h=c.length+1;for(let p=1;p<h;++p)d.push(p/h)}if(c.unshift(n[0]),d.unshift(0),c.push(n[n.length-1]),d.push(1),e.fillGradientType===Hw.LINEAR_VERTICAL){s=this.context.createLinearGradient(l/2,o,l/2,u+o);const h=i.fontProperties.fontSize+e.strokeThickness;for(let p=0;p<r.length;p++){const g=i.lineHeight*(p-1)+h,y=i.lineHeight*p;let b=y;p>0&&g>y&&(b=(y+g)/2);const x=y+h,w=i.lineHeight*(p+1);let _=x;p+1<r.length&&w<x&&(_=(x+w)/2);const E=(_-b)/u;for(let A=0;A<c.length;A++){let I=0;typeof d[A]=="number"?I=d[A]:I=A/c.length;let P=Math.min(1,Math.max(0,b/u+I*E));P=Number(P.toFixed(5)),s.addColorStop(P,c[A])}}}else{s=this.context.createLinearGradient(o,u/2,l+o,u/2);const h=c.length+1;let p=1;for(let g=0;g<c.length;g++){let y;typeof d[g]=="number"?y=d[g]:y=p/h,s.addColorStop(y,c[g]),p++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Ive,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=Au(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=Au(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof Ju?this._style=e:this._style=new Ju(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};MH.defaultAutoResolution=!0;let kH=MH;class Pve{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function Mve(t,e){var i;let r=!1;if((i=t==null?void 0:t._textures)!=null&&i.length){for(let n=0;n<t._textures.length;n++)if(t._textures[n]instanceof Ge){const s=t._textures[n].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function kve(t,e){if(t.baseTexture instanceof yt){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function Nve(t,e){if(t._texture&&t._texture instanceof Ge){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function Ove(t,e){return e instanceof kH?(e.updateText(!0),!0):!1}function Lve(t,e){if(e instanceof Ju){const r=e.toFontString();return ru.measureFont(r),!0}return!1}function Dve(t,e){if(t instanceof kH){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function Fve(t,e){return t instanceof Ju?(e.includes(t)||e.push(t),!0):!1}const NH=class OH{constructor(e){this.limiter=new Pve(OH.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(Dve),this.registerFindHook(Fve),this.registerFindHook(Mve),this.registerFindHook(kve),this.registerFindHook(Nve),this.registerUploadHook(Ove),this.registerUploadHook(Lve)}upload(e){return new Promise(r=>{e&&this.add(e),this.queue.length?(this.completes.push(r),this.ticking||(this.ticking=!0,fa.system.addOnce(this.tick,this,vp.UTILITY))):r()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let r=!1;if(e&&!e._destroyed){for(let i=0,n=this.uploadHooks.length;i<n;i++)if(this.uploadHooks[i](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)fa.system.addOnce(this.tick,this,vp.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let r=0,i=e.length;r<i;r++)e[r]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let r=0,i=this.addHooks.length;r<i&&!this.addHooks[r](e,this.queue);r++);if(e instanceof Sa)for(let r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}destroy(){this.ticking&&fa.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};NH.uploadsPerFrame=4;let fR=NH;Object.defineProperties(Oe,{UPLOADS_PER_FRAME:{get(){return fR.uploadsPerFrame},set(t){Pt("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),fR.uploadsPerFrame=t}}});function LH(t,e){return e instanceof yt?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function Bve(t,e){if(!(e instanceof bl))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:i}=r;for(let n=0;n<i.length;n++){const{texture:s}=i[n].style;s&&LH(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function jve(t,e){return t instanceof bl?(e.push(t),!0):!1}class DH extends fR{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(jve),this.registerUploadHook(LH),this.registerUploadHook(Bve)}}DH.extension={name:"prepare",type:Ie.RendererSystem};Qe.add(DH);var Uve=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,$ve=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,zve=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,i6=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Hve=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const qy=new hr;class FH extends Uw{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new zz,this.state=Ao.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=vo.from(i6,Hve,r),this.shader=e.context.webGLVersion>1?vo.from($ve,Uve,r):vo.from(i6,zve,r)}render(e){const r=this.renderer,i=this.quad;let n=i.vertices;n[0]=n[6]=e._width*-e.anchor.x,n[1]=n[3]=e._height*-e.anchor.y,n[2]=n[4]=e._width*(1-e.anchor.x),n[5]=n[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,a=e.uvRespectAnchor?e.anchor.y:0;n=i.uvs,n[0]=n[6]=-s,n[1]=n[3]=-a,n[2]=n[4]=1-s,n[5]=n[7]=1-a,i.invalidate();const o=e._texture,l=o.baseTexture,u=l.alphaMode>0,c=e.tileTransform.localTransform,d=e.uvMatrix;let h=l.isPowerOfTwo&&o.frame.width===l.width&&o.frame.height===l.height;h&&(l._glTextures[r.CONTEXT_UID]?h=l.wrapMode!==Gu.CLAMP:l.wrapMode===Gu.CLAMP&&(l.wrapMode=Gu.REPEAT));const p=h?this.simpleShader:this.shader,g=o.width,y=o.height,b=e._width,x=e._height;qy.set(c.a*g/b,c.b*g/x,c.c*y/b,c.d*y/x,c.tx/b,c.ty/x),qy.invert(),h?qy.prepend(d.mapCoord):(p.uniforms.uMapCoord=d.mapCoord.toArray(!0),p.uniforms.uClampFrame=d.uClampFrame,p.uniforms.uClampOffset=d.uClampOffset),p.uniforms.uTransform=qy.toArray(!0),p.uniforms.uColor=ur.shared.setValue(e.tint).premultiply(e.worldAlpha,u).toArray(p.uniforms.uColor),p.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),p.uniforms.uSampler=o,r.shader.bind(p),r.geometry.bind(i),this.state.blendMode=Rz(e.blendMode,u),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}FH.extension={name:"tilingSprite",type:Ie.RendererPlugin};Qe.add(FH);const BH=class ug{constructor(e,r,i=null){this.linkedSheets=[],this._texture=e instanceof Ge?e:null,this.baseTexture=e instanceof yt?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;const n=this.baseTexture.resource;this.resolution=this._updateResolution(i||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:r}=this.data.meta;let i=xl(e,null);return i===null&&(i=parseFloat(r??"1")),i!==1&&this.baseTexture.setResolution(i),i}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=ug.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const i=ug.BATCH_SIZE;for(;r-e<i&&r<this._frameKeys.length;){const n=this._frameKeys[r],s=this._frames[n],a=s.frame;if(a){let o=null,l=null;const u=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,c=new bt(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);s.rotated?o=new bt(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):o=new bt(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(l=new bt(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[n]=new Ge(this.baseTexture,o,c,l,s.rotated?2:0,s.anchor,s.borders),Ge.addToCache(this.textures[n],n.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let i=0;i<e[r].length;i++){const n=e[r][i];this.animations[r].push(this.textures[n])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*ug.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*ug.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const i in this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};BH.BATCH_SIZE=1e3;let n6=BH;const Gve=["jpg","png","jpeg","avif","webp"];function jH(t,e,r){const i={};if(t.forEach(n=>{i[n]=e}),Object.keys(e.textures).forEach(n=>{i[n]=e.textures[n]}),!r){const n=ti.dirname(t[0]);e.linkedSheets.forEach((s,a)=>{const o=jH([`${n}/${e.data.meta.related_multi_packs[a]}`],s,!0);Object.assign(i,o)})}return i}const Vve={extension:Ie.Asset,cache:{test:t=>t instanceof n6,getCacheableAssets:(t,e)=>jH(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),i=e.pop();return r==="json"&&Gve.includes(i)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=Oe.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:Ie.LoadParser,priority:Aa.Normal},async testParse(t,e){return ti.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var l,u;let i=ti.dirname(e.src);i&&i.lastIndexOf("/")!==i.length-1&&(i+="/");let n=i+t.meta.image;n=uR(n,e.src);const s=(await r.load([n]))[n],a=new n6(s.baseTexture,t,e.src);await a.parse();const o=(l=t==null?void 0:t.meta)==null?void 0:l.related_multi_packs;if(Array.isArray(o)){const c=[];for(const h of o){if(typeof h!="string")continue;let p=i+h;(u=e.data)!=null&&u.ignoreMultiPack||(p=uR(p,e.src),c.push(r.load({src:p,data:{ignoreMultiPack:!0}})))}const d=await Promise.all(c);a.linkedSheets=d,d.forEach(h=>{h.linkedSheets=[a].concat(a.linkedSheets.filter(p=>p!==h))})}return a},unload(t){t.destroy(!0)}}};Qe.add(Vve);class R_{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Yx{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const a=r[s].match(/^[a-z]+/gm)[0],o=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const u in o){const c=o[u].split("="),d=c[0],h=c[1].replace(/"/gm,""),p=parseFloat(h),g=isNaN(p)?h:p;l[d]=g}i[a].push(l)}const n=new R_;return i.info.forEach(s=>n.info.push({face:s.face,size:parseInt(s.size,10)})),i.common.forEach(s=>n.common.push({lineHeight:parseInt(s.lineHeight,10)})),i.page.forEach(s=>n.page.push({id:parseInt(s.id,10),file:s.file})),i.char.forEach(s=>n.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),i.kerning.forEach(s=>n.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),i.distanceField.forEach(s=>n.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),n}}class pR{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new R_,i=e.getElementsByTagName("info"),n=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),o=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let u=0;u<i.length;u++)r.info.push({face:i[u].getAttribute("face"),size:parseInt(i[u].getAttribute("size"),10)});for(let u=0;u<n.length;u++)r.common.push({lineHeight:parseInt(n[u].getAttribute("lineHeight"),10)});for(let u=0;u<s.length;u++)r.page.push({id:parseInt(s[u].getAttribute("id"),10)||0,file:s[u].getAttribute("file")});for(let u=0;u<a.length;u++){const c=a[u];r.char.push({id:parseInt(c.getAttribute("id"),10),page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xoffset:parseInt(c.getAttribute("xoffset"),10),yoffset:parseInt(c.getAttribute("yoffset"),10),xadvance:parseInt(c.getAttribute("xadvance"),10)})}for(let u=0;u<o.length;u++)r.kerning.push({first:parseInt(o[u].getAttribute("first"),10),second:parseInt(o[u].getAttribute("second"),10),amount:parseInt(o[u].getAttribute("amount"),10)});for(let u=0;u<l.length;u++)r.distanceField.push({fieldType:l[u].getAttribute("fieldType"),distanceRange:parseInt(l[u].getAttribute("distanceRange"),10)});return r}}class mR{static test(e){return typeof e=="string"&&e.includes("<font>")?pR.test(Oe.ADAPTER.parseXML(e)):!1}static parse(e){return pR.parse(Oe.ADAPTER.parseXML(e))}}const kT=[Yx,pR,mR];function Wve(t){for(let e=0;e<kT.length;e++)if(kT[e].test(t))return kT[e];return null}function Xve(t,e,r,i,n,s){const a=r.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;let o;const l=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,c=t.width/i-l-u*2,d=t.height/i-l-u*2,h=a.slice(),p=r.fillGradientStops.slice();if(!p.length){const g=h.length+1;for(let y=1;y<g;++y)p.push(y/g)}if(h.unshift(a[0]),p.unshift(0),h.push(a[a.length-1]),p.push(1),r.fillGradientType===Hw.LINEAR_VERTICAL){o=e.createLinearGradient(c/2,u,c/2,d+u);let g=0;const y=(s.fontProperties.fontSize+r.strokeThickness)/d;for(let b=0;b<n.length;b++){const x=s.lineHeight*b;for(let w=0;w<h.length;w++){let _=0;typeof p[w]=="number"?_=p[w]:_=w/h.length;const E=x/d+_*y;let A=Math.max(g,E);A=Math.min(A,1),o.addColorStop(A,h[w]),g=A}}}else{o=e.createLinearGradient(u,d/2,c+u,d/2);const g=h.length+1;let y=1;for(let b=0;b<h.length;b++){let x;typeof p[b]=="number"?x=p[b]:x=y/g,o.addColorStop(x,h[b]),y++}}return o}function Yve(t,e,r,i,n,s,a){const o=r.text,l=r.fontProperties;e.translate(i,n),e.scale(s,s);const u=a.strokeThickness/2,c=-(a.strokeThickness/2);if(e.font=a.toFontString(),e.lineWidth=a.strokeThickness,e.textBaseline=a.textBaseline,e.lineJoin=a.lineJoin,e.miterLimit=a.miterLimit,e.fillStyle=Xve(t,e,a,s,[o],r),e.strokeStyle=a.stroke,a.dropShadow){const d=a.dropShadowColor,h=a.dropShadowBlur*s,p=a.dropShadowDistance*s;e.shadowColor=ur.shared.setValue(d).setAlpha(a.dropShadowAlpha).toRgbaString(),e.shadowBlur=h,e.shadowOffsetX=Math.cos(a.dropShadowAngle)*p,e.shadowOffsetY=Math.sin(a.dropShadowAngle)*p}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;a.stroke&&a.strokeThickness&&e.strokeText(o,u,c+r.lineHeight-l.descent),a.fill&&e.fillText(o,u,c+r.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function qx(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function UH(t){return Array.from?Array.from(t):t.split("")}function qve(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,i=t.length;r<i;r++){const n=t[r];if(Array.isArray(n)){if(n.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${n.length}.`);const s=n[0].charCodeAt(0),a=n[1].charCodeAt(0);if(a<s)throw new Error("[BitmapFont]: Invalid character range.");for(let o=s,l=a;o<=l;o++)e.push(String.fromCharCode(o))}else e.push(...UH(n))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Kl=class Xa{constructor(e,r,i){var c;const[n]=e.info,[s]=e.common,[a]=e.page,[o]=e.distanceField,l=xl(a.file),u={};this._ownsTextures=i,this.font=n.face,this.size=n.size,this.lineHeight=s.lineHeight/l,this.chars={},this.pageTextures=u;for(let d=0;d<e.page.length;d++){const{id:h,file:p}=e.page[d];u[h]=r instanceof Array?r[d]:r[p],o!=null&&o.fieldType&&o.fieldType!=="none"&&(u[h].baseTexture.alphaMode=mn.NO_PREMULTIPLIED_ALPHA,u[h].baseTexture.mipmap=Eo.OFF)}for(let d=0;d<e.char.length;d++){const{id:h,page:p}=e.char[d];let{x:g,y,width:b,height:x,xoffset:w,yoffset:_,xadvance:E}=e.char[d];g/=l,y/=l,b/=l,x/=l,w/=l,_/=l,E/=l;const A=new bt(g+u[p].frame.x/l,y+u[p].frame.y/l,b,x);this.chars[h]={xOffset:w,yOffset:_,xAdvance:E,kerning:{},texture:new Ge(u[p].baseTexture,A),page:p}}for(let d=0;d<e.kerning.length;d++){let{first:h,second:p,amount:g}=e.kerning[d];h/=l,p/=l,g/=l,this.chars[p]&&(this.chars[p].kerning[h]=g)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((c=o==null?void 0:o.fieldType)==null?void 0:c.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,i){let n;if(e instanceof R_)n=e;else{const a=Wve(e);if(!a)throw new Error("Unrecognized data format for font.");n=a.parse(e)}r instanceof Ge&&(r=[r]);const s=new Xa(n,r,i);return Xa.available[s.font]=s,s}static uninstall(e){const r=Xa.available[e];if(!r)throw new Error(`No font found named '${e}'`);r.destroy(),delete Xa.available[e]}static from(e,r,i){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:n,padding:s,resolution:a,textureWidth:o,textureHeight:l,...u}=Object.assign({},Xa.defaultOptions,i),c=qve(n),d=r instanceof Ju?r:new Ju(r),h=o,p=new R_;p.info[0]={face:d.fontFamily,size:d.fontSize},p.common[0]={lineHeight:d.fontSize};let g=0,y=0,b,x,w,_=0;const E=[];for(let I=0;I<c.length;I++){b||(b=Oe.ADAPTER.createCanvas(),b.width=o,b.height=l,x=b.getContext("2d"),w=new yt(b,{resolution:a,...u}),E.push(new Ge(w)),p.page.push({id:E.length-1,file:""}));const P=c[I],M=ru.measureText(P,d,!1,b),k=M.width,U=Math.ceil(M.height),j=Math.ceil((d.fontStyle==="italic"?2:1)*k);if(y>=l-U*a){if(y===0)throw new Error(`[BitmapFont] textureHeight ${l}px is too small (fontFamily: '${d.fontFamily}', fontSize: ${d.fontSize}px, char: '${P}')`);--I,b=null,x=null,w=null,y=0,g=0,_=0;continue}if(_=Math.max(U+M.fontProperties.descent,_),j*a+g>=h){if(g===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${d.fontFamily}', fontSize: ${d.fontSize}px, char: '${P}')`);--I,y+=_*a,y=Math.ceil(y),g=0,_=0;continue}Yve(b,x,M,g,y,a,d);const B=qx(M.text);p.char.push({id:B,page:E.length-1,x:g/a,y:y/a,width:j,height:U,xoffset:0,yoffset:0,xadvance:k-(d.dropShadow?d.dropShadowDistance:0)-(d.stroke?d.strokeThickness:0)}),g+=(j+2*s)*a,g=Math.ceil(g)}if(!(i!=null&&i.skipKerning))for(let I=0,P=c.length;I<P;I++){const M=c[I];for(let k=0;k<P;k++){const U=c[k],j=x.measureText(M).width,B=x.measureText(U).width,L=x.measureText(M+U).width-(j+B);L&&p.kerning.push({first:qx(M),second:qx(U),amount:L})}}const A=new Xa(p,E,!0);return Xa.available[e]!==void 0&&Xa.uninstall(e),Xa.available[e]=A,A}};Kl.ALPHA=[["a","z"],["A","Z"]," "],Kl.NUMERIC=[["0","9"]],Kl.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],Kl.ASCII=[[" ","~"]],Kl.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Kl.ALPHANUMERIC},Kl.available={};let Ql=Kl;var Kve=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,Qve=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const s6=[],a6=[],o6=[],Zve=class $H extends Sa{constructor(e,r={}){super();const{align:i,tint:n,maxWidth:s,letterSpacing:a,fontName:o,fontSize:l}=Object.assign({},$H.styleDefaults,r);if(!Ql.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=i,this._tintColor=new ur(n),this._font=void 0,this._fontName=o,this._fontSize=l,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=a,this._anchor=new rl(()=>{this.dirty=!0},this,0,0),this._roundPixels=Oe.ROUND_PIXELS,this.dirty=!0,this._resolution=Oe.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var j;const e=Ql.available[this._fontName],r=this.fontSize,i=r/e.size,n=new Tt,s=[],a=[],o=[],l=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",u=UH(l),c=this._maxWidth*e.size/r,d=e.distanceFieldType==="none"?s6:a6;let h=null,p=0,g=0,y=0,b=-1,x=0,w=0,_=0,E=0;for(let B=0;B<u.length;B++){const L=u[B],F=qx(L);if(/(?:\s)/.test(L)&&(b=B,x=p,E++),L==="\r"||L===`
`){a.push(p),o.push(-1),g=Math.max(g,p),++y,++w,n.x=0,n.y+=e.lineHeight,h=null,E=0;continue}const O=e.chars[F];if(!O)continue;h&&O.kerning[h]&&(n.x+=O.kerning[h]);const $=o6.pop()||{texture:Ge.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Tt};$.texture=O.texture,$.line=y,$.charCode=F,$.position.x=Math.round(n.x+O.xOffset+this._letterSpacing/2),$.position.y=Math.round(n.y+O.yOffset),$.prevSpaces=E,s.push($),p=$.position.x+Math.max(O.xAdvance-O.xOffset,O.texture.orig.width),n.x+=O.xAdvance+this._letterSpacing,_=Math.max(_,O.yOffset+O.texture.height),h=F,b!==-1&&c>0&&n.x>c&&(++w,If(s,1+b-w,1+B-b),B=b,b=-1,a.push(x),o.push(s.length>0?s[s.length-1].prevSpaces:0),g=Math.max(g,x),y++,n.x=0,n.y+=e.lineHeight,h=null,E=0)}const A=u[u.length-1];A!=="\r"&&A!==`
`&&(/(?:\s)/.test(A)&&(p=x),a.push(p),g=Math.max(g,p),o.push(-1));const I=[];for(let B=0;B<=y;B++){let L=0;this._align==="right"?L=g-a[B]:this._align==="center"?L=(g-a[B])/2:this._align==="justify"&&(L=o[B]<0?0:(g-a[B])/o[B]),I.push(L)}const P=s.length,M={},k=[],U=this._activePagesMeshData;d.push(...U);for(let B=0;B<P;B++){const L=s[B].texture,F=L.baseTexture.uid;if(!M[F]){let O=d.pop();if(!O){const z=new wve;let D,G;e.distanceFieldType==="none"?(D=new t6(Ge.EMPTY),G=ht.NORMAL):(D=new t6(Ge.EMPTY,{program:il.from(Qve,Kve),uniforms:{uFWidth:0}}),G=ht.NORMAL_NPM);const H=new e6(z,D);H.blendMode=G,O={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:H,vertices:null,uvs:null,indices:null}}O.index=0,O.indexCount=0,O.vertexCount=0,O.uvsCount=0,O.total=0;const{_textureCache:$}=this;$[F]=$[F]||new Ge(L.baseTexture),O.mesh.texture=$[F],O.mesh.tint=this._tintColor.value,k.push(O),M[F]=O}M[F].total++}for(let B=0;B<U.length;B++)k.includes(U[B])||this.removeChild(U[B].mesh);for(let B=0;B<k.length;B++)k[B].mesh.parent!==this&&this.addChild(k[B].mesh);this._activePagesMeshData=k;for(const B in M){const L=M[B],F=L.total;if(!(((j=L.indices)==null?void 0:j.length)>6*F)||L.vertices.length<e6.BATCHABLE_SIZE*2)L.vertices=new Float32Array(4*2*F),L.uvs=new Float32Array(4*2*F),L.indices=new Uint16Array(6*F);else{const O=L.total,$=L.vertices;for(let z=O*4*2;z<$.length;z++)$[z]=0}L.mesh.size=6*F}for(let B=0;B<P;B++){const L=s[B];let F=L.position.x+I[L.line]*(this._align==="justify"?L.prevSpaces:1);this._roundPixels&&(F=Math.round(F));const O=F*i,$=L.position.y*i,z=L.texture,D=M[z.baseTexture.uid],G=z.frame,H=z._uvs,W=D.index++;D.indices[W*6+0]=0+W*4,D.indices[W*6+1]=1+W*4,D.indices[W*6+2]=2+W*4,D.indices[W*6+3]=0+W*4,D.indices[W*6+4]=2+W*4,D.indices[W*6+5]=3+W*4,D.vertices[W*8+0]=O,D.vertices[W*8+1]=$,D.vertices[W*8+2]=O+G.width*i,D.vertices[W*8+3]=$,D.vertices[W*8+4]=O+G.width*i,D.vertices[W*8+5]=$+G.height*i,D.vertices[W*8+6]=O,D.vertices[W*8+7]=$+G.height*i,D.uvs[W*8+0]=H.x0,D.uvs[W*8+1]=H.y0,D.uvs[W*8+2]=H.x1,D.uvs[W*8+3]=H.y1,D.uvs[W*8+4]=H.x2,D.uvs[W*8+5]=H.y2,D.uvs[W*8+6]=H.x3,D.uvs[W*8+7]=H.y3}this._textWidth=g*i,this._textHeight=(n.y+e.lineHeight)*i;for(const B in M){const L=M[B];if(this.anchor.x!==0||this.anchor.y!==0){let z=0;const D=this._textWidth*this.anchor.x,G=this._textHeight*this.anchor.y;for(let H=0;H<L.total;H++)L.vertices[z++]-=D,L.vertices[z++]-=G,L.vertices[z++]-=D,L.vertices[z++]-=G,L.vertices[z++]-=D,L.vertices[z++]-=G,L.vertices[z++]-=D,L.vertices[z++]-=G}this._maxLineHeight=_*i;const F=L.mesh.geometry.getBuffer("aVertexPosition"),O=L.mesh.geometry.getBuffer("aTextureCoord"),$=L.mesh.geometry.getIndex();F.data=L.vertices,O.data=L.uvs,$.data=L.indices,F.update(),O.update(),$.update()}for(let B=0;B<s.length;B++)o6.push(s[B]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:i,size:n}=Ql.available[this._fontName];if(i!=="none"){const{a:s,b:a,c:o,d:l}=this.worldTransform,u=Math.sqrt(s*s+a*a),c=Math.sqrt(o*o+l*l),d=(Math.abs(u)+Math.abs(c))/2,h=this.fontSize/n,p=e._view.resolution;for(const g of this._activePagesMeshData)g.mesh.shader.uniforms.uFWidth=d*r*h*p}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=Ql.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!Ql.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??Ql.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,i=Ql.available[this._fontName].distanceFieldType==="none"?s6:a6;i.push(...this._activePagesMeshData);for(const n of this._activePagesMeshData)this.removeChild(n.mesh);this._activePagesMeshData=[],i.filter(n=>r[n.mesh.texture.baseTexture.uid]).forEach(n=>{n.mesh.texture=Ge.EMPTY});for(const n in r)r[n].destroy(),delete r[n];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};Zve.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const Jve=[".xml",".fnt"],eye={extension:{type:Ie.LoadParser,priority:Aa.Normal},name:"loadBitmapFont",test(t){return Jve.includes(ti.extname(t).toLowerCase())},async testParse(t){return Yx.test(t)||mR.test(t)},async parse(t,e,r){const i=Yx.test(t)?Yx.parse(t):mR.parse(t),{src:n}=e,{page:s}=i,a=[];for(let u=0;u<s.length;++u){const c=s[u].file;let d=ti.join(ti.dirname(n),c);d=uR(d,n),a.push(d)}const o=await r.load(a),l=a.map(u=>o[u]);return Ql.install(i,l,!0)},async load(t,e){return(await Oe.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};Qe.add(eye);const gR=class $d extends Ju{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new $d(Object.keys($d.defaultOptions).reduce((r,i)=>({...r,[i]:e[i]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete $d.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,r={}){const{availableFonts:i}=$d;if(i[e]){const n=i[e];return this._fonts.push(n),n.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return Oe.ADAPTER.fetch(e).then(n=>n.blob()).then(async n=>new Promise((s,a)=>{const o=URL.createObjectURL(n),l=new FileReader;l.onload=()=>s([o,l.result]),l.onerror=a,l.readAsDataURL(n)})).then(async([n,s])=>{const a=Object.assign({family:ti.basename(e,ti.extname(e)),weight:"normal",style:"normal",display:"auto",src:n,dataSrc:s,refs:1,originalUrl:e,fontFace:null},r);i[e]=a,this._fonts.push(a),this.styleID++;const o=new FontFace(a.family,`url(${a.src})`,{weight:a.weight,style:a.style,display:a.display});a.fontFace=o,await o.load(),document.fonts.add(o),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const r=e.filter(i=>!this._overrides.includes(i));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(...e){const r=e.filter(i=>this._overrides.includes(i));r.length>0&&(this._overrides=this._overrides.filter(i=>!r.includes(i)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,r)=>`${e}
            @font-face {
                font-family: "${r.family}";
                src: url('${r.dataSrc}');
                font-weight: ${r.weight};
                font-style: ${r.style};
                font-display: ${r.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=Hme(e)),typeof e=="number"?zme(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const r=this.dropShadowAlpha,i=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),n=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&r<1&&(e+=(r*255|0).toString(16).padStart(2,"0"));const s=`${i}px ${n}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${s} ${e}`}reset(){Object.assign(this,$d.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(r=>setTimeout(r,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=Oe.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};gR.availableFonts={},gR.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let NT=gR;const Ky=class zd extends Zi{constructor(e="",r={}){super(Ge.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const i=new Image,n=Ge.from(i,{scaleMode:Oe.SCALE_MODE,resourceOptions:{autoLoad:!1}});n.orig=new bt,n.trim=new bt,this.texture=n;const s="http://www.w3.org/2000/svg",a="http://www.w3.org/1999/xhtml",o=document.createElementNS(s,"svg"),l=document.createElementNS(s,"foreignObject"),u=document.createElementNS(a,"div"),c=document.createElementNS(a,"style");l.setAttribute("width","10000"),l.setAttribute("height","10000"),l.style.overflow="hidden",o.appendChild(l),this.maxWidth=zd.defaultMaxWidth,this.maxHeight=zd.defaultMaxHeight,this._domElement=u,this._styleElement=c,this._svgRoot=o,this._foreignObject=l,this._foreignObject.appendChild(c),this._foreignObject.appendChild(u),this._image=i,this._loadImage=new Image,this._autoResolution=zd.defaultAutoResolution,this._resolution=zd.defaultResolution??Oe.RESOLUTION,this.text=e,this.style=r}measureText(e){var c,d;const{text:r,style:i,resolution:n}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:r,style:i.toCSS(n)}),this._styleElement.textContent=i.toGlobalCSS(),document.body.appendChild(this._svgRoot);const s=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:a,height:o}=s;(a>this.maxWidth||o>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const l=Math.min(this.maxWidth,Math.ceil(a)),u=Math.min(this.maxHeight,Math.ceil(o));return this._svgRoot.setAttribute("width",l.toString()),this._svgRoot.setAttribute("height",u.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),i!==this._style&&(Object.assign(this._domElement,{style:(c=this._style)==null?void 0:c.toCSS(n)}),this._styleElement.textContent=(d=this._style)==null?void 0:d.toGlobalCSS()),{width:l+i.padding*2,height:u+i.padding*2}}async updateText(e=!0){const{style:r,_image:i,_loadImage:n}=this;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;const{width:s,height:a}=this.measureText();i.width=n.width=Math.ceil(Math.max(1,s)),i.height=n.height=Math.ceil(Math.max(1,a)),this._updateID++;const o=this._updateID;await new Promise(l=>{n.onload=async()=>{if(o<this._updateID){l();return}await r.onBeforeDraw(),i.src=n.src,n.onload=null,n.src="",this.updateTexture(),l()};const u=new XMLSerializer().serializeToString(this._svgRoot);n.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(u)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:r,_image:i,resolution:n}=this,{padding:s}=e,{baseTexture:a}=r;r.trim.width=r._frame.width=i.width/n,r.trim.height=r._frame.height=i.height/n,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-s*2,r.orig.height=r._frame.height-s*2,this._onTextureUpdate(),a.setRealSize(i.width,i.height,n),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var i,n,s,a,o;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},zd.defaultDestroyOptions,e),super.destroy(e);const r=null;this.ownsStyle&&((i=this._style)==null||i.cleanFonts()),this._style=r,(n=this._svgRoot)==null||n.remove(),this._svgRoot=r,(s=this._domElement)==null||s.remove(),this._domElement=r,(a=this._foreignObject)==null||a.remove(),this._foreignObject=r,(o=this._styleElement)==null||o.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const r=Au(this.scale.x)||1;this.scale.x=r*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const r=Au(this.scale.y)||1;this.scale.y=r*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof NT?(this.ownsStyle=!1,this._style=e):e instanceof Ju?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=NT.from(e)):(this.ownsStyle=!0,this._style=new NT(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};Ky.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Ky.defaultMaxWidth=2024,Ky.defaultMaxHeight=2024,Ky.defaultAutoResolution=!0;const tye=R.forwardRef(({children:t},e)=>v.jsx("div",{ref:e,className:"actionbar",children:t})),t3e=tye,rye=R.forwardRef((t,e)=>{const{isLoading:r,loadingIcon:i,loadingPosition:n="left",children:s,className:a,...o}=t,l=()=>{let c;return i?c=i:c=v.jsx(qX,{...o,"aria-label":"Loading"}),c},u=Pe("loading",{"is-loading":r},a);return v.jsxs("div",{className:u,role:"status",ref:e,children:[(!n||n==="left")&&l(),s,n==="right"&&l()]})}),eP=rye,iye=R.forwardRef(({color:t="primary",type:e="button",size:r="md",children:i,isLoading:n,loadingIcon:s,loadingPosition:a,leftIcon:o,rightIcon:l,className:u,variant:c="filled",...d},h)=>{const p=Pe("btn",{[`btn-filled btn-${t}`]:c==="filled",[`btn-${c}-${t}`]:c==="outline"||c==="ghost","btn-icon":!i,"btn-loading":n,"btn-lg":r==="lg","btn-sm":r==="sm"},u);return v.jsx("button",{ref:h,className:p,type:e,...d,children:n?v.jsx(eP,{isLoading:!0,loadingIcon:s,loadingPosition:a,children:i}):v.jsxs("span",{children:[o,i,l]})})}),Xt=iye,nye=R.forwardRef(({icon:t,className:e,...r},i)=>{const n={...r,className:Pe("btn-icon btn-sm",e)};return v.jsx(Xt,{ref:i,...n,children:t})}),To=nye,sye=R.forwardRef(({icon:t=v.jsx(hA,{}),onClick:e,className:r,...i},n)=>{const s=Pe("btn-search",r);return v.jsx(To,{ref:n,className:s,icon:t,onClick:e,...i})}),tP=sye,aye=R.forwardRef(({type:t="success",className:e="",children:r,button:i,isDismissible:n=!1,isToast:s=!1,isConfirm:a=!1,position:o="none",autoClose:l=!1,autoCloseDelay:u=3e3,onClose:c,onVisibilityChange:d},h)=>{const[p,g]=R.useState(!0),y=R.useRef(null),{t:b}=Je(),x=R.useCallback(()=>{g(!1),c==null||c()},[c]);R.useImperativeHandle(h,()=>({show:w,hide:x,...y.current})),R.useLayoutEffect(()=>{d==null||d(p)},[p,d]),R.useEffect(()=>{l&&p&&setTimeout(()=>{x()},u)},[l,u,x,p]);const w=()=>{g(!0)},_={success:{icon:v.jsx(o8,{}),classModifier:"alert-success"},warning:{icon:v.jsx(ZW,{}),classModifier:"alert-warning"},info:{icon:v.jsx(HR,{}),classModifier:"alert-info"},danger:{icon:v.jsx(kX,{}),classModifier:"alert-danger"}},E={"is-dismissible":n,"is-toast ":s},A={"is-confirm":a},I=Pe("alert gap-12",_[t].classModifier,E,A,o,e);return v.jsx(v.Fragment,{children:p?v.jsxs("div",{ref:y,className:I,role:"alert",children:[!a&&_[t].icon,v.jsx("div",{className:"alert-content small",children:r}),i&&v.jsxs("div",{className:"ms-12",children:[i," ",a&&v.jsx(Xt,{onClick:x,children:b("close")})]}),(n||a)&&v.jsx("div",{className:"btn-close-container",children:v.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",onClick:x})}),l&&v.jsx("div",{className:"alert-progress",style:{transform:"scaleX(0)"}})]}):null})}),Ru=aye,oye=R.forwardRef(({children:t,render:e,isFullscreen:r=!1,...i},n)=>{const s=Pe("d-flex flex-wrap p-16 gap-8 border-bottom bg-white",{"justify-content-between":e,"mx-n16":!r,"z-2000 top-0 start-0 end-0":r});return v.jsxs("div",{ref:n,className:s,...i,children:[t,e?v.jsx("div",{className:"d-flex align-items-center ms-auto gap-8",children:e()}):null]})}),lye=oye;function zH({appCode:t}){return UR({queryKey:["conf"],queryFn:async()=>await Ve.conf().getConf(t),suspense:!0})}function uye(t){return{getPreference:async()=>await Ve.conf().getPreference(t),savePreference:async e=>await Ve.conf().savePreference(t,JSON.stringify(e))}}function cye(){const[t,e]=R.useState(!1),{getPreference:r,savePreference:i}=uye("rgpdCookies");return R.useEffect(()=>{(async()=>{const n=await r();e(n===null?!0:n.showInfoTip)})()},[]),{showCookiesConsent:t,handleConsultCookies:()=>{document.location.href="/userbook/mon-compte",i({showInfoTip:!1}),e(!1)},handleCloseCookiesConsent:()=>{i({showInfoTip:!1}),e(!1)}}}function HH(){return UR({queryKey:["session"],queryFn:async()=>await Ve.session().getSession(),suspense:!0})}const GH=R.createContext(null);function hye({children:t,params:e}){const r=e.app,{t:i}=Je(),n=i(r),s=HH(),a=zH({appCode:r}),{showCookiesConsent:o,handleConsultCookies:l,handleCloseCookiesConsent:u}=cye(),c=(a==null?void 0:a.isSuccess)&&(s==null?void 0:s.isSuccess);R.useEffect(()=>{var h,p;(p=document.querySelector("html"))==null||p.setAttribute("lang",((h=s==null?void 0:s.data)==null?void 0:h.currentLanguage)||"fr")},[s==null?void 0:s.data]),R.useEffect(()=>{document.title=`${n}`},[r,s.data,n]);const d=R.useMemo(()=>{var h,p,g,y,b,x;return{appCode:r,applications:(h=a==null?void 0:a.data)==null?void 0:h.applications,confQuery:a,currentApp:(p=a==null?void 0:a.data)==null?void 0:p.currentApp,currentLanguage:(g=s==null?void 0:s.data)==null?void 0:g.currentLanguage,init:c,sessionQuery:s,user:(y=s==null?void 0:s.data)==null?void 0:y.user,userDescription:(b=s==null?void 0:s.data)==null?void 0:b.userDescription,userProfile:(x=s==null?void 0:s.data)==null?void 0:x.userProfile}},[r,a,c,s]);return v.jsxs(GH.Provider,{value:d,children:[t,o&&v.jsx(Ru,{type:"info",className:"m-12",isConfirm:!0,position:"bottom-right",button:v.jsx(Xt,{color:"tertiary",variant:"ghost",onClick:l,children:i("rgpd.cookies.banner.button.consult")}),onClose:u,children:i("rgpd.cookies.banner.text1")})]})}function Tr(){const t=R.useContext(GH);if(!t)throw new Error("Cannot be used outside of OdeClientProvider");return t}const VH=R.createContext(null);function dye({children:t}){var e;const{appCode:r}=Tr(),i=zH({appCode:r});R.useEffect(()=>{var s,a,o,l,u,c,d,h,p;const g=document.getElementById("favicon");g.href=`${(a=(s=i==null?void 0:i.data)==null?void 0:s.theme)==null?void 0:a.basePath}/img/illustrations/favicon.ico`;const y=(u=(l=(o=i==null?void 0:i.data)==null?void 0:o.theme)==null?void 0:l.bootstrapVersion)==null?void 0:u.split("-"),b=y?y[y.length-1]:void 0;[{data:"data-skin",value:(d=(c=i==null?void 0:i.data)==null?void 0:c.theme)==null?void 0:d.skinName},{data:"data-theme",value:(p=(h=i==null?void 0:i.data)==null?void 0:h.theme)==null?void 0:p.themeName},{data:"data-product",value:b}].forEach(x=>{var w;return(w=document.querySelector("html"))==null?void 0:w.setAttribute(x.data,x.value)})},[i==null?void 0:i.data]);const n=R.useMemo(()=>{var s;return{theme:(s=i==null?void 0:i.data)==null?void 0:s.theme}},[(e=i==null?void 0:i.data)==null?void 0:e.theme]);return v.jsx(VH.Provider,{value:n,children:t})}function Gw(){const t=R.useContext(VH);if(!t)throw new Error("Cannot be used outside of OdeClientProvider");return t}function fye(){var t;const{sessionQuery:e}=Tr(),r=new Set;return(t=e==null?void 0:e.data)==null?void 0:t.bookmarkedApps.filter(i=>{const n=r.has(i.displayName);return r.add(i.displayName),!n})}const pye=R.createContext(null);function rP(){return R.useContext(pye)}function vR(...t){return e=>{mye(e,...t)}}function mye(t,...e){e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}const nh=t=>{if(t>0){let e=Math.floor(t/1e3),r=Math.floor(e/60);return e=e%60,r=r%60,l6(r)+":"+l6(e)}return"00:00"},l6=t=>t.toString().padStart(2,"0"),gye=()=>MediaRecorder.isTypeSupported?["video/webm;codecs=vp9",'video/mp4; codecs="avc1.424028, mp4a.40.2"',"video/webm;codecs=vp8,opus","video/webm"].find(t=>MediaRecorder.isTypeSupported(t)?!0:(console.error(`${t} is not Supported`),!1))||"video/ogg":"video/webm;codecs=vp8,opus";class u6{static isLocalURL(e){return e.length>0&&e.charAt(0)==="/"}static startWithHttp(e){return/^https?:\/\//gi.test(e)}}const c6=(t,e)=>{const r=e==null?void 0:e.filter(i=>i.id===t&&i.available);return r&&r.length>0},WH={blog:"Blog",mindmap:"MindMap",scrapbook:"ScrapBook",collaborativewall:"CollaborativeWall",timelinegenerator:"TimelineGenerator",wiki:"Wiki",exercizer:"Exercizer"};function ll(t){const e=rP(),[r,i]=R.useState();return R.useEffect(()=>{(async()=>{let n;if(e!=null&&e.hasWorkflow)if(typeof t=="string")n=await e.hasWorkflow(t);else throw"not.implemented.yet)";else typeof t=="string"?n=await Ve.rights().sessionHasWorkflowRight(t):n=await Ve.rights().sessionHasWorkflowRights(t);i(n)})()},[t,e]),r}const vye=()=>{const t=ll("fr.openent.zimbra.controllers.ZimbraController|view"),e=ll("fr.openent.zimbra.controllers.ZimbraController|preauth"),[r,i]=R.useState(0),[n,s]=R.useState(""),a=R.useCallback(async()=>{if(t)try{const l=await Ve.http().get("/zimbra/count/INBOX",{queryParams:{unread:!0,_:new Date().getTime()}});l.status!==200&&i(0),i(l.count)}catch{console.error("error"),i(0)}else try{const l=await Ve.http().get("/conversation/count/INBOX",{queryParams:{unread:!0,_:new Date().getTime()}});i(l.count)}catch{console.error("error"),i(0)}},[t]),o=R.useCallback(()=>{let l="";Ve.http().get("/userbook/preference/zimbra").then(u=>{try{u.preference&&JSON.parse(u.preference).modeExpert&&e?l="/zimbra/preauth":l=window.location.origin+"/zimbra/zimbra"}catch{l="/zimbra/zimbra"}}),s(l)},[e]);return R.useEffect(()=>{(async()=>{try{await a()}catch(l){console.error(l)}})(),o()},[o,a]),{messages:r,msgLink:n,zimbraWorkflow:t}},yye=vye;Zs.extend(aq);Zs.extend(nq);function xye(){const[t,e]=R.useState("fr"),r=HH();function i(a,o){if(a.length<11)return Zs(a,["YYYY-MM-DD"],o);if(a.split("").findIndex(l=>"0">l||l>"9")<0)return Zs(Number.parseInt(a));{let l=Zs(a);return l.isValid()||(l=Zs(a,["YYYY-MM-DD HH:mm:ss.SSS"])),l}}const n=R.useCallback(a=>{let o=Zs();try{return typeof a>"u"?"":(typeof a=="string"?o=i(a,t):typeof a.$date=="number"?o=Zs(new Date(a.$date)):typeof a.$date=="string"&&(o=i(a.$date,t)),o.isValid()?o.fromNow():"")}catch{return""}},[t]),s=R.useCallback((a,o)=>{let l=Zs();try{return typeof a>"u"?"":(typeof a=="string"?l=i(a,t):typeof a.$date=="number"?l=Zs(new Date(a.$date)):typeof a.$date=="string"&&(l=i(a.$date,t)),l.isValid()?l.locale(t).format(o||"D MMMM YYYY HH:mm:ss"):"")}catch{return""}},[t]);return R.useEffect(()=>{var a;const o=((a=r==null?void 0:r.data)==null?void 0:a.currentLanguage)||"fr";e(o),Zs.locale(o)},[r==null?void 0:r.data,e]),{fromNow:n,formatDate:s}}function bye(t){var e,r,i;const n=new fq(t),s=n.getOS(),a=n.getDevice(),o=n.getBrowser(),l=((e=a.model)==null?void 0:e.indexOf("iPhone"))!=-1,u=((r=a.model)==null?void 0:r.indexOf("iPod"))!=-1,c=((i=a.model)==null?void 0:i.indexOf("iPad"))!=-1;return{os:s,device:a,browser:o,isIphone:l,isIpod:u,isIpad:c}}const h6=["mousedown","touchstart"];function XH(t,e,r){const i=R.useRef();return R.useEffect(()=>{const n=s=>{const{target:a}=s??{};if(Array.isArray(r)){const o=(a==null?void 0:a.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(a)&&a.tagName!=="HTML";r.every(l=>!!l&&!s.composedPath().includes(l))&&!o&&t()}else i.current&&!i.current.contains(a)&&t()};return(e||h6).forEach(s=>{document.addEventListener(s,n)}),()=>{(e||h6).forEach(s=>{document.removeEventListener(s,n)})}},[i,t,r,e]),i}function iP(t,e){const[r,i]=R.useState(t);return R.useEffect(()=>{const n=setTimeout(()=>{i(t)},e||500);return()=>{clearTimeout(n)}},[t,e]),r}const _ye=(t,e)=>{const r=R.useId(),[i,n]=R.useState(!1),[s,a]=R.useState(-1),[o,l]=R.useState(null),{refs:u,floatingStyles:c}=xJ({placement:t,open:i,onOpenChange:n,whileElementsMounted:nJ,middleware:[jZ(4),aJ({apply({rects:k,elements:U}){U.floating.style,`${k.reference.width}`}}),sJ({padding:0})]}),d=R.useRef(null),h=R.useRef(null),p=R.useRef({});R.useEffect(()=>{i?d.current&&(d.current.focus(),a(0)):(a(-1),p.current={})},[i]),R.useEffect(()=>{if(s!==-1){const k=Object.values(p.current)[s];if(k){const U=k.getAttribute("id");l(U),k.focus()}}},[s]);const g=()=>{const k=Object.values(p.current).length;a(U=>(U+1)%k)},y=()=>{const k=Object.values(p.current).length;a(U=>(U-1+k)%k)},b=()=>{a(0)},x=()=>{const k=Object.values(p.current).length;a(k-1)},w=R.useCallback(()=>{n(!0)},[]),_=R.useCallback(()=>{h.current&&(h.current.focus({preventScroll:!0}),n(!1))},[]),E=(k,U)=>{k&&(U.stopPropagation(),U.preventDefault())},A=R.useCallback(k=>{let U=!1;switch(k.code){case" ":case"Space":case"Enter":case"ArrowDown":case"Down":w(),U=!0;break;case"Esc":case"Escape":_(),U=!0;break;case"Up":case"ArrowUp":w(),U=!0;break}e==null||e(k),E(U,k)},[_,w]),I=k=>{const U=Object.values(p.current).findIndex(j=>j.id===k.currentTarget.getAttribute("id"));a(U)},P=R.useCallback((k,U)=>{let j=!1;if(k.shiftKey)k.key==="Tab"&&(_(),j=!0);else{switch(k.code){case"Escape":_();break;case" ":case"Enter":s!==-1&&(Object.values(p.current)[s].getAttribute("role")==="menuitem"&&h.current&&(h.current.focus(),n(!1)),U==null||U()),j=!0;break;case"ArrowDown":case"Down":g(),j=!0;break;case"ArrowUp":case"Up":y(),j=!0;break;case"Home":b(),j=!0;break;case"End":x(),j=!0;break}E(j,k)}},[s,_]),M=R.useCallback(k=>{n(i!==!0),k.stopPropagation(),k.preventDefault()},[i]);return{isFocused:o,visible:i,itemRefs:p,triggerRef:h,menuRef:d,triggerProps:{ref:vR(h,u.setReference),id:`dropdown-toggle-${r}`,"aria-haspopup":"menu","aria-controls":`dropdown-${r}`,"aria-expanded":!!i,className:`${i?"selected":""}`,onClick:M,onKeyDown:A,"aria-activedescendant":o},menuProps:{ref:vR(d,u.setFloating),className:"dropdown-menu bg-white shadow rounded-4 p-8","aria-labelledby":`dropdown-toggle-${r}`,style:{...c}},itemProps:{onMenuItemMouseEnter:I,onMenuItemClick:_,onMenuItemKeyDown:P},setVisible:n}},wye=_ye,Sye=()=>{const[t,e]=R.useState(!1),[r,i]=R.useState([]),n=R.useRef(null),s=d=>{i(h=>[...h,d])},a=d=>{i(h=>h.filter(p=>p.name!==d.name))},o=()=>{i([])},l=d=>{const h=d.target.files;h&&[...h].forEach(p=>{s(p)})},u=d=>{d.preventDefault(),d.stopPropagation(),e(!0)},c=d=>{d.preventDefault(),d.stopPropagation(),e(!1)};return{inputRef:n,files:r,dragging:t,handleDragging:u,handleDragLeave:c,handleDrop:d=>{var h;c(d);const p=(h=d.dataTransfer)==null?void 0:h.files;p&&[...p].forEach(g=>{s(g)}),n!=null&&n.current&&p&&(n.current.files=p)},deleteFile:a,addFile:s,cleanFiles:o,handleOnChange:l}},YH=Sye,Qy="top-right";function En(){return{success:(t,e)=>om.custom(v.jsx(Ru,{type:"success",isToast:!0,isDismissible:e==null?void 0:e.isDismissible,className:"mb-12",children:t}),{duration:e==null?void 0:e.duration,position:(e==null?void 0:e.position)??Qy}),error:(t,e)=>om.custom(v.jsx(Ru,{type:"danger",isToast:!0,isDismissible:e==null?void 0:e.isDismissible,className:"mb-12",children:t}),{duration:e==null?void 0:e.duration,position:(e==null?void 0:e.position)??Qy}),info:(t,e)=>om.custom(v.jsx(Ru,{type:"info",isToast:!0,isDismissible:e==null?void 0:e.isDismissible,className:"mb-12",children:t}),{duration:e==null?void 0:e.duration,position:(e==null?void 0:e.position)??Qy}),warning:(t,e)=>om.custom(v.jsx(Ru,{type:"warning",isToast:!0,isDismissible:e==null?void 0:e.isDismissible,className:"mb-12",children:t}),{duration:e==null?void 0:e.duration,position:(e==null?void 0:e.position)??Qy}),loading:om.loading}}function qH(){const[t,e]=R.useState(!1),r=R.useRef(null),i=()=>{e(!0)},n=()=>{e(!1)};return R.useEffect(()=>{const s=r.current;if(s)return s.addEventListener("mouseover",i),s.addEventListener("mouseout",n),()=>{s.removeEventListener("mouseover",i),s.removeEventListener("mouseout",n)}},[r]),[r,t]}function Eye({src:t,placeholder:e}){const[r,i]=R.useState(t||e),n=R.useCallback(()=>{i(e)},[e]);return R.useEffect(()=>{i(t)},[t]),{imgSrc:r,onError:n}}function Tye(t,e){const r=R.useCallback(({code:i})=>{e.includes(i)&&t()},[t,e]);R.useEffect(()=>(window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)}),[r])}function Aye(){const t=document.querySelector("html");return()=>{t&&t.scrollIntoView()}}function Vw(t=!1){const[e,r]=R.useState(t),i=R.useCallback(()=>{r(n=>!n)},[]);return[e,i]}function Cye(){const t=R.useRef(null),e='button:not([disabled]), [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';return R.useEffect(()=>{const r=t.current,i=r.querySelectorAll(e)[0],n=r.querySelectorAll(e),s=t&&(n==null?void 0:n[n.length-1]),a=o=>{o.key==="Tab"&&(o.shiftKey?document.activeElement===i&&(s.focus(),o.preventDefault()):document.activeElement===s&&(i.focus(),o.preventDefault()))};if(r)return r.addEventListener("keydown",a),()=>{r.removeEventListener("keydown",a)}},[]),t}function Rye({user:t,avatar:e}){const{appCode:r}=Tr(),{t:i}=Je(),n=i(r),[s,a]=R.useState(!0),[o,l]=qH(),u=R.useId(),c=R.useId(),d=e,h=t==null?void 0:t.username,p=i("welcome",{username:t==null?void 0:t.firstName}),g=fye(),y=ll("net.atos.entng.community.controllers.CommunityController|view"),b=ll("org.entcore.conversation.controllers.ConversationController|view"),x=ll("fr.openent.searchengine.controllers.SearchEngineController|view"),w=R.useCallback(()=>{a(!s)},[s]),_=async()=>{await Ve.session().logout(),window.location.href="/auth/login"};return R.useMemo(()=>({title:n,bookmarkedApps:g,appsRef:o,isAppsHovered:l,popoverAppsId:u,popoverSearchId:c,userAvatar:d,userName:h,welcomeUser:p,communityWorkflow:y,conversationWorflow:b,searchWorkflow:x,isCollapsed:s,toggleCollapsedNav:w,handleLogout:_}),[o,g,y,b,l,s,u,c,x,n,w,d,h,p])}const Iye=t=>{const e=R.useRef(),r=En(),{t:i}=Je();return R.useEffect(()=>{const n=Ve.notify().events().subscribe(LV.TRANSPORT,s=>{var a,o;e.current=i(((o=(a=s==null?void 0:s.data)==null?void 0:a.payload)==null?void 0:o.error)||s.data.response.statusText),r.error(tt.createElement("div",{children:[e.current]}),t)});return()=>n.revoke()},[i,r]),e.current},Pye=Iye;function Mye(){const[t,e]=R.useState(!1);R.useEffect(()=>{r()},[]);const r=R.useCallback(async()=>{const i=await Ve.session().isAdml();e(i)},[]);return{isAdml:t}}const kye=()=>{var t;const{user:e,appCode:r}=Tr(),i=WH[r],n=(t=e.apps.find(l=>l.isExternal&&l.address.includes("library")&&l.name.includes("library")))==null?void 0:t.address.split("?");let s=n==null?void 0:n[0];s!=null&&s.endsWith("/")||(s=`${s}/`);const a=n==null?void 0:n[1],o=`application%5B0%5D=${i}&page=1&sort_field=views&sort_order=desc`;return{libraryUrl:`${s}search/?${a}&${o}`}},r3e=kye;function nP(){const t={"last-infos-widget":"ic-widget-actualites",birthday:"ic-star","calendar-widget":"ic-widget-calendar","carnet-de-bord":"ic-widget-carnet-de-bord","record-me":"ic-widget-microphone",mood:"ic-star","my-apps":"ic-widget-apps",notes:"ic-widget-notes","rss-widget":"ic-widget-rss","bookmark-widget":"ic-widget-signets",qwant:"ic-widget-qwant","qwant-junior":"ic-widget-qwant","agenda-widget":"ic-widget-agenda","cursus-widget":"ic-widget-aide-devoirs","maxicours-widget":"ic-widget-maxicours","school-widget":"ic-widget-schoolbook","universalis-widget":"ic-widget-universalis","briefme-widget":"ic-widget-briefme"};function e(o){let l="";switch(typeof o=="string"?l=o:l=(o==null?void 0:o.icon)!==void 0?o==null?void 0:o.icon.trim().toLowerCase():"placeholder",l&&l.length>0?l.endsWith("-large")&&(l=l.replace("-large","")):typeof o=="object"&&(l=(o==null?void 0:o.displayName)!==void 0?o==null?void 0:o.displayName.trim().toLowerCase():""),l){case"admin.title":l="admin";break;case"banques des savoirs":l="banquesavoir";break;case"collaborativewall":l="collaborative-wall";break;case"communautés":l="community";break;case"directory.user":l="userbook";break;case"emploi du temps":l="edt";break;case"formulaire":l="forms";break;case"messagerie":l="conversation";break;case"news":l="actualites";break;case"homeworks":case"cahier de texte":l="cahier-de-texte";break;case"diary":case"cahier de texte 2d":l="cahier-textes";break;case"scrapbook":l="scrap-book";break}return l}function r(o){return o&&(o.startsWith("/")||o.startsWith("http://")||o.startsWith("https://"))}function i(o){const l=e(o);return l?`color-app-${l}`:"color-app-placeholder"}function n(o){const l=e(o);return l?`bg-app-${l}`:"bg-app-placeholder"}function s(o){const l=e(o);return l?`bg-light-${l}`:"bg-light-placeholder"}function a(o){return t[o.platformConf.name]}return{getIconClass:i,getBackgroundIconClass:n,getBackgroundLightIconClass:s,getIconCode:e,getWidgetIconClass:a,isIconUrl:r}}function Tl(){return["/assets/themes/edifice-bootstrap/images","/assets/themes/edifice-bootstrap/icons","/assets/themes/edifice-bootstrap/fonts"]}const Nye=t=>{const e=rP(),[r,i]=R.useState([]);R.useEffect(()=>{(async()=>{try{await Cv.initialize(Ve,(e==null?void 0:e.app)||t)}catch(s){if(e!=null&&e.app)Cv.resourceProducingApps=[e==null?void 0:e.app];else throw s}await Cv.registerBehaviours((e==null?void 0:e.app)||t),i(Cv.resourceProducingApps)})()},[]);const n=R.useCallback(async s=>{var a;const[o]=s.types;return e!=null&&e.loadResources?await((a=e==null?void 0:e.loadResources)==null?void 0:a.call(e,s).then(l=>l.map(u=>({...u,_id:""+Math.round(Math.random()*9999)})))):await Ve.resource(t,o).searchContext(s).then(l=>l.resources)},[t,e]);return{resourceApplications:r,loadResources:n}},KH=R.createContext(null);function sP(){const t=R.useContext(KH);if(!t)throw new Error("Cannot be rendered outside Dropzone Provider");return t}const Oye=()=>({createOrUpdate:async({alt:t,uri:e,blob:r,legend:i,parentId:n,application:s})=>{const a=/\/workspace\/document\/([0-9a-fA-F-]+)/,o=(e??"").match(a);if(o&&o.length===2){const l=o[1];return await Ve.workspace().updateFile(l,r,{alt:t,legend:i}),`/workspace/document/${l}`}else return`/workspace/document/${(await Ve.workspace().saveFile(r,{application:s,parentId:n}))._id}`},create:async t=>await Ve.workspace().saveFile(t),remove:async t=>await Ve.workspace().deleteFile(Array.isArray(t)?t:[t])}),Lye=Oye,Dye=({handleOnChange:t})=>{const[e,r]=R.useState([]),[i,n]=R.useState({}),[s,a]=R.useState(void 0),{files:o,deleteFile:l}=sP(),{create:u,remove:c,createOrUpdate:d}=Lye();R.useEffect(()=>{o.length>0&&o.forEach(b=>{i[b.name]!=="success"&&(async()=>await h(b))()})},[o]),R.useEffect(()=>{t(e)},[e]);async function h(b){n(x=>({...x,[b.name]:"loading"}));try{const x=await u(b);n(w=>({...w,[x.name]:"success"})),r(w=>[...w,x])}catch{n(x=>({...x,[b.name]:"error"}))}}async function p(b){const x=e.find(w=>w.name===b.name);x&&(await c(x),n(w=>{const{[x.name]:_,...E}=w;return E}),r(w=>w.filter(_=>_.name!==(x==null?void 0:x.name))),l(b))}async function g({blob:b,legend:x,altText:w}){if(s)try{await d({blob:b,legend:x,alt:w,uri:y(s)})}finally{a(void 0)}}function y(b,x){return b?`/workspace/document/${b==null?void 0:b._id}?timestamp=${x?new Date().getTime():""}`:""}return{files:o,status:i,uploadedFiles:e,editingImage:s,setEditingImage:a,getUrl:y,updateImage:g,uploadFile:h,removeFile:p}},Fye=Dye;function aP(){const{user:t,userDescription:e,userProfile:r}=Tr(),{theme:i}=Gw();function n(){let s=e==null?void 0:e.picture;return(!s||s==="no-avatar.jpg"||s==="no-avatar.svg")&&(s=`${i==null?void 0:i.basePath}/img/illustrations/no-avatar.svg`),s}return{user:{...t,type:r},avatar:n(),userDescription:e}}function QH(t,e){return!e||t.id===e?t:Array.isArray(t.children)&&t.children.find(r=>QH(r,e))}function OT(t,e,r,i){const n=rP(),s=ll("org.entcore.workspace.controllers.WorkspaceController|listDocuments"),a=ll("org.entcore.workspace.controllers.WorkspaceController|listFolders");function o(d,h){switch(h.type){case"update":{const p=QH(d,h.folderId);return p&&(p.children=h.subfolders.map(g=>({id:g._id||"",name:g.name})),p.files=h.files),{...d}}default:throw Error("[useWorkspaceSearch] Unknown action type: "+h.type)}}const[l,u]=R.useReducer(o,{id:t,name:e,section:!0}),c=R.useCallback(async d=>{var h;if(s&&a){const p=d===t?"":d,g=n!=null&&n.listWorkspaceDocuments?await((h=n==null?void 0:n.listWorkspaceDocuments)==null?void 0:h.call(n).then(x=>x.map(w=>{const _={...w,_id:""+Math.round(Math.random()*9999)};return _.name=w.eType=="folder"?"folder id="+_._id:"file id="+_._id,_}))):await Ve.workspace().listDocuments(r,p),y=[],b=[];g.filter(x=>{if(!i||x.eType==="folder")return!0;const w=wF.getRole(x);return typeof i=="string"?i===w:Array.isArray(i)?i.findIndex(_=>_===w)>=0:!1}).forEach(x=>{x.eType==="folder"?y.push(x):b.push(x)}),u({folderId:d,subfolders:y,files:b,type:"update"})}},[s,a,t,n,r,i]);return{root:l,loadContent:c}}function Bye(){const[t,e]=R.useState("pending"),{currentApp:r}=Tr();R.useEffect(()=>{i()},[]);const i=async()=>{if(!r){e("[Xiti] Error, currentApp is not defined.");return}try{await Ve.analytics().trackPageLoad(window.location.pathname,r),console.info(`[Xiti] Success tracking page ${window.location.pathname}`),e(`[Xiti] Success tracking page ${window.location.pathname}`)}catch(n){console.error("[Xiti] Error Tracking Page Load",n),e(`[Xiti] Error Tracking Page Load: ${n}`)}};return{xitiStatus:t}}const jye=R.forwardRef(({src:t,alt:e,imgPlaceholder:r,ratio:i,objectFit:n,className:s,...a},o)=>{const[l]=Tl(),u=r??`${l}/common/image-placeholder.png`,{imgSrc:c,onError:d}=Eye({src:t,placeholder:u}),h={"ratio ratio-1x1":i==="1","ratio ratio-4x3":i==="4","ratio ratio-16x9":i==="16","ratio ratio-21x9":i==="21"},p={"object-fit-contain":n==="contain","object-fit-cover":n==="cover","object-fit-fill":n==="fill","object-fit-scale":n==="scale","object-fit-none":n==="none"},g=Pe({...h}),y=Pe({...p},s),b=v.jsx("img",{alt:e,onError:d,ref:o,src:c,className:y,...a});return i?v.jsx("div",{className:g,children:b}):b}),ec=jye,Uye=R.forwardRef(({app:t,size:e="24",iconFit:r="contain",variant:i="square"},n)=>{const{isIconUrl:s,getIconCode:a}=nP(),[,o]=Tl(),l=i==="square",u=i==="rounded",c=i==="circle",d=r==="contain",h=r==="ratio",p={"icon-xs":e==="24","icon-sm":e==="40","icon-md":e==="48","icon-lg":e==="80","icon-xl":e==="160"},g={square:l,rounded:u,"rounded-circle":c},y={"icon-contain":d,"icon-ratio":h},b=typeof t=="string"?t:(t==null?void 0:t.icon)!==void 0?t.icon:"placeholder",x=typeof t!="string"&&(t==null?void 0:t.displayName)!==void 0?t.displayName:"",w=t?a(t):"",_=s(b),E=w||"placeholder",A=Pe("app-icon",{...p,...g,...y,[`bg-light-${E}`]:E&&!d,[`color-app-${E}`]:E});return _?v.jsx(ec,{src:b,alt:x,objectFit:"contain",width:e,height:e,className:"h-full"}):v.jsx("div",{className:A,style:{width:e+"px",height:e+"px"},children:v.jsx("svg",{ref:n,width:e,height:e,role:"img",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:v.jsx("use",{xlinkHref:`${o}/apps.svg#${E}`})})})}),zh=Uye,$ye=R.forwardRef(({name:t="Attachment Name",options:e,...r},i)=>v.jsxs("div",{ref:i,className:"attachment px-12 py-8",...r,children:[v.jsxs("div",{className:"filename",children:[v.jsx(t8,{height:22,width:22}),v.jsx("p",{className:"text-truncate",children:t})]}),v.jsx("div",{className:"options ps-12",children:e})]})),i3e=$ye,zye=R.forwardRef(({variant:t="square",size:e="md",alt:r,src:i,imgPlaceholder:n,className:s,...a},o)=>{const[l]=Tl(),u=n||`${l}/avatar/no-avatar.svg`,c=Pe("avatar",{"avatar-xs":e==="xs","avatar-sm":e==="sm","avatar-md":e==="md","avatar-lg":e==="lg","avatar-xl":e==="xl",square:t==="square",rounded:t==="rounded","rounded-circle":t==="circle"},s);return v.jsx("div",{ref:o,className:c,children:v.jsx(ec,{src:i||u,alt:r,imgPlaceholder:u,...a})})}),xp=zye,Hye=R.forwardRef(({className:t,variant:e={type:"notification",level:"danger"},visibility:r,rounded:i,children:n,...s},a)=>{function o(){if(!i){if(r==="always"&&!n)return"rounded-circle";if(e.type==="notification")return"rounded-pill";if(e.type==="link")return"rounded-2"}}const l=Pe("badge",o(),r==="always"&&"position-absolute translate-middle p-8 d-inline",e.type==="notification"&&`bg-${e.level} text-light`,e.type==="profile"&&`badge-profile-${e.profile}`,e.type==="link"&&"border border-secondary",t);return v.jsx("span",{ref:a,className:l,...s,children:e.type==="link"?v.jsx("div",{className:"d-flex fw-800 align-items-center",children:n}):n})}),n3e=Hye,Gye=R.forwardRef(({children:t,className:e,...r},i)=>{const n=Pe("breadcrumb-item",e);return v.jsx("li",{ref:i,className:n,...r,children:t})}),Zy=Gye,Vye=R.forwardRef(({children:t,className:e},r)=>{const i=Pe("breadcrumb d-flex flex-nowrap align-items-center mb-0",e);return v.jsx("ol",{ref:r,className:i,children:t})}),Wye=Vye,Xye=R.forwardRef(({children:t,app:e,className:r},i)=>{const{t:n}=Je(),{getIconClass:s}=nP(),a=Pe("d-flex align-items-center mb-0",s(e),r),o={"--edifice-breadcrumb-divider":"-"};return v.jsx("nav",{ref:i,className:a,"aria-label":n("breadcrumb"),style:o,children:t})}),Yye=Xye,qye=R.forwardRef(({level:t="h1",headingStyle:e="h1",children:r,className:i,...n},s)=>{const a=Pe(e,i);return v.jsx(t,{ref:s,className:a,...n,children:r})}),xa=qye,Kye=R.forwardRef(({app:t,name:e},r)=>{const{t:i}=Je();return v.jsx(Yye,{app:t,ref:r,className:"mw-100",children:v.jsx(Wye,{className:"gap-12 mw-100",children:e?v.jsxs(v.Fragment,{children:[v.jsx(Zy,{children:v.jsx("a",{href:t==null?void 0:t.address,className:"d-flex",children:v.jsx(zh,{app:t,size:"40"})})}),v.jsx(Zy,{children:v.jsx(cA,{})}),v.jsx(Zy,{className:"text-truncate",children:v.jsx(xa,{level:"h1",headingStyle:"h3",className:"text-truncate",children:e})})]}):v.jsxs(Zy,{className:"gap-12 d-flex align-items-center",children:[v.jsx("a",{href:t==null?void 0:t.address,className:"d-flex",children:v.jsx(zh,{app:t,size:"40"})}),v.jsx(xa,{level:"h1",headingStyle:"h3",className:"d-none d-md-flex",children:i(t==null?void 0:t.displayName)})]})})})}),Qye=Kye,Zye=({children:t,space:e=null,flexDirection:r="row"})=>{const i=Pe("card-body",{[`p-${e}`]:e,[`gap-${e}`]:e,"align-items-start":r==="column","flex-column":r==="column"});return v.jsx("div",{className:i,children:t})},Jye=Zye,ZH=R.createContext(null),JH=()=>{const t=R.useContext(ZH);if(!t)throw new Error("Cannot be rendered outside the Card component");return t},exe=({children:t})=>v.jsx("div",{className:"card-footer gap-16",children:t}),txe=exe,rxe=()=>{const{isSelectable:t,isClickable:e,onClick:r,onSelect:i}=JH();return t||e?v.jsxs("div",{className:"card-header",children:[t?v.jsx(To,{"aria-label":"Open Action Bar",className:"z-3 bg-white",color:"secondary",icon:v.jsx(JX,{}),onClick:i,variant:"ghost"}):null,e?v.jsx("button",{onClick:r,className:"position-absolute bottom-0 end-0 top-0 start-0 opacity-0 z-1 w-100","aria-label":"Open resource"}):null]}):null},ixe=rxe,nxe=({imageSrc:t,className:e,variant:r="medium"})=>{const{app:i}=JH(),n=r==="landscape"?{width:"100%",height:"auto"}:null;return v.jsx("div",{className:Pe("card-image",r),children:t?v.jsx(ec,{alt:"",src:t,objectFit:"cover",className:Pe("h-full w-100",e)}):v.jsx(zh,{app:i,iconFit:"ratio",size:"80",variant:"rounded",...n})})},sxe=nxe,axe=({children:t,className:e})=>{const r=Pe("card-text small text-break text-truncate text-truncate-1",e);return v.jsx("p",{className:r,children:t})},oxe=axe,lxe=({children:t,className:e})=>{const r=Pe("card-title body text-break text-truncate text-truncate-1",e);return v.jsx("h3",{className:r,children:v.jsx("strong",{children:t})})},uxe=lxe,cxe=({userSrc:t,creatorName:e})=>t?v.jsx(xp,{alt:e||"",size:"xs",src:t,variant:"circle",width:"24",height:"24"}):v.jsx(D7,{}),hxe=cxe,dxe=R.forwardRef(({app:t,isSelectable:e=!0,isClickable:r=!0,isSelected:i=!1,onClick:n,onSelect:s,children:a,className:o},l)=>{const{getIconCode:u}=nP(),c=t?u(t):"placeholder",d=R.useMemo(()=>({app:t,appCode:c,isSelectable:e,isClickable:r,onClick:n,onSelect:s}),[t,c,e,r,n,s]);return v.jsx(ZH.Provider,{value:d,children:v.jsxs("div",{ref:l,className:Pe("card",{"is-selected":i,"c-pointer":r},o),children:[v.jsx(eG.Header,{}),typeof a=="function"?a(c):a]})})}),eG=Object.assign(dxe,{Title:uxe,Text:oxe,Image:sxe,Body:Jye,User:hxe,Footer:txe,Header:ixe}),jn=eG,fxe=R.forwardRef(({label:t,disabled:e=!1,checked:r=!1,indeterminate:i=!1,...n},s)=>{const a=R.useRef(null);R.useImperativeHandle(s,()=>({...a.current})),R.useEffect(()=>{a.current.indeterminate=i},[a,i]);const o=R.useId(),l={type:"checkbox",checked:r,disabled:e,ref:a,className:Pe(n.className,"form-check-input c-pointer"),id:o},u={...n,...l};return v.jsxs("div",{className:"form-check d-flex align-items-center gap-8",children:[v.jsx("input",{...u}),t&&v.jsx("label",{className:"form-check-label",htmlFor:u.id,children:t})]})}),P1=fxe,pxe={className:"fw-bold",label:"Default palette",colors:[[{value:"#4A4A4A",description:"color.gray.darkest"},{value:"#909090",description:"color.gray.dark"},{value:"#C7C7C7",description:"color.gray.medium"},{value:"#F2F2F2",description:"color.gray.light",hue:"light"},{value:"#FFFFFF",description:"color.white",hue:"light"}],[{value:"#005A8A",description:"color.blue.darkest"},{value:"#2F7EA7",description:"color.blue.dark"},{value:"#46AFE6",description:"color.blue.medium"},{value:"#B9E3F8",description:"color.blue.light",hue:"light"},{value:"#E5F5FF",description:"color.blue.lightest",hue:"light"}],[{value:"#550070",description:"color.purple.darkest"},{value:"#7C2C96",description:"color.purple.dark"},{value:"#A348C0",description:"color.purple.medium"},{value:"#D7B5E2",description:"color.purple.light",hue:"light"},{value:"#F6ECF9",description:"color.purple.lightest",hue:"light"}],[{value:"#9E0016",description:"color.red.darkest"},{value:"#C6253B",description:"color.red.dark"},{value:"#FF3A55",description:"color.red.medium"},{value:"#FFB6C0",description:"color.red.light",hue:"light"},{value:"#FFECEE",description:"color.red.lightest",hue:"light"}],[{value:"#9E4800",description:"color.brown.darkest"},{value:"#DA6A0B",description:"color.brown.dark"},{value:"#FF8D2E",description:"color.brown.medium"},{value:"#FFCBA0",description:"color.brown.light",hue:"light"},{value:"#FFEFE3",description:"color.brown.lightest",hue:"light"}],[{value:"#A89400",description:"color.yellow.darkest"},{value:"#D1AF00",description:"color.yellow.dark"},{value:"#F1CA00",description:"color.yellow.medium"},{value:"#FAEA9C",description:"color.yellow.light",hue:"light"},{value:"#FBF4D5",description:"color.yellow.lightest",hue:"light"}],[{value:"#2E6105",description:"color.green.darkest"},{value:"#4E9019",description:"color.green.dark"},{value:"#5AC235",description:"color.green.medium"},{value:"#C8E4AF",description:"color.green.light",hue:"light"},{value:"#EAF7E4",description:"color.green.lightest",hue:"light"}]]},mxe={label:"Accessible palette",tooltip:{message:"Veni, vidi, vici"},colors:[[{value:"#4A4A4A",description:"color.gray"}],[{value:"#648FFF",description:"color.blue"}],[{value:"#785EF0",description:"color.purple"}],[{value:"#DC267F",description:"color.red"}],[{value:"#FE6100",description:"color.brown"}],[{value:"#FFB000",description:"color.orange"}],[{value:"#F3EA14",description:"color.yellow"}]],className:"mt-16"},gxe=({model:t,selected:e,className:r})=>t.isReset?v.jsx(QF,{}):v.jsx("div",{"aria-label":t.description,className:Pe("color-picker-hue-color-item rounded-1",r,t.hue==="light"?"light":"dark",e&&"selected"),style:{backgroundColor:t.value}}),vxe=gxe,yxe=({children:t,message:e,icon:r=null,placement:i="auto"})=>{const[n,s]=R.useState(null),[a,o]=R.useState(null),[l,u]=R.useState(null),{styles:c,attributes:d}=Zte(n,a,{placement:i,modifiers:[{name:"arrow",options:{element:l}}]}),[h,p]=R.useState(!1);return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"d-inline-block position-relative z-2",ref:s,onMouseEnter:()=>{p(!0)},onMouseLeave:()=>{p(!1)},children:t}),h&&e&&v.jsxs("div",{className:Pe("tooltip d-block show mb-12","bs-tooltip-auto"),ref:o,style:c.popper,...d.popper,children:[v.jsxs("div",{className:"tooltip-inner shadow-hover d-flex gap-8 align-items-center",children:[r&&r,v.jsx("div",{children:e})]}),v.jsx("div",{className:"tooltip-arrow",ref:u,style:c.arrow})]})]})},nl=yxe,xxe=R.forwardRef(({palettes:t=[pxe,mxe],model:e="#4A4A4A",onSuccess:r,...i},n)=>{const s=a=>{a&&(r==null||r(a))};return v.jsx("div",{ref:n,...i,children:t.map((a,o)=>v.jsxs("div",{className:Pe("color-picker mx-8",a.className),children:[v.jsxs("div",{className:"color-picker-label small mt-4 mb-8",children:[a.label,a.tooltip&&v.jsx(nl,{message:"",placement:"auto",...a.tooltip,children:v.jsx(HR,{width:18,height:18,className:"mx-4 position-relative",style:{top:"4px"}})})]}),a.reset&&v.jsxs("button",{className:"color-picker-reset small my-8 gap-4",onClick:()=>s(a.reset),children:[v.jsx(QF,{width:20,height:20}),a.reset.description]}),v.jsx("div",{className:"color-picker-palette d-flex gap-2 justify-content-between",children:a.colors.map((l,u)=>v.jsx("div",{className:"color-picker-hue d-flex gap-2 justify-content-between flex-column ",children:l.map(c=>v.jsx("button",{"aria-label":c.description,className:"color-picker-hue-color",onClick:()=>s(c),children:v.jsx(vxe,{...i,model:c,selected:e===c.value})},c.value))},u))})]},o))})}),s3e=xxe,tG=R.createContext(null),Lp=()=>{const t=R.useContext(tG);if(!t)throw new Error("Cannot be rendered outside the Dropdown Component");return t},rG=R.createContext(null),Ww=()=>{const t=R.useContext(rG);if(!t)throw new Error("Cannot be rendered outside the FormControl component");return t},bxe=({children:t})=>{const{status:e}=Ww(),r=Pe("form-text",{"is-invalid":e==="invalid",valid:e==="valid"});return v.jsx("p",{className:r,children:v.jsx("em",{children:t})})},_xe=bxe,wxe=R.forwardRef(({noValidationIcon:t,placeholder:e,size:r="md",type:i="text",className:n,...s},a)=>{const{id:o,isRequired:l,isReadOnly:u,status:c}=Ww(),d=Pe({"form-control":!u,"form-control-lg":r==="lg","form-control-sm":r==="sm","is-invalid":c==="invalid","is-valid":c==="valid","form-control-plaintext":u,"no-validation-icon":t},n);return v.jsx("input",{ref:a,id:o,className:d,type:i,placeholder:e,required:l,readOnly:u,...s})}),wn=wxe,Sxe=R.forwardRef(({leftIcon:t,optionalText:e="Optional",requiredText:r="*",children:i,className:n},s)=>{const{id:a,isOptional:o,isRequired:l}=Ww(),u=Pe("form-label",{"has-icon":t},n),c=o&&!l,d=l&&!o;return R.useEffect(()=>{if(o&&l)throw new Error("Cannot be optional and required at the same time")},[o,l]),v.jsxs("label",{ref:s,htmlFor:a,className:u,children:[t,i,c&&v.jsxs("em",{className:"optional",children:["- ",e]}),d&&v.jsx("em",{className:"required",children:r})]})}),ba=Sxe,Exe=R.forwardRef(({children:t,className:e,id:r,isOptional:i,isReadOnly:n,isRequired:s,status:a,...o},l)=>{const u=R.useMemo(()=>({id:r,isOptional:i,isRequired:s,isReadOnly:n,status:a}),[r,i,n,s,a]);return v.jsx(rG.Provider,{value:u,children:v.jsx("div",{ref:l,className:e,...o,children:t})})}),Txe=Object.assign(Exe,{Label:ba,Input:wn,Text:_xe}),Jt=Txe,Axe=({placeholder:t,value:e="",searchMinLength:r=3,handleSearchInputChange:i})=>{const{triggerProps:n,itemProps:s,setVisible:a}=Lp(),o={...n,role:"combobox",onClick:()=>{e.length>=r&&a(!0)},onChange:i};return R.useEffect(()=>{a(e.length>=r)},[a,e,r]),v.jsx(Jt,{className:"d-flex align-items-center",id:"search",children:v.jsx(wn,{...o,className:"max-w-512",noValidationIcon:!0,placeholder:t,size:"md",type:"search",onKeyDown:s.onMenuItemKeyDown})})},Cxe=Axe,Rxe=({children:t,value:e,model:r,onChange:i})=>{const{itemProps:n,itemRefs:s,isFocused:a}=Lp(),{onMenuItemKeyDown:o,onMenuItemMouseEnter:l}=n,u=R.useId(),c=r.includes(e),d={value:e,model:r,checked:c,readOnly:!0},h=Pe("dropdown-item c-pointer",{focus:a===u});return v.jsx("div",{id:u,ref:p=>s.current[u]=p,role:"menuitemcheckbox","aria-checked":c,onMouseUp:()=>i(e),onKeyDown:p=>o(p,()=>i(e)),onMouseEnter:l,tabIndex:c?0:-1,className:h,children:v.jsxs("div",{className:"d-flex gap-8 align-items-center justify-content-between position-relative",children:[t,v.jsx(P1,{...d})]})})},Ixe=Rxe,Pxe=({type:t="action",icon:e,onClick:r,children:i,...n})=>{const{itemProps:s,itemRefs:a,isFocused:o}=Lp(),{onMenuItemKeyDown:l,onMenuItemMouseEnter:u,onMenuItemClick:c}=s,d=()=>{r==null||r(),t==="action"&&c()},h=R.useId(),p=Pe("dropdown-item",{focus:o===h});return v.jsx("div",{id:h,role:"menuitem",ref:g=>a.current[h]=g,tabIndex:o===h?0:-1,className:p,"aria-current":o===h,onClick:d,onMouseEnter:u,onKeyDown:g=>l(g,r),...n,children:v.jsxs("div",{className:"d-flex gap-8 align-items-center",children:[e,i]})})},Mxe=Pxe,kxe=R.forwardRef(({children:t,block:e,...r},i)=>{const{menuProps:n,visible:s}=Lp(),{className:a,...o}=n,l={...o,...r},u=Pe({"w-100":e},a);return s?v.jsx("div",{ref:i,className:u,...l,children:t}):null}),Nxe=kxe,Oxe=R.forwardRef(({label:t,children:e},r)=>v.jsxs("div",{ref:r,role:"group",children:[v.jsx("span",{className:"small px-4",children:v.jsx("strong",{children:t})}),e]})),Lxe=Oxe,Dxe=R.forwardRef(({model:t,icon:e,label:r=!1,disabled:i=!1,checked:n,...s},a)=>{const o=R.useId(),l={type:"radio",checked:n,disabled:i,ref:a,className:Pe(s.className,"form-check-input c-pointer",e&&"d-none"),id:o},u={...s,...l};return v.jsxs("div",{className:Pe("form-check d-flex align-items-center gap-8",e&&"ps-0"),children:[v.jsx("input",{...u}),e&&v.jsx("label",{htmlFor:u.id,className:Pe("c-pointer",t!==s.value&&"text-muted"),children:e}),!e&&r&&v.jsx("label",{className:"form-check-label",htmlFor:u.id,children:r})]})}),yR=Dxe,Fxe=({children:t,value:e,model:r,onChange:i})=>{const{itemProps:n,itemRefs:s,isFocused:a}=Lp(),{onMenuItemKeyDown:o,onMenuItemMouseEnter:l}=n,u=R.useId(),c={value:e,model:r,checked:e===r,readOnly:!0},d=Pe("dropdown-item c-pointer",{focus:a===u});return v.jsx("div",{id:u,ref:h=>s.current[u]=h,role:"menuitemradio","aria-checked":e===r,onMouseUp:()=>i(e),onKeyDown:h=>o(h,()=>i(e)),onMouseEnter:l,tabIndex:e===r?0:-1,className:d,children:v.jsxs("div",{className:"d-flex gap-8 align-items-center justify-content-between position-relative",children:[t,v.jsx(yR,{...c,className:"position-absolute start-0 end-0 top-0 bottom-0 opacity-0"})]})})},Bxe=Fxe,jxe=()=>v.jsx("div",{role:"separator",className:"px-4",children:v.jsx("hr",{className:"m-0"})}),Uxe=jxe,$xe=R.forwardRef(({label:t,icon:e,variant:r,disabled:i=!1,size:n,badgeContent:s,...a},o)=>{const{triggerProps:l,block:u}=Lp(),{className:c,...d}=l,h={...d,...a},p=Pe("dropdown-toggle ",n,r,{"w-100":u},c);return v.jsxs("button",{ref:o,className:p,disabled:i,...h,children:[e||null,t,s?v.jsx("span",{className:"badge text-bg-secondary rounded-pill",children:s}):v.jsx(lY,{width:16,height:16,className:"dropdown-toggle-caret"})]})}),zxe=$xe,Hxe=({children:t,block:e,overflow:r=!0,placement:i="bottom-start",extraTriggerKeyDownHandler:n})=>{const{visible:s,isFocused:a,triggerProps:o,menuProps:l,itemProps:u,itemRefs:c,setVisible:d}=wye(i,n),h=XH(()=>d(!1)),p=R.useMemo(()=>({visible:s,isFocused:a,triggerProps:o,menuProps:l,itemProps:u,itemRefs:c,block:e,setVisible:d}),[s,a,o,l,u,c,e,d]),g=Pe("dropdown",{"w-100":e,overflow:r});return v.jsx(tG.Provider,{value:p,children:v.jsx("div",{ref:h,className:g,children:typeof t=="function"?t(o,c):t})})},Gxe=Object.assign(Hxe,{Trigger:zxe,Menu:Nxe,Item:Mxe,Separator:Uxe,CheckboxItem:Ixe,RadioItem:Bxe,MenuGroup:Lxe}),Bt=Gxe,oP=({onSearchResultsChange:t,onSearchInputChange:e,options:r,value:i,isLoading:n,noResult:s,searchMinLength:a,placeholder:o})=>{const{t:l}=Je(),[u,c]=R.useState([]);R.useEffect(()=>{t(u)},[u]);const d=p=>{c([p])},h=()=>n?v.jsxs("div",{className:"d-flex align-items-center p-4",children:[v.jsx(eP,{isLoading:n}),v.jsx("span",{className:"ps-4",children:l("explorer.search.pending")})]}):s?v.jsx("div",{className:"p-4",children:l("portal.no.result")}):r.map((p,g)=>v.jsxs(R.Fragment,{children:[v.jsx(Bt.Item,{type:"select",icon:p.icon,onClick:()=>d(p.value),children:p.label}),g<r.length-1&&v.jsx(Bt.Separator,{})]},g));return v.jsxs(Bt,{block:!0,children:[v.jsx(oP.Trigger,{placeholder:o,searchMinLength:a,handleSearchInputChange:e,value:i}),v.jsx(Bt.Menu,{children:h()})]})};oP.Trigger=Cxe;const Vxe=oP,Wxe=()=>{const{t}=Je();return v.jsx("div",{className:"drop-wrapper",children:v.jsx("div",{className:"drop-content",children:v.jsx("p",{className:"drop-text",children:t("dropzone.drop")})})})},Xxe=Wxe,Yxe=({children:t})=>{const{t:e}=Je(),{files:r,inputRef:i}=sP(),n=r&&r.length>0,s=Pe("drop-file-wrapper",{"d-block":n,"d-none":!n});return v.jsxs("div",{className:s,children:[v.jsx("div",{className:"drop-file-content",children:v.jsx("div",{className:"add-button p-4",children:v.jsx(Xt,{variant:"ghost",leftIcon:v.jsx(i8,{}),onClick:()=>{var a;return(a=i==null?void 0:i.current)==null?void 0:a.click()},children:e("dropzone.add.more")})})}),v.jsx("div",{className:"p-8",children:t})]})},qxe=Yxe,Kxe=()=>{const{t}=Je(),{files:e,inputRef:r}=sP(),i=e&&e.length>0,n=Pe("import-wrapper",{"d-flex":!i,"d-none":i});return v.jsxs("div",{className:n,children:[v.jsx(RX,{height:48,width:48}),v.jsx("p",{className:"my-16",children:t("dropzone.text")}),v.jsx(Xt,{onClick:()=>{var s;return(s=r==null?void 0:r.current)==null?void 0:s.click()},children:t("dropzone.import")})]})},Qxe=Kxe,Eh=({className:t,accept:e,multiple:r,handle:i=!1,children:n})=>{const{inputRef:s,dragging:a,files:o,addFile:l,deleteFile:u,handleDragLeave:c,handleDragging:d,handleDrop:h,handleOnChange:p}=YH(),g=Pe("dropzone",{"is-dragging":a,"is-drop-files":!(o.length!==0&&!i)},t),y=R.useMemo(()=>({inputRef:s,files:o,addFile:l,deleteFile:u}),[l,u,o,s]);return v.jsx(KH.Provider,{value:y,children:v.jsxs("div",{className:g,onDragEnter:d,onDragOver:d,onDragLeave:c,onDrop:h,children:[v.jsxs("div",{className:"align-center",children:[i?null:v.jsxs(v.Fragment,{children:[v.jsx(Eh.File,{children:n}),v.jsx(Eh.Import,{})]}),v.jsx(Eh.Drag,{})]}),v.jsx("input",{ref:s,accept:e==null?void 0:e.join(","),multiple:r,type:"file",name:"attachment-input",id:"attachment-input",onChange:p,hidden:!0})]})})};Eh.File=qxe;Eh.Import=Qxe;Eh.Drag=Xxe;const Zxe=Eh,Jxe=({imageSrc:t,imageAlt:e="",title:r,text:i,className:n})=>{const s=Pe("text",n);return v.jsxs("div",{className:"emptyscreen",children:[t&&v.jsx("div",{className:"emptyscreen-image mb-12",children:v.jsx("img",{className:"mx-auto",src:t,alt:e,width:"250",height:"250"})}),r&&v.jsx(xa,{level:"h2",headingStyle:"h2",className:"text-secondary mb-8",children:r}),i&&v.jsx("div",{className:s,children:i})]})},xR=Jxe,ebe=({type:t,roleMap:e})=>{const r=typeof(e==null?void 0:e.icon)!="string"&&t!=="unknown",i=Pe("position-absolute top-50 start-50 translate-middle",{"p-12 rounded-circle shadow":r},e==null?void 0:e.color);return v.jsx("div",{className:i,children:(e==null?void 0:e.icon)??v.jsx(t8,{})})},tbe=ebe;function rbe(t){const[e,r]=R.useState(null);return R.useEffect(()=>{const i=new Image;return i.src=t,i.onload=()=>{r(!0)},i.onerror=()=>{r(!1)},()=>{i.onload=null,i.onerror=null,r(null)}},[]),e}const ibe=({doc:t,isClickable:e=!0,isSelectable:r=!1,isSelected:i=!1,onClick:n,className:s})=>{var a;const o=wF.getRole(t);function l(p){const g={csv:{icon:".CSV",color:"bg-orange-200"},xls:{icon:".XLS",color:"bg-green-200"},doc:{icon:".DOC",color:"bg-blue-200"},txt:{icon:".TXT",color:"bg-blue-200"},pdf:{icon:".PDF",color:"bg-red-200"},audio:{icon:v.jsx(j_,{width:22,height:22}),color:"bg-red-200"},ppt:{icon:".PPT",color:"bg-yellow-200"},img:{icon:v.jsx(WX,{width:22,height:22}),color:"bg-green-200"},video:{icon:v.jsx(eq,{width:22,height:22}),color:"bg-purple-200"},zip:{icon:".ZIP",color:"bg-gray-300"},md:{icon:".MD",color:"bg-blue-200"},unknown:{icon:v.jsx(HY,{width:22,height:22}),color:"bg-gray-300"}};return g[p]||g.unknown}const u=Pe("file position-relative rounded",((a=l(o??"default"))==null?void 0:a.color)??"bg-yellow-200"),c=o==="img"||o==="video"?Ve.workspace().getThumbnailUrl(t):null,d=rbe(c),h=d&&{backgroundImage:`url(${c})`,backgroundSize:"cover"};return v.jsx(jn,{className:Pe("card-file",s),isClickable:e,isSelectable:r,isSelected:i,onClick:n,children:v.jsxs(jn.Body,{space:"8",children:[v.jsx("div",{className:u,style:{aspectRatio:"16/10",...h},children:o!=="img"||o==="img"&&!d?v.jsx(tbe,{type:o,roleMap:l(o)}):null}),v.jsxs("div",{className:"mt-4",children:[v.jsx(jn.Text,{children:t.name}),v.jsx(jn.Text,{className:"text-black-50",children:t==null?void 0:t.ownerName})]})]})})},nbe=ibe,ro=({children:t,className:e,...r})=>{const i=Pe("grid",e);return v.jsx("div",{className:i,...r,children:t})},sbe=({sm:t,md:e,lg:r,xl:i,children:n,className:s,as:a,...o})=>{const l=a||"div",u=Pe({[`g-col-${t}`]:t,[e?`g-col-md-${e}`:""]:e,[r?`g-col-lg-${r}`:""]:r,[i?`g-col-xl-${i}`:""]:i},s);return v.jsx(l,{className:u,...o,children:n})};ro.Col=sbe;const abe=R.forwardRef(({label:t,addButtonLabel:e="Add image",deleteButtonLabel:r="Delete image",src:i,className:n,app:s,onUploadImage:a,onDeleteImage:o},l)=>{const[u,c]=R.useState(i||""),{inputRef:d,files:h,deleteFile:p,handleOnChange:g,handleDragging:y,handleDragLeave:b,handleDrop:x}=YH();R.useEffect(()=>{if(h.length>0){p(h[0]),c("");const A=h==null?void 0:h[0];if(!A)return;c(URL.createObjectURL(A)),a(A)}},[h]);const w=()=>{var A;(A=d.current)==null||A.click()},_=()=>{d.current&&(d.current.value=""),p(h[0]),c(""),o()},E=Pe("image-input",n);return v.jsxs(Jt,{id:"image-input",className:E,onDragEnter:y,onDragOver:y,onDragLeave:b,onDrop:x,ref:l,children:[v.jsxs("div",{className:"image-input-actions gap-8",children:[v.jsx(To,{"aria-label":e,color:"tertiary",icon:v.jsx(PX,{}),onClick:w,type:"button",variant:"ghost"}),v.jsx(To,{"aria-label":r,color:"danger",disabled:!u,icon:v.jsx(ZF,{width:"20",height:"20"}),onClick:_,type:"button",variant:"ghost"})]}),v.jsxs(Jt.Label,{children:[v.jsx("span",{className:"visually-hidden",children:t}),v.jsx(wn,{accept:"image/*",hidden:!0,onChange:g,ref:d,size:"sm",type:"file"}),u?v.jsx(xp,{alt:"",src:u,size:"xl"}):v.jsx(zh,{app:s,iconFit:"ratio",size:"160",variant:"rounded"})]})]})}),iG=abe,obe=R.forwardRef(({position:t=!0,caption:e},r)=>{const[i]=Tl(),n=`${i}/loading/screen-loading.gif`,s=Pe("top-0 end-0 start-0 bottom-0 d-grid justify-content-center align-content-center align-items-center z-2000",{"position-fixed":!t,"position-static":t}),a=Pe("text-center pt-12",{"text-white":!t});return v.jsxs(v.Fragment,{children:[v.jsxs("div",{ref:r,className:s,children:[v.jsx("div",{className:"bg-white rounded-circle mx-auto w-25",children:v.jsx("img",{src:n,alt:"loading"})}),e&&v.jsx("div",{className:a,children:e})]}),!t&&v.jsx("div",{className:"modal-backdrop fade show"})]})}),Fi=obe,lbe=R.forwardRef(({src:t,is1d:e,translate:r="Retour accueil"},i)=>{const n=Pe("navbar-brand d-none d-md-block");return v.jsx("a",{ref:i,className:n,href:"/timeline/timeline","aria-label":r,children:v.jsx("img",{className:"logo",src:t,alt:`logo ${e?"ONE":"NEO"}`,width:"300",height:"52"})})}),d6=lbe,nG=R.createContext({ariaLabelId:"",ariaDescriptionId:"",focusId:""}),sG=()=>{const t=R.useContext(nG);if(!t)throw new Error("Cannot be rendered outside the Modal component");return t},ube=t=>{const{ariaDescriptionId:e}=sG(),{children:r,className:i}=t,n=Pe("modal-body",i);return v.jsx("div",{id:e,className:n,children:r})},cbe=ube,hbe=t=>v.jsx("div",{className:"modal-footer",children:t.children}),dbe=hbe,fbe=t=>{const{onModalClose:e,children:r}=t,{ariaLabelId:i,focusId:n}=sG(),s=R.useRef(null);return R.useEffect(()=>{var a;n||(a=s.current)==null||a.focus()},[n]),v.jsxs("div",{className:"modal-header",children:[v.jsx("h2",{id:i,className:"modal-title",tabIndex:-1,children:r}),v.jsx(To,{ref:s,"aria-label":"Close",color:"tertiary",icon:v.jsx(zR,{}),type:"button",variant:"ghost",title:"Delete",onClick:e,className:"btn-close"})]})},pbe=fbe,mbe=t=>v.jsx("p",{className:"modal-subtitle",children:t.children}),gbe=mbe,vbe=R.forwardRef((t,e)=>{const{id:r,isOpen:i,onModalClose:n,size:s="md",viewport:a=!1,scrollable:o=!1,focusId:l,children:u}=t,c=`aria_label_${r}`,d=`aria_desc_${r}`,h=XH(n),p=Cye();Tye(n,["Escape"]),R.useEffect(()=>{if(i&&(document.body.style.overflow="hidden",l)){const w=document.getElementById(l);w==null||w.focus()}return()=>{document.body.style.overflow=""}},[l,i]);const g=Pe("modal fade",{"show d-block":i,"modal-scrollable":o,viewport:a,[`modal-${s}`]:s}),y=Pe("modal-dialog"),b={ariaLabelId:c,ariaDescriptionId:d,focusId:l},x=T7(i,{from:{x:-50,opacity:0},enter:{x:0,opacity:1},leave:{x:50,opacity:0}});return v.jsx(nG.Provider,{value:b,children:x((w,_)=>v.jsxs(v.Fragment,{children:[_&&v.jsx(wC.div,{id:r,ref:e,role:"dialog","aria-modal":"true","aria-labelledby":c,"aria-describedby":d,className:g,style:w,tabIndex:-1,children:v.jsx("div",{id:`${r}_ref`,ref:E=>{h.current=E,_&&(p.current=E)},className:y,children:v.jsx("div",{className:"modal-content",children:u})})}),_&&v.jsx(wC.div,{className:"modal-backdrop fade show",style:{opacity:.65}})]}))})}),ybe=Object.assign(vbe,{Header:pbe,Subtitle:gbe,Body:cbe,Footer:dbe}),qt=ybe,xbe=({children:t,className:e})=>{const r=Pe("popover-body",e);return v.jsx("div",{className:r,children:t})},bbe=({children:t,className:e})=>{const r=Pe("popover-footer p-8",e);return v.jsx("div",{className:r,children:t})},aG=R.forwardRef(({children:t,className:e,id:r,isVisible:i,...n},s)=>{const a=Pe("popover d-block position-absolute top-100 start-50 translate-middle-x",e);return T7(i,{from:{opacity:0},enter:{opacity:1},leave:{opacity:0},config:{duration:0}})((o,l)=>l&&v.jsx(wC.div,{ref:s,"aria-labelledby":r,className:a,role:"tooltip",style:o,...n,children:t}))}),_be=({isVariant:t=!1,size:e="md",placeholder:r="Search",className:i,disabled:n,onChange:s,onClick:a,...o})=>{const{t:l}=Je(),u=Pe(i,{"input-group":!t,"position-relative":t}),c=Pe({"border-end-0":!t,"ps-48":t}),d=()=>{a==null||a()};return v.jsxs(Jt,{id:"search-bar",className:u,children:[t&&v.jsx("div",{className:"position-absolute z-1 top-50 start-0 translate-middle-y border-0 ps-12 bg-transparent",children:v.jsx(hA,{})}),v.jsx(Jt.Input,{type:"search",placeholder:l(r),size:e,noValidationIcon:!0,className:c,onChange:s,disabled:n,...o}),!t&&v.jsx(tP,{type:"submit","aria-label":"search",icon:v.jsx(hA,{}),className:"border-start-0",onClick:d})]})},oG=_be,wbe=t=>v.jsx(Bt.Trigger,{...t,"aria-haspopup":"listbox",role:"combobox"}),Sbe=wbe,Ebe=({icon:t,options:e,overflow:r,block:i,variant:n,size:s,disabled:a,placeholderOption:o,onValueChange:l})=>{const[u,c]=R.useState(),{t:d}=Je();R.useEffect(()=>{if(u){const p=typeof u=="object"?u.value:u;l==null||l(p)}},[u]);const h=typeof u=="object"?u.label:u;return v.jsxs(Bt,{overflow:r,block:i,children:[v.jsx(Sbe,{icon:t,label:d(h||o),variant:n,size:s,disabled:a}),v.jsx(Bt.Menu,{role:"listbox",children:e==null?void 0:e.map(p=>{const g=typeof p=="object"?p.value:p,y=typeof p=="object"?p.label:p;return v.jsx(Bt.Item,{type:"action",onClick:()=>c(p),children:y},g)})})]})},lP=Ebe,lG=R.createContext(null);function uP(){const t=R.useContext(lG);if(!t)throw new Error("Tabs compound components cannot be rendered outside the Tabs component");return t}const Tbe=({icon:t,label:e,id:r,order:i})=>{const{activeTab:n,setSelectedTab:s,onKeyDown:a,tabsRef:o}=uP(),{t:l}=Je(),u=Pe("nav-link d-inline-flex gap-8 border-0",n===r?"selected":"");return v.jsx("li",{className:"nav-item flex-shrink-0",role:"presentation",children:v.jsxs("button",{ref:c=>o.current[i]=c,type:"button",id:`tab-${r}`,className:u,onClick:()=>s(r),onKeyDown:c=>a(c),role:"tab","aria-controls":`tabpanel-${r}`,"aria-selected":n===r,tabIndex:n===r?0:-1,children:[t,v.jsx("small",{children:l(e)})]})})},Abe=Tbe,Cbe=t=>{const{items:e,tabUnderlineLeft:r,tabUnderlineWidth:i}=uP(),{className:n,...s}=t,a=Pe("position-relative flex-shrink-0 overflow-x-auto",n);return v.jsxs("div",{className:a,...s,children:[v.jsx("ul",{className:"nav nav-tabs flex-nowrap",role:"tablist",children:e.map((o,l)=>v.jsx(Kx.Item,{order:l,...o},o.id))}),v.jsx("span",{className:"nav-slide",style:{left:r,width:i}})]})},Rbe=Cbe,Ibe=({children:t,currentItem:e})=>{const{activeTab:r}=uP();return v.jsx("div",{className:"tab-content d-flex flex-fill",children:v.jsx("div",{className:`tab-pane flex-fill fade ${r===(e==null?void 0:e.id)?"show active":""}`,id:`tabpanel-${e==null?void 0:e.id}`,role:"tabpanel","aria-labelledby":`tab-${e==null?void 0:e.id}`,tabIndex:0,children:t})})},Pbe=Ibe,bp=({defaultId:t,items:e,onChange:r,children:i})=>{const[n,s]=R.useState(t||""),[a,o]=R.useState(0),[l,u]=R.useState(0),c=R.useRef([]),d=R.useCallback(x=>{s(x)},[]);R.useEffect(()=>{const x=e.find(w=>w.id===n);x&&(r==null||r(x))},[n]),R.useEffect(()=>{function x(){const w=e.findIndex(E=>E.id===n);w===-1&&t&&s(t);const _=c.current[w];_&&(_.focus(),u((_==null?void 0:_.offsetLeft)??0),o((_==null?void 0:_.clientWidth)??0))}return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[n,e,t]);const h=R.useCallback(x=>{var w,_,E;const A=e.findIndex(I=>I.id===x);x===((w=e[0])==null?void 0:w.id)?s((_=e[e.length-1])==null?void 0:_.id):s((E=e[A-1])==null?void 0:E.id)},[e]),p=R.useCallback(x=>{var w,_,E;const A=e.findIndex(I=>I.id===x);x===((w=e[e.length-1])==null?void 0:w.id)?s((_=e[0])==null?void 0:_.id):s((E=e[A+1])==null?void 0:E.id)},[e]),g=R.useCallback(x=>{var w,_;switch(x.code){case"ArrowLeft":h(n);break;case"ArrowRight":p(n);break;case"Home":s((w=e[0])==null?void 0:w.id);break;case"End":s((_=e[e.length-1])==null?void 0:_.id);break}},[n,e,p,h]),y=R.useMemo(()=>({activeTab:n,items:e,setSelectedTab:d,tabsRef:c,tabUnderlineLeft:l,tabUnderlineWidth:a,onKeyDown:g}),[n,e,g,d,l,a]),b=e.find(x=>x.id===n);return v.jsx(lG.Provider,{value:y,children:typeof i=="function"?i(b):v.jsxs(v.Fragment,{children:[v.jsx(bp.List,{}),v.jsx(bp.Panel,{currentItem:b,children:b==null?void 0:b.content})]})})};bp.Item=Abe;bp.Panel=Pbe;bp.List=Rbe;const Kx=bp,Mbe=R.forwardRef(({noValidationIcon:t,placeholder:e,size:r="md",height:i="md",className:n,...s},a)=>{const{id:o,isRequired:l,isReadOnly:u,status:c}=Ww(),d=Pe({"form-control":!u,"form-control-lg":r==="lg","form-control-sm":r==="sm","textarea-height-lg":i==="lg","textarea-height-md":i==="md","textarea-height-sm":i==="sm","is-invalid":c==="invalid","is-valid":c==="valid","form-control-plaintext":u,"no-validation-icon":t},n);return v.jsx("textarea",{ref:a,id:o,className:d,placeholder:e,required:l,readOnly:u,...s})}),cP=Mbe,kbe=R.forwardRef(({items:t,variant:e="default",align:r="space",isBlock:i=!1,ariaControls:n,className:s},a)=>{const o=R.useRef(),l=Pe("toolbar z-1000 bg-white",s,{default:e==="default","no-shadow":e==="no-shadow","d-flex":i,"d-inline-flex":!i,"overflow-x-auto":i,"justify-content-start":r==="left","justify-content-between":r==="space","justify-content-center":r==="center","justify-content-end":r==="right"}),u=[];let c,d;R.useEffect(()=>{var x;const w=(x=o.current)==null?void 0:x.querySelectorAll("button");w==null||w.forEach((_,E)=>{E===0&&(d=_),c=_,u.push(_)})},[t]);const h=x=>{x.target.classList.add("focus")},p=x=>{x.target.classList.remove("focus")},g=x=>{const w=u.indexOf(x.currentTarget);switch(x.code){case"ArrowLeft":x.currentTarget===d?c.focus():u[w-1].focus();break;case"ArrowRight":x.currentTarget===c?d.focus():u[w+1].focus();break}},y=x=>{var w;return typeof x.tooltip=="string"?x.tooltip:(w=x.tooltip)==null?void 0:w.message},b=x=>{var w;return typeof x.tooltip!="string"?(w=x.tooltip)==null?void 0:w.position:"top"};return v.jsx("div",{ref:vR(a,o),className:l,role:"toolbar","aria-label":"Text Formatting","aria-controls":n,onFocus:h,onBlur:p,children:t.map((x,w)=>{if(x.visibility==="hide")return null;switch(x.type){case"divider":return v.jsx("div",{className:"toolbar-divider"},x.name??w);case"button":return v.jsx(nl,{message:y(x),placement:b(x),children:R.createElement(Xt,{...x.props,key:x.name??w,color:x.props.color?x.props.color:"tertiary",variant:"ghost",tabIndex:w===0?0:-1,onKeyDown:g})},x.name??w);case"icon":return v.jsx(nl,{message:y(x),placement:b(x),children:R.createElement(To,{...x.props,key:x.name??w,color:x.props.color?x.props.color:"tertiary",variant:"ghost",tabIndex:w===0?0:-1,onKeyDown:g})},x.name??w);case"dropdown":return R.createElement(Bt,{...x.props,key:x.name??w,extraTriggerKeyDownHandler:g,overflow:x.overflow});case"primary":return v.jsx(nl,{message:y(x),placement:b(x),children:v.jsx(Xt,{...x.props,variant:"filled",color:"primary",tabIndex:w===0?0:-1,onKeyDown:g})},x.name??w)}return null})})}),hP=kbe;function Nbe(t,e,r,i,n,s,a,o,l){const u=h=>{h.preventDefault(),n==null||n(t),h.stopPropagation()},c=h=>{(h.code==="Enter"||h.code==="Space")&&(h.preventDefault(),n==null||n(t),h.stopPropagation())},d=()=>{i(!r),r?s==null||s(t):a==null||a(t)};return{handleItemClick:u,handleItemKeyDown:c,handleItemFoldUnfoldClick:h=>{h.preventDefault(),d(),h.stopPropagation()},handleItemFoldUnfoldKeyDown:h=>{(h.code==="Enter"||h.code==="Space")&&(h.preventDefault(),d(),h.stopPropagation())},handleItemFocus:h=>{h.preventDefault(),o==null||o(t)},handleItemBlur:h=>{h.preventDefault(),l==null||l(t)}}}const Obe=t=>{const{nodeId:e,label:r,children:i,section:n,selected:s,onItemSelect:a,onItemFold:o,onItemUnfold:l,onItemFocus:u,onItemBlur:c,selectedNodesIds:d}=t,[h,p]=R.useState(!1),{handleItemClick:g,handleItemKeyDown:y,handleItemFoldUnfoldClick:b,handleItemFoldUnfoldKeyDown:x,handleItemFocus:w,handleItemBlur:_}=Nbe(e,r,h,p,a,o,l,u,c);R.useEffect(()=>{if(d!=null&&d.length&&(d==null?void 0:d.length)>=1){const I=d[d.length-1];d.some(P=>P===e&&e!==I?(p(!0),P===e):(p(!1),!1))}else p(!1)},[e,d]);const E=n?16:12,A=()=>v.jsx("li",{id:`listitem_${e}`,role:"treeitem","aria-selected":s,"aria-expanded":h,children:v.jsxs("div",{children:[v.jsxs("div",{className:"action-container d-flex align-items-center gap-8 px-2",children:[v.jsxs("div",{className:`py-8 ${Array.isArray(i)?null:"invisible"}`,tabIndex:0,role:"button",onClick:b,onKeyDown:x,"aria-label":"fold/unfold button",children:[Array.isArray(i)&&!h&&v.jsx(cA,{title:"RafterRight",width:E,height:E}),Array.isArray(i)&&h&&v.jsx(Hg,{title:"RafterDown",width:E,height:E}),!Array.isArray(i)&&v.jsx(cA,{title:"RafterRight",width:E,height:E,"aria-hidden":"true"})]}),v.jsxs("div",{tabIndex:0,role:"button",className:"flex-fill d-flex align-items-center text-truncate gap-8 py-8",onClick:g,onKeyDown:y,onFocus:w,onBlur:_,children:[n&&v.jsx(JF,{title:"Folder",width:20,height:20}),v.jsx("span",{className:"text-truncate",children:r})]})]}),Array.isArray(i)&&v.jsx("ul",{role:"group",children:i})]})},e);return n?v.jsx("ul",{role:"tree",className:"m-0 p-0",children:A()}):A()},Lbe=Obe,Dbe=R.forwardRef((t,e)=>{const{data:r,onTreeItemSelect:i,onTreeItemFold:n,onTreeItemUnfold:s,onTreeItemFocus:a,onTreeItemBlur:o,selectedNodesIds:l}=t,[u,c]=R.useState(null);R.useEffect(()=>{l!=null&&l.length&&(l==null?void 0:l.length)>=1?c(l[l.length-1]):c(null)},[l]);const d=R.useMemo(()=>({unselectAll(){c(null)},select(x){c(x),i==null||i(x)}}),[i]);R.useImperativeHandle(e,()=>d,[d]);const h=x=>{n==null||n(x)},p=x=>{s==null||s(x)},g=x=>{a==null||a(x)},y=x=>{o==null||o(x)},b=x=>v.jsx(Lbe,{nodeId:x.id,label:x.name,section:x.section,selectedNodesIds:l,selected:u===x.id,onItemSelect:d.select,onItemFold:h,onItemUnfold:p,onItemFocus:g,onItemBlur:y,children:Array.isArray(x.children)?x.children.map(w=>b(w)):null},x.id);return v.jsx("div",{className:"treeview",children:b(r)})}),Qx=Dbe,Fbe=({item:t,status:e="idle",isClickable:r=!1,isSelectable:i=!1,onDelete:n,onEdit:s,onRetry:a})=>{const[o]=Tl(),{t:l}=Je(),{src:u,name:c,info:d}=t,h=e==="idle",p=e==="loading",g=e==="error",y=e==="success",b=d==null?void 0:d.type.startsWith("image/");return v.jsx(jn,{isClickable:r,isSelectable:i,className:"card-upload",children:v.jsxs(jn.Body,{children:[v.jsx("div",{className:"card-image",children:g?v.jsx(ec,{alt:"",src:`${o}/common/image-status-error.svg`,objectFit:"cover"}):v.jsx(ec,{alt:"",src:u??"",width:"48",objectFit:"cover",className:"rounded",style:{aspectRatio:1/1}})}),v.jsxs("div",{className:"text-truncate",children:[v.jsx(jn.Text,{children:c}),v.jsxs(jn.Text,{className:"caption",children:[y&&v.jsxs("em",{children:[d==null?void 0:d.type," ",(d==null?void 0:d.weight)&&`- ${d.weight}`]}),g&&v.jsx("strong",{children:v.jsx("small",{className:"text-danger caption",children:l("tiptap.upload.error")})})]})]}),!h&&v.jsx("div",{className:"ms-auto",children:v.jsxs("div",{className:"d-flex align-items-center gap-12",children:[p&&v.jsx(nl,{message:l("tiptap.tooltip.upload.loading"),placement:"top",children:v.jsx(eP,{isLoading:!0,loadingPosition:"left",className:"text-secondary"})}),y&&v.jsx(nl,{message:l("tiptap.tooltip.upload.loaded"),placement:"top",children:v.jsx(o8,{className:"text-success"})}),g&&v.jsx(Xt,{leftIcon:v.jsx(a8,{}),variant:"ghost",color:"tertiary",onClick:a,children:l("tiptap.upload.retry")}),!h&&v.jsx("div",{className:"vr"}),b&&v.jsx(nl,{message:l("tiptap.tooltip.upload.edit"),placement:"top",children:v.jsx(To,{icon:v.jsx(rq,{}),variant:"ghost","aria-label":l("tiptap.tooltip.upload.loading"),disabled:p||!y,onClick:s,color:"secondary"})}),v.jsx(nl,{message:l("tiptap.tooltip.upload.delete"),placement:"top",children:v.jsx(To,{icon:v.jsx(zR,{}),variant:"ghost","aria-label":l("tiptap.tooltip.upload.delete"),color:"tertiary",onClick:n})})]})})]})})},Bbe=Fbe,jbe=R.forwardRef(({children:t},e)=>v.jsx("span",{className:"visually-hidden",ref:e,children:t})),Iu=jbe,Ube=async t=>await Ve.conf().getPreference(t),$be=async t=>await Ve.conf().savePreference(t,JSON.stringify({showOnboardingTrash:!1})),zbe=t=>{const[e,r]=R.useState(!0),[i,n]=R.useState(!1);return R.useEffect(()=>{(async()=>{const s=await Ube(t);if(s){const{showOnboardingTrash:a}=s;n(a);return}n(!0)})()},[t]),{isOpen:e,setIsOpen:r,isOnboardingTrash:i,handleSavePreference:async()=>{await $be(t),r(!1)}}},Hbe=({id:t,items:e,modalOptions:r})=>{const[i]=Tl(),[n,s]=R.useState(),[a,o]=R.useState(0),{isOpen:l,isOnboardingTrash:u,setIsOpen:c,handleSavePreference:d}=zbe(t);R.useEffect(()=>{const x=document.createElement("link");return x.href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css",x.rel="stylesheet",x.type="text/css",document.head.appendChild(x),()=>{document.head.removeChild(x)}},[]);const{t:h}=Je(),{title:p,prevText:g,closeText:y,nextText:b}=r;return u?Ta.createPortal(v.jsxs(qt,{id:"onboarding-modal",size:"md",isOpen:l,focusId:"nextButtonId",onModalClose:()=>c(!1),children:[v.jsx(qt.Header,{onModalClose:()=>c(!1),children:h(p||"explorer.modal.onboarding.trash.title")}),v.jsx(qt.Body,{children:v.jsx(Q7,{modules:[Cre],onSwiper:x=>{s(x)},onSlideChange:x=>{o(x.progress)},pagination:{clickable:!0},children:e.map((x,w)=>v.jsxs(Z7,{children:[v.jsx(ec,{width:"270",height:"140",className:"mx-auto my-12",loading:"lazy",src:`${i}/${x.src}`,alt:h(x.alt)}),v.jsx("p",{children:h(x.text)})]},w))})}),v.jsxs(qt.Footer,{children:[v.jsx(Xt,{type:"button",color:"tertiary",variant:"ghost",onClick:()=>c(!1),children:h("explorer.modal.onboarding.trash.later")}),a>0&&v.jsx(Xt,{type:"button",color:"primary",variant:"outline",onClick:()=>n.slidePrev(),children:h(g||"explorer.modal.onboarding.trash.prev")}),a<1&&v.jsx(Xt,{id:"nextButtonId",type:"button",color:"primary",variant:"filled",onClick:()=>n.slideNext(),children:h(b||"explorer.modal.onboarding.trash.next")}),a===1&&v.jsx(Xt,{type:"button",color:"primary",variant:"filled",onClick:d,children:h(y||"explorer.modal.onboarding.trash.close")})]})]}),document.getElementById("portal")):null},a3e=Hbe,Gbe=()=>{const{t}=Je();return[{value:"bpr.activityType.classroomActivity",label:t("bpr.activityType.classroomActivity")},{value:"bpr.activityType.groupActivity",label:t("bpr.activityType.groupActivity")},{value:"bpr.activityType.personalActivity",label:t("bpr.activityType.personalActivity")},{value:"bpr.activityType.homework",label:t("bpr.activityType.homework")},{value:"bpr.activityType.exercize",label:t("bpr.activityType.exercize")},{value:"bpr.activityType.learningPath",label:t("bpr.activityType.learningPath")},{value:"bpr.activityType.courseElement",label:t("bpr.activityType.courseElement")},{value:"bpr.other",label:t("bpr.other")}]},Vbe=({control:t,selectedActivities:e,selectActivities:r})=>{const i=Gbe(),{t:n}=Je();return v.jsx("div",{className:"col d-flex",children:v.jsx(rw,{name:"activityType",control:t,rules:{required:!0},render:({field:{onChange:s}})=>v.jsxs(Bt,{block:!0,overflow:!0,children:[v.jsx(Bt.Trigger,{size:"md",label:n("bpr.form.publication.type"),badgeContent:e==null?void 0:e.length}),v.jsx(Bt.Menu,{children:i.map((a,o)=>v.jsx(Bt.CheckboxItem,{value:a.value,model:e,onChange:()=>{r(a.value),s(a.value)},children:a.label},o))})]})})})},Wbe=["3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18"],f6=({name:t,control:e,placeholderOption:r,validate:i})=>v.jsx(rw,{name:t,control:e,rules:{required:!0,validate:i},render:({field:{onChange:n}})=>v.jsx(lP,{block:!0,size:"md",onValueChange:n,options:Wbe,"aria-required":!0,placeholderOption:r})}),Xbe=()=>{const{t}=Je();return[{value:"de_DE",label:t("de_DE")},{value:"en_EN",label:t("en_EN")},{value:"ar_DZ",label:t("ar_DZ")},{value:"es_ES",label:t("es_ES")},{value:"fr_FR",label:t("fr_FR")},{value:"it_IT",label:t("it_IT")},{value:"ja_JP",label:t("ja_JP")},{value:"zh_CN",label:t("zh_CN")},{value:"pt_PT",label:t("pt_PT")},{value:"ru_RU",label:t("ru_RU")},{value:"bpr.other",label:t("bpr.other")}]},Ybe="bpr.form.publication.language",qbe=({control:t})=>{const e=Xbe();return v.jsx("div",{className:"col",children:v.jsx(rw,{name:"language",control:t,rules:{required:!0},render:({field:{onChange:r}})=>v.jsx(lP,{block:!0,size:"md",onValueChange:r,options:e,"aria-required":!0,placeholderOption:Ybe})})})},Kbe=()=>{const{t}=Je(),[e]=Tl();return v.jsxs(v.Fragment,{children:[v.jsxs("ul",{className:"mb-12",children:[v.jsxs("li",{children:[t("bpr.form.publication.licence.text.1"),v.jsx("img",{className:"ms-8 d-inline-block",src:`${e}/common/image-creative-commons.png`,alt:"licence creative commons"})]}),v.jsx("li",{children:t("bpr.form.publication.licence.text.2")})]}),v.jsx(Ru,{type:"info",className:"mb-12",children:t("bpr.form.publication.licence.text.3")}),v.jsx(Ru,{type:"warning",children:t("bpr.form.publication.licence.text.4")})]})},Qbe=()=>{const{t}=Je();return[{value:"bpr.subjectArea.artActivity",label:t("bpr.subjectArea.artActivity")},{value:"bpr.subjectArea.readLearning",label:t("bpr.subjectArea.readLearning")},{value:"bpr.subjectArea.chemistry",label:t("bpr.subjectArea.chemistry")},{value:"bpr.subjectArea.law",label:t("bpr.subjectArea.law")},{value:"bpr.subjectArea.worldDiscovery",label:t("bpr.subjectArea.worldDiscovery")},{value:"bpr.subjectArea.economy",label:t("bpr.subjectArea.economy")},{value:"bpr.subjectArea.mediaEducation",label:t("bpr.subjectArea.mediaEducation")},{value:"bpr.subjectArea.musicEducation",label:t("bpr.subjectArea.musicEducation")},{value:"bpr.subjectArea.sportEducation",label:t("bpr.subjectArea.sportEducation")},{value:"bpr.subjectArea.citizenshipEducation",label:t("bpr.subjectArea.citizenshipEducation")},{value:"bpr.subjectArea.geography",label:t("bpr.subjectArea.geography")},{value:"bpr.subjectArea.history",label:t("bpr.subjectArea.history")},{value:"bpr.subjectArea.artHistory",label:t("bpr.subjectArea.artHistory")},{value:"bpr.subjectArea.ComputerScience",label:t("bpr.subjectArea.ComputerScience")},{value:"bpr.subjectArea.languages",label:t("bpr.subjectArea.languages")},{value:"bpr.subjectArea.italian",label:t("bpr.subjectArea.italian")},{value:"bpr.subjectArea.spanish",label:t("bpr.subjectArea.spanish")},{value:"bpr.subjectArea.french",label:t("bpr.subjectArea.french")},{value:"bpr.subjectArea.german",label:t("bpr.subjectArea.german")},{value:"bpr.subjectArea.english",label:t("bpr.subjectArea.english")},{value:"bpr.subjectArea.ancientLanguages",label:t("bpr.subjectArea.ancientLanguages")},{value:"bpr.subjectArea.literature",label:t("bpr.subjectArea.literature")},{value:"bpr.subjectArea.mathematics",label:t("bpr.subjectArea.mathematics")},{value:"bpr.subjectArea.vocationalGuidance",label:t("bpr.subjectArea.vocationalGuidance")},{value:"bpr.subjectArea.philosohppy",label:t("bpr.subjectArea.philosohppy")},{value:"bpr.subjectArea.physics",label:t("bpr.subjectArea.physics")},{value:"bpr.subjectArea.politicalSscience",label:t("bpr.subjectArea.politicalSscience")},{value:"bpr.subjectArea.sociology",label:t("bpr.subjectArea.sociology")},{value:"bpr.subjectArea.biology",label:t("bpr.subjectArea.biology")},{value:"bpr.subjectArea.geology",label:t("bpr.subjectArea.geology")},{value:"bpr.subjectArea.technology",label:t("bpr.subjectArea.technology")},{value:"bpr.other",label:t("bpr.other")}]},Zbe=({control:t,selectedSubjectAreas:e,selectSubjects:r})=>{const i=Qbe(),{t:n}=Je();return v.jsx("div",{className:"col d-flex",children:v.jsx(rw,{name:"subjectArea",control:t,rules:{required:!0},render:({field:{onChange:s}})=>v.jsxs(Bt,{block:!0,overflow:!0,children:[v.jsx(Bt.Trigger,{size:"md",label:n("bpr.form.publication.discipline"),badgeContent:e==null?void 0:e.length}),v.jsx(Bt.Menu,{children:i.map((a,o)=>v.jsx(Bt.CheckboxItem,{value:a.value,model:e,onChange:()=>{r(a.value),s(a.value)},children:a.label},o))})]})})})};function p6({formData:t}){const{t:e}=Je(),r=i=>i.match(/^\s/);return v.jsxs(v.Fragment,{children:[v.jsx("h3",{className:"pt-24",children:e("bpr.form.publication.response.error.title")}),v.jsx("p",{className:"pt-24 pb-24",children:v.jsx("strong",{children:e("bpr.form.publication.response.error.content")})}),v.jsxs("ul",{children:[r(t.title)&&v.jsx("li",{className:"pt-2 pb-2",children:v.jsx("strong",{children:e("bpr.form.publication.response.empty.title")})}),r(t.description)&&v.jsx("li",{className:"pt-2 pb-2",children:v.jsx("strong",{children:e("bpr.form.publication.response.empty.description")})})]})]})}function Jbe({result:t}){const{t:e}=Je();return v.jsxs(v.Fragment,{children:[v.jsx("h3",{className:"pt-24",children:e("bpr.form.publication.response.success.title")}),v.jsx("p",{className:"pt-24",children:e("bpr.form.publication.response.success.content.1")}),v.jsx("p",{className:"pt-24",children:e("bpr.form.publication.response.success.content.2")}),t.details.front_url&&v.jsx("p",{className:"pt-24 pb-24",children:v.jsx("a",{className:"button right-magnet",href:t.details.front_url,target:"_blank",rel:"noreferrer",children:e("bpr.form.publication.response.success.button")})})]})}function e_e({onSuccess:t,resource:e}){const{user:r,appCode:i}=Tr(),n=En(),[s,a]=R.useState((e==null?void 0:e.thumbnail)||"");R.useEffect(()=>{a(e==null?void 0:e.thumbnail)},[e]);const{control:o,register:l,watch:u,setValue:c,handleSubmit:d,formState:{errors:h,isSubmitting:p,isDirty:g,isValid:y}}=kj({mode:"onChange"}),[b,x]=R.useState([]),[w,_]=R.useState([]),E=(A,I,P)=>{let M=[...I];const k=M.findIndex(U=>U===A);I.includes(A)?M=I.filter((U,j)=>j!==k):M=[...I,A],P(M)};return{control:o,cover:s,formState:{errors:h,isSubmitting:p,isDirty:g,isValid:y},handleDeleteImage:()=>a(""),handlePublish:async A=>{const I=r?r==null?void 0:r.userId:"";try{let P=new Blob;typeof s=="string"?P=await Ve.http().get(s,{responseType:"blob"}):s?P=await Ve.http().get(URL.createObjectURL(s),{responseType:"blob"}):e!=null&&e.thumbnail&&(P=await Ve.http().get(e==null?void 0:e.thumbnail,{responseType:"blob"}));const M=await Ve.http().get(`/userbook/avatar/${I}?thumbnail=48x48`,{responseType:"blob"}),k=await Ve.http().get(`/directory/user/${I}/attachment-school`,{responseType:"json"}),U=WH[i],j={activityType:b,age:[A.ageMin,A.ageMax],application:U,cover:P,description:A.description,keyWords:A.keyWords,language:A.language,licence:"CC-BY",resourceId:e==null?void 0:e.assetId,resourceEntId:e==null?void 0:e.assetId,subjectArea:w,teacherAvatar:M,title:A.title,userId:I,userStructureName:k.name||(r==null?void 0:r.structureNames[0])},B=await Ve.resource(i).publish(j);B.success?n.success(v.jsx(Jbe,{result:B}),{duration:1e4}):n.error(v.jsx(p6,{formData:A})),t==null||t()}catch(P){console.error(P),n.error(v.jsx(p6,{formData:A}))}},handleSubmit:d,handleUploadImage:A=>a(A),register:l,selectActivities:A=>{E(A,b,x)},selectedActivities:b,selectedSubjectAreas:w,selectSubjects:A=>{E(A,w,_)},setValue:c,watch:u}}const t_e=(t,e)=>{const[r,i]=R.useState(null);return R.useEffect(()=>{if(e===""){console.warn("resourceId must be an assetId and not an empty string");return}(async()=>{const n=[e],s=await Ve.resource(t).searchContext({application:t,filters:{folder:void 0,owner:void 0,shared:void 0,public:void 0},pagination:{startIdx:0,pageSize:n.length},types:[t],asset_id:n});i(s.resources[0])})()},[]),r},dP=t_e;function o3e({isOpen:t,resourceId:e,onSuccess:r,onCancel:i}){const{appCode:n,currentApp:s}=Tr(),{t:a}=Je(),o=dP(n,e),{control:l,cover:u,formState:{isDirty:c,isValid:d,isSubmitting:h},handleDeleteImage:p,handleSubmit:g,handleUploadImage:y,handlePublish:b,register:x,selectActivities:w,selectedActivities:_,selectedSubjectAreas:E,selectSubjects:A}=e_e({resource:o,onSuccess:r});return o?Ta.createPortal(v.jsxs(qt,{isOpen:t,onModalClose:i,id:"libraryModal",size:"lg",children:[v.jsx(qt.Header,{onModalClose:i,children:a("bpr.publish")}),v.jsx(qt.Subtitle,{children:a("bpr.form.tip")}),v.jsxs(qt.Body,{children:[v.jsx(xa,{headingStyle:"h4",level:"h3",className:"mb-16",children:a("bpr.form.publication.heading.general")}),v.jsxs("form",{id:"libraryModalForm",onSubmit:g(b),children:[v.jsxs("div",{className:"d-block d-md-flex mb-24 gap-24",children:[v.jsxs("div",{style:{maxWidth:"160px"},children:[v.jsx("div",{className:"form-label",children:a("bpr.form.publication.cover.title")}),v.jsx(iG,{app:s,src:o==null?void 0:o.thumbnail,label:a("bpr.form.publication.cover.upload.label"),addButtonLabel:a("bpr.form.publication.cover.upload.add"),deleteButtonLabel:a("bpr.form.publication.cover.upload.remove"),onUploadImage:y,onDeleteImage:p,className:"align-self-center"}),!u&&v.jsx("p",{className:"form-text is-invalid",children:v.jsx("em",{children:a("bpr.form.publication.cover.upload.required.image")})})]}),v.jsxs("div",{className:"flex-fill",children:[v.jsxs(Jt,{id:"title",className:"mb-16",isRequired:!0,children:[v.jsx(ba,{children:a("bpr.form.publication.title")}),v.jsx(wn,{type:"text",defaultValue:o==null?void 0:o.name,...x("title",{required:!0}),placeholder:a("bpr.form.publication.title.placeholder"),size:"md","aria-required":!0})]}),v.jsxs(Jt,{id:"description",isRequired:!0,children:[v.jsx(ba,{children:a("bpr.form.publication.description")}),v.jsx(cP,{...x("description",{required:!0}),placeholder:a("bpr.form.publication.description.placeholder"),size:"md"})]})]})]}),v.jsx("hr",{}),v.jsx(xa,{headingStyle:"h4",level:"h3",className:"mb-16",children:a("bpr.form.publication.heading.infos")}),v.jsxs("div",{className:"d-flex flex-column flex-md-row gap-16 row mb-24",children:[v.jsx(Vbe,{control:l,selectedActivities:_,selectActivities:w}),v.jsx(Zbe,{control:l,selectedSubjectAreas:E,selectSubjects:A}),v.jsx(qbe,{control:l})]}),v.jsxs("div",{className:"mb-24",children:[v.jsx("label",{htmlFor:"",className:"form-label",children:a("bpr.form.publication.age")}),v.jsxs("div",{className:"d-flex gap-8",children:[v.jsx("div",{className:"col col-2",children:v.jsx(f6,{control:l,name:"ageMin",placeholderOption:"bpr.form.publication.age.min",validate:(M,k)=>parseInt(M)<=parseInt(k.ageMax)})}),v.jsx("div",{className:"col col-2",children:v.jsx(f6,{control:l,name:"ageMax",placeholderOption:"bpr.form.publication.age.max",validate:(M,k)=>parseInt(M)>=parseInt(k.ageMin)})})]})]}),v.jsx("div",{className:"mb-24",children:v.jsxs(Jt,{id:"keywords",isOptional:!0,children:[v.jsx(ba,{children:a("bpr.form.publication.keywords")}),v.jsx(wn,{type:"text",...x("keyWords"),size:"md",placeholder:a("bpr.form.publication.keywords.placeholder")})]})}),v.jsx("hr",{}),v.jsx(xa,{headingStyle:"h4",level:"h3",className:"mb-16",children:a("bpr.form.publication.licence.text")}),v.jsx(Kbe,{})]})]}),v.jsxs(qt.Footer,{children:[v.jsx(Xt,{color:"tertiary",onClick:i,type:"button",variant:"ghost",children:a("cancel")}),v.jsx(Xt,{form:"libraryModalForm",type:"submit",color:"primary",variant:"filled",isLoading:h,disabled:!u||h||!c||!d,children:a("bpr.form.submit")})]})]}),document.getElementById("portal")):v.jsx(Fi,{})}const r_e=({isUpdating:t,selectedResource:e})=>{const[r,i]=R.useState(t&&(e==null?void 0:e.thumbnail)||"");return R.useEffect(()=>{i((e==null?void 0:e.thumbnail)||"")},[e]),{thumbnail:r,handleDeleteImage:()=>i(""),handleUploadImage:n=>i(n)}},i_e=({isOpen:t,onCancel:e,onSuccess:r,children:i,...n})=>{const{appCode:s,currentApp:a}=Tr(),{t:o}=Je(),{mode:l}=n,u=En(),c=R.useId(),d=l==="create",h=l==="update",p=dP(s,h?n.resourceId:""),{watch:g,register:y,handleSubmit:b,setValue:x,formState:{isSubmitting:w,isValid:_}}=kj({mode:"onChange",defaultValues:{description:h?p==null?void 0:p.description:"",enablePublic:h?p==null?void 0:p.public:!1,title:h?p==null?void 0:p.name:"",formSlug:h?p==null?void 0:p.slug:""}}),{thumbnail:E,handleDeleteImage:A,handleUploadImage:I}=r_e({isUpdating:h,selectedResource:h?p:void 0}),P=async function(M){var k,U;try{const j={description:M.description||"",name:M.title,public:M.enablePublic,slug:M.enablePublic&&M.formSlug||"",thumbnail:E};if(d){const B={...j,folder:((k=n.currentFolder)==null?void 0:k.id)==="default"?void 0:parseInt(((U=n.currentFolder)==null?void 0:U.id)||""),application:s};n.createResource?await n.createResource.mutateAsync(B):await Ve.resource(s).create(B)}else{const B={...j,entId:p.assetId,trashed:p.trashed};n.updateResource?await n.updateResource.mutateAsync(B):await Ve.resource(s).update(B)}u.success(v.jsxs(v.Fragment,{children:[v.jsx("strong",{children:o(d?"explorer.resource.created":"explorer.resource.updated")}),v.jsxs("p",{children:[o("title")," : ",M.title]}),v.jsxs("p",{children:[o("description")," : ",M.description]}),s==="blog"&&v.jsxs("p",{children:["Public:",M.enablePublic?o("explorer.enable.public.yes"):o("explorer.enable.public.no")]})]})),r()}catch(j){console.error(j)}};return h&&!p?v.jsx(Fi,{}):Ta.createPortal(v.jsxs(qt,{id:`${l}-resource`,size:"lg",isOpen:t,onModalClose:e,children:[v.jsx(qt.Header,{onModalClose:e,children:o(`explorer.resource.editModal.header.${d?"create":"edit"}`)}),v.jsxs(qt.Body,{children:[v.jsx(xa,{headingStyle:"h4",level:"h3",className:"mb-16",children:o("explorer.resource.editModal.heading.general")}),v.jsxs("form",{id:c,onSubmit:b(P),children:[v.jsxs("div",{className:"d-block d-md-flex gap-16 mb-24",children:[v.jsx("div",{children:v.jsx(iG,{app:a,src:h&&(p==null?void 0:p.thumbnail)||"",label:o("explorer.imagepicker.label"),addButtonLabel:o("explorer.imagepicker.button.add"),deleteButtonLabel:o("explorer.imagepicker.button.delete"),onUploadImage:I,onDeleteImage:A,className:"align-self-center mt-8"})}),v.jsxs("div",{className:"col",children:[v.jsxs(Jt,{id:"title",className:"mb-16",isRequired:!0,children:[v.jsx(ba,{children:o("title")}),v.jsx(wn,{type:"text",defaultValue:h?p==null?void 0:p.name:"",...y("title",{required:!0,pattern:{value:/[^ ]/,message:"invalid title"}}),placeholder:o("explorer.resource.editModal.title.placeholder"),size:"md","aria-required":!0})]}),v.jsxs(Jt,{id:"description",isOptional:!0,children:[v.jsx(ba,{children:o("description")}),v.jsx(cP,{defaultValue:h?p==null?void 0:p.description:"",...y("description"),placeholder:o("explorer.resource.editModal.description.placeholder"),size:"md"})]})]})]}),typeof i=="function"?i(p,h,g,x,y):i]})]}),v.jsxs(qt.Footer,{children:[v.jsx(Xt,{color:"tertiary",onClick:e,type:"button",variant:"ghost",children:o("explorer.cancel")}),v.jsx(Xt,{form:c,type:"submit",color:"primary",isLoading:w,variant:"filled",disabled:!_||w,children:o(d?"explorer.create":"save")})]})]}),document.getElementById("portal"))},l3e=i_e,n_e=({application:t,options:e})=>_l({mutationFn:async r=>await Ve.resource(t).update(r),...e}),s_e=n_e,m6=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});function a_e(t,e){e?e={...m6,...e}:e=m6;const r=uG(e);return r.dispatch(t),r.toString()}const o_e=Object.freeze(["prototype","__proto__","constructor"]);function uG(t){let e="",r=new Map;const i=n=>{e+=n};return{toString(){return e},getContext(){return r},dispatch(n){return t.replacer&&(n=t.replacer(n)),this[n===null?"null":typeof n](n)},object(n){if(n&&typeof n.toJSON=="function")return this.object(n.toJSON());const s=Object.prototype.toString.call(n);let a="";const o=s.length;o<10?a="unknown:["+s+"]":a=s.slice(8,o-1),a=a.toLowerCase();let l=null;if((l=r.get(n))===void 0)r.set(n,r.size);else return this.dispatch("[CIRCULAR:"+l+"]");if(typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(n))return i("buffer:"),i(n.toString("utf8"));if(a!=="object"&&a!=="function"&&a!=="asyncfunction")this[a]?this[a](n):t.ignoreUnknown||this.unkown(n,a);else{let u=Object.keys(n);t.unorderedObjects&&(u=u.sort());let c=[];t.respectType!==!1&&!g6(n)&&(c=o_e),t.excludeKeys&&(u=u.filter(h=>!t.excludeKeys(h)),c=c.filter(h=>!t.excludeKeys(h))),i("object:"+(u.length+c.length)+":");const d=h=>{this.dispatch(h),i(":"),t.excludeValues||this.dispatch(n[h]),i(",")};for(const h of u)d(h);for(const h of c)d(h)}},array(n,s){if(s=s===void 0?t.unorderedArrays!==!1:s,i("array:"+n.length+":"),!s||n.length<=1){for(const l of n)this.dispatch(l);return}const a=new Map,o=n.map(l=>{const u=uG(t);u.dispatch(l);for(const[c,d]of u.getContext())a.set(c,d);return u.toString()});return r=a,o.sort(),this.array(o,!1)},date(n){return i("date:"+n.toJSON())},symbol(n){return i("symbol:"+n.toString())},unkown(n,s){if(i(s),!!n&&(i(":"),n&&typeof n.entries=="function"))return this.array(Array.from(n.entries()),!0)},error(n){return i("error:"+n.toString())},boolean(n){return i("bool:"+n)},string(n){i("string:"+n.length+":"),i(n)},function(n){i("fn:"),g6(n)?this.dispatch("[native]"):this.dispatch(n.toString()),t.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(n.name)),t.respectFunctionProperties&&this.object(n)},number(n){return i("number:"+n)},xml(n){return i("xml:"+n.toString())},null(){return i("Null")},undefined(){return i("Undefined")},regexp(n){return i("regex:"+n.toString())},uint8array(n){return i("uint8array:"),this.dispatch(Array.prototype.slice.call(n))},uint8clampedarray(n){return i("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(n))},int8array(n){return i("int8array:"),this.dispatch(Array.prototype.slice.call(n))},uint16array(n){return i("uint16array:"),this.dispatch(Array.prototype.slice.call(n))},int16array(n){return i("int16array:"),this.dispatch(Array.prototype.slice.call(n))},uint32array(n){return i("uint32array:"),this.dispatch(Array.prototype.slice.call(n))},int32array(n){return i("int32array:"),this.dispatch(Array.prototype.slice.call(n))},float32array(n){return i("float32array:"),this.dispatch(Array.prototype.slice.call(n))},float64array(n){return i("float64array:"),this.dispatch(Array.prototype.slice.call(n))},arraybuffer(n){return i("arraybuffer:"),this.dispatch(new Uint8Array(n))},url(n){return i("url:"+n.toString())},map(n){i("map:");const s=[...n];return this.array(s,t.unorderedSets!==!1)},set(n){i("set:");const s=[...n];return this.array(s,t.unorderedSets!==!1)},file(n){return i("file:"),this.dispatch([n.name,n.size,n.type,n.lastModfied])},blob(){if(t.ignoreUnknown)return i("[blob]");throw new Error(`Hashing Blob objects is currently not supported
Use "options.replacer" or "options.ignoreUnknown"
`)},domwindow(){return i("domwindow")},bigint(n){return i("bigint:"+n.toString())},process(){return i("process")},timer(){return i("timer")},pipe(){return i("pipe")},tcp(){return i("tcp")},udp(){return i("udp")},tty(){return i("tty")},statwatcher(){return i("statwatcher")},securecontext(){return i("securecontext")},connection(){return i("connection")},zlib(){return i("zlib")},context(){return i("context")},nodescript(){return i("nodescript")},httpparser(){return i("httpparser")},dataview(){return i("dataview")},signal(){return i("signal")},fsevent(){return i("fsevent")},tlswrap(){return i("tlswrap")}}}const cG="[native code] }",l_e=cG.length;function g6(t){return typeof t!="function"?!1:Function.prototype.toString.call(t).slice(-l_e)===cG}class Vu{constructor(e,r){e=this.words=e||[],this.sigBytes=r===void 0?e.length*4:r}toString(e){return(e||u_e).stringify(this)}concat(e){if(this.clamp(),this.sigBytes%4)for(let r=0;r<e.sigBytes;r++){const i=e.words[r>>>2]>>>24-r%4*8&255;this.words[this.sigBytes+r>>>2]|=i<<24-(this.sigBytes+r)%4*8}else for(let r=0;r<e.sigBytes;r+=4)this.words[this.sigBytes+r>>>2]=e.words[r>>>2];return this.sigBytes+=e.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new Vu([...this.words])}}const u_e={stringify(t){const e=[];for(let r=0;r<t.sigBytes;r++){const i=t.words[r>>>2]>>>24-r%4*8&255;e.push((i>>>4).toString(16),(i&15).toString(16))}return e.join("")}},c_e={stringify(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=[];for(let i=0;i<t.sigBytes;i+=3){const n=t.words[i>>>2]>>>24-i%4*8&255,s=t.words[i+1>>>2]>>>24-(i+1)%4*8&255,a=t.words[i+2>>>2]>>>24-(i+2)%4*8&255,o=n<<16|s<<8|a;for(let l=0;l<4&&i*8+l*6<t.sigBytes*8;l++)r.push(e.charAt(o>>>6*(3-l)&63))}return r.join("")}},h_e={parse(t){const e=t.length,r=[];for(let i=0;i<e;i++)r[i>>>2]|=(t.charCodeAt(i)&255)<<24-i%4*8;return new Vu(r,e)}},d_e={parse(t){return h_e.parse(unescape(encodeURIComponent(t)))}};class f_e{constructor(){this._data=new Vu,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=512/32}reset(){this._data=new Vu,this._nDataBytes=0}_append(e){typeof e=="string"&&(e=d_e.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}_doProcessBlock(e,r){}_process(e){let r,i=this._data.sigBytes/(this.blockSize*4);e?i=Math.ceil(i):i=Math.max((i|0)-this._minBufferSize,0);const n=i*this.blockSize,s=Math.min(n*4,this._data.sigBytes);if(n){for(let a=0;a<n;a+=this.blockSize)this._doProcessBlock(this._data.words,a);r=this._data.words.splice(0,n),this._data.sigBytes-=s}return new Vu(r,s)}}class p_e extends f_e{update(e){return this._append(e),this._process(),this}finalize(e){e&&this._append(e)}}const v6=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],m_e=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Ic=[];class g_e extends p_e{constructor(){super(...arguments),this._hash=new Vu([...v6])}reset(){super.reset(),this._hash=new Vu([...v6])}_doProcessBlock(e,r){const i=this._hash.words;let n=i[0],s=i[1],a=i[2],o=i[3],l=i[4],u=i[5],c=i[6],d=i[7];for(let h=0;h<64;h++){if(h<16)Ic[h]=e[r+h]|0;else{const _=Ic[h-15],E=(_<<25|_>>>7)^(_<<14|_>>>18)^_>>>3,A=Ic[h-2],I=(A<<15|A>>>17)^(A<<13|A>>>19)^A>>>10;Ic[h]=E+Ic[h-7]+I+Ic[h-16]}const p=l&u^~l&c,g=n&s^n&a^s&a,y=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),b=(l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25),x=d+b+p+m_e[h]+Ic[h],w=y+g;d=c,c=u,u=l,l=o+x|0,o=a,a=s,s=n,n=x+w|0}i[0]=i[0]+n|0,i[1]=i[1]+s|0,i[2]=i[2]+a|0,i[3]=i[3]+o|0,i[4]=i[4]+l|0,i[5]=i[5]+u|0,i[6]=i[6]+c|0,i[7]=i[7]+d|0}finalize(e){super.finalize(e);const r=this._nDataBytes*8,i=this._data.sigBytes*8;return this._data.words[i>>>5]|=128<<24-i%32,this._data.words[(i+64>>>9<<4)+14]=Math.floor(r/4294967296),this._data.words[(i+64>>>9<<4)+15]=r,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}}function v_e(t){return new g_e().finalize(t).toString(c_e)}function y6(t,e={}){const r=typeof t=="string"?t:a_e(t,e);return v_e(r).slice(0,10)}var hG={};Object.defineProperty(hG,"__esModule",{value:!0});const y_e=t=>{const e="ÀÁÂÃÄÅĄĀàáâãäåąāÒÓÔÕÕÖØòóôõöøÈÉÊËĘĒèéêëðęēÇĆČçćčÐÌÍÎÏĪìíîïīÙÚÛÜŪùúûüūÑŅñņŠŚšśŸÿýŽŹŻžźżŁĻłļŃŅńņàáãảạăằắẳẵặâầấẩẫậèéẻẽẹêềếểễệđùúủũụưừứửữựòóỏõọôồốổỗộơờớởỡợìíỉĩịäëïîüûñçýỳỹỵỷğışĞİŞĢģĶķ",r="AAAAAAAAaaaaaaaaOOOOOOOooooooEEEEEEeeeeeeeCCCcccDIIIIIiiiiiUUUUUuuuuuNNnnSSssYyyZZZzzzLLllNNnnaaaaaaaaaaaaaaaaaeeeeeeeeeeeduuuuuuuuuuuoooooooooooooooooiiiiiaeiiuuncyyyyygisGISGgKk",i=e.split("").join("|"),n=new RegExp(`(${i})`,"g");function s(a){return r[e.indexOf(a)]||""}return t.replace(n,s)},x_e=t=>t.split("").map(e=>`\\${e}`).join(""),x6=(t,e,r=!1)=>{const i=y_e(t).trim().toLowerCase(),n=x_e(e);return r?i.replace(/\s+/g,e):i.replace(new RegExp(`[^a-z0-9${n}]+`,"g"),e).replace(new RegExp(`${n}+`,"g"),e).replace(new RegExp(`^${n}`,"g"),"").replace(new RegExp(`${n}$`,"g"),"")},cg=(t,e={delimiter:"-",prefix:""})=>{if(e.delimiter||(e.delimiter="-"),e.prefix||(e.prefix=""),!t||typeof t=="boolean")return"";const{delimiter:r,prefix:i}=e;if(typeof t=="boolean")return"";if(typeof t=="string"||typeof t=="number"){const n=x6(i,r,!0),s=x6(String(t),r);return n?`${n}${r}${s}`:s}return"children"in t?cg(t.children):"type"in t?cg(t.props.children,e):Symbol.iterator in t?cg(Array.from(t).map(n=>cg(n,{delimiter:r})).join(r),e):""};var b6=hG.default=cg;const b_e=({watch:t,setValue:e,selectedResource:r})=>{const[i,n]=R.useState(""),[s,a]=R.useState((r==null?void 0:r.public)||!1),o=R.useId(),l=t("title"),{t:u}=Je(),c=En();R.useEffect(()=>{if(s){let p="";r?p=r.slug?r.slug:`${y6({foo:`${l}${o}`})}-${b6(l)}`:p=`${y6({foo:`${l}${o}`})}-${b6(l)}`,e("formSlug",p),n(p)}},[s,l]);function d(p){a(p)}function h(){navigator.clipboard.writeText(`${window.location.origin}${window.location.pathname}/pub/${i}`),c.success(u("explorer.copy.clipboard"))}return{slug:i,uniqueId:o,isPublic:s,resourceName:l,onPublicChange:d,onCopyToClipBoard:h}},__e=({appCode:t,isUpdating:e,resource:r,watch:i,register:n,setValue:s})=>{const{t:a}=Je(),{slug:o,isPublic:l,resourceName:u,onPublicChange:c,onCopyToClipBoard:d}=b_e({watch:i,setValue:s,selectedResource:e?r:void 0});return v.jsxs(v.Fragment,{children:[v.jsxs(xa,{headingStyle:"h4",level:"h3",className:"mb-16",children:[a("explorer.resource.editModal.heading.access"),t]}),v.jsx(Ru,{type:"info",children:a("explorer.resource.editModal.access.alert")}),v.jsxs(Jt,{id:"flexSwitchCheckDefault",className:"form-switch d-flex gap-8 mt-16 mb-8",children:[v.jsx(Jt.Input,{type:"checkbox",role:"switch",defaultChecked:e?r.public:!1,...n("enablePublic",{disabled:!u,onChange:h=>{const p=h.target.checked;c(p)}}),className:"form-check-input mt-0",size:"md"}),v.jsx(Jt.Label,{className:"form-check-label mb-0",children:a("explorer.resource.editModal.access.flexSwitchCheckDefault.label")})]}),l&&v.jsxs(v.Fragment,{children:[v.jsx(Jt,{id:"formSlug",children:v.jsx(wn,{type:"text",hidden:!0,defaultValue:e?o:"",...n("formSlug"),size:"sm"})},o),v.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-4",children:[v.jsxs("p",{className:"text-break",children:[window.location.origin,window.location.pathname,"/pub/",o]}),v.jsx(Xt,{color:"primary",disabled:!l,onClick:d,type:"button",leftIcon:v.jsx(yX,{}),variant:"ghost",className:"text-nowrap",children:a("explorer.resource.editModal.access.url.button")})]})]})]})},u3e=__e,w_e={searchInputValue:"",searchResults:[],searchAPIResults:[],isSearching:!1};function S_e(t,e){switch(e.type){case"onChange":return{...t,searchInputValue:e.payload};case"isSearching":return{...t,isSearching:e.payload};case"addResult":return{...t,searchResults:e.payload};case"addApiResult":return{...t,searchAPIResults:e.payload};case"updateSearchResult":return{...t,searchResults:e.payload};case"emptyResult":return{...t,searchResults:e.payload};default:throw new Error("Unhandled action type")}}const LT=[{id:"read",displayName:"read"},{id:"comment",displayName:"comment"}],E_e=({resource:t,shareRights:e,shareDispatch:r})=>{const[i,n]=R.useReducer(S_e,w_e),s=iP(i.searchInputValue,500),{isAdml:a}=Mye(),{appCode:o}=Tr(),{t:l}=Je();R.useEffect(()=>{c(s)},[s]);const u=d=>{const h=d.target.value;n({type:"onChange",payload:h})},c=R.useCallback(async d=>{if(t){if(n({type:"isSearching",payload:!0}),!a&&d.length>=1||a&&d.length>=3){const h=t&&await Ve.share().searchShareSubjects(o,t==null?void 0:t.assetId,d);n({type:"addApiResult",payload:h});const p=h.filter(g=>!e.rights.find(y=>y.id===g.id)).filter(g=>!(g.type==="user"&&g.id===(t==null?void 0:t.creatorId))).map(g=>{let y=g.displayName;return g.type==="user"&&g.profile?y=`${y} (${l(g.profile)})`:g.type==="group"&&g.structureName&&(y=`${y} (${g.structureName})`),{value:g.id,label:y,icon:g.type==="sharebookmark"?v.jsx($R,{}):null}});n({type:"addResult",payload:p})}else n({type:"emptyResult",payload:[]}),Promise.resolve();n({type:"isSearching",payload:!1})}},[t]);return{state:i,showSearchAdmlHint:()=>a&&i.searchInputValue.length<3,showSearchLoading:()=>i.isSearching,showSearchNoResults:()=>!i.isSearching&&!a&&s.length>0&&i.searchResults.length===0||!i.isSearching&&a&&s.length>3&&i.searchResults.length===0,getSearchMinLength:()=>a?3:1,handleSearchInputChange:u,handleSearchResultsChange:async d=>{const h=i.searchAPIResults.find(p=>p.id===d[0]);if(h){let p=[];if(h.type==="sharebookmark"){const g=await Ve.directory().getBookMarkById(h.id);p.push({...g,type:"sharebookmark",avatarUrl:"",directoryUrl:"",actions:LT}),g==null||g.users.filter(y=>!e.rights.find(b=>b.id===y.id)).forEach(y=>{p.push({...y,type:"user",avatarUrl:"",directoryUrl:"",actions:LT,isBookmarkMember:!0})}),g.groups.filter(y=>!e.rights.find(b=>b.id===y.id)).forEach(y=>{p.push({...y,type:"group",avatarUrl:"",directoryUrl:"",actions:LT,isBookmarkMember:!0})})}else p=[{...h,actions:[{id:"read",displayName:"read"},{id:"comment",displayName:"comment"}]}];r({type:"updateShareRights",payload:{...e,rights:[...e.rights,...p]}}),n({type:"updateSearchResult",payload:i.searchResults.filter(g=>g.value!==d[0])})}}}},T_e={isSharing:!1,shareRights:{rights:[],visibleBookmarks:[],visibleGroups:[],visibleUsers:[]},shareRightActions:[]};function A_e(t,e){switch(e.type){case"init":return{...t,...e.payload};case"deleteRow":return{...t,shareRights:e.payload};case"updateShareRights":return{...t,shareRights:e.payload};case"toggleRight":return{...t,shareRights:e.payload};case"isSharing":return{...t,isSharing:e.payload};default:throw new Error("Unhandled action type")}}function C_e({onSuccess:t,resource:e,shareResource:r}){const{appCode:i}=Tr(),{user:n,avatar:s}=aP(),a=En(),{t:o}=Je(),[l,u]=R.useReducer(A_e,T_e);return R.useEffect(()=>{e&&(async()=>{const c=await Ve.share().getActionsForApp(i),d=await Ve.share().getRightsForResource(i,e==null?void 0:e.assetId);u({type:"init",payload:{shareRightActions:c,shareRights:d}})})()},[e]),{state:l,dispatch:u,currentIsAuthor:()=>!!(e&&e.creatorId===(n==null?void 0:n.userId)),myAvatar:s,handleDeleteRow:c=>{u({type:"deleteRow",payload:{...l.shareRights,rights:l.shareRights.rights.filter(d=>{var h,p;return d.id!==c.id&&!((h=c.users)!=null&&h.find(g=>g.id===d.id))&&!((p=c.groups)!=null&&p.find(g=>g.id===d.id))})}})},handleShare:async()=>{u({type:"isSharing",payload:!0});try{const c=e.rights.filter(h=>n&&h.includes(`user:${n.userId}`)).map(h=>h.split(":")[2]).filter(h=>!!h),d=[...l.shareRights.rights];if(c.length>0){const h=c.map(p=>({displayName:p,id:p}));d.push({actions:h,avatarUrl:"",directoryUrl:"",displayName:n.username,id:n.userId,type:"user"})}r?await r.mutateAsync({resourceId:e==null?void 0:e.assetId,rights:d}):await Ve.share().saveRights(i,e==null?void 0:e.assetId,d),a.success(o("explorer.shared.status.saved")),t()}catch(c){typeof c=="string"&&a.error(o("explorer.shared.status.error")),console.error("Failed to save share",c)}finally{u({type:"isSharing",payload:!1})}},toggleRight:(c,d)=>{var h,p;const{rights:g,...y}=l.shareRights,b=[...g],x=b.findIndex(_=>_.id===c.id),w=l.shareRightActions.filter(_=>_.id===d)[0];if(b[x].actions.findIndex(_=>_.id===d)>-1){let _=b[x].actions.filter(A=>A.id!==d);const E=l.shareRightActions.filter(A=>{var I;return(I=A.requires)==null?void 0:I.includes(d)});_=_.filter(A=>!E.find(I=>I.id===A.id)),b[x]={...b[x],actions:_}}else{const _=l.shareRightActions.filter(E=>{var A;return((A=w.requires)==null?void 0:A.includes(E.id))&&!b[x].actions.find(I=>I.id===E.id)});b[x]={...b[x],actions:[...b[x].actions,w,..._]}}c.type==="sharebookmark"&&((h=b[x].users)==null||h.forEach(_=>{const E=b.findIndex(A=>A.id===_.id);b[E]={...b[E],actions:b[x].actions}}),(p=b[x].groups)==null||p.forEach(_=>{const E=b.findIndex(A=>A.id===_.id);b[E]={...b[E],actions:b[x].actions}})),u({type:"toggleRight",payload:{rights:b,...y}})}}}const R_e=({shareRights:t,shareDispatch:e})=>{const r=En(),{t:i}=Je(),n=R.useRef(null),[s,a]=R.useState({name:"",id:R.useId()}),[o,l]=Vw(!1),[u,c]=R.useState(!1),d=()=>{l()},h=()=>{a(g=>{var y;return{...g,name:((y=n.current)==null?void 0:y.value)||""}})},p=async g=>{try{const y=await Ve.directory().saveBookmarks(g,{users:t.rights.filter(b=>b.type==="user").map(b=>b.id),groups:t.rights.filter(b=>b.type==="group").map(b=>b.id),bookmarks:t.rights.filter(b=>b.type==="sharebookmark").map(b=>b.id)});r.success(i("explorer.bookmarked.status.saved")),e({type:"updateShareRights",payload:{...t,visibleBookmarks:[...t.visibleBookmarks,{displayName:g,id:y.id}]}}),a(b=>({...b,bookmarkId:b.id+new Date().getTime().toString()})),c(!1)}catch(y){console.error("Failed to save bookmark",y),r.error(i("explorer.bookmarked.status.error"))}};return{refBookmark:n,showBookmark:o,showBookmarkInput:u,bookmark:s,handleBookmarkChange:h,setBookmark:a,handleOnSave:()=>{var g;const y=((g=n.current)==null?void 0:g.value)||"";p(y)},toggleBookmark:d,toggleBookmarkInput:c}},I_e=({bookmark:t,refBookmark:e,onBookmarkChange:r,onSave:i})=>{const{t:n}=Je();return v.jsx("div",{className:"mt-16",children:v.jsxs(Jt,{id:"bookmarkName",className:"d-flex flex-wrap align-items-center gap-16",children:[v.jsx("div",{className:"flex-fill",children:v.jsx(Jt.Input,{ref:e,onChange:r,placeholder:n("explorer.modal.share.sharebookmark.placeholder"),size:"sm",type:"text"},t.id)}),v.jsx(Xt,{type:"button",color:"primary",variant:"ghost",disabled:t.name.length===0,leftIcon:v.jsx(VR,{}),onClick:i,className:"text-nowrap",children:n("explorer.modal.share.sharebookmark.save")})]})})},P_e=(t,e)=>t.actions.filter(r=>e.id===r.id).length>0,M_e=(t,e)=>t.isBookmarkMember&&e||!t.isBookmarkMember,k_e=({shareRights:t,showBookmark:e,toggleBookmark:r,shareRightActions:i,toggleRight:n,onDeleteRow:s})=>{const{t:a}=Je();return t==null?void 0:t.rights.map(o=>M_e(o,e)&&v.jsxs("tr",{className:o.isBookmarkMember?"bg-light":"",children:[v.jsxs("td",{children:[o.type!=="sharebookmark"&&v.jsx(xp,{alt:a("explorer.modal.share.avatar.shared.alt"),size:"xs",src:o.avatarUrl,variant:"circle"}),o.type==="sharebookmark"&&v.jsx($R,{})]}),v.jsx("td",{children:v.jsxs("div",{className:"d-flex",children:[o.type==="sharebookmark"&&v.jsx(Xt,{color:"tertiary",rightIcon:v.jsx(Hg,{title:"Show",className:"w-16 min-w-0",style:{transition:"rotate 0.2s ease-out",rotate:e?"-180deg":"0deg"}}),type:"button",variant:"ghost",className:"fw-normal ps-0",onClick:r,children:o.displayName}),o.type!=="sharebookmark"&&o.displayName,o.type==="user"&&` (${a(o.profile||"")})`]})}),i.map(l=>v.jsx("td",{style:{width:"80px"},className:"text-center text-white",children:v.jsx(P1,{checked:P_e(o,l),onChange:()=>n(o,l.id)})},l.displayName)),v.jsx("td",{children:!o.isBookmarkMember&&v.jsx(To,{"aria-label":"Delete",color:"tertiary",icon:v.jsx(zR,{}),type:"button",variant:"ghost",title:"Delete",onClick:()=>s(o)})})]},o.id))};function c3e({isOpen:t,resourceId:e,shareResource:r,children:i,onSuccess:n,onCancel:s}){const{appCode:a}=Tr(),o=dP(a,e),{state:{isSharing:l,shareRights:u,shareRightActions:c},dispatch:d,myAvatar:h,currentIsAuthor:p,handleShare:g,toggleRight:y,handleDeleteRow:b}=C_e({resource:o,shareResource:r,onSuccess:n}),{state:{searchResults:x,searchInputValue:w},showSearchAdmlHint:_,showSearchLoading:E,showSearchNoResults:A,getSearchMinLength:I,handleSearchInputChange:P,handleSearchResultsChange:M}=E_e({resource:o,shareRights:u,shareDispatch:d}),{refBookmark:k,showBookmark:U,handleBookmarkChange:j,toggleBookmark:B,bookmark:L,handleOnSave:F,showBookmarkInput:O,toggleBookmarkInput:$}=R_e({shareRights:u,shareDispatch:d}),{t:z}=Je(),D=_()?z("explorer.search.adml.hint"):z("explorer.modal.share.search.placeholder");return o?Ta.createPortal(v.jsxs(qt,{id:"share_modal",size:"lg",isOpen:t,onModalClose:s,children:[v.jsx(qt.Header,{onModalClose:s,children:z("share.title")}),v.jsxs(qt.Body,{children:[v.jsx(xa,{headingStyle:"h4",level:"h3",className:"mb-16",children:z("explorer.modal.share.usersWithAccess")}),v.jsx("div",{className:"table-responsive",children:v.jsxs("table",{className:"table border align-middle mb-0",children:[v.jsx("thead",{className:"bg-secondary",children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",className:"w-32",children:v.jsx(Iu,{children:z("explorer.modal.share.avatar.shared.alt")})}),v.jsx("th",{scope:"col",children:v.jsx(Iu,{children:z("explorer.modal.share.search.placeholder")})}),c.map(G=>v.jsx("th",{scope:"col",className:"text-center text-white",children:z(G.displayName)},G.displayName)),v.jsx("th",{scope:"col",children:v.jsx(Iu,{children:z("close")})})]})}),v.jsxs("tbody",{children:[p()&&v.jsxs("tr",{children:[v.jsx("th",{scope:"row",children:v.jsx(xp,{alt:z("explorer.modal.share.avatar.me.alt"),size:"xs",src:h,variant:"circle"})}),v.jsx("td",{children:z("share.me")}),c.map(G=>v.jsx("td",{style:{width:"80px"},className:"text-center text-white",children:v.jsx(P1,{checked:!0,disabled:!0})},G.displayName)),v.jsx("td",{})]}),v.jsx(k_e,{showBookmark:U,shareRightActions:c,shareRights:u,onDeleteRow:b,toggleRight:y,toggleBookmark:B})]})]})}),v.jsxs("div",{className:"mt-16",children:[v.jsx(Xt,{color:"tertiary",leftIcon:v.jsx($R,{}),rightIcon:v.jsx(Hg,{title:"Show",className:"w-16 min-w-0",style:{transition:"rotate 0.2s ease-out",rotate:O?"-180deg":"0deg"}}),type:"button",variant:"ghost",className:"fw-normal",onClick:()=>$(!O),children:z("share.save.sharebookmark")}),O&&v.jsx(I_e,{refBookmark:k,bookmark:L,onBookmarkChange:j,onSave:F})]}),v.jsx("hr",{}),v.jsxs(xa,{headingStyle:"h4",level:"h3",className:"mb-16 d-flex align-items-center",children:[v.jsx("div",{className:"me-8",children:z("explorer.modal.share.search")}),v.jsx(nl,{message:"Vos favoris de partage s’affichent en priorité dans votre liste lorsque vous recherchez un groupe ou une personne, vous pouvez les retrouver dans l’annuaire.",placement:"top",children:v.jsx(HR,{className:"c-pointer",height:"18"})})]}),v.jsx("div",{className:"row",children:v.jsx("div",{className:"col-10",children:v.jsx(Vxe,{value:w,placeholder:D,isLoading:E(),noResult:A(),options:x,searchMinLength:I(),onSearchInputChange:P,onSearchResultsChange:M})})}),i]}),v.jsxs(qt.Footer,{children:[v.jsx(Xt,{type:"button",color:"tertiary",variant:"ghost",onClick:s,children:z("explorer.cancel")}),v.jsx(Xt,{type:"button",color:"primary",variant:"filled",isLoading:l,onClick:g,disabled:l,children:z("share")})]})]}),document.getElementById("portal")):v.jsx(Fi,{})}function h3e({resource:t,updateResource:e}){const{appCode:r}=Tr(),{t:i}=Je(r),n=t&&t["publish-type"],[s,a]=R.useState(n),o=async l=>{const u=l.target.value;(async()=>{const c={description:t.description||"",entId:t.assetId,name:t.name,public:!!t.public,slug:t.slug||"",thumbnail:t.thumbnail,trashed:t.trashed,"publish-type":u};e?await e.mutateAsync(c):await Ve.resource("blog").update(c),a(u)})()};return v.jsxs(v.Fragment,{children:[v.jsx("hr",{}),v.jsx(xa,{headingStyle:"h4",level:"h3",className:"mb-16",children:i("explorer.publication.steps")}),v.jsx(yR,{label:i("explorer.immediat.publication"),id:"publication-now",name:"publication",value:"IMMEDIATE",model:s,checked:s==="IMMEDIATE",onChange:o}),v.jsx(yR,{label:i("explorer.validate.publication"),id:"publication-validate",name:"publication",value:"RESTRAINT",checked:s==="RESTRAINT",model:s,onChange:o})]})}const N_e=({application:t,options:e})=>_l({mutationFn:async({resourceId:r,rights:i})=>await Ve.share().saveRights(t,r,i),...e}),O_e=N_e;function DT({children:t}){return v.jsx("span",{className:"position-absolute badge rounded-pill bg-warning",children:t})}function FT({children:t,className:e,...r}){const i=Pe("navbar",e);return v.jsx("nav",{className:i,...r,children:t})}function _6({children:t,className:e,...r}){const i=Pe("navbar-nav",e);return v.jsx("ul",{className:i,...r,children:t})}const Wr=R.forwardRef(({children:t,className:e,...r},i)=>{const n=Pe("nav-item",e);return v.jsx("li",{ref:i,className:n,...r,children:t})});function Nm({link:t,className:e,children:r,translate:i,...n}){const s=Pe("nav-link",e);return v.jsxs("a",{href:t,className:s,...n,children:[r,i&&v.jsx(Iu,{children:v.jsx("span",{className:"nav-text",children:i})})]})}const L_e=()=>{const{t}=Je();return v.jsx("div",{className:"widget-footer",children:v.jsx("div",{className:"widget-footer-action",children:v.jsx("a",{href:"/welcome",className:"link",children:t("plus")})})})},D_e=({bookmarkedApps:t})=>{const{t:e}=Je();return v.jsxs("div",{className:"widget-body d-flex flex-wrap",children:[!t.length&&v.jsx("div",{className:"text-dark",children:e("navbar.myapps.more")}),t.slice(0,6).map((r,i)=>v.jsx("a",{href:r.address,className:"bookmarked-app",children:v.jsx(zh,{app:r,size:"32"})},i))]})};function w6({isHelpOpen:t,setIsHelpOpen:e,parsedHeadline:r,parsedContent:i,error:n}){const{t:s}=Je(),a=()=>{e(!1)};return t?Ta.createPortal(v.jsxs(qt,{id:"help-modal",isOpen:t,onModalClose:a,scrollable:!0,size:"lg",children:[v.jsx(qt.Header,{onModalClose:a,children:s("navbar.help")}),v.jsx(qt.Subtitle,{children:n?s("help.notfound.title"):r}),v.jsx(qt.Body,{className:n?"d-flex":null,children:n?s("help.notfound.text"):i})]}),document.getElementById("portal")):null}function F_e(){var t,e,r,i,n;const{appCode:s}=Tr(),{theme:a}=Gw(),[o,l]=R.useState(""),[u,c]=R.useState(!0),[d,h]=R.useState(!1),[p,g]=R.useState(!1),y=a!=null&&a.is1d?"/help-1d":"/help-2d";R.useEffect(()=>{(async()=>{let _="";_=y+"/application/"+s+"/",!s&&window.location.pathname!=="/adapter"?_=y+"/application/portal/":window.location.pathname==="/adapter"?_=y+"/application/"+window.location.search.split("eliot=")[1].split("&")[0]+"/":window.location.pathname.includes("/directory/class-admin")?_=y+"/application/parametrage-de-la-classe/":(window.location.pathname.includes("/userbook/mon-compte")||window.location.pathname.includes("/timeline/preferencesView")||window.location.pathname.includes("/timeline/historyView"))&&(_=y+"/application/userbook/");try{const E=await fetch(_),A=await E.text();if(E.status===404){g(!0);return}l(A),g(!1)}catch(E){g(!0),console.error(E)}})()},[s,y]);const b=lc(o,{replace:_=>{const E=_;if(E.attribs&&E.attribs.id==="TOC")return v.jsxs("nav",{id:"TOC",children:[v.jsx(Xt,{onClick:()=>{c(!u)},children:v.jsx(pX,{})}),iy(E.children,{replace:A=>{const I=A;if(I.attribs&&I.name==="ul")return v.jsx("ul",{id:"TOC-list",style:{display:u?"block":"none"},children:iy(I.children,{replace:P=>{const M=P;if(M.attribs&&M.name==="a")return v.jsx("a",{...cE(M.attribs),children:v.jsx("span",{onClick:()=>{c(!1)},children:iy(M.children)})})}})})}})]});if(E.attribs&&E.attribs.class==="section level2"){const A=cE(_.attribs);return v.jsx("div",{...A,className:"section level2",style:{display:E.attribs.id!=="présentation"?"none":"block"},children:iy(E.children,{replace:I=>{const P=I;if(P.attribs&&P.name==="img"){const M=I.attribs.src;return v.jsx("img",{...cE(P.attribs),src:`${y}/${M}`,alt:""})}}})})}}}),x=(r=(e=(t=b==null?void 0:b.props)==null?void 0:t.children.find(_=>_.type==="body"))==null?void 0:e.props)==null?void 0:r.children,w=(n=(i=x==null?void 0:x.find(_=>_.type==="p"))==null?void 0:i.props)==null?void 0:n.children;return{html:o,visibility:u,isModalOpen:d,setIsModalOpen:h,parsedContent:x,parsedHeadline:w,error:p}}const B_e=()=>{const[t,e]=qH(),r=R.useRef(null),i=R.useId(),{t:n}=Je();function s(){if(r.current){const a=r.current.value;window.location.href=`/searchengine#/${a}`}}return v.jsxs(Wr,{id:i,ref:t,className:"position-relative","aria-haspopup":"true","aria-expanded":e,children:[v.jsxs("a",{href:"/searchengine",className:"nav-link dropdown-item",children:[v.jsx(gre,{className:"icon search"}),v.jsx("span",{className:"nav-text",children:n("navbar.search")})]}),v.jsx(aG,{id:i,isVisible:e,className:"d-none d-md-flex",children:v.jsxs(Jt,{id:"my-search-input",className:"search-text input-group py-8 px-12",children:[v.jsx(Jt.Input,{ref:r,size:"sm",type:"text",name:"my-search-input",placeholder:"Rechercher"}),v.jsx(tP,{type:"submit",size:"sm",onClick:s,"aria-label":n("navbar.search")})]})})]})},j_e=B_e,U_e=({is1d:t=!1,src:e=""})=>{const{t:r}=Je(),{messages:i,msgLink:n,zimbraWorkflow:s}=yye(),{user:a,avatar:o}=aP(),{currentLanguage:l,currentApp:u}=Tr(),{isModalOpen:c,setIsModalOpen:d,parsedContent:h,parsedHeadline:p,error:g}=F_e(),y=Pe("header",{"no-2d":t,"no-1d":!t}),{title:b,bookmarkedApps:x,appsRef:w,isAppsHovered:_,popoverAppsId:E,userAvatar:A,userName:I,welcomeUser:P,communityWorkflow:M,conversationWorflow:k,searchWorkflow:U,isCollapsed:j,toggleCollapsedNav:B,handleLogout:L}=Rye({user:a,avatar:o}),F=i>0;return v.jsx("header",{className:y,children:t?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"container-fluid",children:v.jsxs(FT,{children:[v.jsx("a",{className:"navbar-title d-md-none text-truncate h4",href:u?u.address:"/timeline/timeline",children:b}),v.jsxs("div",{className:"d-none d-md-inline-flex gap-12 align-items-center",children:[v.jsx(xp,{alt:I,size:"sm",src:A,variant:"circle",width:"32",height:"32"}),v.jsx("span",{className:"navbar-text",children:P})]}),v.jsxs(_6,{className:"gap-8","aria-hidden":"false","aria-label":r("navbar.main.navigation"),children:[k&&v.jsx(Wr,{children:v.jsxs("a",{href:"/conversation/conversation",className:"nav-link",children:[v.jsx(fre,{className:"icon notification"}),F&&v.jsx(DT,{children:i}),v.jsx(Iu,{children:r("navbar.messages")})]})}),v.jsx(Wr,{children:v.jsx(Nm,{link:"/userbook/mon-compte",className:"dropdown-item",translate:r("navbar.myaccount"),children:v.jsx(D7,{className:"icon user"})})}),l==="fr"?v.jsxs(Wr,{children:[v.jsxs("button",{className:"nav-link",onClick:()=>{d(!0)},children:[v.jsx(hre,{className:"icon help"}),v.jsx(Iu,{children:r("navbar.help")})]}),v.jsx(w6,{isHelpOpen:c,setIsHelpOpen:d,parsedContent:h,parsedHeadline:p,error:g})]}):null,v.jsx(Wr,{children:v.jsxs("button",{className:"nav-link",onClick:L,children:[v.jsx(bO,{className:"icon logout"}),v.jsx(Iu,{children:r("navbar.disconnect")})]})}),v.jsx(Wr,{className:"d-md-none",children:v.jsx("button",{className:"nav-link btn btn-naked",type:"button","aria-controls":"navbarCollapsed","aria-expanded":!j,"aria-label":r("navbar.secondary.navigation"),onClick:B,children:v.jsx(Hg,{className:"icon rafter-down",width:"20",height:"20"})})})]})]})}),v.jsx(FT,{className:"no-2d navbar-secondary navbar-expand-md","aria-label":r("navbar.secondary.navigation"),children:v.jsx("div",{className:"container-fluid",children:v.jsxs("div",{className:`collapse navbar-collapse ${j?"":"show"}`,id:"navbarCollapsed",children:[v.jsx(d6,{is1d:!0,src:`${e}/img/illustrations/logo.png`,translate:r("navbar.home")}),v.jsxs(_6,{className:"gap-8",children:[v.jsx(Wr,{children:v.jsxs("a",{href:"/timeline/timeline",className:"button",children:[v.jsx(ure,{color:"#fff",className:"d-md-none"}),v.jsx("span",{className:"d-inline-block",children:r("portal.header.navigation.whatsnew")})]})}),v.jsx(Wr,{children:v.jsxs("a",{href:"/userbook/annuaire",className:"button",children:[v.jsx(yre,{color:"#fff",className:"d-md-none"}),v.jsx("span",{className:"d-inline-block",children:r("portal.header.navigation.classMembers")})]})}),v.jsx(Wr,{children:v.jsxs("a",{href:"/welcome",className:"button",children:[v.jsx(_O,{color:"#fff",className:"d-md-none"}),v.jsx("span",{className:"d-inline-block",children:r("portal.header.navigation.myapps")})]})})]})]})})})]}):v.jsx(FT,{className:"navbar-expand-md",children:v.jsxs("div",{className:"container-fluid",children:[v.jsx(d6,{src:`${e}/img/illustrations/logo.png`}),v.jsx("a",{href:u?u.address:"/timeline/timeline",className:"navbar-title text-truncate d-md-none",children:b}),v.jsxs("ul",{className:"navbar-nav",children:[v.jsx(Wr,{children:v.jsx(Nm,{link:"/timeline/timeline",translate:r("navbar.home"),children:v.jsx(ire,{color:"#fff"})})}),v.jsxs(Wr,{className:"position-relative",ref:w,id:E,"aria-haspopup":"true","aria-expanded":_,children:[v.jsx(Nm,{link:"/welcome",translate:r("navbar.applications"),children:v.jsx(_O,{color:"#fff"})}),v.jsxs(aG,{className:"top-100 widget",id:E,isVisible:_,children:[v.jsx(xbe,{children:v.jsx(D_e,{bookmarkedApps:x})}),v.jsx(bbe,{className:"widget-footer border-top border-ghost",children:v.jsx(L_e,{})})]})]}),k&&v.jsx(Wr,{children:v.jsxs(Nm,{className:"position-relative",link:"/conversation/conversation",translate:r("conversation"),children:[v.jsx(wO,{color:"#fff"}),F&&v.jsx(DT,{children:i})]})}),s&&v.jsx(Wr,{children:v.jsxs(Nm,{className:"position-relative",link:n,translate:r("conversation"),children:[v.jsx(wO,{color:"#fff"}),F&&v.jsx(DT,{children:i})]})}),l==="fr"?v.jsxs(Wr,{children:[v.jsxs("button",{className:"nav-link btn btn-naked",onClick:()=>{d(!0)},children:[v.jsx(are,{color:"#fff"}),v.jsx(Iu,{children:r("support")})]}),v.jsx(w6,{isHelpOpen:c,setIsHelpOpen:d,parsedContent:h,parsedHeadline:p,error:g})]}):null,v.jsx(Wr,{children:v.jsxs("div",{className:"dropdown",children:[v.jsx("button",{className:"nav-link btn btn-naked d-md-none",type:"button","aria-controls":"dropdown-navbar","aria-expanded":!j,"aria-label":r("navbar.open.menu"),onClick:B,children:v.jsx(Hg,{className:"icon rafter-down",width:"20",height:"20",color:"#fff"})}),v.jsxs("ul",{className:`dropdown-menu dropdown-menu-end ${j?"":"show"}`,id:"dropdown-navbar",children:[M&&v.jsx(Wr,{children:v.jsxs("a",{href:"/community",className:"nav-link dropdown-item",children:[v.jsx(ere,{className:"icon community"}),v.jsx("span",{className:"nav-text",children:r("navbar.community")})]})}),U?v.jsx(j_e,{}):null,v.jsx(Wr,{children:v.jsxs("a",{href:"/userbook/mon-compte",className:"nav-link dropdown-item",children:[v.jsx(xp,{alt:I,size:"sm",src:A,variant:"circle",className:"bg-white",width:"32",height:"32"}),v.jsx("span",{className:"nav-text",children:r("navbar.myaccount")})]})}),v.jsx(Wr,{children:v.jsx("hr",{className:"dropdown-divider"})}),v.jsx(Wr,{children:v.jsxs("a",{href:"/auth/logout?callback=",className:"nav-link dropdown-item",children:[v.jsx(bO,{className:"icon logout"}),v.jsx("span",{id:"logout-label",className:"nav-text",children:r("navbar.disconnect")})]})})]})]})})]})]})})})},$_e=U_e;function z_e({children:t,className:e,...r}){const i=Pe("container-fluid",e);return v.jsx("main",{className:i,...r,children:t})}const H_e=({children:t,...e})=>{const{theme:r}=Gw();return v.jsxs(v.Fragment,{children:[v.jsx($_e,{is1d:r==null?void 0:r.is1d,src:r==null?void 0:r.basePath}),v.jsx(z_e,{className:Pe("d-flex flex-column bg-white",{"rounded-4 border":r==null?void 0:r.is1d,"mt-24":r==null?void 0:r.is1d}),...e,children:t}),v.jsx(iK,{toastOptions:{position:"top-right"}})]})},G_e=H_e,V_e=({recordState:t,playState:e,recordTime:r,audioTime:i})=>v.jsxs("div",{className:"audio-recorder-time my-16 mx-auto",children:[e==="IDLE"&&v.jsxs("div",{className:"d-flex align-items-center",children:[t==="PAUSED"?v.jsx(GR,{width:12,height:12,className:"me-8 text-danger"}):v.jsx(tb,{width:12,height:12,className:"me-8 text-danger"}),nh(t!=="IDLE"?r:0)]}),e!=="IDLE"&&v.jsxs("div",{className:"d-flex align-items-center mx-auto",children:[v.jsx(j_,{width:12,height:12,className:"me-8"}),nh(i*1e3)," /",nh(r)]})]}),W_e=V_e;function X_e(t,e,r=!1){var i;function n(Q,ie){return ie.type==="updateChannels"&&ie.updateChannels?{...Q,leftChannel:[...Q.leftChannel,ie.updateChannels.leftChannel],rightChannel:[...Q.rightChannel,ie.updateChannels.rightChannel]}:{...Q,...ie.updatedState}}const[{recordState:s,playState:a,micStream:o,micStreamAudioSourceNode:l,audioWorkletNode:u,audioContext:c,encoderWorker:d,webSocket:h,compress:p,leftChannel:g,rightChannel:y},b]=R.useReducer(n,{recordState:"IDLE",playState:"IDLE",leftChannel:[],rightChannel:[]}),x=R.useRef(null),w=R.useRef(null),{t:_}=Je(),E=128,A=44100;R.useEffect(()=>{const Q=new WebSocket(D((c==null?void 0:c.sampleRate)||A));return b({type:"update",updatedState:{webSocket:Q}}),Q.onopen=()=>{w.current&&w.current.currentTime>0&&(w.current.currentTime=0),Q.send("open"),p||Q.send("rawdata")},Q.onerror=ie=>{console.error(ie),b({type:"update",updatedState:{playState:"IDLE",recordState:"IDLE"}}),G()},Q.onclose=()=>{H()},()=>{Q.readyState===1&&Q.close(),b({type:"update",updatedState:{webSocket:null}})}},[]),R.useEffect(()=>{const Q=new Worker("/infra/public/js/audioEncoder.js");return b({type:"update",updatedState:{encoderWorker:Q}}),Q.postMessage(["init",(c==null?void 0:c.sampleRate)||A]),()=>{P(),Q.terminate()}},[]),R.useEffect(()=>{h&&(h.onmessage=async Q=>{Q.data&&Q.data.indexOf&&typeof Q.data.indexOf=="function"&&Q.data.indexOf("error")!==-1&&(console.error(Q.data),b({type:"update",updatedState:{playState:"IDLE",recordState:"IDLE"}}))})},[h]);const I=R.useCallback(Q=>{const ie=Q.data.inputs[0][0],le=Q.data.inputs[0][1];b({type:"updateChannels",updateChannels:{leftChannel:ie,rightChannel:le}}),d&&(d.postMessage(["chunk",[ie],[le],E]),d.onmessage=function(fe){const we=fe.data;if(!p){h==null||h.send(we);return}const $e=performance.now();h==null||h.send(gle.deflate(we)),performance.now()-$e>50&&(b({type:"update",updatedState:{compress:!1}}),h==null||h.send("rawdata"))})},[p,d,h]),P=R.useCallback(()=>{o==null||o.getTracks().forEach(Q=>Q.stop()),l==null||l.disconnect(),u==null||u.port.removeEventListener("message",I),u==null||u.port.close(),u==null||u.disconnect(),c==null||c.close()},[c,u,I,o,l]),M=R.useCallback(async()=>{const Q=await navigator.mediaDevices.getUserMedia({audio:!0}),ie=new AudioContext({sampleRate:A}),le=ie.createMediaStreamSource(Q);b({type:"update",updatedState:{micStream:Q,micStreamAudioSourceNode:le,audioContext:ie}});try{await ie.audioWorklet.addModule("/infra/public/js/audio-recorder-processor.js")}catch(we){console.error(we)}const fe=new AudioWorkletNode(ie,"audio-recorder-processor");fe.port.addEventListener("message",I),b({type:"update",updatedState:{audioWorkletNode:fe,leftChannel:[],rightChannel:[]}}),fe.port.start(),le.connect(fe),fe.connect(ie.destination)},[I]),k=R.useCallback(async()=>{s==="PAUSED"?(b({type:"update",updatedState:{recordState:"RECORDING"}}),c==null||c.resume(),w.current&&(w.current.currentTime=0)):(b({type:"update",updatedState:{recordState:"RECORDING",playState:"IDLE"}}),await M())},[M,s,c,w]),U=R.useCallback(()=>{b({type:"update",updatedState:{recordState:"PAUSED"}}),c==null||c.suspend(),d&&(d.postMessage(["wav",y,g,y.length*E]),d.onmessage=Q=>{const ie=window.URL.createObjectURL(Q.data);w.current&&(w.current.src=ie),e&&e(ie)})},[c,d,g,e,y]),j=R.useCallback(()=>{var Q;b({type:"update",updatedState:{playState:"PLAYING"}}),((Q=w==null?void 0:w.current)!=null&&Q.currentTime||w.current)&&w.current.play()},[w]),B=R.useCallback(()=>{var Q;(Q=w==null?void 0:w.current)==null||Q.pause(),b({type:"update",updatedState:{playState:"PAUSED"}})},[w]),L=R.useCallback(()=>{P(),b({type:"update",updatedState:{playState:"IDLE",recordState:"IDLE",leftChannel:[],rightChannel:[]}}),e&&e(void 0)},[P,e]),F=R.useCallback(async()=>{if(b({type:"update",updatedState:{recordState:"SAVING"}}),h)return new Promise((Q,ie)=>{var le;h.send(`save-${(le=x.current)==null?void 0:le.value}`),h.onmessage=async fe=>{var we;if(fe.data&&fe.data.indexOf&&typeof fe.data.indexOf=="function"&&fe.data.indexOf("error")!==-1)console.error(fe.data),b({type:"update",updatedState:{playState:"IDLE",recordState:"IDLE"}}),ie("Error while saving");else if(fe.data&&fe.data.text&&typeof fe.data.text=="function"){const $e=JSON.parse(await fe.data.text());if($e.status==="ok"){G();const Ze={_id:$e.docId,name:(we=x.current)==null?void 0:we.value,eType:"file",eParent:"",children:[],created:new Date,_shared:[],_isShared:!1,owner:{userId:"",displayName:""}};Ze&&t&&t(Ze),P(),b({type:"update",updatedState:{recordState:"SAVED"}}),Q(Ze)}else b({type:"update",updatedState:{recordState:"IDLE"}}),G(),ie("Error while saving")}}})},[h,s,t,P]),O=R.useCallback(()=>{w!=null&&w.current&&(w.current.pause(),w.current.currentTime=0),b({type:"update",updatedState:{playState:"IDLE"}})},[w]),$=R.useCallback(()=>{b({type:"update",updatedState:{playState:"PAUSED"}}),w.current&&(w.current.currentTime=0)},[w]);function z(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(Q){const ie=Math.random()*16|0;return(Q=="x"?ie:ie&3|8).toString(16)})}function D(Q){const ie=window.location.protocol==="https:"?"wss":"ws";let le=window.location.host;return(window.location.host==="localhost:8090"||window.location.host==="localhost:3000")&&(le="recette-ode1.opendigitaleducation.com"),`${ie+"://"+le}/audio/${z()}?sampleRate=${Q}`}const G=R.useCallback(()=>{h&&h.readyState===1&&h.close(),H()},[h]);function H(){b({type:"update",updatedState:{webSocket:null}})}const W=_(s==="IDLE"?"bbm.audio.record.start":"bbm.audio.record.resume"),K=[{type:"icon",name:"record",visibility:s==="RECORDING"?"hide":"show",props:{icon:v.jsx(tb,{}),color:"danger",disabled:s!=="IDLE"&&s!=="PAUSED",onClick:k,"aria-label":W},tooltip:W},{type:"icon",name:"recordPause",visibility:s==="RECORDING"?"show":"hide",props:{icon:v.jsx(cY,{}),color:"danger",disabled:s!=="RECORDING",onClick:U,"aria-label":_("bbm.audio.record.pause")},tooltip:_("bbm.audio.record.pause")},{type:"divider"},{type:"icon",name:"play",visibility:a==="PLAYING"?"hide":"show",props:{icon:v.jsx(r8,{}),disabled:s!=="RECORDED"&&s!=="PAUSED"&&s!=="SAVED"&&a!=="PAUSED",onClick:j,"aria-label":_("bbm.audio.play.start")},tooltip:_("bbm.audio.play.start")},{type:"icon",name:"playPause",visibility:a==="PLAYING"?"show":"hide",props:{icon:v.jsx(GR,{}),disabled:a!=="PLAYING",onClick:B,"aria-label":_("bbm.audio.play.pause")},tooltip:_("bbm.audio.play.pause")},{type:"icon",name:"stop",props:{icon:v.jsx(xY,{}),disabled:a!=="PLAYING"&&a!=="PAUSED",onClick:O,"aria-label":_("bbm.audio.play.stop")},tooltip:_("bbm.audio.play.stop")},{type:"divider"},{type:"icon",name:"reset",props:{icon:v.jsx(s8,{}),disabled:s!=="RECORDED"&&a!=="PLAYING"&&a!=="PAUSED"&&s!=="PAUSED",onClick:L,"aria-label":_("bbm.audio.record.reset")},tooltip:_("bbm.audio.record.reset")},{type:"icon",name:"save",visibility:r?"hide":"show",props:{icon:v.jsx(VR,{}),disabled:s!=="RECORDED"&&s!=="PAUSED"&&a!=="PLAYING"&&a!=="PAUSED"||s==="SAVED"||!((i=x.current)!=null&&i.value),onClick:F,"aria-label":_("bbm.audio.record.save")},tooltip:_("bbm.audio.record.save")}];return{recordState:s,playState:a,recordtime:c!=null&&c.currentTime?(c==null?void 0:c.currentTime)*1e3:void 0,audioRef:w,audioNameRef:x,toolbarItems:K,handlePlayEnded:$,handleSave:F}}const Y_e=R.forwardRef(({onSaveSuccess:t,onRecordUpdated:e,hideSaveAction:r=!1},i)=>{const{recordState:n,playState:s,recordtime:a,audioRef:o,audioNameRef:l,toolbarItems:u,handlePlayEnded:c,handleSave:d}=X_e(t,e,r),{t:h}=Je();R.useImperativeHandle(i,()=>({save:d}));const[p,g]=R.useState(0),y=Pe({"text-danger":n==="RECORDING","text-success":s==="PLAYING"}),b=x=>{g(x.target.currentTime)};return v.jsxs("div",{className:"audio-recorder m-auto d-flex flex-column",children:[v.jsx(Jt,{id:"recordName",className:"mb-32",isRequired:!0,isReadOnly:n==="SAVED"||n==="SAVING",children:v.jsx(wn,{type:"text",size:"sm",placeholder:h("bbm.audio.recorder.name"),ref:l,defaultValue:h("bbm.audio.recorder.defaultName")+new Date().toLocaleDateString()})}),v.jsx("div",{className:"audio-recorder-icon mx-auto",children:v.jsx(j_,{width:64,height:64,className:y})}),v.jsx(W_e,{recordState:n,playState:s,recordTime:a,audioTime:p}),v.jsx("audio",{ref:o,onEnded:c,onTimeUpdate:b,children:v.jsx("track",{default:!0,kind:"captions",srcLang:"fr",src:""})}),v.jsx(hP,{items:u})]})}),q_e=Y_e,dG=R.createContext(null);function Al(){const t=R.useContext(dG);if(!t)throw new Error("Innertabs compound components cannot be rendered outside the MediaLibrary component");return t}const K_e=()=>{const{setResult:t,setPreSuccess:e}=Al(),r=R.useRef(null);return v.jsx(q_e,{ref:r,onRecordUpdated:i=>{i?(t(i),e(()=>r.current.save)):t()},hideSaveAction:!0})},Q_e=({link:t,onChange:e,multiNodeSelected:r=!1})=>{const{t:i}=Je(),[n,s]=R.useState((t==null?void 0:t.text)||""),[a,o]=R.useState((t==null?void 0:t.url)||""),[l,u]=Vw(t?t.target==="_blank":!0);return R.useEffect(()=>{r&&t!=null&&t.text&&s(t.text.slice(0,20)+"...")},[r,t]),R.useEffect(()=>{if(!a.length){e==null||e();return}const c={url:a,text:r?t==null?void 0:t.text:n||a,target:l?"_blank":void 0};!u6.isLocalURL(a)&&!u6.startWithHttp(a)&&(c.url="http://"+a),e==null||e(c)},[n,a,l]),v.jsx(v.Fragment,{children:v.jsxs("div",{className:"d-flex flex-column flex-fill gap-24",children:[v.jsxs(Jt,{id:"linkText",isOptional:!0,children:[v.jsx(ba,{children:i("bbm.linker.ext.text")}),v.jsx(wn,{type:"text",placeholder:i("bbm.linker.ext.text.placeholder"),size:"md",disabled:r,value:n,onChange:c=>s(c.target.value)})]}),v.jsxs(Jt,{id:"linkUrl",isRequired:!0,children:[v.jsx(ba,{children:i("bbm.linker.ext.url")}),v.jsx(wn,{type:"text",placeholder:i("bbm.linker.ext.url.placeholder"),size:"md",value:a,onChange:c=>o(c.target.value)})]}),v.jsx(P1,{label:i("bbm.linker.open.tab"),onChange:()=>u(),checked:l})]})})},Z_e=Q_e,J_e=({link:t,multiNodeSelected:e=!1})=>{const{setResult:r}=Al();return v.jsx(Z_e,{link:t,onChange:i=>{r(i)},multiNodeSelected:e})},ewe=({onSuccess:t})=>{const{t:e}=Je(),[r,i]=R.useState();function n(s){const a=s.target.value;i(a),a!=null&&a.length?t(a):t()}return v.jsxs("div",{className:"d-flex flex-column flex-fill",children:[v.jsx("div",{className:"mb-32",children:e('Pour ajouter un contenu externe, copiez le code de partage "embed" ou "iframe" et coller le ci-dessous.')}),v.jsxs("div",{className:"mb-8 d-flex",children:[v.jsx(uA,{className:"me-8"}),e("bbm.embed.title")]}),v.jsx(Jt,{id:"iframeContent",children:v.jsx(cP,{size:"md",height:"sm",placeholder:e("bbm.embed.placeholder"),onChange:n})}),!!(r!=null&&r.length)&&v.jsx("div",{className:"embed-preview mt-12",dangerouslySetInnerHTML:{__html:r}}),!(r!=null&&r.length)&&v.jsx("div",{className:"embed-preview mt-12 d-flex align-items-center justify-content-center bg-gray-300 text-black-50 rounded-3",children:v.jsx("strong",{children:e("bbm.embed.preview")})})]})},twe=ewe,rwe=()=>{const{setResult:t}=Al();return v.jsx(twe,{onSuccess:e=>{t(e)}})},iwe=({doc:t,isClickable:e=!0,isSelectable:r=!1,isSelected:i=!1,onClick:n,className:s})=>{const{fromNow:a}=xye(),{fromDate:o}=R.useMemo(()=>({fromDate:a(t.modifiedAt)}),[a,t]);return v.jsx(jn,{className:Pe("card-linker shadow-none",s),isClickable:e,isSelectable:r,isSelected:i,onClick:n,children:v.jsxs(jn.Body,{space:"8",children:[v.jsx("div",{className:"card-image ps-8 pe-4",children:t.thumbnail&&t.thumbnail.length>0?v.jsx(ec,{alt:"",height:48,width:48,src:t.thumbnail,objectFit:"cover",className:"rounded h-full",style:{aspectRatio:1/1}}):v.jsx(zh,{app:t.application,iconFit:"ratio",size:"48",variant:"rounded"})}),v.jsxs("div",{className:"w-100",children:[v.jsx(jn.Text,{children:t.name}),v.jsx(jn.Text,{className:"text-black-50",children:t==null?void 0:t.creatorName})]}),v.jsx("div",{className:"d-none d-md-block text-black-50 ps-4 pe-8",children:v.jsx(jn.Text,{children:o})}),t.shared&&v.jsx("div",{className:"ps-4 pe-8",children:v.jsx(ZY,{width:"20",height:"20"})})]})})},nwe=iwe,swe=({appCode:t,defaultAppCode:e,defaultResourceId:r,onChange:i,onSelect:n})=>{const{t:s}=Je(),{theme:a}=Gw(),[o]=Tl(),{resourceApplications:l,loadResources:u}=Nye(t),[c,d]=R.useState(),[h,p]=R.useState(),[g,y]=R.useState(),b=iP(g||"",500),[x,w]=R.useState([]),_=R.useCallback(B=>{async function L(){if(h)try{const F=(await u({application:h.application,search:B,types:[h.application],filters:{},pagination:{startIdx:0,pageSize:300}})).sort((O,$)=>O.modifiedAt<$.modifiedAt?1:-1);w(F);return}catch{}w([])}L()},[u,h]),[E,A]=R.useState([]),I=B=>{i==null||i(B),p(B)},P=B=>{const L=B.target.value;y(L.toString())},M=R.useCallback(B=>{_(g),B.stopPropagation(),B.preventDefault()},[_,g]),k=R.useCallback(B=>E.findIndex(L=>L.assetId===B),[E]),U=R.useCallback(B=>{A(L=>[...L,B])},[A]),j=R.useCallback(B=>{const L=k(B.assetId);L<0?U(B):A(E.filter((F,O)=>O!==L))},[k,U,E]);return R.useEffect(()=>{(async()=>{const B=l.map(F=>Ve.session().getWebApp(F)),L=await Promise.all(B);d(l.map((F,O)=>{var $;return{application:F,displayName:s((($=L[O])==null?void 0:$.displayName)??F),icon:v.jsx(zh,{app:L[O]})}}).sort((F,O)=>F.displayName.localeCompare(O.displayName)))})()},[l,s]),R.useEffect(()=>{_(b)},[_,b]),R.useEffect(()=>{n==null||n(E)},[E]),R.useEffect(()=>{if(e){const B=c==null?void 0:c.find(L=>e===L.application);p(B),_("")}},[c]),R.useEffect(()=>{if(r&&k(r)<0){const B=x==null?void 0:x.find(L=>r===L.assetId);B&&U(B)}},[x]),v.jsxs("div",{className:"internal-linker flex-grow-1 w-100 rounded border gap-0",children:[v.jsxs("div",{className:"search d-flex bg-light rounded-top border-bottom",children:[v.jsx("div",{className:"flex-shrink-1 px-8 py-12 border-end",children:v.jsxs(Bt,{overflow:!0,children:[v.jsx(Bt.Trigger,{icon:v.jsx("div",{className:"pe-8",children:(h==null?void 0:h.icon)||v.jsx(KF,{})}),label:s((h==null?void 0:h.displayName)||"bbm.linker.int.choose"),variant:"ghost",size:"md"}),v.jsx(Bt.Menu,{children:c==null?void 0:c.map(B=>v.jsx(Bt.Item,{icon:B.icon,onClick:()=>I(B),children:B.displayName},B.application))})]})}),v.jsx("div",{className:"flex-grow-1 align-self-center",children:v.jsx("form",{className:"gap-16 d-flex w-100 align-items-center px-16 py-8",onSubmit:M,children:v.jsx(oG,{isVariant:!0,placeholder:s("search"),size:"lg",className:"w-100",disabled:!h,onChange:P})})})]}),h&&x&&x.length>0&&v.jsx("div",{children:x.map(B=>{const L=E.findIndex(F=>F.assetId===B.assetId)>=0;return v.jsx(nwe,{doc:B,isSelected:L,onClick:()=>j(B)},B.assetId)})}),h&&x&&x.length<=0&&v.jsx("div",{className:"d-flex justify-content-center mt-16",children:v.jsx(xR,{imageSrc:`${o}/${a==null?void 0:a.bootstrapVersion}/illu-empty-search-${h.application}.svg`,text:s("bbm.linker.int.notfound"),className:"mt-16"})}),!h&&v.jsx("div",{className:"d-flex justify-content-center mt-32",children:v.jsx(xR,{imageSrc:`${o}/${a==null?void 0:a.bootstrapVersion}/illu-empty-search.svg`,text:s("bbm.linker.int.empty"),className:"mt-32"})})]})},awe=swe,owe=({target:t,resourceId:e,appPrefix:r})=>{const{t:i}=Je(),{setResult:n,setResultCounter:s,appCode:a}=Al(),[o,l]=Vw(t==="_blank");return v.jsxs("div",{className:"d-flex flex-column flex-fill gap-16",children:[v.jsx(awe,{appCode:a,defaultAppCode:r,defaultResourceId:e,onSelect:u=>{n({target:o?"_blank":void 0,resources:u}),u&&u.length?s(u.length):s(void 0)}}),v.jsx(P1,{className:"align-items-center",checked:o,label:i("bbm.linker.open.tab"),onChange:()=>l()})]})},lwe=(t,e)=>{if(t==0)return"0 octets";const r=1e3,i=e||2,n=["octets","Ko","Mo","Go"],s=Math.floor(Math.log(t)/Math.log(r));return parseFloat((t/Math.pow(r,s)).toFixed(i))+" "+n[s]},uwe=({historyCount:t,handle:e})=>{const{t:r}=Je(),[i,n]=R.useState(void 0),s=o=>{n(o),e(o)},a=[{type:"button",name:"undo",props:{color:"tertiary",leftIcon:v.jsx(qY,{}),"aria-label":r("cancel"),children:r("cancel"),onClick:()=>s("UNDO"),disabled:t===0},tooltip:r("cancel")},{type:"divider",name:"div-1"},{type:"button",name:"reset",props:{color:"tertiary",leftIcon:v.jsx(a8,{}),"aria-label":r("rotate"),children:r("rotate"),onClick:()=>s("ROTATE")},tooltip:r("rotate")},{type:"button",name:"crop",props:{color:"tertiary",leftIcon:v.jsx(bX,{}),"aria-label":r("crop"),children:r("crop"),className:i==="CROP"?"is-selected":"",onClick:()=>s("CROP")},tooltip:r("crop")},{type:"button",name:"blur",props:{color:"tertiary",leftIcon:v.jsx(cX,{}),"aria-label":r("blur"),children:r("blur"),className:i==="BLUR"?"is-selected":"",onClick:()=>s("BLUR")},tooltip:r("blur")}];return v.jsx("div",{className:"d-flex flex-row align-self-start ",children:v.jsx(hP,{variant:"no-shadow",align:"left",isBlock:!0,items:a})})},cwe=uwe,hwe=100,S6=100,dwe=400,fwe=64,pwe="image";function bR(t,{spriteName:e,imgDatasource:r,settings:i}){const n=URL.createObjectURL(r),s=new Image;return s.src=n,new Promise(a=>{s.onload=async()=>{await _R(t,{spriteName:e,imgDatasource:s,settings:i});const o=t==null?void 0:t.stage.getChildByName(e,!0);a(o)}})}async function _R(t,{spriteName:e,imgDatasource:r,settings:i}){if(t===void 0||t.stage===null)return;const n=t.stage.getChildByName(e,!0);n==null||n.removeFromParent();const s=r instanceof HTMLImageElement?Ge.from(r):r instanceof Zi?r:await Ge.fromURL(r),a=s instanceof Zi?s:Zi.from(s,{});if(a.interactive=!0,a.name=e,i){const{sprite:{anchor:o,position:l,scale:u,size:c,rotation:d},stage:{size:h}}=i,p=d%Math.PI!==0;a.anchor.x=o.x,a.anchor.y=o.y,a.position.x=l.x,a.position.y=l.y,a.scale.x=u.x,a.scale.y=u.y,a.width=p?c.height:c.width,a.height=p?c.width:c.height,t.stage.height=h.height,t.stage.width=h.width,t.renderer.resize(h.width,h.height),t.stage.addChild(a)}else t.stage.addChild(a),mwe(t,a)}function mwe(t,e){const r=t.view.parentNode,i=window.innerWidth-fwe,n=Math.max((r==null?void 0:r.offsetWidth)??0,S6),s=ywe({width:e.width,height:e.height},{width:{max:Math.min(n,i),min:S6},height:{min:hwe,max:window.innerHeight-dwe}}),{height:a,width:o}=s;e.anchor.x=.5,e.anchor.y=.5,e.position=new Tt(o/2,a/2),e.width=o,e.height=a,t.stage.height=a,t.stage.width=o,t.renderer.resize(o,a)}function gwe(t){return new Promise((e,r)=>{var i;(i=t==null?void 0:t.view)!=null&&i.toBlob?t.view.toBlob(n=>{n?e(n):r("EXTRACT_FAILED")}):r("EXTRACT_FAILED")})}function vwe(t){var e,r;return(r=(e=t.view).toDataURL)==null?void 0:r.call(e)}function ywe(t,e){const{height:r,width:i}=t,n=i/r,{height:s,width:a}=e;let o=a.max,l=a.max/n;return i>a.max&&(o=a.max,l=o/n),l>s.max&&(l=s.max,o=l*n),o<a.min&&(o=a.min,l=o/n),l<s.min&&(l=s.min,o=l*n),{width:o,height:l}}function wR(t){return new Promise((e,r)=>{var i,n;(n=(i=t.view).toBlob)==null||n.call(i,s=>{s?e(s):r("EXTRACT_FAIL")},"image/png",1)})}function xwe({application:t,sprite:e}){return{sprite:{rotation:e.rotation,size:{width:e.width,height:e.height},position:{x:e.position.x,y:e.position.y},scale:{x:e.scale.x,y:e.scale.y},anchor:{x:e.anchor.x,y:e.anchor.y}},stage:{size:{width:t.stage.width,height:t.stage.height},scale:{x:t.stage.scale.x,y:t.stage.scale.y}}}}function bwe({application:t,sprite:e,newHeight:r,newWidth:i}){e.anchor.x=.5,e.anchor.y=.5,e.position=new Tt(i/2,r/2),t.stage.height=r,t.stage.width=i,t.renderer.resize(i,r)}const _we=20,wwe=({maxSize:t=_we,application:e,spriteName:r,onRestore:i})=>{const[n,s]=R.useState([]);R.useEffect(()=>{s([])},[e]);const a=async()=>{const u=n.pop();u&&(i(await u.backup,u),s(n.filter(c=>c!==u)))},o=u=>(u.length>t&&u.splice(0,u.length-t),u),l=u=>async function(...c){if(!e)return;const d=e.stage.getChildByName(r,!0);if(d==null)return;const h=wR(e),p={backup:h,sprite:{rotation:d.rotation,size:{width:d.width,height:d.height},position:{x:d.position.x,y:d.position.y},scale:{x:d.scale.x,y:d.scale.y},anchor:{x:d.anchor.x,y:d.anchor.y}},stage:{size:{width:e.stage.width,height:e.stage.height},scale:{x:e.stage.scale.x,y:e.stage.scale.y}}};return s([...o(n),p]),await h,u.call(u,...c)};return{historyCount:n.length,restore:a,historize:l}},Swe=wwe;function Ewe(t,e,r){let i;const n=[];return function(s){n.push(e(s)),!i&&(i=setTimeout(()=>{const a=[...n];n.splice(0,n.length),r(a),i=void 0},t))}}const fG=20,Twe=50,fP="BRUSH_CURSOR";function Awe(t){const e=new bl;for(const r of t)r&&(e.beginFill(16777215,1),e.drawCircle(r.x,r.y,fG),e.lineStyle(0),e.endFill());return e}function Cwe(t,{spriteName:e}){return Ewe(Twe,r=>t.stage.toLocal(r.global),r=>{const i=t.stage.getChildByName(e);if(i==null)return;const n=new Zi(i.texture);n.filters=[new nR.BlurFilter],n.width=i.width,n.height=i.height,n.scale=new Tt(1,1),n.anchor=i.anchor,n.mask=Awe(r),i.addChild(n)})}function Rwe(t){pG(t);const e=new bl;return e.lineStyle(1,16711680),e.drawCircle(0,0,fG),e.endFill(),e.name=fP,t.stage.addChild(e),e}function pG(t){const e=t.stage.getChildByName(fP);e&&e.removeFromParent()}function Iwe(t){return e=>{if(!t)return;const r=t.stage.toLocal(e.global),i=t.stage.getChildByName(fP,!0);i&&(i.position.x=r.x,i.position.y=r.y)}}function Pwe(t,{spriteName:e}){t.stage.interactive=!0;const r=Rwe(t),i=Iwe(t);t.stage.on("pointermove",i);const n=Cwe(t,{spriteName:e});t.stage.on("pointerdown",()=>{t.stage.on("pointermove",n)});const s=()=>{var a;(a=t==null?void 0:t.stage)==null||a.off("pointermove",n)};globalThis.addEventListener("pointerup",s),r.once("destroyed",()=>{globalThis.removeEventListener("pointerup",s)})}function Mwe(t){pG(t),t.stage.off("pointerdown"),t.stage.off("pointermove")}const kwe=["TOP_LEFT","TOP_RIGHT","BOTTOM_LEFT","BOTTOM_RIGHT"],Jy=0,Nwe=20,pP="CROP_BACKGROUND_NAME",M1="CROP_MASK_NAME";function SR(t){return"CROP_CORNER_"+t}function Owe(t,{spriteName:e}){mG(t);const r=t.stage.getChildByName(e);if(r==null)return;const i=r.getBounds(),n=t.renderer.generateTexture(t.stage).clone(),s=new Zi(n);s.height=i.height,s.width=i.width,s.position=new Tt(0,0);const a=new bl;a.beginFill(16777215,.5),a.drawRect(0,0,i.width,i.height),a.endFill(),a.name=pP,a.position=new Tt(i.x,i.y);const o=new bl;o.beginFill(0,1),o.drawRect(0,0,i.width-2*Jy,i.height-2*Jy),o.endFill(),o.position=new Tt(Jy,Jy),o.name=M1,s.mask=o,t.stage.addChild(a),a.addChild(o),a.addChild(s)}function mG(t){const e=t.stage.getChildByName(pP,!0);e==null||e.removeFromParent()}function gG(t,e){switch(t){case"TOP_LEFT":return{x:e.x,y:e.y,start:0,end:Math.PI/2};case"TOP_RIGHT":return{x:e.x+e.width,y:e.y,start:Math.PI/2,end:Math.PI};case"BOTTOM_LEFT":return{x:e.x,y:e.y+e.height,start:3*Math.PI/2,end:2*Math.PI};case"BOTTOM_RIGHT":return{x:e.x+e.width,y:e.y+e.height,start:Math.PI,end:3*Math.PI/2}}}function Lwe(t){const e=t.stage.getChildByName(M1,!0);e!=null&&kwe.forEach(r=>{const i=t.stage.getChildByName(SR(r),!0);if(i==null)return;const n=gG(r,{height:e.height,width:e.width,x:e.x,y:e.y});i.position=new Tt(n.x,n.y)})}function ex(t,e,{spriteName:r}){const i=t.stage.getChildByName(SR(e),!0);i==null||i.removeFromParent();const n=t.stage.getChildByName(pP,!0),s=t.stage.getChildByName(M1,!0);if(t.stage.getChildByName(r)==null||n===null||n===void 0||s===void 0||s===null)return;const o=gG(e,{height:s.height,width:s.width,x:s.x,y:s.y}),l=new bl;l.beginFill(4960213,1),l.arc(0,0,Nwe,o.start,o.end),l.lineTo(0,0),l.endFill(),l.position=new Tt(o.x,o.y),l.name=SR(e),l.interactive=!0;let u=!1;t.stage.on("pointermove",h=>{if(u===!1)return;const p=n.toLocal(h.global);l.position.x=p.x,l.position.y=p.y,Dwe(t,e,p)});const c=()=>{u=!0};l.on("pointerdown",c);const d=()=>{u=!1};globalThis.addEventListener("pointerup",d),l.once("destroyed",()=>{l.off("pointerdown"),globalThis.removeEventListener("pointerup",d)}),n.addChild(l)}function Dwe(t,e,r){const i=t.stage.getChildByName(M1,!0);if(i==null)return;const n=i.position.x+i.width,s=i.position.y+i.height;switch(e){case"TOP_LEFT":{i.position.x=r.x,i.position.y=r.y,i.width=n-r.x,i.height=s-r.y;break}case"TOP_RIGHT":{i.position.y=r.y,i.width=r.x-i.position.x,i.height=s-r.y;break}case"BOTTOM_LEFT":{i.position.x=r.x,i.width=n-r.x,i.height=r.y-i.position.y;break}case"BOTTOM_RIGHT":{i.width=r.x-i.position.x,i.height=r.y-i.position.y;break}}Lwe(t)}function Fwe(t,{spriteName:e}){mP(t),t.stage.interactive=!0,t.stage.interactiveChildren=!0,Owe(t,{spriteName:e}),ex(t,"BOTTOM_LEFT",{spriteName:e}),ex(t,"BOTTOM_RIGHT",{spriteName:e}),ex(t,"TOP_LEFT",{spriteName:e}),ex(t,"TOP_RIGHT",{spriteName:e})}function mP(t){mG(t),t.stage.off("pointermove"),t.render()}function Bwe(t){const e=t.stage.getChildByName(M1,!0);if(e==null)return;mP(t);const r=t.renderer.generateTexture(t.stage).clone(),i=new Zi(r),n=e.getBounds(),s=new bt(Math.floor(n.x),Math.floor(n.y),Math.floor(n.width),Math.floor(n.height)),a=new Ge(i.texture.baseTexture,s);return new Zi(a)}const jwe=20,Xw="CONTROL_NAME";function vG(t){return"RESIZE_CORNER_"+t}function Uwe(t,e){const r=e.x,i=e.y;switch(t){case"TOP_LEFT":return{x:r,y:i,start:0,end:Math.PI/2};case"TOP_RIGHT":return{x:r+e.width,y:i,start:Math.PI/2,end:Math.PI};case"BOTTOM_LEFT":return{x:r,y:i+e.height,start:3*Math.PI/2,end:2*Math.PI};case"BOTTOM_RIGHT":return{x:r+e.width,y:i+e.height,start:Math.PI,end:3*Math.PI/2}}}function $we(t,{container:e,cornerType:r,position:i,spriteName:n}){const s=t.stage.getChildByName(n,!0);if(s==null)return;const a=s.rotation%Math.PI!==0,o=a?s.height:s.width,l=a?s.width:s.height;switch(r){case"TOP_LEFT":{e.position=new Tt(i.x,i.y),e.width=o-2*i.x,e.height=l-2*i.y;break}case"TOP_RIGHT":{const u=o-i.x;e.position=new Tt(u,i.y),e.width=o-2*u,e.height=l-2*i.y;break}case"BOTTOM_LEFT":{const u=l-i.y;e.position=new Tt(i.x,u),e.width=o-2*i.x,e.height=l-2*u;break}case"BOTTOM_RIGHT":{const u=l-i.y,c=o-i.x;e.position=new Tt(c,u),e.width=o-2*c,e.height=l-2*u;break}}}function hg(t,e){const r=t.stage.getChildByName(vG(e),!0);r==null||r.removeFromParent()}function tx(t,e,{spriteName:r}){hg(t,e);const i=t.stage.getChildByName(r,!0),n=t.stage.getChildByName(Xw,!0);if(i==null||n===null||n===void 0)return;const s=Uwe(e,n),a=new bl;a.beginFill(4960213,1),a.arc(0,0,jwe,s.start,s.end),a.lineTo(0,0),a.endFill(),a.position=new Tt(s.x,s.y),a.name=vG(e),a.interactive=!0;let o=!1;t.stage.on("pointermove",c=>{if(o===!1)return;const d=t.stage.toLocal(c.global);$we(t,{cornerType:e,position:d,container:n,spriteName:r})});const l=()=>{o=!1};globalThis.addEventListener("pointerup",l),a.once("destroyed",()=>{a.off("pointerdown"),globalThis.removeEventListener("pointerup",l)});const u=()=>{o=!0};a.on("pointerdown",u),n.addChild(a)}function zwe(t,e){yG(t);const r=t.stage.getChildByName(e,!0);if(r==null)return;const i=t.renderer.generateTexture(t.stage),n=new Zi(i);t.stage.children.forEach(a=>{a.alpha=0});const s=new bl;s.drawRect(0,0,r.width,r.height),s.name=Xw,s.interactive=!0,s.interactiveChildren=!0,t.stage.interactive=!0,t.stage.interactiveChildren=!0,t.stage.addChild(s),s.addChild(n)}function yG(t){const e=t.stage.getChildByName(Xw,!0);e==null||e.removeFromParent(),t.stage.children.forEach(r=>{r.alpha=1})}function Hwe(t,e){zwe(t,e),tx(t,"BOTTOM_LEFT",{spriteName:e}),tx(t,"BOTTOM_RIGHT",{spriteName:e}),tx(t,"TOP_LEFT",{spriteName:e}),tx(t,"TOP_RIGHT",{spriteName:e})}function xG(t){yG(t),hg(t,"BOTTOM_LEFT"),hg(t,"BOTTOM_RIGHT"),hg(t,"TOP_LEFT"),hg(t,"TOP_RIGHT"),t.stage.off("pointermove")}function Gwe(t,e){Hwe(t,e)}function Vwe(t){xG(t),t.stage.off("pointermove"),t.render()}function Wwe(t){var e;const r=(e=t==null?void 0:t.stage)==null?void 0:e.getChildByName(Xw,!0),i=r?{height:r.height,width:r.width}:void 0;if(xG(t),i){const n=t.renderer.generateTexture(t.stage).clone(),s=new Zi(n);return s.width=i.width,s.height=i.height,s}else return}async function Xwe(t,e){const r=t==null?void 0:t.stage.getChildByName(e,!0);if(t&&r){if(!t)return;const i=await wR(t),n=await bR(t,{imgDatasource:i,spriteName:e,settings:xwe({application:t,sprite:r})});if(!n)return;let s,a;const o=t.view;o.style&&(s=o.style.maxHeight??"",a=o.style.visibility??"",o.style.maxHeight=`${o.clientHeight}px`,o.style.visibility="hidden"),n.rotation+=Math.PI/2,bwe({application:t,sprite:n,newHeight:n.width,newWidth:n.height}),t.render();const l=await wR(t);s!==void 0&&(o.style.maxHeight=s),a!==void 0&&(o.style.visibility=a),await bR(t,{imgDatasource:l,spriteName:e})}}function Ywe({application:t,spriteName:e,onSave:r}){return{rotate:async()=>{t&&await Xwe(t,e)},startCrop:()=>{t&&Fwe(t,{spriteName:e})},stopCrop:i=>{if(t){if(i){const n=Bwe(t);n&&r(n)}mP(t)}},startBlur:()=>{t&&Pwe(t,{spriteName:e})},stopBlur:()=>{t&&Mwe(t)},startResize:()=>{t&&Gwe(t,e)},stopResize:i=>{if(t){if(i){const n=Wwe(t);n&&r(n)}Vwe(t)}}}}function qwe({imageSrc:t,spriteName:e=pwe}){const[r,i]=R.useState(void 0),{rotate:n,startBlur:s,startCrop:a,startResize:o,stopBlur:l,stopCrop:u,stopResize:c}=Ywe({spriteName:e,application:r,onSave(b){r&&_R(r,{imgDatasource:b,spriteName:e})}}),d=()=>r?gwe(r):Promise.resolve(void 0),h=()=>{if(r)return vwe(r)},{restore:p,historize:g,historyCount:y}=Swe({application:r,spriteName:e,onRestore(b,x){r&&bR(r,{imgDatasource:b,spriteName:e,settings:x})}});return R.useEffect(()=>{r&&_R(r,{spriteName:e,imgDatasource:t})},[r,t,e]),{historyCount:y,setApplication:i,restore:p,stopCrop:u,stopBlur:l,stopResize:c,startResize:g(o),startCrop:g(a),startBlur:g(s),rotate:g(n),toBlob:d,toDataURL:h}}const Kwe=({altText:t,legend:e,image:r,isOpen:i,onCancel:n,onError:s,onSave:a})=>{const{t:o}=Je(),[l,u]=R.useState(void 0),[c,d]=R.useState(!1),[h,p]=R.useState(t??""),[g,y]=R.useState(e??""),[b,x]=R.useState(!1),{toBlob:w,setApplication:_,startBlur:E,stopBlur:A,restore:I,rotate:P,startCrop:M,stopCrop:k,startResize:U,stopResize:j,historyCount:B}=qwe({imageSrc:r}),L=()=>{A(),k(l==="CROP"),j(l==="RESIZE")},F=async()=>{try{d(!0),L();const z=await w();z&&await a({blob:z,altText:h,legend:g})}catch(z){s==null||s(`${z}`)}finally{d(!1)}},O=()=>{n()},$=async z=>{switch(L(),u(z),x(!0),z){case"ROTATE":{await P();break}case"UNDO":{await I();break}case"CROP":{M();break}case"RESIZE":{await U();break}case"BLUR":{await E();break}}};return v.jsxs(qt,{id:"image-editor",isOpen:i,onModalClose:O,size:"lg",children:[v.jsx(qt.Header,{onModalClose:O,children:v.jsx("span",{className:"h2",children:o("imageeditor.title")})}),v.jsx(qt.Body,{className:"d-flex flex-column align-items-center",children:v.jsxs("div",{className:"d-flex flex-column align-items-center gap-12 w-100 flex-grow-1",children:[v.jsx(cwe,{handle:$,historyCount:B}),v.jsx("div",{className:"d-flex flex-column align-items-center justify-content-center flex-grow-1 w-100",children:v.jsx(Ome.Stage,{onMount:z=>_(z),options:{preserveDrawingBuffer:!0,backgroundAlpha:0}})}),v.jsxs("div",{className:"d-flex flex-column flex-md-row m-10 gap-12 w-100",children:[v.jsxs(Jt,{id:"alt",className:"flex-grow-1",children:[v.jsx(ba,{children:o("alttext")}),v.jsx(wn,{value:h,onChange:z=>{x(!0),p(z.target.value)},placeholder:o("alttext.help"),size:"md",type:"text"})]}),v.jsxs(Jt,{id:"legend",className:"flex-grow-1",children:[v.jsx(ba,{children:o("legend")}),v.jsx(wn,{value:g,onChange:z=>{x(!0),y(z.target.value)},placeholder:o("legend.help"),size:"md",type:"text"})]})]})]})}),v.jsxs(qt.Footer,{children:[v.jsx(Xt,{color:"tertiary",onClick:O,type:"button",variant:"ghost",children:o("imageeditor.cancel")}),v.jsx(Xt,{color:"primary",onClick:F,type:"button",variant:"filled",isLoading:c,disabled:c||!b,children:o("imageeditor.save")})]})]})},Qwe=Kwe,Zwe=({onFilesChange:t})=>{const{files:e,uploadedFiles:r,status:i,uploadFile:n,removeFile:s,updateImage:a,editingImage:o,setEditingImage:l,getUrl:u}=Fye({handleOnChange:t});return v.jsxs(v.Fragment,{children:[e.map(c=>{const d=r.find(p=>p.name===c.name),h={name:c.name,info:{type:c.type,weight:lwe(c.size||0,1)},src:u(d,!0)};return v.jsx(Bbe,{status:i[c.name],item:h,onEdit:()=>l(d),onRetry:()=>n(c),onDelete:()=>s(c)},c.name)}),o&&v.jsx(Qwe,{altText:o.alt,legend:o.title,image:u(o,!0),isOpen:!!o,onCancel:()=>l(void 0),onSave:a,onError:console.error})]})},Jwe=Zwe,e2e=t=>{const e=[];switch(t){case"audio":case"video":e.push("video/*");break;case"image":e.push("image/*");break}return e},t2e=()=>{const{type:t,setResult:e,setResultCounter:r,addCancellable:i}=Al(),n=s=>{s.length?(i(s),r(s.length),e(s)):(r(void 0),e(void 0))};return v.jsx("div",{className:"py-8 flex-grow-1",children:v.jsx(Zxe,{multiple:!0,accept:e2e(t??"embedder"),children:v.jsx(Jwe,{onFilesChange:n})})})},BT=455,jT=728,r2e=R.forwardRef(({appCode:t,caption:e,onSuccess:r,onError:i,onRecordUpdated:n,hideSaveAction:s=!1},a)=>{const[o,l]=R.useState(18e4),[u,c]=R.useState([]),[d,h]=R.useState(!1),[p,g]=R.useState(!1),[y,b]=R.useState(!1),[x,w]=R.useState(!1),[_,E]=R.useState(!1),[A,I]=R.useState({audio:!0,video:{facingMode:"environment"}}),[P,M]=R.useState(),[k,U]=R.useState(""),[j,B]=R.useState([]),[L,F]=R.useState(),[O,$]=R.useState(0),[z,D]=R.useState(0),[G,H]=R.useState(0),W=R.useRef(null),K=R.useRef(null),{browser:Q,device:ie}=bye(navigator.userAgent);R.useImperativeHandle(a,()=>({save:ze}));const{t:le}=Je();R.useEffect(()=>{fe(),we()},[]),R.useEffect(()=>(P||$e(A),()=>{P&&P.getTracks().forEach(lt=>lt.stop())}),[P]),R.useEffect(()=>{if(j.length&&!d&&W.current){const lt=new Blob(j,{type:k});if(F(lt),n){const it=window.URL.createObjectURL(lt);n(it)}W.current.autoplay=!1,W.current.srcObject=null,W.current.src=window.URL.createObjectURL(lt)}},[d,j]),R.useEffect(()=>{const lt=window.setInterval(()=>{D(it=>d?it+500:it)},500);return()=>{window.clearInterval(lt)}},[O,d]),R.useEffect(()=>{const lt=window.setInterval(()=>{H(it=>y?it+500:it)},500);return()=>{window.clearInterval(lt)}},[O,y]);const fe=async()=>{const lt=await Ve.video().getVideoConf();l(lt.maxDuration*60*1e3)},we=async()=>{const lt=(await navigator.mediaDevices.enumerateDevices()).filter(it=>it.kind==="videoinput");switch(ie.type){case"mobile":case"tablet":{const it={deviceId:"environment",label:le("video.back.camera"),groupId:"",kind:"videoinput"},X={deviceId:"user",label:le("video.front.camera"),groupId:"",kind:"videoinput"};(lt==null?void 0:lt.length)>1?c([it,X]):c([it]);break}default:c(lt);break}},$e=async lt=>{try{const it=await navigator.mediaDevices.getUserMedia(lt);M(it),W.current&&(W.current.src&&window.URL.revokeObjectURL(W.current.src),W.current.srcObject=it,W.current.autoplay=!0,W.current.volume=1)}catch(it){console.error(it)}},Ze=R.useCallback(()=>{$(Date.now()),h(!0),W&&W.current&&(W.current.muted=!0);const lt=gye();U(lt),P&&(K.current=new MediaRecorder(P,{mimeType:lt}),K.current.ondataavailable=({data:it})=>{var X;it.size>0&&B(ee=>[...ee,it]),z>=o&&((X=K==null?void 0:K.current)==null||X.stop())},K.current.onerror=it=>console.error(it),K.current.start(1e3))},[P]),Fe=R.useCallback(()=>{var lt;h(!1),g(!0),((lt=K.current)==null?void 0:lt.state)==="recording"&&(K.current.requestData(),K.current.stop()),$(0)},[K]),Se=R.useCallback(()=>{var lt,it;W&&W.current&&(W.current.muted=!1),y?((it=W==null?void 0:W.current)==null||it.pause(),b(!1)):((lt=W==null?void 0:W.current)==null||lt.play(),b(!0))},[y]),We=()=>{g(!1),h(!1),b(!1),E(!1),$(0),D(0),B([]),F(void 0),$e(A),n&&n()},ze=async()=>{if(w(!0),!L){console.error("Error while saving video: recorded video is undefined.");return}const lt={data:{device:ie.type,browser:{name:Q.name,version:Q.version},url:window.location.hostname,file:L,filename:"filename",weight:L.size},appCode:t,captation:!0,duration:z},it=await Ve.video().upload(lt);if(it.state==="succeed"){await Ve.video().generateSaveEvent(t,z,{name:Q.name,version:Q.version},ie.type,it);const X={_id:it.videoworkspaceid,file:it.videoid,name:lt.data.filename,eType:"file",eParent:"",children:[],created:new Date,_shared:[],_isShared:!1,owner:{userId:"",displayName:""}};return r==null||r([X]),w(!1),E(!0),[X]}else it.state==="error"?i("Error while uploading video"):console.info("Video encoding is still running");w(!1),E(!0)},Dt=()=>{b(!1),H(0),W.current&&(W.current.currentTime=0)},Rt=lt=>{var it;const X=u.find(ne=>ne.label===lt);let ee={};X!=null&&X.deviceId?((X==null?void 0:X.deviceId)==="environment"||(X==null?void 0:X.deviceId)==="user"?ee={audio:!0,video:{width:jT,height:BT,facingMode:X==null?void 0:X.deviceId}}:ee={audio:!0,video:{width:jT,height:BT,deviceId:X.deviceId}},I(ee),P&&(((it=K.current)==null?void 0:it.state)==="recording"&&(K.current.requestData(),K.current.stop()),P.getTracks().forEach(ne=>ne.stop()),M(void 0)),$e(ee)):console.error("Selected input device id is null")},Ar=[{type:"icon",name:"record",props:{icon:v.jsx(tb,{color:d||p?"":"red"}),color:"danger",disabled:d||p||x,onClick:Ze,"aria-label":le("bbm.video.record.start")},tooltip:le("bbm.video.record.start")},{type:"icon",name:"stop",props:{icon:v.jsx(dY,{}),disabled:!d||p||x,onClick:Fe,"aria-label":le("bbm.video.record.stop")},tooltip:le("bbm.video.record.stop")},{type:"icon",name:"play",visibility:y?"hide":"show",props:{icon:v.jsx(r8,{}),disabled:!p||x,onClick:Se,"aria-label":le("bbm.video.play.start")},tooltip:le("bbm.video.play.start")},{type:"icon",name:"pause",visibility:y?"show":"hide",props:{icon:v.jsx(GR,{}),disabled:!p||x,onClick:Se,"aria-label":le("bbm.video.play.pause")},tooltip:le("bbm.video.play.pause")},{type:"divider"},{type:"icon",name:"reset",props:{icon:v.jsx(s8,{}),disabled:!p||x,onClick:We,"aria-label":le("bbm.video.record.reset")},tooltip:le("bbm.video.record.reset")},{type:"icon",name:"save",visibility:s?"hide":"show",props:{icon:v.jsx(VR,{}),disabled:!p||x||_,onClick:ze,"aria-label":le("bbm.video.record.save")},tooltip:le("bbm.video.record.save")}];return v.jsxs("div",{className:"video-recorder d-flex flex-fill flex-column align-items-center",children:[v.jsx("div",{className:"video-recorder-caption",children:e}),u.length>1&&v.jsx("div",{className:"video-recorder-devices mb-12",children:v.jsxs(Jt,{id:"selectInputDevice",children:[v.jsx(ba,{children:le("bbm.video.record.select.devices.label")}),v.jsx(lP,{placeholderOption:le("bbm.video.record.select.devices.placeholder"),options:u.map(lt=>lt.label),onValueChange:Rt})]})}),v.jsxs("div",{className:"video-recorder-video-container position-relative",children:[v.jsx("video",{ref:W,playsInline:!0,autoPlay:!0,controls:!1,muted:!0,height:BT,width:jT,onEnded:Dt,className:"rounded",children:v.jsx("track",{default:!0,kind:"captions",srcLang:"fr",src:""})}),(d||p)&&v.jsxs("div",{className:"video-recorder-time d-flex align-items-center font-monospace fs-6 text-bg-dark rounded",children:[d&&v.jsxs(v.Fragment,{children:[v.jsx(tb,{width:12,height:12,color:"red",className:"me-4"}),v.jsxs("span",{children:[nh(z),"/",nh(o)]})]}),p&&v.jsxs(v.Fragment,{children:[v.jsx(n8,{width:14,height:14,className:"me-4"}),v.jsxs("span",{children:[nh(G),"/",nh(z)]})]})]}),v.jsx(hP,{items:Ar,className:"position-absolute bottom-0 start-50 bg-white"})]}),x&&v.jsx(Fi,{position:!1,caption:le("bbm.video.save.loader.caption")})]})}),i2e=r2e,n2e=()=>{const{appCode:t,setResult:e,setPreSuccess:r}=Al(),{t:i}=Je(),n=R.useRef(null),s=o=>{o?(e(o),r(()=>n.current.save)):e()},a=o=>{console.error(o)};return v.jsx(i2e,{ref:n,appCode:t,caption:i("bbm.video.caption"),onRecordUpdated:s,onError:a,hideSaveAction:!0})},s2e=({onSuccess:t})=>{const{t:e}=Je(),[r,i]=R.useState(),[n,s]=R.useState(),[a,o]=R.useState(void 0),l=iP(r||"",300),[u,c]=R.useState(),{switchType:d}=Al(),h=R.useId(),[p]=Tl();R.useEffect(()=>{g()},[]),R.useEffect(()=>{if(u&&l){const w=Ve.embedder().getProviderFromUrl(u,l);if(w){o(w);const _=Ve.embedder().getEmbedCodeForProvider(w,l);s(_),t(_)}else o(void 0),t()}},[l,u]);const g=async()=>{const w=await Promise.all([Ve.embedder().getDefault(),Ve.embedder().getCustom()]).then(_=>_.flat());c(w)};function y(w){const _=w.currentTarget.value;i(_),t(_!=null&&_.length?_:void 0)}function b(){d("embedder")}const x=()=>l?a?v.jsxs("div",{className:"mx-auto mt-16",children:[v.jsxs("div",{className:"video-embed-provider  d-flex align-items-center",children:[v.jsx(ec,{src:a.logo,alt:"Logo "+a.displayName,className:"video-embed-provider-logo"}),a.displayName]}),n&&v.jsx("div",{className:"video-embed-preview mt-12",dangerouslySetInnerHTML:{__html:n}})]}):v.jsxs("div",{className:"d-flex flex-column align-items-center m-16",children:[v.jsx(xR,{imageSrc:`${p}/emptyscreen/illu-error.svg`,title:e("bbm.video.previewError.title"),text:e("bbm.video.previewError.text")}),v.jsxs(Xt,{variant:"ghost",color:"secondary",onClick:b,className:"align-items-start mt-16",children:[e("bbm.video.useEmbedCode")," ",v.jsx(yk,{})]})]}):v.jsx("div",{className:"d-flex my-16 align-items-start",children:v.jsxs(Xt,{variant:"ghost",color:"secondary",onClick:b,className:"align-items-start",children:[e("bbm.video.useEmbedCode")," ",v.jsx(yk,{})]})});return v.jsxs("div",{className:"d-flex flex-column flex-fill video-embed",children:[v.jsxs("div",{className:"mb-8 d-flex",children:[v.jsx(e8,{className:"me-8"}),e("bbm.video.url.title")]}),v.jsx(Jt,{id:h,children:v.jsx(wn,{size:"md",type:"text",placeholder:e("bbm.video.url.placeholder"),onChange:y})}),v.jsx(v.Fragment,{children:x()})]})},a2e=s2e,o2e=()=>{const{setResult:t}=Al();return v.jsx(a2e,{onSuccess:e=>{t(e)}})},l2e=({roles:t,onSelect:e,className:r})=>{const{t:i}=Je(),{root:n,loadContent:s}=OT("owner",i("workspace.tree.owner"),"owner",t),{root:a,loadContent:o}=OT("shared",i("workspace.tree.shared"),"shared",t),{root:l,loadContent:u}=OT("protected",i("workspace.tree.protected"),"protected",t),c=R.useRef(null),d=R.useRef(null),h=R.useRef(null),[p,g]=R.useState("owner"),[y,b]=R.useState(n),[x,w]=R.useState([]),[_,E]=R.useState(null),[A,I]=R.useState(["modified","desc"]),[P,M]=R.useState([]),k=R.useCallback(D=>{switch(D){case"owner":return{root:n,othersRef:[d,h]};case"shared":return{root:a,othersRef:[c,h]};case"protected":return{root:l,othersRef:[c,d]};default:throw"no.root.node"}},[n,l,a]);R.useEffect(()=>{p==="owner"&&c.current&&c.current.select("owner")},[p]);const U=R.useCallback(()=>{if(typeof y.children>"u"||!y.children.length)switch(p){case"owner":s(y.id);break;case"shared":o(y.id);break;case"protected":u(y.id);break;default:throw"no.way"}},[p,y,s,u,o]);function j(D,G){return G(D)?D:Array.isArray(D.children)&&D.children.find(H=>j(H,G))}function B(D,G){g(D);const{root:H,othersRef:W}=k(D),K=j(H,Q=>Q.id===G);K&&(b(K),W.forEach(Q=>{var ie;return(ie=Q.current)==null?void 0:ie.unselectAll()}))}R.useEffect(U,[U]),R.useEffect(()=>{let D=[].concat(y.files||[]);_&&(D=D.filter(H=>H.name.indexOf(_)>=0));const G=A[0]==="name"?A[1]==="asc"?(H,W)=>F(H.name,W.name):(H,W)=>F(W.name,H.name):(H,W)=>F(W.modified,H.modified);w(()=>D.sort(G))},[y,n,l,a,_,A]),R.useEffect(()=>B("owner","owner"),[]);const L=R.useCallback(D=>{E(D.target.value)},[E]);function F(D,G){return D?G?D.localeCompare(G):1:-1}function O(){return A[0]==="name"?A[1]==="asc"?i("sort.order.alpha.asc"):i("sort.order.alpha.desc"):i("sort.order.modify.desc")}function $(D){let G=[...P];G.includes(D)?G=G.filter(H=>H._id!==D._id):G=[...G,D],M(G),e(G)}const z=Pe("workspace flex-grow-1 gap-0",r);return v.jsxs(ro,{className:z,children:[v.jsx(ro.Col,{sm:"12",md:"3",xl:"4",className:"workspace-folders p-12 pt-0 gap-12",children:v.jsxs("div",{style:{position:"sticky",top:0,paddingTop:"1.2rem"},children:[v.jsx(Qx,{ref:c,data:n,onTreeItemSelect:D=>B("owner",D),onTreeItemUnfold:D=>B("owner",D)}),v.jsx(Qx,{ref:d,data:a,onTreeItemSelect:D=>B("shared",D),onTreeItemUnfold:D=>B("shared",D)}),v.jsx(Qx,{ref:h,data:l,onTreeItemSelect:D=>B("protected",D),onTreeItemUnfold:D=>B("protected",D)})]})}),v.jsx(ro.Col,{sm:"12",md:"5",xl:"8",children:v.jsxs(ro,{className:"flex-grow-1 gap-0",children:[v.jsxs(ro.Col,{sm:"4",md:"8",xl:"12",children:[v.jsx("div",{className:"workspace-search px-16 py-8 ",children:v.jsx(oG,{isVariant:!0,className:"gap-16",onChange:L})}),v.jsxs("div",{className:"d-flex align-items-center justify-content-end px-8 py-4",children:[v.jsx("small",{className:"text-muted",children:i("workspace.search.order")}),v.jsxs(Bt,{children:[v.jsx(Bt.Trigger,{size:"sm",label:O(),variant:"ghost"}),v.jsxs(Bt.Menu,{children:[v.jsx(Bt.Item,{icon:v.jsx(PY,{}),onClick:()=>I(["modified","desc"]),children:i("sort.order.modify.desc")}),v.jsx(Bt.Item,{icon:v.jsx(AY,{}),onClick:()=>I(["name","asc"]),children:i("sort.order.alpha.asc")}),v.jsx(Bt.Item,{icon:v.jsx(RY,{}),onClick:()=>I(["name","desc"]),children:i("sort.order.alpha.desc")})]})]})]})]}),v.jsx(ro.Col,{sm:"4",md:"8",xl:"12",className:"p-8 gap-8",children:v.jsx("div",{className:"grid grid-workspace",children:x.map(D=>{const G=P.includes(D);return v.jsx(nbe,{doc:D,isSelected:G,onClick:()=>$(D)},D._id)})})})]})})]})},u2e=l2e,c2e=()=>{const{type:t,setResultCounter:e,setResult:r}=Al();function i(){switch(t){case"image":return"img";case"audio":return"audio";case"video":return"video";default:return null}}function n(s){e(s.length),s.length?r(s):r()}return v.jsx(u2e,{roles:i(),onSelect:n,className:"border rounded overflow-y-auto"})},Wl={Audio:K_e,Video:n2e,Upload:t2e,ExternalLink:J_e,Workspace:c2e,InternalLink:owe,Iframe:rwe,VideoEmbedder:o2e},h2e=["audio-capture","video-capture","internal-link","external-link","iframe","upload","workspace","video-embedder"],UT={none:null,audio:{title:"Ajouter un audio depuis...",defaultTab:"audio-capture"},video:{title:"Ajouter une vidéo depuis...",defaultTab:"video-capture"},image:{title:"Ajouter une image depuis...",defaultTab:"workspace"},attachment:{title:"Ajouter une pièce jointe depuis...",defaultTab:"workspace"},hyperlink:{title:"Ajouter un lien",defaultTab:"linker"},embedder:{title:"Ajout embed / iframe",defaultTab:"iframe"}},d2e=R.forwardRef(({appCode:t,onSuccess:e,onCancel:r,onTabChange:i},n)=>{var s;const a=R.useRef(null);R.useImperativeHandle(n,()=>({show:L,hide:F,showLink:O,type:h,...a.current})),Pye({isDismissible:!0,duration:1/0});const{t:o}=Je(),l=ll("org.entcore.workspace.controllers.WorkspaceController|addDocument"),u=ll("com.opendigitaleducation.video.controllers.VideoController|capture"),[c,d]=R.useState(),[h,p]=R.useState(null),g={workspace:{id:"workspace",icon:v.jsx(JF,{}),label:o("bbm.workspace"),content:v.jsx(Wl.Workspace,{}),availableFor:["audio","video","image","attachment"],isEnable:null},upload:{id:"upload",icon:v.jsx(SY,{}),label:o("bbm.device"),content:v.jsx(Wl.Upload,{}),availableFor:["audio","video","image","attachment"],isEnable:()=>!!l},"video-capture":{id:"video-capture",icon:v.jsx(n8,{}),label:o("bbm.video"),content:v.jsx(Wl.Video,{}),availableFor:["video"],isEnable:()=>!!u},"audio-capture":{id:"audio-capture",icon:v.jsx(j_,{}),label:o("bbm.audio"),content:v.jsx(Wl.Audio,{}),availableFor:["audio"],isEnable:()=>!!l},"external-link":{id:"external-link",icon:v.jsx(e8,{}),label:o("bbm.linker.ext"),content:v.jsx(Wl.ExternalLink,{...c}),availableFor:["hyperlink"],isEnable:null},"internal-link":{id:"internal-link",icon:v.jsx(KF,{}),label:o("bbm.linker.int"),content:v.jsx(Wl.InternalLink,{...c}),availableFor:["hyperlink"],isEnable:null},iframe:{id:"iframe",icon:v.jsx(uA,{}),label:o("bbm.embed"),content:v.jsx(Wl.Iframe,{}),availableFor:["embedder"],isEnable:null},"video-embedder":{id:"iframe",icon:v.jsx(uA,{}),label:o("bbm.embed"),content:v.jsx(Wl.VideoEmbedder,{}),availableFor:["video"],isEnable:null}},y=R.useMemo(()=>h2e.map(K=>g[K]).filter(K=>{var Q;return((Q=K.isEnable)==null?void 0:Q.call(K))!==!1&&(K.availableFor.length===0||K.availableFor.includes(h))}),[h]),[b,x]=R.useState(),w=R.useMemo(()=>{const K=y.findIndex(Q=>Q.id===b);return 0>K||K>=y.length?0:K},[y,b]),[_,E]=R.useState(),[A,I]=R.useState(),[P,M]=R.useState([]),[k,U]=R.useState();function j(K){throw y.findIndex(Q=>Q.id===K)<0?"tab.not.visible":"not.implemented.yet"}function B(K){d(void 0),x(void 0),p(K)}const L=K=>{p(K)},F=()=>{p(null)},O=K=>{d(K);const Q=K;!(Q!=null&&Q.resourceId)&&!(Q!=null&&Q.appPrefix)&&x("external-link"),p("hyperlink")};R.useEffect(()=>{var K,Q;const ie=h||"none";!b&&typeof((K=UT[ie])==null?void 0:K.defaultTab)=="string"&&x((Q=UT[ie])==null?void 0:Q.defaultTab)},[b,h]);const $=o(((s=UT[h??"none"])==null?void 0:s.title)??"bbm"),z=K=>M(Q=>{const ie=Q.map(fe=>fe._id),le=K.filter(fe=>fe._id&&ie.findIndex(we=>we===fe._id)<0);return Q.concat(le)}),D=()=>{I(void 0),E(void 0),d(void 0),x(void 0),U(void 0),M([])},G=K=>{i==null||i(K,P),D()},H=R.useCallback(()=>{k?k().then(K=>{e(K)}):A&&e(A),D()},[e,k,A]),W=()=>{r(P),D()};return h?v.jsx(dG.Provider,{value:{appCode:t,type:h,setResultCounter:E,setResult:I,addCancellable:z,setVisibleTab:j,switchType:B,setPreSuccess:U},children:v.jsxs(qt,{id:"media-library",isOpen:h!==null,onModalClose:W,size:"lg",viewport:!0,scrollable:!0,children:[v.jsx(qt.Header,{onModalClose:W,children:$}),v.jsx(Kx,{items:y,defaultId:y[w].id,onChange:G,children:K=>v.jsxs(v.Fragment,{children:[y.length>1&&v.jsx(Kx.List,{className:"mt-16"}),v.jsx(qt.Body,{className:"d-flex",children:v.jsx(Kx.Panel,{currentItem:K,children:K==null?void 0:K.content})})]})}),v.jsxs(qt.Footer,{children:[v.jsx(Xt,{type:"button",color:"tertiary",variant:"ghost",onClick:W,children:o("cancel")}),v.jsxs(Xt,{type:"button",color:"primary",variant:"filled",disabled:typeof A>"u",onClick:H,children:[o("add"),typeof _=="number"&&_>1&&` (${_})`]})]})]})}):null}),d3e=d2e,f2e="modulepreload",p2e=function(t){return"/blog/"+t},E6={},pi=function(e,r,i){let n=Promise.resolve();if(r&&r.length>0){const s=document.getElementsByTagName("link");n=Promise.all(r.map(a=>{if(a=p2e(a),a in E6)return;E6[a]=!0;const o=a.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!i)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===a&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":f2e,o||(c.as="script",c.crossOrigin=""),c.href=a,document.head.appendChild(c),o)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})}))}return n.then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};var m2e=function(){return null},bG,T6=Ta;bG=T6.createRoot,T6.hydrateRoot;/**
 * @remix-run/router v1.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function br(){return br=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},br.apply(this,arguments)}var Dr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Dr||(Dr={}));const A6="popstate";function g2e(t){t===void 0&&(t={});function e(i,n){let{pathname:s,search:a,hash:o}=i.location;return j0("",{pathname:s,search:a,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(i,n){return typeof n=="string"?n:k1(n)}return y2e(e,r,null,t)}function Lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function v2e(){return Math.random().toString(36).substr(2,8)}function C6(t,e){return{usr:t.state,key:t.key,idx:e}}function j0(t,e,r,i){return r===void 0&&(r=null),br({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Cl(e):e,{state:r,key:e&&e.key||i||v2e()})}function k1(t){let{pathname:e="/",search:r="",hash:i=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Cl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function y2e(t,e,r,i){i===void 0&&(i={});let{window:n=document.defaultView,v5Compat:s=!1}=i,a=n.history,o=Dr.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(br({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function d(){o=Dr.Pop;let b=c(),x=b==null?null:b-u;u=b,l&&l({action:o,location:y.location,delta:x})}function h(b,x){o=Dr.Push;let w=j0(y.location,b,x);r&&r(w,b),u=c()+1;let _=C6(w,u),E=y.createHref(w);try{a.pushState(_,"",E)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;n.location.assign(E)}s&&l&&l({action:o,location:y.location,delta:1})}function p(b,x){o=Dr.Replace;let w=j0(y.location,b,x);r&&r(w,b),u=c();let _=C6(w,u),E=y.createHref(w);a.replaceState(_,"",E),s&&l&&l({action:o,location:y.location,delta:0})}function g(b){let x=n.location.origin!=="null"?n.location.origin:n.location.href,w=typeof b=="string"?b:k1(b);return Lt(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let y={get action(){return o},get location(){return t(n,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(A6,d),l=b,()=>{n.removeEventListener(A6,d),l=null}},createHref(b){return e(n,b)},createURL:g,encodeLocation(b){let x=g(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(b){return a.go(b)}};return y}var Rr;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Rr||(Rr={}));const x2e=new Set(["lazy","caseSensitive","path","id","index","children"]);function b2e(t){return t.index===!0}function ER(t,e,r,i){return r===void 0&&(r=[]),i===void 0&&(i={}),t.map((n,s)=>{let a=[...r,s],o=typeof n.id=="string"?n.id:a.join("-");if(Lt(n.index!==!0||!n.children,"Cannot specify children on an index route"),Lt(!i[o],'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),b2e(n)){let l=br({},n,e(n),{id:o});return i[o]=l,l}else{let l=br({},n,e(n),{id:o,children:void 0});return i[o]=l,n.children&&(l.children=ER(n.children,e,a,i)),l}})}function cf(t,e,r){r===void 0&&(r="/");let i=typeof e=="string"?Cl(e):e,n=N1(i.pathname||"/",r);if(n==null)return null;let s=_G(t);w2e(s);let a=null;for(let o=0;a==null&&o<s.length;++o)a=M2e(s[o],O2e(n));return a}function _2e(t,e){let{route:r,pathname:i,params:n}=t;return{id:r.id,pathname:i,params:n,data:e[r.id],handle:r.handle}}function _G(t,e,r,i){e===void 0&&(e=[]),r===void 0&&(r=[]),i===void 0&&(i="");let n=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Lt(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let u=Th([i,l.relativePath]),c=r.concat(l);s.children&&s.children.length>0&&(Lt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_G(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:I2e(u,s.index),routesMeta:c})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))n(s,a);else for(let l of wG(s.path))n(s,a,l)}),e}function wG(t){let e=t.split("/");if(e.length===0)return[];let[r,...i]=e,n=r.endsWith("?"),s=r.replace(/\?$/,"");if(i.length===0)return n?[s,""]:[s];let a=wG(i.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),n&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function w2e(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:P2e(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const S2e=/^:[\w-]+$/,E2e=3,T2e=2,A2e=1,C2e=10,R2e=-2,R6=t=>t==="*";function I2e(t,e){let r=t.split("/"),i=r.length;return r.some(R6)&&(i+=R2e),e&&(i+=T2e),r.filter(n=>!R6(n)).reduce((n,s)=>n+(S2e.test(s)?E2e:s===""?A2e:C2e),i)}function P2e(t,e){return t.length===e.length&&t.slice(0,-1).every((i,n)=>i===e[n])?t[t.length-1]-e[e.length-1]:0}function M2e(t,e){let{routesMeta:r}=t,i={},n="/",s=[];for(let a=0;a<r.length;++a){let o=r[a],l=a===r.length-1,u=n==="/"?e:e.slice(n.length)||"/",c=k2e({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},u);if(!c)return null;Object.assign(i,c.params);let d=o.route;s.push({params:i,pathname:Th([n,c.pathname]),pathnameBase:U2e(Th([n,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(n=Th([n,c.pathnameBase]))}return s}function k2e(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,i]=N2e(t.path,t.caseSensitive,t.end),n=e.match(r);if(!n)return null;let s=n[0],a=s.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:i.reduce((u,c,d)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let y=o[d]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=o[d];return p&&!g?u[h]=void 0:u[h]=L2e(g||"",h),u},{}),pathname:s,pathnameBase:a,pattern:t}}function N2e(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Hh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,e?void 0:"i"),i]}function O2e(t){try{return decodeURI(t)}catch(e){return Hh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function L2e(t,e){try{return decodeURIComponent(t)}catch(r){return Hh(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function N1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=t.charAt(r);return i&&i!=="/"?null:t.slice(r)||"/"}function D2e(t,e){e===void 0&&(e="/");let{pathname:r,search:i="",hash:n=""}=typeof t=="string"?Cl(t):t;return{pathname:r?r.startsWith("/")?r:F2e(r,e):e,search:$2e(i),hash:z2e(n)}}function F2e(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function $T(t,e,r,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function SG(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function B2e(t,e){let r=SG(t);return e?r.map((i,n)=>n===t.length-1?i.pathname:i.pathnameBase):r.map(i=>i.pathnameBase)}function j2e(t,e,r,i){i===void 0&&(i=!1);let n;typeof t=="string"?n=Cl(t):(n=br({},t),Lt(!n.pathname||!n.pathname.includes("?"),$T("?","pathname","search",n)),Lt(!n.pathname||!n.pathname.includes("#"),$T("#","pathname","hash",n)),Lt(!n.search||!n.search.includes("#"),$T("#","search","hash",n)));let s=t===""||n.pathname==="",a=s?"/":n.pathname,o;if(a==null)o=r;else{let d=e.length-1;if(!i&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;n.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=D2e(n,o),u=a&&a!=="/"&&a.endsWith("/"),c=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Th=t=>t.join("/").replace(/\/\/+/g,"/"),U2e=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$2e=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,z2e=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,f3e=function(e,r){r===void 0&&(r=302);let i=r;typeof i=="number"?i={status:i}:typeof i.status>"u"&&(i.status=302);let n=new Headers(i.headers);return n.set("Location",e),new Response(null,br({},i,{headers:n}))};class gP{constructor(e,r,i,n){n===void 0&&(n=!1),this.status=e,this.statusText=r||"",this.internal=n,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function EG(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const TG=["post","put","patch","delete"],H2e=new Set(TG),G2e=["get",...TG],V2e=new Set(G2e),W2e=new Set([301,302,303,307,308]),X2e=new Set([307,308]),zT={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Y2e={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Om={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},AG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q2e=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),CG="remix-router-transitions";function K2e(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!r;Lt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let n;if(t.mapRouteProperties)n=t.mapRouteProperties;else if(t.detectErrorBoundary){let Z=t.detectErrorBoundary;n=re=>({hasErrorBoundary:Z(re)})}else n=q2e;let s={},a=ER(t.routes,n,void 0,s),o,l=t.basename||"/",u=br({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),c=null,d=new Set,h=null,p=null,g=null,y=t.hydrationData!=null,b=cf(a,t.history.location,l),x=null;if(b==null){let Z=ms(404,{pathname:t.history.location.pathname}),{matches:re,route:oe}=D6(a);b=re,x={[oe.id]:Z}}let w,_=b.some(Z=>Z.route.lazy),E=b.some(Z=>Z.route.loader);if(_)w=!1;else if(!E)w=!0;else if(u.v7_partialHydration){let Z=t.hydrationData?t.hydrationData.loaderData:null,re=t.hydrationData?t.hydrationData.errors:null;w=b.every(oe=>oe.route.loader&&oe.route.loader.hydrate!==!0&&(Z&&Z[oe.route.id]!==void 0||re&&re[oe.route.id]!==void 0))}else w=t.hydrationData!=null;let A,I={historyAction:t.history.action,location:t.history.location,matches:b,initialized:w,navigation:zT,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||x,fetchers:new Map,blockers:new Map},P=Dr.Pop,M=!1,k,U=!1,j=new Map,B=null,L=!1,F=!1,O=[],$=[],z=new Map,D=0,G=-1,H=new Map,W=new Set,K=new Map,Q=new Map,ie=new Set,le=new Map,fe=new Map,we=!1;function $e(){if(c=t.history.listen(Z=>{let{action:re,location:oe,delta:Ee}=Z;if(we){we=!1;return}Hh(fe.size===0||Ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let He=pc({currentLocation:I.location,nextLocation:oe,historyAction:re});if(He&&Ee!=null){we=!0,t.history.go(Ee*-1),js(He,{state:"blocked",location:oe,proceed(){js(He,{state:"proceeding",proceed:void 0,reset:void 0,location:oe}),t.history.go(Ee)},reset(){let _t=new Map(I.blockers);_t.set(He,Om),Se({blockers:_t})}});return}return Rt(re,oe)}),r){oSe(e,j);let Z=()=>lSe(e,j);e.addEventListener("pagehide",Z),B=()=>e.removeEventListener("pagehide",Z)}return I.initialized||Rt(Dr.Pop,I.location,{initialHydration:!0}),A}function Ze(){c&&c(),B&&B(),d.clear(),k&&k.abort(),I.fetchers.forEach((Z,re)=>Me(re)),I.blockers.forEach((Z,re)=>Bs(re))}function Fe(Z){return d.add(Z),()=>d.delete(Z)}function Se(Z,re){re===void 0&&(re={}),I=br({},I,Z);let oe=[],Ee=[];u.v7_fetcherPersist&&I.fetchers.forEach((He,_t)=>{He.state==="idle"&&(ie.has(_t)?Ee.push(_t):oe.push(_t))}),[...d].forEach(He=>He(I,{deletedFetchers:Ee,unstable_viewTransitionOpts:re.viewTransitionOpts,unstable_flushSync:re.flushSync===!0})),u.v7_fetcherPersist&&(oe.forEach(He=>I.fetchers.delete(He)),Ee.forEach(He=>Me(He)))}function We(Z,re,oe){var Ee,He;let{flushSync:_t}=oe===void 0?{}:oe,dt=I.actionData!=null&&I.navigation.formMethod!=null&&ia(I.navigation.formMethod)&&I.navigation.state==="loading"&&((Ee=Z.state)==null?void 0:Ee._isRedirect)!==!0,ct;re.actionData?Object.keys(re.actionData).length>0?ct=re.actionData:ct=null:dt?ct=I.actionData:ct=null;let nt=re.loaderData?L6(I.loaderData,re.loaderData,re.matches||[],re.errors):I.loaderData,At=I.blockers;At.size>0&&(At=new Map(At),At.forEach((Qt,Gr)=>At.set(Gr,Om)));let Or=M===!0||I.navigation.formMethod!=null&&ia(I.navigation.formMethod)&&((He=Z.state)==null?void 0:He._isRedirect)!==!0;o&&(a=o,o=void 0),L||P===Dr.Pop||(P===Dr.Push?t.history.push(Z,Z.state):P===Dr.Replace&&t.history.replace(Z,Z.state));let gt;if(P===Dr.Pop){let Qt=j.get(I.location.pathname);Qt&&Qt.has(Z.pathname)?gt={currentLocation:I.location,nextLocation:Z}:j.has(Z.pathname)&&(gt={currentLocation:Z,nextLocation:I.location})}else if(U){let Qt=j.get(I.location.pathname);Qt?Qt.add(Z.pathname):(Qt=new Set([Z.pathname]),j.set(I.location.pathname,Qt)),gt={currentLocation:I.location,nextLocation:Z}}Se(br({},re,{actionData:ct,loaderData:nt,historyAction:P,location:Z,initialized:!0,navigation:zT,revalidation:"idle",restoreScrollPosition:F1(Z,re.matches||I.matches),preventScrollReset:Or,blockers:At}),{viewTransitionOpts:gt,flushSync:_t===!0}),P=Dr.Pop,M=!1,U=!1,L=!1,F=!1,O=[],$=[]}async function ze(Z,re){if(typeof Z=="number"){t.history.go(Z);return}let oe=TR(I.location,I.matches,l,u.v7_prependBasename,Z,u.v7_relativeSplatPath,re==null?void 0:re.fromRouteId,re==null?void 0:re.relative),{path:Ee,submission:He,error:_t}=I6(u.v7_normalizeFormMethod,!1,oe,re),dt=I.location,ct=j0(I.location,Ee,re&&re.state);ct=br({},ct,t.history.encodeLocation(ct));let nt=re&&re.replace!=null?re.replace:void 0,At=Dr.Push;nt===!0?At=Dr.Replace:nt===!1||He!=null&&ia(He.formMethod)&&He.formAction===I.location.pathname+I.location.search&&(At=Dr.Replace);let Or=re&&"preventScrollReset"in re?re.preventScrollReset===!0:void 0,gt=(re&&re.unstable_flushSync)===!0,Qt=pc({currentLocation:dt,nextLocation:ct,historyAction:At});if(Qt){js(Qt,{state:"blocked",location:ct,proceed(){js(Qt,{state:"proceeding",proceed:void 0,reset:void 0,location:ct}),ze(Z,re)},reset(){let Gr=new Map(I.blockers);Gr.set(Qt,Om),Se({blockers:Gr})}});return}return await Rt(At,ct,{submission:He,pendingError:_t,preventScrollReset:Or,replace:re&&re.replace,enableViewTransition:re&&re.unstable_viewTransition,flushSync:gt})}function Dt(){if(ve(),Se({revalidation:"loading"}),I.navigation.state!=="submitting"){if(I.navigation.state==="idle"){Rt(I.historyAction,I.location,{startUninterruptedRevalidation:!0});return}Rt(P||I.historyAction,I.navigation.location,{overrideNavigation:I.navigation})}}async function Rt(Z,re,oe){k&&k.abort(),k=null,P=Z,L=(oe&&oe.startUninterruptedRevalidation)===!0,i2(I.location,I.matches),M=(oe&&oe.preventScrollReset)===!0,U=(oe&&oe.enableViewTransition)===!0;let Ee=o||a,He=oe&&oe.overrideNavigation,_t=cf(Ee,re,l),dt=(oe&&oe.flushSync)===!0;if(!_t){let Gr=ms(404,{pathname:re.pathname}),{matches:vi,route:jr}=D6(Ee);td(),We(re,{matches:vi,loaderData:{},errors:{[jr.id]:Gr}},{flushSync:dt});return}if(I.initialized&&!F&&tSe(I.location,re)&&!(oe&&oe.submission&&ia(oe.submission.formMethod))){We(re,{matches:_t},{flushSync:dt});return}k=new AbortController;let ct=Dm(t.history,re,k.signal,oe&&oe.submission),nt,At;if(oe&&oe.pendingError)At={[Ug(_t).route.id]:oe.pendingError};else if(oe&&oe.submission&&ia(oe.submission.formMethod)){let Gr=await Ar(ct,re,oe.submission,_t,{replace:oe.replace,flushSync:dt});if(Gr.shortCircuited)return;nt=Gr.pendingActionData,At=Gr.pendingActionError,He=HT(re,oe.submission),dt=!1,ct=new Request(ct.url,{signal:ct.signal})}let{shortCircuited:Or,loaderData:gt,errors:Qt}=await lt(ct,re,_t,He,oe&&oe.submission,oe&&oe.fetcherSubmission,oe&&oe.replace,oe&&oe.initialHydration===!0,dt,nt,At);Or||(k=null,We(re,br({matches:_t},nt?{actionData:nt}:{},{loaderData:gt,errors:Qt})))}async function Ar(Z,re,oe,Ee,He){He===void 0&&(He={}),ve();let _t=sSe(re,oe);Se({navigation:_t},{flushSync:He.flushSync===!0});let dt,ct=CR(Ee,re);if(!ct.route.action&&!ct.route.lazy)dt={type:Rr.error,error:ms(405,{method:Z.method,pathname:re.pathname,routeId:ct.route.id})};else if(dt=await Lm("action",Z,ct,Ee,s,n,l,u.v7_relativeSplatPath),Z.signal.aborted)return{shortCircuited:!0};if(ah(dt)){let nt;return He&&He.replace!=null?nt=He.replace:nt=dt.location===I.location.pathname+I.location.search,await ne(I,dt,{submission:oe,replace:nt}),{shortCircuited:!0}}if(hf(dt)){let nt=Ug(Ee,ct.route.id);return(He&&He.replace)!==!0&&(P=Dr.Push),{pendingActionData:{},pendingActionError:{[nt.route.id]:dt.error}}}if(sh(dt))throw ms(400,{type:"defer-action"});return{pendingActionData:{[ct.route.id]:dt.data}}}async function lt(Z,re,oe,Ee,He,_t,dt,ct,nt,At,Or){let gt=Ee||HT(re,He),Qt=He||_t||j6(gt),Gr=o||a,[vi,jr]=P6(t.history,I,oe,Qt,re,u.v7_partialHydration&&ct===!0,F,O,$,ie,K,W,Gr,l,At,Or);if(td(Yt=>!(oe&&oe.some(tr=>tr.route.id===Yt))||vi&&vi.some(tr=>tr.route.id===Yt)),G=++D,vi.length===0&&jr.length===0){let Yt=St();return We(re,br({matches:oe,loaderData:{},errors:Or||null},At?{actionData:At}:{},Yt?{fetchers:new Map(I.fetchers)}:{}),{flushSync:nt}),{shortCircuited:!0}}if(!L&&(!u.v7_partialHydration||!ct)){jr.forEach(tr=>{let Jn=I.fetchers.get(tr.key),Ra=Fm(void 0,Jn?Jn.data:void 0);I.fetchers.set(tr.key,Ra)});let Yt=At||I.actionData;Se(br({navigation:gt},Yt?Object.keys(Yt).length===0?{actionData:null}:{actionData:Yt}:{},jr.length>0?{fetchers:new Map(I.fetchers)}:{}),{flushSync:nt})}jr.forEach(Yt=>{z.has(Yt.key)&&er(Yt.key),Yt.controller&&z.set(Yt.key,Yt.controller)});let Rl=()=>jr.forEach(Yt=>er(Yt.key));k&&k.signal.addEventListener("abort",Rl);let{results:Bp,loaderResults:Il,fetcherResults:Ca}=await _e(I.matches,oe,vi,jr,Z);if(Z.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",Rl),jr.forEach(Yt=>z.delete(Yt.key));let Co=F6(Bp);if(Co){if(Co.idx>=vi.length){let Yt=jr[Co.idx-vi.length].key;W.add(Yt)}return await ne(I,Co.result,{replace:dt}),{shortCircuited:!0}}let{loaderData:jp,errors:Up}=O6(I,oe,vi,Il,Or,jr,Ca,le);le.forEach((Yt,tr)=>{Yt.subscribe(Jn=>{(Jn||Yt.done)&&le.delete(tr)})});let $p=St(),Pl=st(G),rd=$p||Pl||jr.length>0;return br({loaderData:jp,errors:Up},rd?{fetchers:new Map(I.fetchers)}:{})}function it(Z,re,oe,Ee){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");z.has(Z)&&er(Z);let He=(Ee&&Ee.unstable_flushSync)===!0,_t=o||a,dt=TR(I.location,I.matches,l,u.v7_prependBasename,oe,u.v7_relativeSplatPath,re,Ee==null?void 0:Ee.relative),ct=cf(_t,dt,l);if(!ct){pe(Z,re,ms(404,{pathname:dt}),{flushSync:He});return}let{path:nt,submission:At,error:Or}=I6(u.v7_normalizeFormMethod,!0,dt,Ee);if(Or){pe(Z,re,Or,{flushSync:He});return}let gt=CR(ct,nt);if(M=(Ee&&Ee.preventScrollReset)===!0,At&&ia(At.formMethod)){X(Z,re,nt,gt,ct,He,At);return}K.set(Z,{routeId:re,path:nt}),ee(Z,re,nt,gt,ct,He,At)}async function X(Z,re,oe,Ee,He,_t,dt){if(ve(),K.delete(Z),!Ee.route.action&&!Ee.route.lazy){let tr=ms(405,{method:dt.formMethod,pathname:oe,routeId:re});pe(Z,re,tr,{flushSync:_t});return}let ct=I.fetchers.get(Z);ce(Z,aSe(dt,ct),{flushSync:_t});let nt=new AbortController,At=Dm(t.history,oe,nt.signal,dt);z.set(Z,nt);let Or=D,gt=await Lm("action",At,Ee,He,s,n,l,u.v7_relativeSplatPath);if(At.signal.aborted){z.get(Z)===nt&&z.delete(Z);return}if(u.v7_fetcherPersist&&ie.has(Z)){if(ah(gt)||hf(gt)){ce(Z,Zl(void 0));return}}else{if(ah(gt))if(z.delete(Z),G>Or){ce(Z,Zl(void 0));return}else return W.add(Z),ce(Z,Fm(dt)),ne(I,gt,{fetcherSubmission:dt});if(hf(gt)){pe(Z,re,gt.error);return}}if(sh(gt))throw ms(400,{type:"defer-action"});let Qt=I.navigation.location||I.location,Gr=Dm(t.history,Qt,nt.signal),vi=o||a,jr=I.navigation.state!=="idle"?cf(vi,I.navigation.location,l):I.matches;Lt(jr,"Didn't find any matches after fetcher action");let Rl=++D;H.set(Z,Rl);let Bp=Fm(dt,gt.data);I.fetchers.set(Z,Bp);let[Il,Ca]=P6(t.history,I,jr,dt,Qt,!1,F,O,$,ie,K,W,vi,l,{[Ee.route.id]:gt.data},void 0);Ca.filter(tr=>tr.key!==Z).forEach(tr=>{let Jn=tr.key,Ra=I.fetchers.get(Jn),zp=Fm(void 0,Ra?Ra.data:void 0);I.fetchers.set(Jn,zp),z.has(Jn)&&er(Jn),tr.controller&&z.set(Jn,tr.controller)}),Se({fetchers:new Map(I.fetchers)});let Co=()=>Ca.forEach(tr=>er(tr.key));nt.signal.addEventListener("abort",Co);let{results:jp,loaderResults:Up,fetcherResults:$p}=await _e(I.matches,jr,Il,Ca,Gr);if(nt.signal.aborted)return;nt.signal.removeEventListener("abort",Co),H.delete(Z),z.delete(Z),Ca.forEach(tr=>z.delete(tr.key));let Pl=F6(jp);if(Pl){if(Pl.idx>=Il.length){let tr=Ca[Pl.idx-Il.length].key;W.add(tr)}return ne(I,Pl.result)}let{loaderData:rd,errors:Yt}=O6(I,I.matches,Il,Up,void 0,Ca,$p,le);if(I.fetchers.has(Z)){let tr=Zl(gt.data);I.fetchers.set(Z,tr)}st(Rl),I.navigation.state==="loading"&&Rl>G?(Lt(P,"Expected pending action"),k&&k.abort(),We(I.navigation.location,{matches:jr,loaderData:rd,errors:Yt,fetchers:new Map(I.fetchers)})):(Se({errors:Yt,loaderData:L6(I.loaderData,rd,jr,Yt),fetchers:new Map(I.fetchers)}),F=!1)}async function ee(Z,re,oe,Ee,He,_t,dt){let ct=I.fetchers.get(Z);ce(Z,Fm(dt,ct?ct.data:void 0),{flushSync:_t});let nt=new AbortController,At=Dm(t.history,oe,nt.signal);z.set(Z,nt);let Or=D,gt=await Lm("loader",At,Ee,He,s,n,l,u.v7_relativeSplatPath);if(sh(gt)&&(gt=await PG(gt,At.signal,!0)||gt),z.get(Z)===nt&&z.delete(Z),!At.signal.aborted){if(ie.has(Z)){ce(Z,Zl(void 0));return}if(ah(gt))if(G>Or){ce(Z,Zl(void 0));return}else{W.add(Z),await ne(I,gt);return}if(hf(gt)){pe(Z,re,gt.error);return}Lt(!sh(gt),"Unhandled fetcher deferred data"),ce(Z,Zl(gt.data))}}async function ne(Z,re,oe){let{submission:Ee,fetcherSubmission:He,replace:_t}=oe===void 0?{}:oe;re.revalidate&&(F=!0);let dt=j0(Z.location,re.location,{_isRedirect:!0});if(Lt(dt,"Expected a location on the redirect navigation"),r){let Qt=!1;if(re.reloadDocument)Qt=!0;else if(AG.test(re.location)){const Gr=t.history.createURL(re.location);Qt=Gr.origin!==e.location.origin||N1(Gr.pathname,l)==null}if(Qt){_t?e.location.replace(re.location):e.location.assign(re.location);return}}k=null;let ct=_t===!0?Dr.Replace:Dr.Push,{formMethod:nt,formAction:At,formEncType:Or}=Z.navigation;!Ee&&!He&&nt&&At&&Or&&(Ee=j6(Z.navigation));let gt=Ee||He;if(X2e.has(re.status)&&gt&&ia(gt.formMethod))await Rt(ct,dt,{submission:br({},gt,{formAction:re.location}),preventScrollReset:M});else{let Qt=HT(dt,Ee);await Rt(ct,dt,{overrideNavigation:Qt,fetcherSubmission:He,preventScrollReset:M})}}async function _e(Z,re,oe,Ee,He){let _t=await Promise.all([...oe.map(nt=>Lm("loader",He,nt,re,s,n,l,u.v7_relativeSplatPath)),...Ee.map(nt=>nt.matches&&nt.match&&nt.controller?Lm("loader",Dm(t.history,nt.path,nt.controller.signal),nt.match,nt.matches,s,n,l,u.v7_relativeSplatPath):{type:Rr.error,error:ms(404,{pathname:nt.path})})]),dt=_t.slice(0,oe.length),ct=_t.slice(oe.length);return await Promise.all([B6(Z,oe,dt,dt.map(()=>He.signal),!1,I.loaderData),B6(Z,Ee.map(nt=>nt.match),ct,Ee.map(nt=>nt.controller?nt.controller.signal:null),!0)]),{results:_t,loaderResults:dt,fetcherResults:ct}}function ve(){F=!0,O.push(...td()),K.forEach((Z,re)=>{z.has(re)&&($.push(re),er(re))})}function ce(Z,re,oe){oe===void 0&&(oe={}),I.fetchers.set(Z,re),Se({fetchers:new Map(I.fetchers)},{flushSync:(oe&&oe.flushSync)===!0})}function pe(Z,re,oe,Ee){Ee===void 0&&(Ee={});let He=Ug(I.matches,re);Me(Z),Se({errors:{[He.route.id]:oe},fetchers:new Map(I.fetchers)},{flushSync:(Ee&&Ee.flushSync)===!0})}function je(Z){return u.v7_fetcherPersist&&(Q.set(Z,(Q.get(Z)||0)+1),ie.has(Z)&&ie.delete(Z)),I.fetchers.get(Z)||Y2e}function Me(Z){let re=I.fetchers.get(Z);z.has(Z)&&!(re&&re.state==="loading"&&H.has(Z))&&er(Z),K.delete(Z),H.delete(Z),W.delete(Z),ie.delete(Z),I.fetchers.delete(Z)}function mt(Z){if(u.v7_fetcherPersist){let re=(Q.get(Z)||0)-1;re<=0?(Q.delete(Z),ie.add(Z)):Q.set(Z,re)}else Me(Z);Se({fetchers:new Map(I.fetchers)})}function er(Z){let re=z.get(Z);Lt(re,"Expected fetch controller: "+Z),re.abort(),z.delete(Z)}function gi(Z){for(let re of Z){let oe=je(re),Ee=Zl(oe.data);I.fetchers.set(re,Ee)}}function St(){let Z=[],re=!1;for(let oe of W){let Ee=I.fetchers.get(oe);Lt(Ee,"Expected fetcher: "+oe),Ee.state==="loading"&&(W.delete(oe),Z.push(oe),re=!0)}return gi(Z),re}function st(Z){let re=[];for(let[oe,Ee]of H)if(Ee<Z){let He=I.fetchers.get(oe);Lt(He,"Expected fetcher: "+oe),He.state==="loading"&&(er(oe),H.delete(oe),re.push(oe))}return gi(re),re.length>0}function Ii(Z,re){let oe=I.blockers.get(Z)||Om;return fe.get(Z)!==re&&fe.set(Z,re),oe}function Bs(Z){I.blockers.delete(Z),fe.delete(Z)}function js(Z,re){let oe=I.blockers.get(Z)||Om;Lt(oe.state==="unblocked"&&re.state==="blocked"||oe.state==="blocked"&&re.state==="blocked"||oe.state==="blocked"&&re.state==="proceeding"||oe.state==="blocked"&&re.state==="unblocked"||oe.state==="proceeding"&&re.state==="unblocked","Invalid blocker state transition: "+oe.state+" -> "+re.state);let Ee=new Map(I.blockers);Ee.set(Z,re),Se({blockers:Ee})}function pc(Z){let{currentLocation:re,nextLocation:oe,historyAction:Ee}=Z;if(fe.size===0)return;fe.size>1&&Hh(!1,"A router only supports one blocker at a time");let He=Array.from(fe.entries()),[_t,dt]=He[He.length-1],ct=I.blockers.get(_t);if(!(ct&&ct.state==="proceeding")&&dt({currentLocation:re,nextLocation:oe,historyAction:Ee}))return _t}function td(Z){let re=[];return le.forEach((oe,Ee)=>{(!Z||Z(Ee))&&(oe.cancel(),re.push(Ee),le.delete(Ee))}),re}function r2(Z,re,oe){if(h=Z,g=re,p=oe||null,!y&&I.navigation===zT){y=!0;let Ee=F1(I.location,I.matches);Ee!=null&&Se({restoreScrollPosition:Ee})}return()=>{h=null,g=null,p=null}}function D1(Z,re){return p&&p(Z,re.map(Ee=>_2e(Ee,I.loaderData)))||Z.key}function i2(Z,re){if(h&&g){let oe=D1(Z,re);h[oe]=g()}}function F1(Z,re){if(h){let oe=D1(Z,re),Ee=h[oe];if(typeof Ee=="number")return Ee}return null}function n2(Z){s={},o=ER(Z,n,void 0,s)}return A={get basename(){return l},get future(){return u},get state(){return I},get routes(){return a},get window(){return e},initialize:$e,subscribe:Fe,enableScrollRestoration:r2,navigate:ze,fetch:it,revalidate:Dt,createHref:Z=>t.history.createHref(Z),encodeLocation:Z=>t.history.encodeLocation(Z),getFetcher:je,deleteFetcher:mt,dispose:Ze,getBlocker:Ii,deleteBlocker:Bs,_internalFetchControllers:z,_internalActiveDeferreds:le,_internalSetRoutes:n2},A}function Q2e(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function TR(t,e,r,i,n,s,a,o){let l,u;if(a){l=[];for(let d of e)if(l.push(d),d.route.id===a){u=d;break}}else l=e,u=e[e.length-1];let c=j2e(n||".",B2e(l,s),N1(t.pathname,r)||t.pathname,o==="path");return n==null&&(c.search=t.search,c.hash=t.hash),(n==null||n===""||n===".")&&u&&u.route.index&&!vP(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i&&r!=="/"&&(c.pathname=c.pathname==="/"?r:Th([r,c.pathname])),k1(c)}function I6(t,e,r,i){if(!i||!Q2e(i))return{path:r};if(i.formMethod&&!nSe(i.formMethod))return{path:r,error:ms(405,{method:i.formMethod})};let n=()=>({path:r,error:ms(400,{type:"invalid-body"})}),s=i.formMethod||"get",a=t?s.toUpperCase():s.toLowerCase(),o=IG(r);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!ia(a))return n();let h=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((p,g)=>{let[y,b]=g;return""+p+y+"="+b+`
`},""):String(i.body);return{path:r,submission:{formMethod:a,formAction:o,formEncType:i.formEncType,formData:void 0,json:void 0,text:h}}}else if(i.formEncType==="application/json"){if(!ia(a))return n();try{let h=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:r,submission:{formMethod:a,formAction:o,formEncType:i.formEncType,formData:void 0,json:h,text:void 0}}}catch{return n()}}}Lt(typeof FormData=="function","FormData is not available in this environment");let l,u;if(i.formData)l=AR(i.formData),u=i.formData;else if(i.body instanceof FormData)l=AR(i.body),u=i.body;else if(i.body instanceof URLSearchParams)l=i.body,u=N6(l);else if(i.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(i.body),u=N6(l)}catch{return n()}let c={formMethod:a,formAction:o,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(ia(c.formMethod))return{path:r,submission:c};let d=Cl(r);return e&&d.search&&vP(d.search)&&l.append("index",""),d.search="?"+l,{path:k1(d),submission:c}}function Z2e(t,e){let r=t;if(e){let i=t.findIndex(n=>n.route.id===e);i>=0&&(r=t.slice(0,i))}return r}function P6(t,e,r,i,n,s,a,o,l,u,c,d,h,p,g,y){let b=y?Object.values(y)[0]:g?Object.values(g)[0]:void 0,x=t.createURL(e.location),w=t.createURL(n),_=y?Object.keys(y)[0]:void 0,A=Z2e(r,_).filter((P,M)=>{let{route:k}=P;if(k.lazy)return!0;if(k.loader==null)return!1;if(s)return k.loader.hydrate?!0:e.loaderData[k.id]===void 0&&(!e.errors||e.errors[k.id]===void 0);if(J2e(e.loaderData,e.matches[M],P)||o.some(B=>B===P.route.id))return!0;let U=e.matches[M],j=P;return M6(P,br({currentUrl:x,currentParams:U.params,nextUrl:w,nextParams:j.params},i,{actionResult:b,defaultShouldRevalidate:a||x.pathname+x.search===w.pathname+w.search||x.search!==w.search||RG(U,j)}))}),I=[];return c.forEach((P,M)=>{if(s||!r.some(L=>L.route.id===P.routeId)||u.has(M))return;let k=cf(h,P.path,p);if(!k){I.push({key:M,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let U=e.fetchers.get(M),j=CR(k,P.path),B=!1;d.has(M)?B=!1:l.includes(M)?B=!0:U&&U.state!=="idle"&&U.data===void 0?B=a:B=M6(j,br({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:r[r.length-1].params},i,{actionResult:b,defaultShouldRevalidate:a})),B&&I.push({key:M,routeId:P.routeId,path:P.path,matches:k,match:j,controller:new AbortController})}),[A,I]}function J2e(t,e,r){let i=!e||r.route.id!==e.route.id,n=t[r.route.id]===void 0;return i||n}function RG(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function M6(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function k6(t,e,r){if(!t.lazy)return;let i=await t.lazy();if(!t.lazy)return;let n=r[t.id];Lt(n,"No route found in manifest");let s={};for(let a in i){let l=n[a]!==void 0&&a!=="hasErrorBoundary";Hh(!l,'Route "'+n.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!x2e.has(a)&&(s[a]=i[a])}Object.assign(n,s),Object.assign(n,br({},e(n),{lazy:void 0}))}async function Lm(t,e,r,i,n,s,a,o,l){l===void 0&&(l={});let u,c,d,h=y=>{let b,x=new Promise((w,_)=>b=_);return d=()=>b(),e.signal.addEventListener("abort",d),Promise.race([y({request:e,params:r.params,context:l.requestContext}),x])};try{let y=r.route[t];if(r.route.lazy)if(y){let b,x=await Promise.all([h(y).catch(w=>{b=w}),k6(r.route,s,n)]);if(b)throw b;c=x[0]}else if(await k6(r.route,s,n),y=r.route[t],y)c=await h(y);else if(t==="action"){let b=new URL(e.url),x=b.pathname+b.search;throw ms(405,{method:e.method,pathname:x,routeId:r.route.id})}else return{type:Rr.data,data:void 0};else if(y)c=await h(y);else{let b=new URL(e.url),x=b.pathname+b.search;throw ms(404,{pathname:x})}Lt(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(y){u=Rr.error,c=y}finally{d&&e.signal.removeEventListener("abort",d)}if(iSe(c)){let y=c.status;if(W2e.has(y)){let x=c.headers.get("Location");if(Lt(x,"Redirects returned/thrown from loaders/actions must have a Location header"),!AG.test(x))x=TR(new URL(e.url),i.slice(0,i.indexOf(r)+1),a,!0,x,o);else if(!l.isStaticRequest){let w=new URL(e.url),_=x.startsWith("//")?new URL(w.protocol+x):new URL(x),E=N1(_.pathname,a)!=null;_.origin===w.origin&&E&&(x=_.pathname+_.search+_.hash)}if(l.isStaticRequest)throw c.headers.set("Location",x),c;return{type:Rr.redirect,status:y,location:x,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===Rr.error?Rr.error:Rr.data,response:c};let b;try{let x=c.headers.get("Content-Type");x&&/\bapplication\/json\b/.test(x)?c.body==null?b=null:b=await c.json():b=await c.text()}catch(x){return{type:Rr.error,error:x}}return u===Rr.error?{type:u,error:new gP(y,c.statusText,b),headers:c.headers}:{type:Rr.data,data:b,statusCode:c.status,headers:c.headers}}if(u===Rr.error)return{type:u,error:c};if(rSe(c)){var p,g;return{type:Rr.deferred,deferredData:c,statusCode:(p=c.init)==null?void 0:p.status,headers:((g=c.init)==null?void 0:g.headers)&&new Headers(c.init.headers)}}return{type:Rr.data,data:c}}function Dm(t,e,r,i){let n=t.createURL(IG(e)).toString(),s={signal:r};if(i&&ia(i.formMethod)){let{formMethod:a,formEncType:o}=i;s.method=a.toUpperCase(),o==="application/json"?(s.headers=new Headers({"Content-Type":o}),s.body=JSON.stringify(i.json)):o==="text/plain"?s.body=i.text:o==="application/x-www-form-urlencoded"&&i.formData?s.body=AR(i.formData):s.body=i.formData}return new Request(n,s)}function AR(t){let e=new URLSearchParams;for(let[r,i]of t.entries())e.append(r,typeof i=="string"?i:i.name);return e}function N6(t){let e=new FormData;for(let[r,i]of t.entries())e.append(r,i);return e}function eSe(t,e,r,i,n){let s={},a=null,o,l=!1,u={};return r.forEach((c,d)=>{let h=e[d].route.id;if(Lt(!ah(c),"Cannot handle redirect results in processLoaderData"),hf(c)){let p=Ug(t,h),g=c.error;i&&(g=Object.values(i)[0],i=void 0),a=a||{},a[p.route.id]==null&&(a[p.route.id]=g),s[h]=void 0,l||(l=!0,o=EG(c.error)?c.error.status:500),c.headers&&(u[h]=c.headers)}else sh(c)?(n.set(h,c.deferredData),s[h]=c.deferredData.data):s[h]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(o=c.statusCode),c.headers&&(u[h]=c.headers)}),i&&(a=i,s[Object.keys(i)[0]]=void 0),{loaderData:s,errors:a,statusCode:o||200,loaderHeaders:u}}function O6(t,e,r,i,n,s,a,o){let{loaderData:l,errors:u}=eSe(e,r,i,n,o);for(let c=0;c<s.length;c++){let{key:d,match:h,controller:p}=s[c];Lt(a!==void 0&&a[c]!==void 0,"Did not find corresponding fetcher result");let g=a[c];if(!(p&&p.signal.aborted))if(hf(g)){let y=Ug(t.matches,h==null?void 0:h.route.id);u&&u[y.route.id]||(u=br({},u,{[y.route.id]:g.error})),t.fetchers.delete(d)}else if(ah(g))Lt(!1,"Unhandled fetcher revalidation redirect");else if(sh(g))Lt(!1,"Unhandled fetcher deferred data");else{let y=Zl(g.data);t.fetchers.set(d,y)}}return{loaderData:l,errors:u}}function L6(t,e,r,i){let n=br({},e);for(let s of r){let a=s.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(n[a]=e[a]):t[a]!==void 0&&s.route.loader&&(n[a]=t[a]),i&&i.hasOwnProperty(a))break}return n}function Ug(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function D6(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ms(t,e){let{pathname:r,routeId:i,method:n,type:s}=e===void 0?{}:e,a="Unknown Server Error",o="Unknown @remix-run/router error";return t===400?(a="Bad Request",n&&r&&i?o="You made a "+n+' request to "'+r+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":s==="defer-action"?o="defer() is not supported in actions":s==="invalid-body"&&(o="Unable to encode submission body")):t===403?(a="Forbidden",o='Route "'+i+'" does not match URL "'+r+'"'):t===404?(a="Not Found",o='No route matches URL "'+r+'"'):t===405&&(a="Method Not Allowed",n&&r&&i?o="You made a "+n.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":n&&(o='Invalid request method "'+n.toUpperCase()+'"')),new gP(t||500,a,new Error(o),!0)}function F6(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if(ah(r))return{result:r,idx:e}}}function IG(t){let e=typeof t=="string"?Cl(t):t;return k1(br({},e,{hash:""}))}function tSe(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function sh(t){return t.type===Rr.deferred}function hf(t){return t.type===Rr.error}function ah(t){return(t&&t.type)===Rr.redirect}function rSe(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function iSe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function nSe(t){return V2e.has(t.toLowerCase())}function ia(t){return H2e.has(t.toLowerCase())}async function B6(t,e,r,i,n,s){for(let a=0;a<r.length;a++){let o=r[a],l=e[a];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),c=u!=null&&!RG(u,l)&&(s&&s[l.route.id])!==void 0;if(sh(o)&&(n||c)){let d=i[a];Lt(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await PG(o,d,n).then(h=>{h&&(r[a]=h||r[a])})}}}async function PG(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:Rr.data,data:t.deferredData.unwrappedData}}catch(n){return{type:Rr.error,error:n}}return{type:Rr.data,data:t.deferredData.data}}}function vP(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function CR(t,e){let r=typeof e=="string"?Cl(e).search:e.search;if(t[t.length-1].route.index&&vP(r||""))return t[t.length-1];let i=SG(t);return i[i.length-1]}function j6(t){let{formMethod:e,formAction:r,formEncType:i,text:n,formData:s,json:a}=t;if(!(!e||!r||!i)){if(n!=null)return{formMethod:e,formAction:r,formEncType:i,formData:void 0,json:void 0,text:n};if(s!=null)return{formMethod:e,formAction:r,formEncType:i,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:r,formEncType:i,formData:void 0,json:a,text:void 0}}}function HT(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function sSe(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Fm(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function aSe(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Zl(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function oSe(t,e){try{let r=t.sessionStorage.getItem(CG);if(r){let i=JSON.parse(r);for(let[n,s]of Object.entries(i||{}))s&&Array.isArray(s)&&e.set(n,new Set(s||[]))}}catch{}}function lSe(t,e){if(e.size>0){let r={};for(let[i,n]of e)r[i]=[...n];try{t.sessionStorage.setItem(CG,JSON.stringify(r))}catch(i){Hh(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.21.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function I_(){return I_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},I_.apply(this,arguments)}const MG=R.createContext(null),kG=R.createContext(null),NG=R.createContext(null),Yw=R.createContext(null),Dp=R.createContext({outlet:null,matches:[],isDataRoute:!1}),OG=R.createContext(null);function yP(){return R.useContext(Yw)!=null}function uSe(){return yP()||Lt(!1),R.useContext(Yw).location}const cSe=R.createContext(null);function hSe(t){let e=R.useContext(Dp).outlet;return e&&R.createElement(cSe.Provider,{value:t},e)}function p3e(){let{matches:t}=R.useContext(Dp),e=t[t.length-1];return e?e.params:{}}function dSe(t,e,r,i){yP()||Lt(!1);let{navigator:n}=R.useContext(NG),{matches:s}=R.useContext(Dp),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=uSe(),c;if(e){var d;let b=typeof e=="string"?Cl(e):e;l==="/"||(d=b.pathname)!=null&&d.startsWith(l)||Lt(!1),c=b}else c=u;let h=c.pathname||"/",p=l==="/"?h:h.slice(l.length)||"/",g=cf(t,{pathname:p}),y=vSe(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Th([l,n.encodeLocation?n.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Th([l,n.encodeLocation?n.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,r,i);return e&&y?R.createElement(Yw.Provider,{value:{location:I_({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Dr.Pop}},y):y}function fSe(){let t=xSe(),e=EG(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),r?R.createElement("pre",{style:n},r):null,null)}const pSe=R.createElement(fSe,null);class mSe extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?R.createElement(Dp.Provider,{value:this.props.routeContext},R.createElement(OG.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gSe(t){let{routeContext:e,match:r,children:i}=t,n=R.useContext(MG);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),R.createElement(Dp.Provider,{value:e},i)}function vSe(t,e,r,i){var n;if(e===void 0&&(e=[]),r===void 0&&(r=null),i===void 0&&(i=null),t==null){var s;if((s=r)!=null&&s.errors)t=r.matches;else return null}let a=t,o=(n=r)==null?void 0:n.errors;if(o!=null){let c=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id]));c>=0||Lt(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(r&&i&&i.v7_partialHydration)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:p}=r,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,h)=>{let p,g=!1,y=null,b=null;r&&(p=o&&d.route.id?o[d.route.id]:void 0,y=d.route.errorElement||pSe,l&&(u<0&&h===0?(bSe("route-fallback",!1),g=!0,b=null):u===h&&(g=!0,b=d.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,h+1)),w=()=>{let _;return p?_=y:g?_=b:d.route.Component?_=R.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=c,R.createElement(gSe,{match:d,routeContext:{outlet:c,matches:x,isDataRoute:r!=null},children:_})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?R.createElement(mSe,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var U0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(U0||{});function LG(t){let e=R.useContext(kG);return e||Lt(!1),e}function ySe(t){let e=R.useContext(Dp);return e||Lt(!1),e}function DG(t){let e=ySe(),r=e.matches[e.matches.length-1];return r.route.id||Lt(!1),r.route.id}function m3e(){let t=LG(U0.UseLoaderData),e=DG(U0.UseLoaderData);if(t.errors&&t.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return t.loaderData[e]}function xSe(){var t;let e=R.useContext(OG),r=LG(U0.UseRouteError),i=DG(U0.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[i]}const U6={};function bSe(t,e,r){!e&&!U6[t]&&(U6[t]=!0)}function _Se(t){return hSe(t.context)}function wSe(t){let{basename:e="/",children:r=null,location:i,navigationType:n=Dr.Pop,navigator:s,static:a=!1,future:o}=t;yP()&&Lt(!1);let l=e.replace(/^\/*/,"/"),u=R.useMemo(()=>({basename:l,navigator:s,static:a,future:I_({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof i=="string"&&(i=Cl(i));let{pathname:c="/",search:d="",hash:h="",state:p=null,key:g="default"}=i,y=R.useMemo(()=>{let b=N1(c,l);return b==null?null:{location:{pathname:b,search:d,hash:h,state:p,key:g},navigationType:n}},[l,c,d,h,p,g,n]);return y==null?null:R.createElement(NG.Provider,{value:u},R.createElement(Yw.Provider,{children:r,value:y}))}new Promise(()=>{});function SSe(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:R.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:R.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:R.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.21.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function P_(){return P_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},P_.apply(this,arguments)}function ESe(t,e){return K2e({basename:e==null?void 0:e.basename,future:P_({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:g2e({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||TSe(),routes:t,mapRouteProperties:SSe,window:e==null?void 0:e.window}).initialize()}function TSe(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=P_({},e,{errors:ASe(e.errors)})),e}function ASe(t){if(!t)return null;let e=Object.entries(t),r={};for(let[i,n]of e)if(n&&n.__type==="RouteErrorResponse")r[i]=new gP(n.status,n.statusText,n.data,n.internal===!0);else if(n&&n.__type==="Error"){if(n.__subType){let s=window[n.__subType];if(typeof s=="function")try{let a=new s(n.message);a.stack="",r[i]=a}catch{}}if(r[i]==null){let s=new Error(n.message);s.stack="",r[i]=s}}else r[i]=n;return r}const CSe=R.createContext({isTransitioning:!1}),RSe=R.createContext(new Map),ISe="startTransition",$6=FR[ISe],PSe="flushSync",z6=lZ[PSe];function MSe(t){$6?$6(t):t()}function Bm(t){z6?z6(t):t()}class kSe{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",r(i))}})}}function NSe(t){let{fallbackElement:e,router:r,future:i}=t,[n,s]=R.useState(r.state),[a,o]=R.useState(),[l,u]=R.useState({isTransitioning:!1}),[c,d]=R.useState(),[h,p]=R.useState(),[g,y]=R.useState(),b=R.useRef(new Map),{v7_startTransition:x}=i||{},w=R.useCallback(P=>{x?MSe(P):P()},[x]),_=R.useCallback((P,M)=>{let{deletedFetchers:k,unstable_flushSync:U,unstable_viewTransitionOpts:j}=M;k.forEach(L=>b.current.delete(L)),P.fetchers.forEach((L,F)=>{L.data!==void 0&&b.current.set(F,L.data)});let B=r.window==null||typeof r.window.document.startViewTransition!="function";if(!j||B){U?Bm(()=>s(P)):w(()=>s(P));return}if(U){Bm(()=>{h&&(c&&c.resolve(),h.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:j.currentLocation,nextLocation:j.nextLocation})});let L=r.window.document.startViewTransition(()=>{Bm(()=>s(P))});L.finished.finally(()=>{Bm(()=>{d(void 0),p(void 0),o(void 0),u({isTransitioning:!1})})}),Bm(()=>p(L));return}h?(c&&c.resolve(),h.skipTransition(),y({state:P,currentLocation:j.currentLocation,nextLocation:j.nextLocation})):(o(P),u({isTransitioning:!0,flushSync:!1,currentLocation:j.currentLocation,nextLocation:j.nextLocation}))},[r.window,h,c,b,w]);R.useLayoutEffect(()=>r.subscribe(_),[r,_]),R.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new kSe)},[l]),R.useEffect(()=>{if(c&&a&&r.window){let P=a,M=c.promise,k=r.window.document.startViewTransition(async()=>{w(()=>s(P)),await M});k.finished.finally(()=>{d(void 0),p(void 0),o(void 0),u({isTransitioning:!1})}),p(k)}},[w,a,c,r.window]),R.useEffect(()=>{c&&a&&n.location.key===a.location.key&&c.resolve()},[c,h,n.location,a]),R.useEffect(()=>{!l.isTransitioning&&g&&(o(g.state),u({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),y(void 0))},[l.isTransitioning,g]),R.useEffect(()=>{},[]);let E=R.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:P=>r.navigate(P),push:(P,M,k)=>r.navigate(P,{state:M,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(P,M,k)=>r.navigate(P,{replace:!0,state:M,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[r]),A=r.basename||"/",I=R.useMemo(()=>({router:r,navigator:E,static:!1,basename:A}),[r,E,A]);return R.createElement(R.Fragment,null,R.createElement(MG.Provider,{value:I},R.createElement(kG.Provider,{value:n},R.createElement(RSe.Provider,{value:b.current},R.createElement(CSe.Provider,{value:l},R.createElement(wSe,{basename:A,location:n.location,navigationType:n.historyAction,navigator:E,future:{v7_relativeSplatPath:r.future.v7_relativeSplatPath}},n.initialized||r.future.v7_partialHydration?R.createElement(OSe,{routes:r.routes,future:r.future,state:n}):e))))),null)}function OSe(t){let{routes:e,future:r,state:i}=t;return dSe(e,void 0,i,r)}var H6;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(H6||(H6={}));var G6;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(G6||(G6={}));const LSe={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class M_{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,r)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=e||LSe,this.options=r,this.debug=r.debug}log(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return this.forward(r,"log","",!0)}warn(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return this.forward(r,"warn","",!0)}error(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return this.forward(r,"error","")}deprecate(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,i,n){return n&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new M_(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new M_(this.logger,e)}}var lo=new M_;class qw{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const n=this.observers[i].get(r)||0;this.observers[i].set(r,n+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[o,l]=a;for(let u=0;u<l;u++)o(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[o,l]=a;for(let u=0;u<l;u++)o.apply(o,[e,...i])})}}function jm(){let t,e;const r=new Promise((i,n)=>{t=i,e=n});return r.resolve=t,r.reject=e,r}function V6(t){return t==null?"":""+t}function DSe(t,e,r){t.forEach(i=>{e[i]&&(r[i]=e[i])})}const FSe=/###/g;function $g(t,e,r){function i(o){return o&&o.indexOf("###")>-1?o.replace(FSe,"."):o}function n(){return!t||typeof t=="string"}const s=typeof e!="string"?e:e.split(".");let a=0;for(;a<s.length-1;){if(n())return{};const o=i(s[a]);!t[o]&&r&&(t[o]=new r),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++a}return n()?{}:{obj:t,k:i(s[a])}}function W6(t,e,r){const{obj:i,k:n}=$g(t,e,Object);if(i!==void 0||e.length===1){i[n]=r;return}let s=e[e.length-1],a=e.slice(0,e.length-1),o=$g(t,a,Object);for(;o.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),o=$g(t,a,Object),o&&o.obj&&typeof o.obj[`${o.k}.${s}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=r}function BSe(t,e,r,i){const{obj:n,k:s}=$g(t,e,Object);n[s]=n[s]||[],i&&(n[s]=n[s].concat(r)),i||n[s].push(r)}function k_(t,e){const{obj:r,k:i}=$g(t,e);if(r)return r[i]}function jSe(t,e,r){const i=k_(t,r);return i!==void 0?i:k_(e,r)}function FG(t,e,r){for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in t?typeof t[i]=="string"||t[i]instanceof String||typeof e[i]=="string"||e[i]instanceof String?r&&(t[i]=e[i]):FG(t[i],e[i],r):t[i]=e[i]);return t}function Md(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var USe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function $Se(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>USe[e]):t}class zSe{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const HSe=[" ",",","?","!",";"],GSe=new zSe(20);function VSe(t,e,r){e=e||"",r=r||"";const i=HSe.filter(a=>e.indexOf(a)<0&&r.indexOf(a)<0);if(i.length===0)return!0;const n=GSe.getRegExp(`(${i.map(a=>a==="?"?"\\?":a).join("|")})`);let s=!n.test(t);if(!s){const a=t.indexOf(r);a>0&&!n.test(t.substring(0,a))&&(s=!0)}return s}function RR(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const i=e.split(r);let n=t;for(let s=0;s<i.length;){if(!n||typeof n!="object")return;let a,o="";for(let l=s;l<i.length;++l)if(l!==s&&(o+=r),o+=i[l],a=n[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<i.length-1)continue;s+=l-s+1;break}n=a}return n}function N_(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class X6 extends qw{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,a=n.ignoreJSONStructure!==void 0?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,r],i&&(Array.isArray(i)?o.push(...i):typeof i=="string"&&s?o.push(...i.split(s)):o.push(i)));const l=k_(this.data,o);return!l&&!r&&!i&&e.indexOf(".")>-1&&(e=o[0],r=o[1],i=o.slice(2).join(".")),l||!a||typeof i!="string"?l:RR(this.data&&this.data[e]&&this.data[e][r],i,s)}addResource(e,r,i,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let o=[e,r];i&&(o=o.concat(a?i.split(a):i)),e.indexOf(".")>-1&&(o=e.split("."),n=r,r=o[1]),this.addNamespaces(r),W6(this.data,o,n),s.silent||this.emit("added",e,r,i,n)}addResources(e,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in i)(typeof i[s]=="string"||Object.prototype.toString.apply(i[s])==="[object Array]")&&this.addResource(e,r,s,i[s],{silent:!0});n.silent||this.emit("added",e,r,i)}addResourceBundle(e,r,i,n,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},o=[e,r];e.indexOf(".")>-1&&(o=e.split("."),n=i,i=r,r=o[1]),this.addNamespaces(r);let l=k_(this.data,o)||{};n?FG(l,i,s):l={...l,...i},W6(this.data,o,l),a.silent||this.emit("added",e,r,i)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,r)}:this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(n=>r[n]&&Object.keys(r[n]).length>0)}toJSON(){return this.data}}var BG={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,i,n){return t.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,r,i,n))}),e}};const Y6={};class O_ extends qw{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),DSe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=lo.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const i=this.resolve(e,r);return i&&i.res!==void 0}extractFromKey(e,r){let i=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const n=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=r.ns||this.options.defaultNS||[];const a=i&&e.indexOf(i)>-1,o=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!VSe(e,i,n);if(a&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:s};const u=e.split(i);(i!==n||i===n&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(n)}return typeof s=="string"&&(s=[s]),{key:e,namespaces:s}}translate(e,r,i){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const n=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],r),l=o[o.length-1],u=r.lng||this.language,c=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const E=r.nsSeparator||this.options.nsSeparator;return n?{res:`${l}${E}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:`${l}${E}${a}`}return n?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:a}const d=this.resolve(e,r);let h=d&&d.res;const p=d&&d.usedKey||a,g=d&&d.exactUsedKey||a,y=Object.prototype.toString.apply(h),b=["[object Number]","[object Function]","[object RegExp]"],x=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject;if(w&&h&&(typeof h!="string"&&typeof h!="boolean"&&typeof h!="number")&&b.indexOf(y)<0&&!(typeof x=="string"&&y==="[object Array]")){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const E=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,h,{...r,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return n?(d.res=E,d.usedParams=this.getUsedParamsDetails(r),d):E}if(s){const E=y==="[object Array]",A=E?[]:{},I=E?g:p;for(const P in h)if(Object.prototype.hasOwnProperty.call(h,P)){const M=`${I}${s}${P}`;A[P]=this.translate(M,{...r,joinArrays:!1,ns:o}),A[P]===M&&(A[P]=h[P])}h=A}}else if(w&&typeof x=="string"&&y==="[object Array]")h=h.join(x),h&&(h=this.extendTranslation(h,e,r,i));else{let E=!1,A=!1;const I=r.count!==void 0&&typeof r.count!="string",P=O_.hasDefaultValue(r),M=I?this.pluralResolver.getSuffix(u,r.count,r):"",k=r.ordinal&&I?this.pluralResolver.getSuffix(u,r.count,{ordinal:!1}):"",U=I&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),j=U&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${M}`]||r[`defaultValue${k}`]||r.defaultValue;!this.isValidLookup(h)&&P&&(E=!0,h=j),this.isValidLookup(h)||(A=!0,h=a);const L=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&A?void 0:h,F=P&&j!==h&&this.options.updateMissing;if(A||E||F){if(this.logger.log(F?"updateKey":"missingKey",u,l,a,F?j:h),s){const D=this.resolve(a,{...r,keySeparator:!1});D&&D.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let O=[];const $=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&$&&$[0])for(let D=0;D<$.length;D++)O.push($[D]);else this.options.saveMissingTo==="all"?O=this.languageUtils.toResolveHierarchy(r.lng||this.language):O.push(r.lng||this.language);const z=(D,G,H)=>{const W=P&&H!==h?H:L;this.options.missingKeyHandler?this.options.missingKeyHandler(D,l,G,W,F,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(D,l,G,W,F,r),this.emit("missingKey",D,l,G,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&I?O.forEach(D=>{const G=this.pluralResolver.getSuffixes(D,r);U&&r[`defaultValue${this.options.pluralSeparator}zero`]&&G.indexOf(`${this.options.pluralSeparator}zero`)<0&&G.push(`${this.options.pluralSeparator}zero`),G.forEach(H=>{z([D],a+H,r[`defaultValue${H}`]||j)})}):z(O,a,j))}h=this.extendTranslation(h,e,r,d,i),A&&h===a&&this.options.appendNamespaceToMissingKey&&(h=`${l}:${a}`),(A||E)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,E?h:void 0):h=this.options.parseMissingKeyHandler(h))}return n?(d.res=h,d.usedParams=this.getUsedParamsDetails(r),d):h}extendTranslation(e,r,i,n,s){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const u=typeof e=="string"&&(i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const h=e.match(this.interpolator.nestingRegexp);c=h&&h.length}let d=i.replace&&typeof i.replace!="string"?i.replace:i;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),e=this.interpolator.interpolate(e,d,i.lng||this.language,i),u){const h=e.match(this.interpolator.nestingRegexp),p=h&&h.length;c<p&&(i.nest=!1)}!i.lng&&this.options.compatibilityAPI!=="v1"&&n&&n.res&&(i.lng=n.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var h=arguments.length,p=new Array(h),g=0;g<h;g++)p[g]=arguments[g];return s&&s[0]===p[0]&&!i.context?(a.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${r[0]}`),null):a.translate(...p,r)},i)),i.interpolation&&this.interpolator.reset()}const o=i.postProcess||this.options.postProcess,l=typeof o=="string"?[o]:o;return e!=null&&l&&l.length&&i.applyPostProcessor!==!1&&(e=BG.handle(l,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,n,s,a,o;return typeof e=="string"&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(i))return;const u=this.extractFromKey(l,r),c=u.key;n=c;let d=u.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const h=r.count!==void 0&&typeof r.count!="string",p=h&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),g=r.context!==void 0&&(typeof r.context=="string"||typeof r.context=="number")&&r.context!=="",y=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);d.forEach(b=>{this.isValidLookup(i)||(o=b,!Y6[`${y[0]}-${b}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(Y6[`${y[0]}-${b}`]=!0,this.logger.warn(`key "${n}" for languages "${y.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(x=>{if(this.isValidLookup(i))return;a=x;const w=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(w,c,x,b,r);else{let E;h&&(E=this.pluralResolver.getSuffix(x,r.count,r));const A=`${this.options.pluralSeparator}zero`,I=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(w.push(c+E),r.ordinal&&E.indexOf(I)===0&&w.push(c+E.replace(I,this.options.pluralSeparator)),p&&w.push(c+A)),g){const P=`${c}${this.options.contextSeparator}${r.context}`;w.push(P),h&&(w.push(P+E),r.ordinal&&E.indexOf(I)===0&&w.push(P+E.replace(I,this.options.pluralSeparator)),p&&w.push(P+A))}}let _;for(;_=w.pop();)this.isValidLookup(i)||(s=_,i=this.getResource(x,b,_,r))}))})}),{res:i,usedKey:n,exactUsedKey:s,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,r,i,n):this.resourceStore.getResource(e,r,i,n)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&typeof e.replace!="string";let n=i?e.replace:e;if(i&&typeof e.count<"u"&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!i){n={...n};for(const s of r)delete n[s]}return n}static hasDefaultValue(e){const r="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&r===i.substring(0,r.length)&&e[i]!==void 0)return!0;return!1}}function GT(t){return t.charAt(0).toUpperCase()+t.slice(1)}class q6{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=lo.create("languageUtils")}getScriptPartFromCode(e){if(e=N_(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=N_(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const r=["hans","hant","latn","cyrl","cans","mong","arab"];let i=e.split("-");return this.options.lowerCaseLng?i=i.map(n=>n.toLowerCase()):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=GT(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=GT(i[1].toLowerCase())),r.indexOf(i[2].toLowerCase())>-1&&(i[2]=GT(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(i=>{if(r)return;const n=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(n))&&(r=n)}),!r&&this.options.supportedLngs&&e.forEach(i=>{if(r)return;const n=this.getLanguagePartFromCode(i);if(this.isSupportedCode(n))return r=n;r=this.options.supportedLngs.find(s=>{if(s===n)return s;if(!(s.indexOf("-")<0&&n.indexOf("-")<0)&&s.indexOf(n)===0)return s})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!r)return e.default||[];let i=e[r];return i||(i=e[this.getScriptPartFromCode(r)]),i||(i=e[this.formatLanguageCode(r)]),i||(i=e[this.getLanguagePartFromCode(r)]),i||(i=e.default),i||[]}toResolveHierarchy(e,r){const i=this.getFallbackCodes(r||this.options.fallbackLng||[],e),n=[],s=a=>{a&&(this.isSupportedCode(a)?n.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):typeof e=="string"&&s(this.formatLanguageCode(e)),i.forEach(a=>{n.indexOf(a)<0&&s(this.formatLanguageCode(a))}),n}}let WSe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],XSe={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};const YSe=["v1","v2","v3"],qSe=["v4"],K6={zero:0,one:1,two:2,few:3,many:4,other:5};function KSe(){const t={};return WSe.forEach(e=>{e.lngs.forEach(r=>{t[r]={numbers:e.nr,plurals:XSe[e.fc]}})}),t}class QSe{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=r,this.logger=lo.create("pluralResolver"),(!this.options.compatibilityJSON||qSe.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=KSe()}addRule(e,r){this.rules[e]=r}getRule(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(N_(e==="dev"?"en":e),{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,r);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,i).map(n=>`${r}${n}`)}getSuffixes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,r);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((n,s)=>K6[n]-K6[s]).map(n=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${n}`):i.numbers.map(n=>this.getSuffix(e,n,r)):[]}getSuffix(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=this.getRule(e,i);return n?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${n.select(r)}`:this.getSuffixRetroCompatible(n,r):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,r){const i=e.noAbs?e.plurals(r):e.plurals(Math.abs(r));let n=e.numbers[i];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(n===2?n="plural":n===1&&(n=""));const s=()=>this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString();return this.options.compatibilityJSON==="v1"?n===1?"":typeof n=="number"?`_plural_${n.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!YSe.includes(this.options.compatibilityJSON)}}function Q6(t,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=jSe(t,e,r);return!s&&n&&typeof r=="string"&&(s=RR(t,r,i),s===void 0&&(s=RR(e,r,i))),s}class ZSe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=lo.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const r=e.interpolation;this.escape=r.escape!==void 0?r.escape:$Se,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?Md(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?Md(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?Md(r.nestingPrefix):r.nestingPrefixEscaped||Md("$t("),this.nestingSuffix=r.nestingSuffix?Md(r.nestingSuffix):r.nestingSuffixEscaped||Md(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,i)=>r&&r.source===i?(r.lastIndex=0,r):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,r,i,n){let s,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(g){return g.replace(/\$/g,"$$$$")}const c=g=>{if(g.indexOf(this.formatSeparator)<0){const w=Q6(r,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,i,{...n,...r,interpolationkey:g}):w}const y=g.split(this.formatSeparator),b=y.shift().trim(),x=y.join(this.formatSeparator).trim();return this.format(Q6(r,l,b,this.options.keySeparator,this.options.ignoreJSONStructure),x,i,{...n,...r,interpolationkey:b})};this.resetRegExp();const d=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler,h=n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>u(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?u(this.escape(g)):u(g)}].forEach(g=>{for(o=0;s=g.regex.exec(e);){const y=s[1].trim();if(a=c(y),a===void 0)if(typeof d=="function"){const x=d(e,s,n);a=typeof x=="string"?x:""}else if(n&&Object.prototype.hasOwnProperty.call(n,y))a="";else if(h){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),a="";else typeof a!="string"&&!this.useRawValueToEscape&&(a=V6(a));const b=g.safeValue(a);if(e=e.replace(s[0],b),h?(g.regex.lastIndex+=a.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,s,a;function o(l,u){const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const d=l.split(new RegExp(`${c}[ ]*{`));let h=`{${d[1]}`;l=d[0],h=this.interpolate(h,a);const p=h.match(/'/g),g=h.match(/"/g);(p&&p.length%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{a=JSON.parse(h),u&&(a={...u,...a})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,y),`${l}${c}${h}`}return delete a.defaultValue,l}for(;n=this.nestingRegexp.exec(e);){let l=[];a={...i},a=a.replace&&typeof a.replace!="string"?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let u=!1;if(n[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(n[1])){const c=n[1].split(this.formatSeparator).map(d=>d.trim());n[1]=c.shift(),l=c,u=!0}if(s=r(o.call(this,n[1].trim(),a),a),s&&n[0]===e&&typeof s!="string")return s;typeof s!="string"&&(s=V6(s)),s||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),s=""),u&&(s=l.reduce((c,d)=>this.format(c,d,i.lng,{...i,interpolationkey:n[1].trim()}),s.trim())),e=e.replace(n[0],s),this.regexp.lastIndex=0}return e}}function JSe(t){let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const i=t.split("(");e=i[0].toLowerCase().trim();const n=i[1].substring(0,i[1].length-1);e==="currency"&&n.indexOf(":")<0?r.currency||(r.currency=n.trim()):e==="relativetime"&&n.indexOf(":")<0?r.range||(r.range=n.trim()):n.split(";").forEach(a=>{if(!a)return;const[o,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,"");r[o.trim()]||(r[o.trim()]=u),u==="false"&&(r[o.trim()]=!1),u==="true"&&(r[o.trim()]=!0),isNaN(u)||(r[o.trim()]=parseInt(u,10))})}return{formatName:e,formatOptions:r}}function kd(t){const e={};return function(i,n,s){const a=n+JSON.stringify(s);let o=e[a];return o||(o=t(N_(n),s),e[a]=o),o(i)}}class eEe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=lo.create("formatter"),this.options=e,this.formats={number:kd((r,i)=>{const n=new Intl.NumberFormat(r,{...i});return s=>n.format(s)}),currency:kd((r,i)=>{const n=new Intl.NumberFormat(r,{...i,style:"currency"});return s=>n.format(s)}),datetime:kd((r,i)=>{const n=new Intl.DateTimeFormat(r,{...i});return s=>n.format(s)}),relativetime:kd((r,i)=>{const n=new Intl.RelativeTimeFormat(r,{...i});return s=>n.format(s,i.range||"day")}),list:kd((r,i)=>{const n=new Intl.ListFormat(r,{...i});return s=>n.format(s)})},this.init(e)}init(e){const i=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=kd(r)}format(e,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return r.split(this.formatSeparator).reduce((o,l)=>{const{formatName:u,formatOptions:c}=JSe(l);if(this.formats[u]){let d=o;try{const h=n&&n.formatParams&&n.formatParams[n.interpolationkey]||{},p=h.locale||h.lng||n.locale||n.lng||i;d=this.formats[u](o,p,{...c,...n,...h})}catch(h){this.logger.warn(h)}return d}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}function tEe(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}class rEe extends qw{constructor(e,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=r,this.services=i,this.languageUtils=i.languageUtils,this.options=n,this.logger=lo.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,n.backend,n)}queueLoad(e,r,i,n){const s={},a={},o={},l={};return e.forEach(u=>{let c=!0;r.forEach(d=>{const h=`${u}|${d}`;!i.reload&&this.store.hasResourceBundle(u,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?a[h]===void 0&&(a[h]=!0):(this.state[h]=1,c=!1,a[h]===void 0&&(a[h]=!0),s[h]===void 0&&(s[h]=!0),l[d]===void 0&&(l[d]=!0)))}),c||(o[u]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,r,i){const n=e.split("|"),s=n[0],a=n[1];r&&this.emit("failedLoading",s,a,r),i&&this.store.addResourceBundle(s,a,i),this.state[e]=r?-1:2;const o={};this.queue.forEach(l=>{BSe(l.loaded,[s],a),tEe(l,e),r&&l.errors.push(r),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const c=l.loaded[u];c.length&&c.forEach(d=>{o[u][d]===void 0&&(o[u][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:i,tried:n,wait:s,callback:a});return}this.readingCalls++;const o=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(u&&c&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,i,n+1,s*2,a)},s);return}a(u,c)},l=this.backend[i].bind(this.backend);if(l.length===2){try{const u=l(e,r);u&&typeof u.then=="function"?u.then(c=>o(null,c)).catch(o):o(null,u)}catch(u){o(u)}return}return l(e,r,o)}prepareLoading(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof r=="string"&&(r=[r]);const s=this.queueLoad(e,r,i,n);if(!s.toLoad.length)return s.pending.length||n(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(e,r,i){this.prepareLoading(e,r,{},i)}reload(e,r,i){this.prepareLoading(e,r,{reload:!0},i)}loadOne(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=e.split("|"),n=i[0],s=i[1];this.read(n,s,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${r}loading namespace ${s} for language ${n} failed`,a),!a&&o&&this.logger.log(`${r}loaded namespace ${s} for language ${n}`,o),this.loaded(e,a,o)})}saveMissing(e,r,i,n,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${i}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend&&this.backend.create){const l={...a,isUpdate:s},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(e,r,i,n,l):c=u(e,r,i,n),c&&typeof c.then=="function"?c.then(d=>o(null,d)).catch(o):o(null,c)}catch(c){o(c)}else u(e,r,i,n,o,l)}!e||!e[0]||this.store.addResource(e[0],r,i,n)}}}function Z6(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let r={};if(typeof e[1]=="object"&&(r=e[1]),typeof e[1]=="string"&&(r.defaultValue=e[1]),typeof e[2]=="string"&&(r.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const i=e[3]||e[2];Object.keys(i).forEach(n=>{r[n]=i[n]})}return r},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function J6(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function rx(){}function iEe(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})}class $0 extends qw{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=J6(e),this.services={},this.logger=lo,this.modules={external:[]},iEe(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(){var e=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;typeof r=="function"&&(i=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(typeof r.ns=="string"?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const n=Z6();this.options={...n,...this.options,...J6(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...n.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);function s(c){return c?typeof c=="function"?new c:c:null}if(!this.options.isClone){this.modules.logger?lo.init(s(this.modules.logger),this.options):lo.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=eEe);const d=new q6(this.options);this.store=new X6(this.options.resources,this.options);const h=this.services;h.logger=lo,h.resourceStore=this.store,h.languageUtils=d,h.pluralResolver=new QSe(d,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(h.formatter=s(c),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new ZSe(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new rEe(s(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(p){for(var g=arguments.length,y=new Array(g>1?g-1:0),b=1;b<g;b++)y[b-1]=arguments[b];e.emit(p,...y)}),this.modules.languageDetector&&(h.languageDetector=s(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=s(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new O_(this.services,this.options),this.translator.on("*",function(p){for(var g=arguments.length,y=new Array(g>1?g-1:0),b=1;b<g;b++)y[b-1]=arguments[b];e.emit(p,...y)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,i||(i=rx),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return e.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return e.store[c](...arguments),e}});const l=jm(),u=()=>{const c=(d,h)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),i(d,h)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rx;const n=typeof e=="string"?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&n.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const s=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(u=>{u!=="cimode"&&s.indexOf(u)<0&&s.push(u)})};n?a(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload&&this.options.preload.forEach(o=>a(o)),this.services.backendConnector.load(s,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(o)})}else i(null)}reloadResources(e,r,i){const n=jm();return e||(e=this.languages),r||(r=this.options.ns),i||(i=rx),this.services.backendConnector.reload(e,r,s=>{n.resolve(),i(s)}),n}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&BG.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let r=0;r<this.languages.length;r++){const i=this.languages[r];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(e,r){var i=this;this.isLanguageChangingTo=e;const n=jm();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,u)=>{u?(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,n.resolve(function(){return i.t(...arguments)}),r&&r(l,function(){return i.t(...arguments)})},o=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{a(c,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),n}getFixedT(e,r,i){var n=this;const s=function(a,o){let l;if(typeof o!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),d=2;d<u;d++)c[d-2]=arguments[d];l=n.options.overloadTranslationOptionHandler([a,o].concat(c))}else l={...o};l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix=l.keyPrefix||i||s.keyPrefix;const h=n.options.keySeparator||".";let p;return l.keyPrefix&&Array.isArray(a)?p=a.map(g=>`${l.keyPrefix}${h}${g}`):p=l.keyPrefix?`${l.keyPrefix}${h}${a}`:a,n.t(p,l)};return typeof e=="string"?s.lng=e:s.lngs=e,s.ns=r,s.keyPrefix=i,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=r.lng||this.resolvedLanguage||this.languages[0],n=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===2};if(r.precheck){const o=r.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(i,e)&&(!n||a(s,e)))}loadNamespaces(e,r){const i=jm();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(n=>{this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}),this.loadResources(n=>{i.resolve(),r&&r(n)}),i):(r&&r(),Promise.resolve())}loadLanguages(e,r){const i=jm();typeof e=="string"&&(e=[e]);const n=this.options.preload||[],s=e.filter(a=>n.indexOf(a)<0);return s.length?(this.options.preload=n.concat(s),this.loadResources(a=>{i.resolve(),r&&r(a)}),i):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services&&this.services.languageUtils||new q6(Z6());return r.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new $0(e,r)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rx;const i=e.forkResourceStore;i&&delete e.forkResourceStore;const n={...this.options,...e,isClone:!0},s=new $0(n);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(o=>{s[o]=this[o]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},i&&(s.store=new X6(this.store.data,n),s.services.resourceStore=s.store),s.translator=new O_(s.services,n),s.translator.on("*",function(o){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];s.emit(o,...u)}),s.init(n,r),s.translator.options=n,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const $i=$0.createInstance();$i.createInstance=$0.createInstance;$i.createInstance;$i.dir;$i.init;$i.loadResources;$i.reloadResources;$i.use;$i.changeLanguage;$i.getFixedT;const Ea=$i.t;$i.exists;$i.setDefaultNamespace;$i.hasLoadedNamespace;$i.loadNamespaces;$i.loadLanguages;function IR(t){"@babel/helpers - typeof";return IR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IR(t)}function jG(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":IR(XMLHttpRequest))==="object"}function nEe(t){return!!t&&typeof t.then=="function"}function sEe(t){return nEe(t)?t:Promise.resolve(t)}function aEe(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var PR={exports:{}},ix={exports:{}},eF;function oEe(){return eF||(eF=1,function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Zt<"u"&&Zt,i=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(a){var o=typeof s<"u"&&s||typeof self<"u"&&self||typeof o<"u"&&o,l={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function u(O){return O&&DataView.prototype.isPrototypeOf(O)}if(l.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(O){return O&&c.indexOf(Object.prototype.toString.call(O))>-1};function h(O){if(typeof O!="string"&&(O=String(O)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(O)||O==="")throw new TypeError('Invalid character in header field name: "'+O+'"');return O.toLowerCase()}function p(O){return typeof O!="string"&&(O=String(O)),O}function g(O){var $={next:function(){var z=O.shift();return{done:z===void 0,value:z}}};return l.iterable&&($[Symbol.iterator]=function(){return $}),$}function y(O){this.map={},O instanceof y?O.forEach(function($,z){this.append(z,$)},this):Array.isArray(O)?O.forEach(function($){this.append($[0],$[1])},this):O&&Object.getOwnPropertyNames(O).forEach(function($){this.append($,O[$])},this)}y.prototype.append=function(O,$){O=h(O),$=p($);var z=this.map[O];this.map[O]=z?z+", "+$:$},y.prototype.delete=function(O){delete this.map[h(O)]},y.prototype.get=function(O){return O=h(O),this.has(O)?this.map[O]:null},y.prototype.has=function(O){return this.map.hasOwnProperty(h(O))},y.prototype.set=function(O,$){this.map[h(O)]=p($)},y.prototype.forEach=function(O,$){for(var z in this.map)this.map.hasOwnProperty(z)&&O.call($,this.map[z],z,this)},y.prototype.keys=function(){var O=[];return this.forEach(function($,z){O.push(z)}),g(O)},y.prototype.values=function(){var O=[];return this.forEach(function($){O.push($)}),g(O)},y.prototype.entries=function(){var O=[];return this.forEach(function($,z){O.push([z,$])}),g(O)},l.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function b(O){if(O.bodyUsed)return Promise.reject(new TypeError("Already read"));O.bodyUsed=!0}function x(O){return new Promise(function($,z){O.onload=function(){$(O.result)},O.onerror=function(){z(O.error)}})}function w(O){var $=new FileReader,z=x($);return $.readAsArrayBuffer(O),z}function _(O){var $=new FileReader,z=x($);return $.readAsText(O),z}function E(O){for(var $=new Uint8Array(O),z=new Array($.length),D=0;D<$.length;D++)z[D]=String.fromCharCode($[D]);return z.join("")}function A(O){if(O.slice)return O.slice(0);var $=new Uint8Array(O.byteLength);return $.set(new Uint8Array(O)),$.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(O){this.bodyUsed=this.bodyUsed,this._bodyInit=O,O?typeof O=="string"?this._bodyText=O:l.blob&&Blob.prototype.isPrototypeOf(O)?this._bodyBlob=O:l.formData&&FormData.prototype.isPrototypeOf(O)?this._bodyFormData=O:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(O)?this._bodyText=O.toString():l.arrayBuffer&&l.blob&&u(O)?(this._bodyArrayBuffer=A(O.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(O)||d(O))?this._bodyArrayBuffer=A(O):this._bodyText=O=Object.prototype.toString.call(O):this._bodyText="",this.headers.get("content-type")||(typeof O=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(O)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var O=b(this);if(O)return O;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var O=b(this);return O||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(w)}),this.text=function(){var O=b(this);if(O)return O;if(this._bodyBlob)return _(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(U)}),this.json=function(){return this.text().then(JSON.parse)},this}var P=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function M(O){var $=O.toUpperCase();return P.indexOf($)>-1?$:O}function k(O,$){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');$=$||{};var z=$.body;if(O instanceof k){if(O.bodyUsed)throw new TypeError("Already read");this.url=O.url,this.credentials=O.credentials,$.headers||(this.headers=new y(O.headers)),this.method=O.method,this.mode=O.mode,this.signal=O.signal,!z&&O._bodyInit!=null&&(z=O._bodyInit,O.bodyUsed=!0)}else this.url=String(O);if(this.credentials=$.credentials||this.credentials||"same-origin",($.headers||!this.headers)&&(this.headers=new y($.headers)),this.method=M($.method||this.method||"GET"),this.mode=$.mode||this.mode||null,this.signal=$.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&z)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(z),(this.method==="GET"||this.method==="HEAD")&&($.cache==="no-store"||$.cache==="no-cache")){var D=/([?&])_=[^&]*/;if(D.test(this.url))this.url=this.url.replace(D,"$1_="+new Date().getTime());else{var G=/\?/;this.url+=(G.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}k.prototype.clone=function(){return new k(this,{body:this._bodyInit})};function U(O){var $=new FormData;return O.trim().split("&").forEach(function(z){if(z){var D=z.split("="),G=D.shift().replace(/\+/g," "),H=D.join("=").replace(/\+/g," ");$.append(decodeURIComponent(G),decodeURIComponent(H))}}),$}function j(O){var $=new y,z=O.replace(/\r?\n[\t ]+/g," ");return z.split("\r").map(function(D){return D.indexOf(`
`)===0?D.substr(1,D.length):D}).forEach(function(D){var G=D.split(":"),H=G.shift().trim();if(H){var W=G.join(":").trim();$.append(H,W)}}),$}I.call(k.prototype);function B(O,$){if(!(this instanceof B))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');$||($={}),this.type="default",this.status=$.status===void 0?200:$.status,this.ok=this.status>=200&&this.status<300,this.statusText=$.statusText===void 0?"":""+$.statusText,this.headers=new y($.headers),this.url=$.url||"",this._initBody(O)}I.call(B.prototype),B.prototype.clone=function(){return new B(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},B.error=function(){var O=new B(null,{status:0,statusText:""});return O.type="error",O};var L=[301,302,303,307,308];B.redirect=function(O,$){if(L.indexOf($)===-1)throw new RangeError("Invalid status code");return new B(null,{status:$,headers:{location:O}})},a.DOMException=o.DOMException;try{new a.DOMException}catch{a.DOMException=function($,z){this.message=$,this.name=z;var D=Error($);this.stack=D.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function F(O,$){return new Promise(function(z,D){var G=new k(O,$);if(G.signal&&G.signal.aborted)return D(new a.DOMException("Aborted","AbortError"));var H=new XMLHttpRequest;function W(){H.abort()}H.onload=function(){var Q={status:H.status,statusText:H.statusText,headers:j(H.getAllResponseHeaders()||"")};Q.url="responseURL"in H?H.responseURL:Q.headers.get("X-Request-URL");var ie="response"in H?H.response:H.responseText;setTimeout(function(){z(new B(ie,Q))},0)},H.onerror=function(){setTimeout(function(){D(new TypeError("Network request failed"))},0)},H.ontimeout=function(){setTimeout(function(){D(new TypeError("Network request failed"))},0)},H.onabort=function(){setTimeout(function(){D(new a.DOMException("Aborted","AbortError"))},0)};function K(Q){try{return Q===""&&o.location.href?o.location.href:Q}catch{return Q}}H.open(G.method,K(G.url),!0),G.credentials==="include"?H.withCredentials=!0:G.credentials==="omit"&&(H.withCredentials=!1),"responseType"in H&&(l.blob?H.responseType="blob":l.arrayBuffer&&G.headers.get("Content-Type")&&G.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(H.responseType="arraybuffer")),$&&typeof $.headers=="object"&&!($.headers instanceof y)?Object.getOwnPropertyNames($.headers).forEach(function(Q){H.setRequestHeader(Q,p($.headers[Q]))}):G.headers.forEach(function(Q,ie){H.setRequestHeader(ie,Q)}),G.signal&&(G.signal.addEventListener("abort",W),H.onreadystatechange=function(){H.readyState===4&&G.signal.removeEventListener("abort",W)}),H.send(typeof G._bodyInit>"u"?null:G._bodyInit)})}return F.polyfill=!0,o.fetch||(o.fetch=F,o.Headers=y,o.Request=k,o.Response=B),a.Headers=y,a.Request=k,a.Response=B,a.fetch=F,a})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var n=r.fetch?r:i;e=n.fetch,e.default=n.fetch,e.fetch=n.fetch,e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response,t.exports=e}(ix,ix.exports)),ix.exports}(function(t,e){var r;if(typeof fetch=="function"&&(typeof Zt<"u"&&Zt.fetch?r=Zt.fetch:typeof window<"u"&&window.fetch?r=window.fetch:r=fetch),typeof aEe<"u"&&(typeof window>"u"||typeof window.document>"u")){var i=r||oEe();i.default&&(i=i.default),e.default=i,t.exports=e.default}})(PR,PR.exports);var UG=PR.exports;const $G=qn(UG),tF=kR({__proto__:null,default:$G},[UG]);function rF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function iF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rF(Object(r),!0).forEach(function(i){lEe(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rF(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function lEe(t,e,r){return e=uEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uEe(t){var e=cEe(t,"string");return Gh(e)==="symbol"?e:String(e)}function cEe(t,e){if(Gh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(Gh(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}var ul;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?ul=global.fetch:typeof window<"u"&&window.fetch?ul=window.fetch:ul=fetch);var z0;jG()&&(typeof global<"u"&&global.XMLHttpRequest?z0=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(z0=window.XMLHttpRequest));var L_;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?L_=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(L_=window.ActiveXObject));!ul&&tF&&!z0&&!L_&&(ul=$G||tF);typeof ul!="function"&&(ul=void 0);var MR=function(e,r){if(r&&Gh(r)==="object"){var i="";for(var n in r)i+="&"+encodeURIComponent(n)+"="+encodeURIComponent(r[n]);if(!i)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+i.slice(1)}return e},nF=function(e,r,i){var n=function(a){if(!a.ok)return i(a.statusText||"Error",{status:a.status});a.text().then(function(o){i(null,{status:a.status,data:o})}).catch(i)};typeof fetch=="function"?fetch(e,r).then(n).catch(i):ul(e,r).then(n).catch(i)},sF=!1,hEe=function(e,r,i,n){e.queryStringParams&&(r=MR(r,e.queryStringParams));var s=iF({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(s["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),i&&(s["Content-Type"]="application/json");var a=typeof e.requestOptions=="function"?e.requestOptions(i):e.requestOptions,o=iF({method:i?"POST":"GET",body:i?e.stringify(i):void 0,headers:s},sF?{}:a);try{nF(r,o,n)}catch(l){if(!a||Object.keys(a).length===0||!l.message||l.message.indexOf("not implemented")<0)return n(l);try{Object.keys(a).forEach(function(u){delete o[u]}),nF(r,o,n),sF=!0}catch(u){n(u)}}},dEe=function(e,r,i,n){i&&Gh(i)==="object"&&(i=MR("",i).slice(1)),e.queryStringParams&&(r=MR(r,e.queryStringParams));try{var s;z0?s=new z0:s=new L_("MSXML2.XMLHTTP.3.0"),s.open(i?"POST":"GET",r,1),e.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!e.withCredentials,i&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var a=e.customHeaders;if(a=typeof a=="function"?a():a,a)for(var o in a)s.setRequestHeader(o,a[o]);s.onreadystatechange=function(){s.readyState>3&&n(s.status>=400?s.statusText:null,{status:s.status,data:s.responseText})},s.send(i)}catch(l){console&&console.log(l)}},fEe=function(e,r,i,n){if(typeof i=="function"&&(n=i,i=void 0),n=n||function(){},ul&&r.indexOf("file:")!==0)return hEe(e,r,i,n);if(jG()||typeof ActiveXObject=="function")return dEe(e,r,i,n);n(new Error("No fetch and no xhr implementation found!"))};function H0(t){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H0(t)}function aF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function VT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aF(Object(r),!0).forEach(function(i){zG(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aF(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function pEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oF(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,HG(i.key),i)}}function mEe(t,e,r){return e&&oF(t.prototype,e),r&&oF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zG(t,e,r){return e=HG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HG(t){var e=gEe(t,"string");return H0(e)==="symbol"?e:String(e)}function gEe(t,e){if(H0(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(H0(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vEe=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(r){return JSON.parse(r)},stringify:JSON.stringify,parsePayload:function(r,i,n){return zG({},i,n||"")},parseLoadPayload:function(r,i){},request:fEe,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},GG=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};pEe(this,t),this.services=e,this.options=r,this.allOptions=i,this.type="backend",this.init(e,r,i)}return mEe(t,[{key:"init",value:function(r){var i=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r,this.options=VT(VT(VT({},vEe()),this.options||{}),n),this.allOptions=s,this.services&&this.options.reloadInterval&&setInterval(function(){return i.reload()},this.options.reloadInterval)}},{key:"readMulti",value:function(r,i,n){this._readAny(r,r,i,i,n)}},{key:"read",value:function(r,i,n){this._readAny([r],r,[i],i,n)}},{key:"_readAny",value:function(r,i,n,s,a){var o=this,l=this.options.loadPath;typeof this.options.loadPath=="function"&&(l=this.options.loadPath(r,n)),l=sEe(l),l.then(function(u){if(!u)return a(null,{});var c=o.services.interpolator.interpolate(u,{lng:r.join("+"),ns:n.join("+")});o.loadUrl(c,a,i,s)})}},{key:"loadUrl",value:function(r,i,n,s){var a=this,o=typeof n=="string"?[n]:n,l=typeof s=="string"?[s]:s,u=this.options.parseLoadPayload(o,l);this.options.request(this.options,r,u,function(c,d){if(d&&(d.status>=500&&d.status<600||!d.status))return i("failed loading "+r+"; status code: "+d.status,!0);if(d&&d.status>=400&&d.status<500)return i("failed loading "+r+"; status code: "+d.status,!1);if(!d&&c&&c.message&&c.message.indexOf("Failed to fetch")>-1)return i("failed loading "+r+": "+c.message,!0);if(c)return i(c,!1);var h,p;try{typeof d.data=="string"?h=a.options.parse(d.data,n,s):h=d.data}catch{p="failed parsing "+r+" to json"}if(p)return i(p,!1);i(null,h)})}},{key:"create",value:function(r,i,n,s,a){var o=this;if(this.options.addPath){typeof r=="string"&&(r=[r]);var l=this.options.parsePayload(i,n,s),u=0,c=[],d=[];r.forEach(function(h){var p=o.options.addPath;typeof o.options.addPath=="function"&&(p=o.options.addPath(h,i));var g=o.services.interpolator.interpolate(p,{lng:h,ns:i});o.options.request(o.options,g,l,function(y,b){u+=1,c.push(y),d.push(b),u===r.length&&typeof a=="function"&&a(c,d)})})}}},{key:"reload",value:function(){var r=this,i=this.services,n=i.backendConnector,s=i.languageUtils,a=i.logger,o=n.language;if(!(o&&o.toLowerCase()==="cimode")){var l=[],u=function(d){var h=s.toResolveHierarchy(d);h.forEach(function(p){l.indexOf(p)<0&&l.push(p)})};u(o),this.allOptions.preload&&this.allOptions.preload.forEach(function(c){return u(c)}),l.forEach(function(c){r.allOptions.ns.forEach(function(d){n.read(c,d,"read",null,null,function(h,p){h&&a.warn("loading namespace ".concat(d," for language ").concat(c," failed"),h),!h&&p&&a.log("loaded namespace ".concat(d," for language ").concat(c),p),n.loaded("".concat(c,"|").concat(d),h,p)})})})}}}]),t}();GG.type="backend";$i.use(GG).use(mW).init({backend:{loadPath:(t,e)=>e.map(i=>i==="common"?"/i18n":`/${i}/i18n`),parse:function(t){return JSON.parse(t)}},defaultNS:"common",ns:["common"],fallbackLng:"fr",lng:"fr",interpolation:{escapeValue:!1,prefix:"[[",suffix:"]]"},debug:!1});var yEe={VITE_XSRF_TOKEN:"8ff30a16-0fde-4454-a1b8-ef9273c2b86f",VITE_ONE_SESSION_ID:"da50a59e-d98a-4fe5-8c2e-afd238bfb7ad:RdTRKUYzqQ5Q58YogUmIzHFLoX0=",VITE_LOCALHOST:"http://localhost:8090",VITE_RECETTE:"https://recette-ode2.opendigitaleducation.com/",BASE_URL:"/blog",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const lF=t=>{let e;const r=new Set,i=(c,d)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const p=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(g=>g(e,p))}},n=()=>e,l={setState:i,getState:n,getInitialState:()=>u,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{(yEe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=e=t(i,n,l);return l},xEe=t=>t?lF(t):lF;var VG={exports:{}},WG={},XG={exports:{}},YG={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p=R;function bEe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _Ee=typeof Object.is=="function"?Object.is:bEe,wEe=_p.useState,SEe=_p.useEffect,EEe=_p.useLayoutEffect,TEe=_p.useDebugValue;function AEe(t,e){var r=e(),i=wEe({inst:{value:r,getSnapshot:e}}),n=i[0].inst,s=i[1];return EEe(function(){n.value=r,n.getSnapshot=e,WT(n)&&s({inst:n})},[t,r,e]),SEe(function(){return WT(n)&&s({inst:n}),t(function(){WT(n)&&s({inst:n})})},[t]),TEe(r),r}function WT(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!_Ee(t,r)}catch{return!0}}function CEe(t,e){return e()}var REe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?CEe:AEe;YG.useSyncExternalStore=_p.useSyncExternalStore!==void 0?_p.useSyncExternalStore:REe;XG.exports=YG;var IEe=XG.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kw=R,PEe=IEe;function MEe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kEe=typeof Object.is=="function"?Object.is:MEe,NEe=PEe.useSyncExternalStore,OEe=Kw.useRef,LEe=Kw.useEffect,DEe=Kw.useMemo,FEe=Kw.useDebugValue;WG.useSyncExternalStoreWithSelector=function(t,e,r,i,n){var s=OEe(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=DEe(function(){function l(p){if(!u){if(u=!0,c=p,p=i(p),n!==void 0&&a.hasValue){var g=a.value;if(n(g,p))return d=g}return d=p}if(g=d,kEe(c,p))return g;var y=i(p);return n!==void 0&&n(g,y)?g:(c=p,d=y)}var u=!1,c,d,h=r===void 0?null:r;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,r,i,n]);var o=NEe(t,s[0],s[1]);return LEe(function(){a.hasValue=!0,a.value=o},[o]),FEe(o),o};VG.exports=WG;var BEe=VG.exports;const jEe=qn(BEe);var qG={VITE_XSRF_TOKEN:"8ff30a16-0fde-4454-a1b8-ef9273c2b86f",VITE_ONE_SESSION_ID:"da50a59e-d98a-4fe5-8c2e-afd238bfb7ad:RdTRKUYzqQ5Q58YogUmIzHFLoX0=",VITE_LOCALHOST:"http://localhost:8090",VITE_RECETTE:"https://recette-ode2.opendigitaleducation.com/",BASE_URL:"/blog",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:UEe}=tt,{useSyncExternalStoreWithSelector:$Ee}=jEe;let uF=!1;const zEe=t=>t;function HEe(t,e=zEe,r){(qG?"production":void 0)!=="production"&&r&&!uF&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),uF=!0);const i=$Ee(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return UEe(i),i}const cF=t=>{(qG?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?xEe(t):t,r=(i,n)=>HEe(e,i,n);return Object.assign(r,e),r},GEe=t=>t?cF(t):cF;var VEe=Object.defineProperty,WEe=(t,e,r)=>e in t?VEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Um=(t,e,r)=>(WEe(t,typeof e!="symbol"?e+"":e,r),r);const KG=async t=>{const e=await Ve.resource(t.application).searchContext(t);return{...e,folders:e.folders.filter(r=>!r.trashed)}},XEe=async({searchParams:t,name:e,parentId:r})=>{const i={name:e,parentId:r,application:t.application,type:t.types[0]};return await Ve.resource(t.application).createFolder(i)},YEe=async({folderId:t,searchParams:e,parentId:r,name:i})=>{const n={folderId:t,name:i,parentId:r,application:e.application,type:e.types[0]};return await Ve.resource(e.application).updateFolder(n)},qEe=async({searchParams:t,resourceIds:e,useAssetIds:r,folderIds:i})=>{const n={application:t.application,resourceType:t.types[0],resourceIds:e,folderIds:i};return await Ve.resource(t.application).trashAll(n,r)},KEe=async({searchParams:t,resourceIds:e,useAssetIds:r,folderIds:i})=>{const n={application:t.application,resourceType:t.types[0],resourceIds:e,folderIds:i};return await Ve.resource(t.application).deleteAll(n,r)},QEe=async({searchParams:t,resourceIds:e,folderIds:r,useAssetIds:i})=>{const n={application:t.application,resourceType:t.types[0],resourceIds:e,folderIds:r};return await Ve.resource(t.application).restoreAll(n,i)},ZEe=async({searchParams:t,resourceIds:e,folderId:r,folderIds:i,useAssetIds:n})=>{const s={application:t.application,folderId:r,resourceIds:e,folderIds:i};return await Ve.resource(t.application).moveToFolder(s,n)},JEe=async t=>await Ve.rights().sessionHasWorkflowRights(t),eTe=({searchParams:t,assetId:e})=>{const r=Ve.resource(t.application).getViewUrl(e);window.open(r,"_self")},tTe=({searchParams:t,params:e})=>Ve.resource(t.application).create(e),rTe=({searchParams:t,assetId:e})=>{const r=Ve.resource(t.application).getPrintUrl(e);return window.open(r,"_blank")},g3e=({searchParams:t,folderId:e})=>{const r=Ve.resource(t.application).getFormUrl(e);return window.open(r,"_self")},v3e=({searchParams:t,assetId:e})=>{const r=Ve.resource(t.application).getEditUrl(e);return window.open(r,"_self")},y3e=({searchParams:t,assetId:e})=>{const r=Ve.resource(t.application).getExportUrl(e);return window.open(r,"_self")};function xP(t){return t.filter((e,r)=>t.indexOf(e)===r)}function G0(t,e){var r,i;let n;return(e==null?void 0:e.id)===t?e:((r=e==null?void 0:e.children)!=null&&r.length&&((i=e==null?void 0:e.children)==null||i.every(s=>(n=G0(t,s),n===void 0))),n)}function iTe(t,e){var r;const i=G0(t,e);return(r=i==null?void 0:i.folder)!=null&&r.ancestors?[...(i==null?void 0:i.folder.ancestors)||[],t]:t===Bn.BIN?[Bn.BIN]:[Bn.DEFAULT]}function QG(t,e){return e.id===t&&e.children?e.children.length>0:e.children?e.children.some(r=>QG(e.id,r)):!1}function O1(t,e){return ZG(t,e)||t}function ZG(t,e,r){var i;const n=e(t,r);if((i=n==null?void 0:n.children)!=null&&i.length){const s=[];for(const a of(n==null?void 0:n.children)||[]){const o=ZG(a,e,n);o&&s.push(o)}return{...n,children:s}}return n}class Qw{constructor(e){Um(this,"id"),Um(this,"name"),Um(this,"childNumber"),Um(this,"section",!1),Um(this,"children",[]),this.folder=e,this.id=e.id,this.name=e.name,this.childNumber=e.childNumber}}const JG=(t,e,r)=>O1(t,i=>(i.id===r&&(i.children=e==null?void 0:e.map(n=>new Qw(n))),i)),Ri=GEe()((t,e)=>({config:null,searchConfig:{minLength:1},searchParams:{filters:{folder:"default",owner:void 0,shared:void 0,public:void 0},orders:{updatedAt:"desc"},application:"",types:[],pagination:{startIdx:0,pageSize:48,maxIdx:0},trashed:!1},treeData:{id:Bn.DEFAULT,name:Ea("explorer.filters.mine"),section:!0,children:[]},selectedNodesIds:["default"],currentFolder:{id:"default"},selectedFolders:[],selectedResources:[],folderIds:[],resourceIds:[],resourceIsTrash:!1,resourceActionDisable:!1,status:void 0,updaters:{setConfig:r=>t({config:r}),setSearchConfig:r=>t(i=>({searchConfig:{...i.searchConfig,...r}})),setTreeData:r=>t(()=>({treeData:r})),setSearchParams:r=>{t(i=>{const{searchParams:n}=i;return n.search!==r.search?r.search?{...i,selectedFolders:[],selectedNodesIds:[],selectedResources:[],currentFolder:void 0,searchParams:{...n,...r,trashed:!1,filters:{...n.filters,folder:void 0}}}:{...i,selectedFolders:[],selectedNodesIds:["default"],selectedResources:[],currentFolder:{id:"default"},searchParams:{...n,...r,trashed:!1,filters:{...n.filters}}}:{searchParams:{...n,...r}}})},setSelectedFolders:r=>t(()=>({selectedFolders:r})),setSelectedResources:r=>t(()=>({selectedResources:r})),setFolderIds:r=>t(()=>({folderIds:r})),setResourceIds:r=>t(()=>({resourceIds:r})),setResourceIsTrash:r=>t(()=>({resourceIsTrash:r})),setResourceActionDisable:r=>t(()=>({resourceActionDisable:r})),setCurrentFolder:r=>t(()=>({currentFolder:r})),clearSelectedItems:()=>t(()=>({selectedFolders:[],selectedResources:[]})),clearSelectedIds:()=>t(()=>({resourceIds:[],folderIds:[]})),openResource:r=>{try{const{searchParams:i}=e();eTe({searchParams:i,assetId:r.assetId})}catch(i){console.error("explorer open failed: ",i)}},printSelectedResource:()=>{try{const{searchParams:r,selectedResources:i,resourceIds:n}=e();if(i.length!==1)throw new Error("Cannot open more than 1 resource");const s=i.find(a=>a.id===n[0]);rTe({searchParams:r,assetId:s.assetId})}catch(r){console.error("explorer print failed: ",r)}},openFolder:({folderId:r,folder:i})=>{const{searchParams:n,treeData:s}=e(),a=n.filters.folder,o=iTe(r,s),l=xP([...o,r]);a!==r&&t(u=>({...u,folderIds:[],resourceIds:[],selectedNodesIds:l,currentFolder:i||{id:r},searchParams:{...n,search:void 0,filters:{...n.filters,folder:r},trashed:r===Bn.BIN}}))},foldTreeItem:()=>t(r=>({...r,status:"fold"})),unfoldTreeItem:async(r,i)=>{const{treeData:n,searchParams:s}=e();if(t(a=>({...a,status:"unfold"})),!QG(r,n)){await i.prefetchInfiniteQuery({initialPageParam:0,queryKey:["prefetchContext",{folderId:r,trashed:!1}],queryFn:async()=>await KG({...s,filters:{...s.filters,folder:r}})});const a=i.getQueryData(["prefetchContext",{folderId:r,trashed:!1}]);t(o=>{var l;return{...o,treeData:JG(n,(l=a==null?void 0:a.pages[0])==null?void 0:l.folders,r||Bn.DEFAULT)}})}},selectTreeItem:r=>{const{treeData:i}=e(),{openFolder:n}=e().updaters,s=G0(r,i);Aye()(),t(a=>({...a,searchParams:{...a.searchParams,search:void 0},status:"select",selectedResources:[]})),n({folder:s,folderId:r})},gotoPreviousFolder:()=>{const{selectedNodesIds:r,treeData:i}=e(),{openFolder:n}=e().updaters,s=r.length;if(s<2)return;const a=G0(r[s-2],i);n({folder:a,folderId:(a==null?void 0:a.id)||Bn.DEFAULT})},goToTrash:()=>t(r=>({...r,selectedNodesIds:[],selectedResources:[],resourceIds:[],folderIds:[],status:"select",searchParams:{...r.searchParams,search:void 0,filters:{folder:Bn.BIN},trashed:!0},currentFolder:{id:Bn.BIN}}))}})),Tn=()=>Ri(t=>t.searchParams),bP=()=>Ri(t=>t.selectedNodesIds),Fp=()=>Ri(t=>t.treeData),x3e=()=>Ri(t=>t.selectedFolders),b3e=()=>Ri(t=>t.selectedResources),nTe=()=>Ri(t=>t.searchConfig),Zw=()=>Ri(t=>t.folderIds),Jw=()=>Ri(t=>t.resourceIds),e2=()=>Ri(t=>t.selectedResources.map(e=>e.assetId)),t2=()=>Ri(t=>t.selectedResources.filter(e=>e.assetId===e.id)),L1=()=>Ri(t=>t.currentFolder),rn=()=>Ri(t=>t.updaters),_P=()=>{const t=L1();return(t==null?void 0:t.id)===Bn.BIN},sTe=()=>Ri(t=>t.resourceIsTrash),aTe=()=>Ri(t=>t.resourceActionDisable),oTe=()=>{const t=L1();return(t==null?void 0:t.id)==="default"},lTe=()=>bP().length>1,uTe=()=>Ri(t=>t.status),eV=()=>{const t=Tn(),[e,r]=R.useState(""),i=nTe(),n=uTe(),s=R.useRef(null),{setSearchParams:a}=rn(),o=c=>{const d=c.target.value;r(d.toString())},l=c=>{(c.key==="Enter"||c.key==="Return")&&(c.preventDefault(),a({search:e||void 0}))},u=c=>{c.preventDefault(),a({search:e||void 0})};return R.useEffect(()=>{const c=e.length==0||e.length>=i.minLength?{search:e||void 0}:{};a({...t,...c})},[e,i.minLength]),R.useEffect(()=>{n==="select"&&r("")},[n]),R.useEffect(()=>{r(()=>{var c;return((c=t.search)==null?void 0:c.toString())??""})},[t]),{formRef:s,inputSearch:e,handleInputSearchChange:o,handleKeyPress:l,handleSearchSubmit:u}};function cTe(){const{appCode:t}=Tr(),{gotoPreviousFolder:e}=rn(),{t:r}=Je(),{inputSearch:i}=eV(),n=bP(),s=_P(),a=L1(),o=r("explorer.tree.trash"),l=r("explorer.tree.search"),u=r("explorer.filters.mine",{ns:t}),c=(a==null?void 0:a.name)||u;return v.jsx("div",{className:"py-16",children:n.length>1&&!s?v.jsxs("div",{className:"d-flex align-items-center gap-8",children:[v.jsx(To,{icon:v.jsx(aX,{}),variant:"ghost",color:"tertiary","aria-label":r("back"),className:"ms-n16",onClick:e}),v.jsx("p",{className:"body py-8 text-truncate",children:v.jsx("strong",{children:c})})]}):v.jsx("h2",{className:"body py-8 fw-bold",children:i.length!==0?l:s?o:u})})}const hTe=()=>{const t=aTe(),{clearSelectedIds:e,setResourceActionDisable:r,clearSelectedItems:i}=rn();return{isActionDisableModalOpen:t,onActionDisableCancel:()=>{e(),i(),r(!1)}}},dTe=()=>{const t=sTe(),{clearSelectedIds:e,setResourceIsTrash:r,clearSelectedItems:i}=rn();return{isTrashedModalOpen:t,onTrashedCancel:()=>{e(),i(),r(!1)}}};function fTe(t,{parentId:e,newFolder:r}){return O1(t,i=>{var n;if(i.id===e){const s=[...((n=i.folder)==null?void 0:n.ancestors)||[]],a=xP([...s,i.id]);return{...i,children:[...i.children||[],new Qw({...r,ancestors:a})]}}else return i})}function pTe(t,{folders:e}){return O1(t,r=>{if(!e.includes(r.id))return r})}function mTe(t,{destinationId:e,folders:r}){return O1(t,(i,n)=>{var s,a;if(e===i.id){const o=[...((s=i.folder)==null?void 0:s.ancestors)||[]],l=xP([...o,i.id]),u=[...i.children||[]],c=((a=i.children)==null?void 0:a.map(d=>d.id))||[];for(const d of r)if(!c.includes(d)){const h=G0(d,t);h&&u.push({...h,folder:{...h==null?void 0:h.folder,ancestors:l}})}return{...i,children:u}}else return r.includes(i.id)&&e!==(n==null?void 0:n.id)?void 0:i})}function gTe(t,{folderId:e,newFolder:r}){return O1(t,i=>i.id===e?new Qw(r):i)}const vTe=()=>{const t=Ri(e=>e.config);return UR({queryKey:["actions"],queryFn:async()=>{const e=t==null?void 0:t.actions.map(r=>r.workflow);return await JEe(e)},select:e=>t==null?void 0:t.actions.map(r=>({...r,available:e[r.workflow]})),staleTime:1/0,enabled:!!t})},yTe=()=>{const t=Ri(a=>a.config),e=Tn(),{filters:r,trashed:i,search:n}=e,s=["context",{folderId:r.folder,filters:r,trashed:i,search:n}];return KW({queryKey:s,queryFn:async({pageParam:a})=>await KG({...e,application:t==null?void 0:t.app,types:t==null?void 0:t.types,pagination:{...e.pagination,startIdx:a}}),staleTime:5e3,initialPageParam:0,enabled:!!t,retry:!1,getNextPageParam:a=>a.pagination.startIdx+a.pagination.pageSize})},_3e=()=>{const t=En(),e=Ds(),r=Tn(),i=Fp(),n=Zw(),s=e2(),a=Jw(),o=t2().length>0,l=o?s:a,{clearSelectedItems:u,clearSelectedIds:c,setTreeData:d,setSearchParams:h}=rn(),{filters:p,trashed:g}=r,y=["context",{folderId:p.folder,filters:p,trashed:g}];return _l({mutationFn:async()=>await qEe({searchParams:r,folderIds:n,resourceIds:l,useAssetIds:o}),onError(b){typeof b=="string"&&t.error(Ea(b))},onSuccess:async b=>{if(await e.cancelQueries({queryKey:y}),e.getQueryData(y))return t.success(Ea("explorer.trash.title")),e.setQueryData(y,x=>{var w;if(x){const _={...x,pages:x==null?void 0:x.pages.map(A=>{var I;return{...A,folders:A.folders.filter(P=>!n.includes(P.id)),pagination:{...A.pagination,maxIdx:((I=A==null?void 0:A.pagination)==null?void 0:I.maxIdx)-b.resources.length},resources:A.resources.filter(P=>o?!s.includes(P.assetId):!l.includes(P.id))}})},E=pTe(i,{folders:n});return d(E),h({...r,pagination:{...r.pagination,maxIdx:((w=r.pagination)==null?void 0:w.maxIdx)-b.resources.length}}),_}})},onSettled:()=>{u(),c()}})},w3e=()=>{const t=En(),e=Ds(),r=Tn(),i=Zw(),n=e2(),s=Jw(),a=t2().length>0,o=a?n:s,{setFolderIds:l,setResourceIds:u,setSelectedResources:c,setSelectedFolders:d}=rn(),{filters:h,trashed:p}=r,g=["context",{folderId:h.folder,filters:h,trashed:p}];return _l({mutationFn:async()=>await QEe({searchParams:r,folderIds:i,resourceIds:o,useAssetIds:a}),onError(y){typeof y=="string"&&t.error(Ea(y))},onSuccess:async()=>{if(await e.cancelQueries({queryKey:g}),e.getQueryData(g))return t.success(Ea("explorer.trash.toast")),e.setQueryData(g,y=>{if(y)return{...y,pages:y==null?void 0:y.pages.map(b=>({...b,folders:b.folders.filter(x=>!i.includes(x.id)),resources:b.resources.filter(x=>a?!n.includes(x.assetId):!o.includes(x.id))}))}})},onSettled:()=>{u([]),c([]),l([]),d([])}})},S3e=()=>{const t=En(),e=Ds(),r=Tn(),i=Zw(),n=e2(),s=Jw(),a=t2().length>0,o=a?n:s,{clearSelectedItems:l,clearSelectedIds:u}=rn(),{filters:c,trashed:d}=r,h=["context",{folderId:c.folder,filters:c,trashed:d}];return _l({mutationFn:async()=>await KEe({searchParams:r,folderIds:i,resourceIds:o,useAssetIds:a}),onError(p){typeof p=="string"&&t.error(Ea(p))},onSuccess:async()=>{if(await e.cancelQueries({queryKey:h}),e.getQueryData(h))return t.success(Ea("explorer.removed.from.trash")),e.setQueryData(h,p=>{if(p)return{...p,pages:p==null?void 0:p.pages.map(g=>({...g,folders:g.folders.filter(y=>!i.includes(y.id)),resources:g.resources.filter(y=>a?!n.includes(y.assetId):!o.includes(y.id))}))}})},onSettled:()=>{l(),u()}})},E3e=()=>{const t=En(),e=Ds(),r=Tn(),i=Fp(),n=Zw(),s=e2(),a=Jw(),o=t2().length>0,l=o?s:a,{clearSelectedIds:u,clearSelectedItems:c,setTreeData:d,setSearchParams:h}=rn(),{filters:p,trashed:g}=r,y=["context",{folderId:p.folder,filters:p,trashed:g}];return _l({mutationFn:async b=>await ZEe({searchParams:r,folderId:b,folderIds:n,resourceIds:l,useAssetIds:o}),onError(b){typeof b=="string"&&t.error(Ea(b))},onSuccess:async(b,x)=>{if(e.getQueryData(y))return e.setQueryData(y,w=>{var _;if(w){const E=mTe(i,{destinationId:x,folders:n}),A={...w,pages:w==null?void 0:w.pages.map(I=>{var P;return{...I,folders:I.folders.filter(M=>!n.includes(M.id)),pagination:{...I.pagination,maxIdx:((P=I.pagination)==null?void 0:P.maxIdx)-b.resources.length},resources:I.resources.filter(M=>o?!s.includes(M.assetId):!l.includes(M.id))}})};return d(E),h({...r,pagination:{...r.pagination,maxIdx:((_=r.pagination)==null?void 0:_.maxIdx)-b.resources.length}}),A}})},onSettled:()=>{c(),u()}})},T3e=()=>{const t=En(),e=Ds(),r=Tn(),i=Fp(),{setTreeData:n}=rn(),{filters:s,trashed:a}=r,o=["context",{folderId:s.folder,filters:s,trashed:a}];return _l({mutationFn:async({name:l,parentId:u})=>await XEe({searchParams:r,name:l,parentId:u}),onError(l){typeof l=="string"&&t.error(Ea(l))},onSuccess:async(l,u)=>{await e.cancelQueries({queryKey:o});const c=e.getQueryData(o),d={...l,parentId:u.parentId,children:[],rights:[`creator:${l==null?void 0:l.creator_id}`]};if(c)return e.setQueryData(o,h=>{if(h){const p={...h,pages:h==null?void 0:h.pages.map(y=>({...y,folders:[...y.folders,d]}))},g=fTe(i,{parentId:u.parentId,newFolder:d});return n(g),p}})}})},A3e=()=>{const t=En(),e=Ds(),r=Tn(),i=Fp(),{setFolderIds:n,setSelectedFolders:s,setTreeData:a}=rn(),{filters:o,trashed:l}=r,u=["context",{folderId:o.folder,filters:o,trashed:l}];return _l({mutationFn:async({folderId:c,name:d,parentId:h})=>await YEe({searchParams:r,folderId:c,parentId:h,name:d}),onError(c){typeof c=="string"&&t.error(Ea(c))},onSuccess:async(c,d)=>{if(await e.cancelQueries({queryKey:u}),e.getQueryData(u))return e.setQueryData(u,h=>{if(h){const p={...h,pages:h==null?void 0:h.pages.map(y=>({...y,folders:y.folders.map(b=>b.id===c.id?{...c,parentId:d.parentId,rights:b.rights}:b)}))},g=gTe(i,{folderId:d.folderId,newFolder:c});return a(g),p}})},onSettled:()=>{n([]),s([])}})},C3e=t=>{const e=Ds(),r=Tn(),{setResourceIds:i,setSelectedResources:n}=rn(),{filters:s,trashed:a}=r,o=["context",{folderId:s.folder,filters:s,trashed:a}];return O_e({application:t,options:{onSuccess:async(l,u)=>{if(await e.cancelQueries({queryKey:o}),e.getQueryData(o))return e.setQueryData(o,c=>{if(c)return{...c,pages:c==null?void 0:c.pages.map(d=>({...d,resources:d.resources.map(h=>{if(h.assetId===(u==null?void 0:u.resourceId)){let p=[`creator:${h.creatorId}`];return(u==null?void 0:u.rights.length)>=1&&(p=[...p,...u.rights.flatMap(g=>g.actions.map(y=>`${g.type}:${g.id}:${y.id}`))]),{...h,rights:p}}else return h})}))}})},onSettled:()=>{i([]),n([])}}})},R3e=t=>{const e=Ds(),r=Tn(),{filters:i,trashed:n}=r,s=["context",{folderId:i.folder,filters:i,trashed:n}];return s_e({application:t,options:{onSuccess:async(a,o)=>{if(await e.cancelQueries({queryKey:s}),e.getQueryData(s))return e.setQueryData(s,l=>{if(l)return{...l,pages:l==null?void 0:l.pages.map(u=>({...u,resources:u.resources.map(c=>{if(c.assetId===(o==null?void 0:o.entId)){const{name:d,thumbnail:h,public:p,description:g,slug:y,...b}=o;return{...c,...b,name:d,thumbnail:typeof h=="string"?h:URL.createObjectURL(h),public:p,description:g,slug:y}}else return c})}))}})}}})},I3e=()=>{const t=En(),e=Ds(),r=Tn(),{user:i}=aP(),{appCode:n}=Tr(),s=["context",{folderId:r.filters.folder,filters:r.filters,trashed:r.trashed}];return _l({mutationFn:async a=>await tTe({searchParams:r,params:a}),onError(a){typeof a=="string"&&t.error(Ea(a))},onSuccess:async(a,o)=>{var l,u,c;await e.cancelQueries({queryKey:s});const d=e.getQueryData(s),{thumbnail:h}=o,p={...o,thumbnail:h?URL.createObjectURL(h):"",application:n,assetId:a._id||a.entId||"",id:a._id||a.entId||"",creatorId:i==null?void 0:i.userId,creatorName:i==null?void 0:i.username,createdAt:Date.now(),slug:o.slug||"",modifiedAt:((l=a.modified)==null?void 0:l.$date)||"",modifierId:((u=a.author)==null?void 0:u.userId)||"",modifierName:((c=a.author)==null?void 0:c.username)||"",updatedAt:Date.now(),trashed:!1,rights:[`creator:${i==null?void 0:i.userId}`]};if(d)return e.setQueryData(s,g=>{if(g)return{...g,pages:g==null?void 0:g.pages.map(y=>({...y,resources:[p,...y.resources]}))}})}})},xTe=R.lazy(async()=>await pi(()=>import("./EmptyScreenApp-wddvHIyg.js"),__vite__mapDeps([]))),bTe=R.lazy(async()=>await pi(()=>import("./EmptyScreenSearch-6gA3tYlH.js"),__vite__mapDeps([]))),_Te=R.lazy(async()=>await pi(()=>import("./EmptyScreenError-yRm5YihB.js"),__vite__mapDeps([]))),wTe=R.lazy(async()=>await pi(()=>import("./EmptyScreenNoContentInFolder-GJrb03Xu.js"),__vite__mapDeps([]))),STe=R.lazy(async()=>await pi(()=>import("./EmptyScreenTrash-87UofFXx.js"),__vite__mapDeps([]))),ETe=R.lazy(async()=>await pi(()=>import("./FoldersList-1RYAQIEk.js"),__vite__mapDeps([]))),TTe=R.lazy(async()=>await pi(()=>import("./ResourcesList-YxeAEAWT.js"),__vite__mapDeps([]))),ATe=()=>{const t=oTe(),e=_P(),r=lTe(),i=Tn(),n=L1(),s=Fp(),a=En(),{appCode:o}=Tr(),{t:l}=Je(),{setSearchParams:u,setSearchConfig:c,setTreeData:d}=rn(),{data:h,isError:p,error:g,isLoading:y,isFetching:b,fetchNextPage:x}=yTe(),w=(h==null?void 0:h.pages[0].folders.length)===0,_=(h==null?void 0:h.pages[0].resources.length)===0,E=w&&_;return R.useEffect(()=>{var A,I,P;if(h){const M=[...((A=h==null?void 0:h.pages[0])==null?void 0:A.folders)??[]];(I=h==null?void 0:h.pages[0])!=null&&I.searchConfig&&c(h.pages[0].searchConfig),i.search||((n==null?void 0:n.id)==="default"?d({id:Bn.DEFAULT,section:!0,children:M.map(k=>new Qw(k)),name:l("explorer.filters.mine",{ns:o})}):d(JG(s,M,i.filters.folder||Bn.DEFAULT))),u({...i,pagination:(P=h==null?void 0:h.pages[(h==null?void 0:h.pages.length)-1])==null?void 0:P.pagination})}},[h]),R.useEffect(()=>{g&&typeof g=="string"&&a.error(l(g))},[g]),y?v.jsx(Fi,{}):p?v.jsx(R.Suspense,{fallback:v.jsx(Fi,{}),children:v.jsx(_Te,{})}):i.search&&E?v.jsx(R.Suspense,{fallback:v.jsx(Fi,{}),children:v.jsx(bTe,{})}):t&&E?v.jsx(R.Suspense,{fallback:v.jsx(Fi,{}),children:v.jsx(xTe,{})}):r&&E&&!e?v.jsx(R.Suspense,{fallback:v.jsx(Fi,{}),children:v.jsx(wTe,{})}):e&&(h==null?void 0:h.pages[0].resources.length)===0?v.jsx(R.Suspense,{fallback:v.jsx(Fi,{}),children:v.jsx(STe,{})}):v.jsxs(R.Suspense,{fallback:v.jsx(Fi,{}),children:[v.jsx(ETe,{data:h,isFetching:b}),v.jsx(TTe,{data:h,isFetching:b,fetchNextPage:x})]})},CTe=()=>{const{appCode:t,currentApp:e}=Tr(),{t:r}=Je(),[i,n]=R.useState(""),s=c=>{if(c==="0"){n("");return}n(c)},a=L1(),o=Tn(),{setSearchParams:l}=rn();R.useEffect(()=>{const c=()=>i.includes("1")?!0:void 0,d=()=>i.includes("2")?!0:void 0,h=()=>i.includes("7")?!0:void 0;l({...o,filters:{owner:c(),public:h(),shared:d(),folder:a?a.id:"default"}})},[a,l,i]);const u=[{label:r("explorer.filter.all",{ns:t}),value:"0"},{label:r("explorer.filter.owner",{ns:t}),value:"1"},{label:r("explorer.filter.shared",{ns:t}),value:"2"},...(e==null?void 0:e.displayName)=="exercizer"?[{label:"Exercices interactifs",value:"3"}]:[],...(e==null?void 0:e.displayName)=="exercizer"?[{label:"Exercices à rendre",value:"4"}]:[],...(e==null?void 0:e.displayName)=="pages"?[{label:"Projets publics",value:"5"}]:[],...(e==null?void 0:e.displayName)=="pages"?[{label:"Projets internes",value:"6"}]:[],...(e==null?void 0:e.displayName)=="blog"?[{label:r("explorer.filter.public",{ns:t}),value:"7"}]:[]];return{selectedFilters:i,options:u,handleOnSelectFilter:s}},RTe=()=>{const{appCode:t}=Tr(),{t:e}=Je(),{selectedFilters:r,options:i,handleOnSelectFilter:n}=CTe(),{formRef:s,inputSearch:a,handleInputSearchChange:o,handleKeyPress:l,handleSearchSubmit:u}=eV(),c=r.length>0?r.length:void 0;return v.jsxs("form",{noValidate:!0,className:"bg-light p-16 ps-24 ms-n16 ms-lg-n24 me-n16 position-relative z-3 d-flex gap-8",ref:s,children:[v.jsxs(Jt,{id:"search",className:"input-group",children:[v.jsx(wn,{type:"search",placeholder:e("explorer.label.search",{ns:t}),size:"lg",noValidationIcon:!0,value:a,onChange:o,onKeyDown:l}),v.jsx(tP,{type:"submit","aria-label":e("explorer.label.search",{ns:t}),onClick:u})]}),v.jsxs(Bt,{placement:"bottom-end",children:[v.jsx(Bt.Trigger,{label:e("explorer.filters"),icon:v.jsx(DX,{width:20}),variant:"ghost",badgeContent:c}),v.jsx(Bt.Menu,{children:i.map(d=>d.value==="0"?v.jsxs(R.Fragment,{children:[v.jsx(Bt.RadioItem,{value:d.value,model:r,onChange:()=>n(d.value),children:d.label}),v.jsx(Bt.Separator,{})]},"0"):v.jsx(Bt.RadioItem,{value:d.value,model:r,onChange:()=>n(d.value),children:d.label},d.value))})]})]})},ITe=({id:t,selected:e,onSelect:r})=>{const{t:i}=Je();return v.jsx("div",{className:"treeview",children:v.jsx("ul",{role:"tree",className:"m-0 p-0",children:v.jsx("li",{id:t,role:"treeitem","aria-selected":e,children:v.jsx("div",{children:v.jsx("div",{className:"action-container",children:v.jsx("div",{onClick:r,role:"button",tabIndex:0,children:v.jsxs("div",{className:"d-flex align-items-center gap-8 py-8 ps-24",children:[v.jsx(ZF,{width:"20",height:"20"}),v.jsx("span",{children:i("explorer.tree.trash")})]})})})})})})})},PTe=R.lazy(async()=>await pi(()=>import("./FolderModal-wVdVjKWi.js"),__vite__mapDeps([]))),MTe=()=>{const t=Ds(),[e,r]=Vw(),i=Fp(),n=_P(),s=bP(),{appCode:a}=Tr(),{t:o}=Je(["common",a]),{goToTrash:l,selectTreeItem:u,unfoldTreeItem:c,foldTreeItem:d,clearSelectedItems:h,clearSelectedIds:p}=rn(),g=async b=>{await c(b,t)},y=()=>{h(),p(),r()};return v.jsxs(v.Fragment,{children:[v.jsx(Qx,{data:i,selectedNodesIds:s,onTreeItemSelect:u,onTreeItemFold:d,onTreeItemUnfold:g}),v.jsx(ITe,{id:Bn.BIN,selected:n,onSelect:l}),v.jsx("div",{className:"d-grid my-16",children:v.jsx(Xt,{disabled:n,type:"button",color:"primary",variant:"outline",leftIcon:v.jsx(i8,{}),onClick:y,children:o("explorer.folder.new")})}),v.jsx(R.Suspense,{fallback:v.jsx(Fi,{}),children:e&&v.jsx(PTe,{edit:!1,isOpen:e,onSuccess:r,onCancel:r})})]})},kTe=R.lazy(async()=>await pi(()=>import("./AppAction-D3PfqltH.js"),__vite__mapDeps([]))),NTe=R.lazy(async()=>await pi(()=>import("./Library-ogyILNr6.js"),__vite__mapDeps([]))),OTe=R.lazy(async()=>await pi(()=>import("./ActionBarContainer-hspmrLm2.js"),__vite__mapDeps([]))),LTe=R.lazy(async()=>await pi(()=>import("./DisableModal-y300rZKB.js"),__vite__mapDeps([]))),DTe=R.lazy(async()=>await pi(()=>import("./TrashModal-OhAdbb7Y.js"),__vite__mapDeps([]))),FTe=R.lazy(async()=>await pi(()=>import("./OnboardingModal-MyrH0YIj.js"),__vite__mapDeps([]))),BTe=({config:t})=>{const e=Tn(),{setConfig:r,setSearchParams:i}=rn();R.useEffect(()=>{r(t||{}),i({...e,application:t.app,types:t.types})},[t]);const{currentApp:n}=Tr(),{data:s}=vTe(),{isTrashedModalOpen:a,onTrashedCancel:o}=dTe(),{isActionDisableModalOpen:l,onActionDisableCancel:u}=hTe();Bye();const c=c6("publish",s),d=c6("create",s);return t&&v.jsxs(v.Fragment,{children:[v.jsx(lye,{render:()=>d?v.jsx(R.Suspense,{fallback:v.jsx(Fi,{}),children:v.jsx(kTe,{})}):null,children:v.jsx(Qye,{app:n})}),v.jsxs(ro,{className:"flex-grow-1",children:[v.jsx(ro.Col,{sm:"3",lg:"2",xl:"3",className:"border-end pt-16 pe-16 d-none d-lg-block",as:"aside",children:v.jsxs(R.Suspense,{fallback:v.jsx(Fi,{}),children:[v.jsx(MTe,{}),c&&v.jsx(NTe,{})]})}),v.jsxs(ro.Col,{sm:"4",md:"8",lg:"6",xl:"9",children:[v.jsx(RTe,{}),v.jsx(cTe,{}),v.jsx(ATe,{})]}),v.jsxs(R.Suspense,{fallback:v.jsx(Fi,{}),children:[v.jsx(OTe,{}),v.jsx(FTe,{id:"showOnboardingTrash",items:[{src:"onboarding/illu-trash-menu.svg",alt:"explorer.modal.onboarding.trash.screen1.alt",text:"explorer.modal.onboarding.trash.screen1.title"},{src:"onboarding/illu-trash-notif.svg",alt:"explorer.modal.onboarding.trash.screen2.alt",text:"explorer.modal.onboarding.trash.screen2.alt"},{src:"onboarding/illu-trash-delete.svg",alt:"explorer.modal.onboarding.trash.screen3.alt",text:"explorer.modal.onboarding.trash.screen3.title"}],modalOptions:{title:"explorer.modal.onboarding.trash.title",prevText:"explorer.modal.onboarding.trash.prev",nextText:"explorer.modal.onboarding.trash.next",closeText:"explorer.modal.onboarding.trash.close"}}),a&&v.jsx(DTe,{isOpen:a,onCancel:o}),l&&v.jsx(LTe,{isOpen:l,onCancel:u})]})]})]})},Fo={access:"org.entcore.blog.controllers.BlogController|blog",create:"org.entcore.blog.controllers.BlogController|create",createPublic:"org.entcore.blog.controllers.BlogController|createPublicBlog",publish:"org.entcore.blog.controllers.BlogController|publish",print:"org.entcore.blog.controllers.BlogController|print"},jTe={app:"blog",types:["blog"],filters:[{id:"owner",defaultValue:!0},{id:"public",defaultValue:!1},{id:"shared",defaultValue:!0}],orders:[{id:"name",defaultValue:"asc",i18n:"explorer.sorts.name"},{id:"updatedAt",i18n:"explorer.sorts.updatedat"}],actions:[{id:"open",workflow:Fo.access,target:"actionbar",right:"read"},{id:"share",workflow:Fo.access,target:"actionbar",right:"manager"},{id:"edit",workflow:Fo.access,target:"actionbar",right:"manager"},{id:"create",workflow:Fo.create,target:"tree"},{id:"createPublic",workflow:Fo.createPublic,target:"tree"},{id:"move",workflow:Fo.access,target:"actionbar",right:"read"},{id:"publish",workflow:Fo.publish,target:"actionbar",right:"creator"},{id:"print",workflow:Fo.print,target:"actionbar",right:"read"},{id:"delete",workflow:Fo.access,target:"actionbar",right:"read"}],trashActions:[{id:"restore",available:!0,target:"actionbar",workflow:"",right:"manager"},{id:"delete",available:!0,target:"actionbar",workflow:"",right:"manager"}]};function UTe(){const{init:t}=Tr();return t?t?v.jsx(G_e,{children:v.jsx(_Se,{})}):null:v.jsx(Fi,{position:!1})}const $Te=t=>[{path:"/",element:v.jsx(UTe,{}),children:[{index:!0,element:v.jsx(BTe,{config:jTe})},{path:"id/:blogId",async lazy(){const{Blog:e,blogLoader:r}=await pi(()=>import("./index-3vdZ7j3p.js"),__vite__mapDeps([0,1]));return{loader:r(t),Component:e}}},{path:"id/:blogId/post/:postId",async lazy(){const{Component:e,loader:r}=await pi(()=>import("./index-fttVS9ld.js").then(i=>i.i),__vite__mapDeps([2,1]));return{loader:r(t),Component:e}}},{path:"*",async lazy(){const{LoadNgRoutes:e}=await pi(()=>import("./index-X4bnwEmm.js"),__vite__mapDeps([3,1]));return{loader:e,element:v.jsx("div",{children:"404 - Not found"})}}}]},{path:"/oldformat/:blogId/:postId",async lazy(){const{Component:e,loader:r}=await pi(()=>import("./index-X4bnwEmm.js"),__vite__mapDeps([3,1]));return{loader:r(t),Component:e}}}],zTe=t=>ESe($Te(t),{basename:"/blog"}),HTe=document.getElementById("root"),GTe=bG(HTe),hF=new NW({queryCache:new $F({onError:t=>{typeof t=="string"&&t===DV.NOT_LOGGED_IN&&window.location.replace("/auth/login")}}),defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1,staleTime:1e3*60*5}}});GTe.render(v.jsx(R.StrictMode,{children:v.jsxs(BW,{client:hF,children:[v.jsx(hye,{params:{app:"blog"},children:v.jsx(dye,{children:v.jsx(NSe,{router:zTe(hF)})})}),v.jsx(m2e,{initialIsOpen:!1})]})}));export{u3e as $,zh as A,Xt as B,jn as C,A3e as D,xR as E,Jt as F,kj as G,T3e as H,Qwe as I,Zw as J,x3e as K,ba as L,qt as M,Vw as N,a3e as O,o3e as P,I3e as Q,l3e as R,rn as S,nl as T,i8 as U,g3e as V,L1 as W,Jw as X,Fi as Y,c6 as Z,b3e as _,Gw as a,s3e as a$,pi as a0,r3e as a1,yk as a2,C3e as a3,R3e as a4,T7 as a5,t3e as a6,c3e as a7,h3e as a8,Ri as a9,mAe as aA,WX as aB,n8 as aC,j_ as aD,t8 as aE,vAe as aF,SAe as aG,AAe as aH,IAe as aI,dAe as aJ,eAe as aK,KTe as aL,PAe as aM,wAe as aN,_Ae as aO,bAe as aP,xAe as aQ,uA as aR,pAe as aS,YTe as aT,QTe as aU,qTe as aV,To as aW,Bt as aX,gAe as aY,pxe as aZ,TAe as a_,w3e as aa,sTe as ab,aP as ac,v3e as ad,y3e as ae,S3e as af,_3e as ag,Fp as ah,Qx as ai,E3e as aj,Ds as ak,GEe as al,p3e as am,UR as an,KW as ao,iP as ap,oG as aq,hP as ar,xye as as,lye as at,Qye as au,Jee as av,Gte as aw,oZ as ax,d3e as ay,qY as az,Je as b,mxe as b0,EAe as b1,CAe as b2,RAe as b3,rq as b4,hAe as b5,cAe as b6,uAe as b7,Lye as b8,yAe as b9,fAe as ba,PX as bb,sAe as bc,MAe as bd,JTe as be,ZTe as bf,aX as bg,lAe as bh,oAe as bi,vxe as bj,nAe as bk,rAe as bl,iAe as bm,tAe as bn,ZF as bo,ro as bp,i3e as bq,RX as br,n3e as bs,nP as bt,f3e as c,Tr as d,vTe as e,Tl as f,kAe as g,Aye as h,wC as i,v as j,aAe as k,Zs as l,k2e as m,Tn as n,_P as o,Pe as p,tt as q,R as r,ec as s,xp as t,m3e as u,D7 as v,ZY as w,e8 as x,Ta as y,wn as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["public/index-3vdZ7j3p.js","public/index-fCB84Be-.js","public/index-fttVS9ld.js","public/index-X4bnwEmm.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
